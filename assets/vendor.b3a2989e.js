function e(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function n(e){return!!e||""===e}function r(e){if(S(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=A(o)?a(o):r(o);if(i)for(const e in i)t[e]=i[e]}return t}return A(e)||D(e)?e:void 0}const o=/;(?![^(]*\))/g,i=/:(.+)/;function a(e){const t={};return e.split(o).forEach((e=>{if(e){const n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function l(e){let t="";if(A(e))t=e;else if(S(e))for(let n=0;n<e.length;n++){const r=l(e[n]);r&&(t+=r+" ")}else if(D(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function u(e){if(!e)return null;let{class:t,style:n}=e;return t&&!A(t)&&(e.class=l(t)),n&&(e.style=r(n)),e}function s(e,t){if(e===t)return!0;let n=T(e),r=T(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=S(e),r=S(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=s(e[r],t[r]);return n}(e,t);if(n=D(e),r=D(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!s(e[n],t[n]))return!1}}return String(e)===String(t)}function c(e,t){return e.findIndex((e=>s(e,t)))}const d=e=>null==e?"":S(e)||D(e)&&(e.toString===P||!E(e.toString))?JSON.stringify(e,f,2):String(e),f=(e,t)=>t&&t.__v_isRef?f(e,t.value):_(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:O(t)?{[`Set(${t.size})`]:[...t.values()]}:!D(t)||S(t)||R(t)?t:String(t),p={},m=[],h=()=>{},g=()=>!1,v=/^on[^a-z]/,b=e=>v.test(e),y=e=>e.startsWith("onUpdate:"),w=Object.assign,x=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},C=Object.prototype.hasOwnProperty,k=(e,t)=>C.call(e,t),S=Array.isArray,_=e=>"[object Map]"===z(e),O=e=>"[object Set]"===z(e),T=e=>e instanceof Date,E=e=>"function"==typeof e,A=e=>"string"==typeof e,M=e=>"symbol"==typeof e,D=e=>null!==e&&"object"==typeof e,N=e=>D(e)&&E(e.then)&&E(e.catch),P=Object.prototype.toString,z=e=>P.call(e),B=e=>z(e).slice(8,-1),R=e=>"[object Object]"===z(e),I=e=>A(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,L=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},V=/-(\w)/g,H=F((e=>e.replace(V,((e,t)=>t?t.toUpperCase():"")))),j=/\B([A-Z])/g,$=F((e=>e.replace(j,"-$1").toLowerCase())),U=F((e=>e.charAt(0).toUpperCase()+e.slice(1))),W=F((e=>e?`on${U(e)}`:"")),q=(e,t)=>!Object.is(e,t),K=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Y=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let X;const Z=[];class J{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&X&&(this.parent=X,this.index=(X.scopes||(X.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Z.push(this),X=this)}off(){this.active&&(Z.pop(),X=Z[Z.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const Q=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ee=e=>(e.w&oe)>0,te=e=>(e.n&oe)>0,ne=new WeakMap;let re=0,oe=1;const ie=[];let ae;const le=Symbol(""),ue=Symbol("");class se{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],function(e,t){(t=t||X)&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();if(!ie.includes(this))try{return ie.push(ae=this),fe.push(de),de=!0,oe=1<<++re,re<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=oe})(this):ce(this),this.fn()}finally{re<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];ee(o)&&!te(o)?o.delete(e):t[n++]=o,o.w&=~oe,o.n&=~oe}t.length=n}})(this),oe=1<<--re,me(),ie.pop();const e=ie.length;ae=e>0?ie[e-1]:void 0}}stop(){this.active&&(ce(this),this.onStop&&this.onStop(),this.active=!1)}}function ce(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let de=!0;const fe=[];function pe(){fe.push(de),de=!1}function me(){const e=fe.pop();de=void 0===e||e}function he(e,t,n){if(!ge())return;let r=ne.get(e);r||ne.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Q()),ve(o)}function ge(){return de&&void 0!==ae}function ve(e,t){let n=!1;re<=30?te(e)||(e.n|=oe,n=!ee(e)):n=!e.has(ae),n&&(e.add(ae),ae.deps.push(e))}function be(e,t,n,r,o,i){const a=ne.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&S(e))a.forEach(((e,t)=>{("length"===t||t>=r)&&l.push(e)}));else switch(void 0!==n&&l.push(a.get(n)),t){case"add":S(e)?I(n)&&l.push(a.get("length")):(l.push(a.get(le)),_(e)&&l.push(a.get(ue)));break;case"delete":S(e)||(l.push(a.get(le)),_(e)&&l.push(a.get(ue)));break;case"set":_(e)&&l.push(a.get(le))}if(1===l.length)l[0]&&ye(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);ye(Q(e))}}function ye(e,t){for(const n of S(e)?e:[...e])(n!==ae||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const we=e("__proto__,__v_isRef,__isVue"),xe=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(M)),Ce=Te(),ke=Te(!1,!0),Se=Te(!0),_e=Oe();function Oe(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=dt(this);for(let t=0,o=this.length;t<o;t++)he(n,0,t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(dt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){pe();const n=dt(this)[t].apply(this,e);return me(),n}})),e}function Te(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?ot:rt:t?nt:tt).get(n))return n;const i=S(n);if(!e&&i&&k(_e,r))return Reflect.get(_e,r,o);const a=Reflect.get(n,r,o);if(M(r)?xe.has(r):we(r))return a;if(e||he(n,0,r),t)return a;if(gt(a)){return!i||!I(r)?a.value:a}return D(a)?e?at(a):it(a):a}}function Ee(e=!1){return function(t,n,r,o){let i=t[n];if(!e&&(r=dt(r),i=dt(i),!S(t)&&gt(i)&&!gt(r)))return i.value=r,!0;const a=S(t)&&I(n)?Number(n)<t.length:k(t,n),l=Reflect.set(t,n,r,o);return t===dt(o)&&(a?q(r,i)&&be(t,"set",n,r):be(t,"add",n,r)),l}}const Ae={get:Ce,set:Ee(),deleteProperty:function(e,t){const n=k(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&be(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return M(t)&&xe.has(t)||he(e,0,t),n},ownKeys:function(e){return he(e,0,S(e)?"length":le),Reflect.ownKeys(e)}},Me={get:Se,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},De=w({},Ae,{get:ke,set:Ee(!0)}),Ne=e=>D(e)?it(e):e,Pe=e=>D(e)?at(e):e,ze=e=>e,Be=e=>Reflect.getPrototypeOf(e);function Re(e,t,n=!1,r=!1){const o=dt(e=e.__v_raw),i=dt(t);t!==i&&!n&&he(o,0,t),!n&&he(o,0,i);const{has:a}=Be(o),l=r?ze:n?Pe:Ne;return a.call(o,t)?l(e.get(t)):a.call(o,i)?l(e.get(i)):void(e!==o&&e.get(t))}function Ie(e,t=!1){const n=this.__v_raw,r=dt(n),o=dt(e);return e!==o&&!t&&he(r,0,e),!t&&he(r,0,o),e===o?n.has(e):n.has(e)||n.has(o)}function Le(e,t=!1){return e=e.__v_raw,!t&&he(dt(e),0,le),Reflect.get(e,"size",e)}function Fe(e){e=dt(e);const t=dt(this);return Be(t).has.call(t,e)||(t.add(e),be(t,"add",e,e)),this}function Ve(e,t){t=dt(t);const n=dt(this),{has:r,get:o}=Be(n);let i=r.call(n,e);i||(e=dt(e),i=r.call(n,e));const a=o.call(n,e);return n.set(e,t),i?q(t,a)&&be(n,"set",e,t):be(n,"add",e,t),this}function He(e){const t=dt(this),{has:n,get:r}=Be(t);let o=n.call(t,e);o||(e=dt(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&be(t,"delete",e,void 0),i}function je(){const e=dt(this),t=0!==e.size,n=e.clear();return t&&be(e,"clear",void 0,void 0),n}function $e(e,t){return function(n,r){const o=this,i=o.__v_raw,a=dt(i),l=t?ze:e?Pe:Ne;return!e&&he(a,0,le),i.forEach(((e,t)=>n.call(r,l(e),l(t),o)))}}function Ue(e,t,n){return function(...r){const o=this.__v_raw,i=dt(o),a=_(i),l="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,s=o[e](...r),c=n?ze:t?Pe:Ne;return!t&&he(i,0,u?ue:le),{next(){const{value:e,done:t}=s.next();return t?{value:e,done:t}:{value:l?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function We(e){return function(...t){return"delete"!==e&&this}}function qe(){const e={get(e){return Re(this,e)},get size(){return Le(this)},has:Ie,add:Fe,set:Ve,delete:He,clear:je,forEach:$e(!1,!1)},t={get(e){return Re(this,e,!1,!0)},get size(){return Le(this)},has:Ie,add:Fe,set:Ve,delete:He,clear:je,forEach:$e(!1,!0)},n={get(e){return Re(this,e,!0)},get size(){return Le(this,!0)},has(e){return Ie.call(this,e,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:$e(!0,!1)},r={get(e){return Re(this,e,!0,!0)},get size(){return Le(this,!0)},has(e){return Ie.call(this,e,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:$e(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{e[o]=Ue(o,!1,!1),n[o]=Ue(o,!0,!1),t[o]=Ue(o,!1,!0),r[o]=Ue(o,!0,!0)})),[e,n,t,r]}const[Ke,Ye,Ge,Xe]=qe();function Ze(e,t){const n=t?e?Xe:Ge:e?Ye:Ke;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(k(n,r)&&r in t?n:t,r,o)}const Je={get:Ze(!1,!1)},Qe={get:Ze(!1,!0)},et={get:Ze(!0,!1)},tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap;function it(e){return e&&e.__v_isReadonly?e:lt(e,!1,Ae,Je,tt)}function at(e){return lt(e,!0,Me,et,rt)}function lt(e,t,n,r,o){if(!D(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(B(l));var l;if(0===a)return e;const u=new Proxy(e,2===a?r:n);return o.set(e,u),u}function ut(e){return st(e)?ut(e.__v_raw):!(!e||!e.__v_isReactive)}function st(e){return!(!e||!e.__v_isReadonly)}function ct(e){return ut(e)||st(e)}function dt(e){const t=e&&e.__v_raw;return t?dt(t):e}function ft(e){return Y(e,"__v_skip",!0),e}function pt(e){ge()&&((e=dt(e)).dep||(e.dep=Q()),ve(e.dep))}function mt(e,t){(e=dt(e)).dep&&ye(e.dep)}const ht=e=>D(e)?it(e):e;function gt(e){return Boolean(e&&!0===e.__v_isRef)}function vt(e){return wt(e)}function bt(e){return wt(e,!0)}class yt{constructor(e,t=!1){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:dt(e),this._value=t?e:ht(e)}get value(){return pt(this),this._value}set value(e){e=this._shallow?e:dt(e),q(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:ht(e),mt(this))}}function wt(e,t=!1){return gt(e)?e:new yt(e,t)}function xt(e){return gt(e)?e.value:e}const Ct={get:(e,t,n)=>xt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return gt(o)&&!gt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function kt(e){return ut(e)?e:new Proxy(e,Ct)}function St(e){const t=S(e)?new Array(e.length):{};for(const n in e)t[n]=Ot(e,n);return t}class _t{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Ot(e,t){const n=e[t];return gt(n)?n:new _t(e,t)}class Tt{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new se(e,(()=>{this._dirty||(this._dirty=!0,mt(this))})),this.__v_isReadonly=n}get value(){const e=dt(this);return pt(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Et(e,t){let n,r;E(e)?(n=e,r=h):(n=e.get,r=e.set);return new Tt(n,r,E(e)||!e.set)}Promise.resolve();function At(e,t,...n){const r=e.vnode.props||p;let o=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:i}=r[e]||p;i?o=n.map((e=>e.trim())):t&&(o=n.map(G))}let l,u=r[l=W(t)]||r[l=W(H(t))];!u&&i&&(u=r[l=W($(t))]),u&&oo(u,e,6,o);const s=r[l+"Once"];if(s){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,oo(s,e,6,o)}}function Mt(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const i=e.emits;let a={},l=!1;if(!E(e)){const r=e=>{const n=Mt(e,t,!0);n&&(l=!0,w(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||l?(S(i)?i.forEach((e=>a[e]=null)):w(a,i),r.set(e,a),a):(r.set(e,null),null)}function Dt(e,t){return!(!e||!b(t))&&(t=t.slice(2).replace(/Once$/,""),k(e,t[0].toLowerCase()+t.slice(1))||k(e,$(t))||k(e,t))}let Nt=null,Pt=null;function zt(e){const t=Nt;return Nt=e,Pt=e&&e.type.__scopeId||null,t}function Bt(e){Pt=e}function Rt(){Pt=null}function It(e,t=Nt,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&br(-1);const o=zt(t),i=e(...n);return zt(o),r._d&&br(1),i};return r._n=!0,r._c=!0,r._d=!0,r}function Lt(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[a],slots:l,attrs:u,emit:s,render:c,renderCache:d,data:f,setupState:p,ctx:m,inheritAttrs:h}=e;let g;const v=zt(e);try{let e;if(4&n.shapeFlag){const t=o||r;g=Pr(c.call(t,t,d,i,p,f,m)),e=u}else{const n=t;0,g=Pr(n.length>1?n(i,{attrs:u,slots:l,emit:s}):n(i,null)),e=t.props?u:Ft(u)}let v=g;if(e&&!1!==h){const t=Object.keys(e),{shapeFlag:n}=v;t.length&&7&n&&(a&&t.some(y)&&(e=Vt(e,a)),v=Mr(v,e))}0,n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),g=v}catch(b){mr.length=0,io(b,e,1),g=Er(fr)}return zt(v),g}const Ft=e=>{let t;for(const n in e)("class"===n||"style"===n||b(n))&&((t||(t={}))[n]=e[n]);return t},Vt=(e,t)=>{const n={};for(const r in e)y(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Ht(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Dt(n,i))return!0}return!1}function jt(e,t){if(Kr){let n=Kr.provides;const r=Kr.parent&&Kr.parent.provides;r===n&&(n=Kr.provides=Object.create(r)),n[e]=t}else;}function $t(e,t,n=!1){const r=Kr||Nt;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&E(t)?t.call(r.proxy):t}}function Ut(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cn((()=>{e.isMounted=!0})),pn((()=>{e.isUnmounting=!0})),e}const Wt=[Function,Array],qt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wt,onEnter:Wt,onAfterEnter:Wt,onEnterCancelled:Wt,onBeforeLeave:Wt,onLeave:Wt,onAfterLeave:Wt,onLeaveCancelled:Wt,onBeforeAppear:Wt,onAppear:Wt,onAfterAppear:Wt,onAppearCancelled:Wt},setup(e,{slots:t}){const n=Yr(),r=Ut();let o;return()=>{const i=t.default&&Jt(t.default(),!0);if(!i||!i.length)return;const a=dt(e),{mode:l}=a,u=i[0];if(r.isLeaving)return Gt(u);const s=Xt(u);if(!s)return Gt(u);const c=Yt(s,a,r,n);Zt(s,c);const d=n.subTree,f=d&&Xt(d);let p=!1;const{getTransitionKey:m}=s.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(f&&f.type!==fr&&(!kr(s,f)||p)){const e=Yt(f,a,r,n);if(Zt(f,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},Gt(u);"in-out"===l&&s.type!==fr&&(e.delayLeave=(e,t,n)=>{Kt(r,f)[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=n})}return u}}};function Kt(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Yt(e,t,n,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:s,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:h,onAppear:g,onAfterAppear:v,onAppearCancelled:b}=t,y=String(e.key),w=Kt(n,e),x=(e,t)=>{e&&oo(e,r,9,t)},C={mode:i,persisted:a,beforeEnter(t){let r=l;if(!n.isMounted){if(!o)return;r=h||l}t._leaveCb&&t._leaveCb(!0);const i=w[y];i&&kr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),x(r,[t])},enter(e){let t=u,r=s,i=c;if(!n.isMounted){if(!o)return;t=g||u,r=v||s,i=b||c}let a=!1;const l=e._enterCb=t=>{a||(a=!0,x(t?i:r,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,l),t.length<=1&&l()):l()},leave(t,r){const o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();x(d,[t]);let i=!1;const a=t._leaveCb=n=>{i||(i=!0,r(),x(n?m:p,[t]),t._leaveCb=void 0,w[o]===e&&delete w[o])};w[o]=e,f?(f(t,a),f.length<=1&&a()):a()},clone:e=>Yt(e,t,n,r)};return C}function Gt(e){if(tn(e))return(e=Mr(e)).children=null,e}function Xt(e){return tn(e)?e.children?e.children[0]:void 0:e}function Zt(e,t){6&e.shapeFlag&&e.component?Zt(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Jt(e,t=!1){let n=[],r=0;for(let o=0;o<e.length;o++){const i=e[o];i.type===cr?(128&i.patchFlag&&r++,n=n.concat(Jt(i.children,t))):(t||i.type!==fr)&&n.push(i)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function Qt(e){return E(e)?{setup:e,name:e.name}:e}const en=e=>!!e.type.__asyncLoader,tn=e=>e.type.__isKeepAlive;function nn(e,t){on(e,"a",t)}function rn(e,t){on(e,"da",t)}function on(e,t,n=Kr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(ln(t,r,n),n){let e=n.parent;for(;e&&e.parent;)tn(e.parent.vnode)&&an(r,t,n,e),e=e.parent}}function an(e,t,n,r){const o=ln(t,e,r,!0);mn((()=>{x(r[t],o)}),n)}function ln(e,t,n=Kr,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;pe(),Gr(n);const o=oo(t,n,e,r);return Xr(),me(),o});return r?o.unshift(i):o.push(i),i}}const un=e=>(t,n=Kr)=>(!Jr||"sp"===e)&&ln(e,t,n),sn=un("bm"),cn=un("m"),dn=un("bu"),fn=un("u"),pn=un("bum"),mn=un("um"),hn=un("sp"),gn=un("rtg"),vn=un("rtc");function bn(e,t=Kr){ln("ec",e,t)}let yn=!0;function wn(e){const t=kn(e),n=e.proxy,r=e.ctx;yn=!1,t.beforeCreate&&xn(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:l,provide:u,inject:s,created:c,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:v,beforeDestroy:b,beforeUnmount:y,destroyed:w,unmounted:x,render:C,renderTracked:k,renderTriggered:_,errorCaptured:O,serverPrefetch:T,expose:A,inheritAttrs:M,components:N,directives:P,filters:z}=t;if(s&&function(e,t,n=h,r=!1){S(e)&&(e=Tn(e));for(const o in e){const n=e[o];let i;i=D(n)?"default"in n?$t(n.from||o,n.default,!0):$t(n.from||o):$t(n),gt(i)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[o]=i}}(s,r,null,e.appContext.config.unwrapInjectedRef),a)for(const h in a){const e=a[h];E(e)&&(r[h]=e.bind(n))}if(o){const t=o.call(n,n);D(t)&&(e.data=it(t))}if(yn=!0,i)for(const S in i){const e=i[S],t=Et({get:E(e)?e.bind(n,n):E(e.get)?e.get.bind(n,n):h,set:!E(e)&&E(e.set)?e.set.bind(n):h});Object.defineProperty(r,S,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}if(l)for(const h in l)Cn(l[h],r,n,h);if(u){const e=E(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{jt(t,e[t])}))}function B(e,t){S(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(c&&xn(c,e,"c"),B(sn,d),B(cn,f),B(dn,p),B(fn,m),B(nn,g),B(rn,v),B(bn,O),B(vn,k),B(gn,_),B(pn,y),B(mn,x),B(hn,T),S(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===h&&(e.render=C),null!=M&&(e.inheritAttrs=M),N&&(e.components=N),P&&(e.directives=P)}function xn(e,t,n){oo(S(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Cn(e,t,n,r){const o=r.includes(".")?Po(n,r):()=>n[r];if(A(e)){const n=t[e];E(n)&&Mo(o,n)}else if(E(e))Mo(o,e.bind(n));else if(D(e))if(S(e))e.forEach((e=>Cn(e,t,n,r)));else{const r=E(e.handler)?e.handler.bind(n):t[e.handler];E(r)&&Mo(o,r,e)}}function kn(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let u;return l?u=l:o.length||n||r?(u={},o.length&&o.forEach((e=>Sn(u,e,a,!0))),Sn(u,t,a)):u=t,i.set(t,u),u}function Sn(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Sn(e,i,n,!0),o&&o.forEach((t=>Sn(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=_n[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const _n={data:On,props:An,emits:An,methods:An,computed:An,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,destroyed:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:An,directives:An,watch:function(e,t){if(!e)return t;if(!t)return e;const n=w(Object.create(null),e);for(const r in t)n[r]=En(e[r],t[r]);return n},provide:On,inject:function(e,t){return An(Tn(e),Tn(t))}};function On(e,t){return t?e?function(){return w(E(e)?e.call(this,this):e,E(t)?t.call(this,this):t)}:t:e}function Tn(e){if(S(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function En(e,t){return e?[...new Set([].concat(e,t))]:t}function An(e,t){return e?w(w(Object.create(null),e),t):t}function Mn(e,t,n,r=!1){const o={},i={};Y(i,Sr,1),e.propsDefaults=Object.create(null),Dn(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:lt(o,!1,De,Qe,nt):e.type.props?e.props=o:e.props=i,e.attrs=i}function Dn(e,t,n,r){const[o,i]=e.propsOptions;let a,l=!1;if(t)for(let u in t){if(L(u))continue;const s=t[u];let c;o&&k(o,c=H(u))?i&&i.includes(c)?(a||(a={}))[c]=s:n[c]=s:Dt(e.emitsOptions,u)||s!==r[u]&&(r[u]=s,l=!0)}if(i){const t=dt(n),r=a||p;for(let a=0;a<i.length;a++){const l=i[a];n[l]=Nn(o,t,l,r[l],e,!k(r,l))}}return l}function Nn(e,t,n,r,o,i){const a=e[n];if(null!=a){const e=k(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&E(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(Gr(o),r=i[n]=e.call(null,t),Xr())}else r=e}a[0]&&(i&&!e?r=!1:!a[1]||""!==r&&r!==$(n)||(r=!0))}return r}function Pn(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,a={},l=[];let u=!1;if(!E(e)){const r=e=>{u=!0;const[n,r]=Pn(e,t,!0);w(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!i&&!u)return r.set(e,m),m;if(S(i))for(let c=0;c<i.length;c++){const e=H(i[c]);zn(e)&&(a[e]=p)}else if(i)for(const c in i){const e=H(c);if(zn(e)){const t=i[c],n=a[e]=S(t)||E(t)?{type:t}:t;if(n){const t=In(Boolean,n.type),r=In(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||k(n,"default"))&&l.push(e)}}}const s=[a,l];return r.set(e,s),s}function zn(e){return"$"!==e[0]}function Bn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Rn(e,t){return Bn(e)===Bn(t)}function In(e,t){return S(t)?t.findIndex((t=>Rn(t,e))):E(t)&&Rn(t,e)?0:-1}const Ln=e=>"_"===e[0]||"$stable"===e,Fn=e=>S(e)?e.map(Pr):[Pr(e)],Vn=(e,t,n)=>{const r=It(((...e)=>Fn(t(...e))),n);return r._c=!1,r},Hn=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Ln(o))continue;const n=e[o];if(E(n))t[o]=Vn(0,n,r);else if(null!=n){const e=Fn(n);t[o]=()=>e}}},jn=(e,t)=>{const n=Fn(t);e.slots.default=()=>n};function $n(e,t){if(null===Nt)return e;const n=Nt.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,i,a,l=p]=t[o];E(e)&&(e={mounted:e,updated:e}),e.deep&&zo(i),r.push({dir:e,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l})}return e}function Un(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];i&&(l.oldValue=i[a].value);let u=l.dir[r];u&&(pe(),oo(u,n,8,[e.el,l,e,t]),me())}}function Wn(){return{app:null,config:{isNativeTag:g,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qn=0;function Kn(e,t){return function(n,r=null){null==r||D(r)||(r=null);const o=Wn(),i=new Set;let a=!1;const l=o.app={_uid:qn++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Ro,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&E(e.install)?(i.add(e),e.install(l,...t)):E(e)&&(i.add(e),e(l,...t))),l),mixin:e=>(o.mixins.includes(e)||o.mixins.push(e),l),component:(e,t)=>t?(o.components[e]=t,l):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,l):o.directives[e],mount(i,u,s){if(!a){const c=Er(n,r);return c.appContext=o,u&&t?t(c,i):e(c,i,s),a=!0,l._container=i,i.__vue_app__=l,c.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,l)};return l}}const Yn=function(e,t){t&&t.pendingBranch?S(e)?t.effects.push(...e):t.effects.push(e):ko(e,ho,mo,go)};function Gn(e){return function(e,t){const{insert:n,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:u,setElementText:s,parentNode:c,nextSibling:d,setScopeId:f=h,cloneNode:g,insertStaticContent:v}=e,b=(e,t,n,r=null,o=null,i=null,a=!1,l=null,u=!!t.dynamicChildren)=>{if(e===t)return;e&&!kr(e,t)&&(r=te(e),G(e,o,i,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:s,ref:c,shapeFlag:d}=t;switch(s){case dr:y(e,t,n,r);break;case fr:x(e,t,n,r);break;case pr:null==e&&C(t,n,r,a);break;case cr:z(e,t,n,r,o,i,a,l,u);break;default:1&d?O(e,t,n,r,o,i,a,l,u):6&d?B(e,t,n,r,o,i,a,l,u):(64&d||128&d)&&s.process(e,t,n,r,o,i,a,l,u,re)}null!=c&&o&&Xn(c,e&&e.ref,i,t||e,!t)},y=(e,t,r,o)=>{if(null==e)n(t.el=a(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&u(n,t.children)}},x=(e,t,r,o)=>{null==e?n(t.el=l(t.children||""),r,o):t.el=e.el},C=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r)},S=({el:e,anchor:t},r,o)=>{let i;for(;e&&e!==t;)i=d(e),n(e,r,o),e=i;n(t,r,o)},_=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=d(e),r(e),e=n;r(t)},O=(e,t,n,r,o,i,a,l,u)=>{a=a||"svg"===t.type,null==e?T(t,n,r,o,i,a,l,u):M(e,t,o,i,a,l,u)},T=(e,t,r,a,l,u,c,d)=>{let f,p;const{type:m,props:h,shapeFlag:v,transition:b,patchFlag:y,dirs:w}=e;if(e.el&&void 0!==g&&-1===y)f=e.el=g(e.el);else{if(f=e.el=i(e.type,u,h&&h.is,h),8&v?s(f,e.children):16&v&&A(e.children,f,null,a,l,u&&"foreignObject"!==m,c,d),w&&Un(e,null,a,"created"),h){for(const t in h)"value"===t||L(t)||o(f,t,null,h[t],u,e.children,a,l,ee);"value"in h&&o(f,"value",null,h.value),(p=h.onVnodeBeforeMount)&&Zn(p,a,e)}E(f,e,e.scopeId,c,a)}w&&Un(e,null,a,"beforeMount");const x=(!l||l&&!l.pendingBranch)&&b&&!b.persisted;x&&b.beforeEnter(f),n(f,t,r),((p=h&&h.onVnodeMounted)||x||w)&&Yn((()=>{p&&Zn(p,a,e),x&&b.enter(f),w&&Un(e,null,a,"mounted")}),l)},E=(e,t,n,r,o)=>{if(n&&f(e,n),r)for(let i=0;i<r.length;i++)f(e,r[i]);if(o){if(t===o.subTree){const t=o.vnode;E(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},A=(e,t,n,r,o,i,a,l,u=0)=>{for(let s=u;s<e.length;s++){const u=e[s]=l?zr(e[s]):Pr(e[s]);b(null,u,t,n,r,o,i,a,l)}},M=(e,t,n,r,i,a,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=t;c|=16&e.patchFlag;const m=e.props||p,h=t.props||p;let g;(g=h.onVnodeBeforeUpdate)&&Zn(g,n,t,e),f&&Un(t,e,n,"beforeUpdate");const v=i&&"foreignObject"!==t.type;if(d?D(e.dynamicChildren,d,u,n,r,v,a):l||j(e,t,u,null,n,r,v,a,!1),c>0){if(16&c)P(u,t,m,h,n,r,i);else if(2&c&&m.class!==h.class&&o(u,"class",null,h.class,i),4&c&&o(u,"style",m.style,h.style,i),8&c){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const l=a[t],s=m[l],c=h[l];c===s&&"value"!==l||o(u,l,s,c,i,e.children,n,r,ee)}}1&c&&e.children!==t.children&&s(u,t.children)}else l||null!=d||P(u,t,m,h,n,r,i);((g=h.onVnodeUpdated)||f)&&Yn((()=>{g&&Zn(g,n,t,e),f&&Un(t,e,n,"updated")}),r)},D=(e,t,n,r,o,i,a)=>{for(let l=0;l<t.length;l++){const u=e[l],s=t[l],d=u.el&&(u.type===cr||!kr(u,s)||70&u.shapeFlag)?c(u.el):n;b(u,s,d,null,r,o,i,a,!0)}},P=(e,t,n,r,i,a,l)=>{if(n!==r){for(const u in r){if(L(u))continue;const s=r[u],c=n[u];s!==c&&"value"!==u&&o(e,u,c,s,l,t.children,i,a,ee)}if(n!==p)for(const u in n)L(u)||u in r||o(e,u,n[u],null,l,t.children,i,a,ee);"value"in r&&o(e,"value",n.value,r.value)}},z=(e,t,r,o,i,l,u,s,c)=>{const d=t.el=e?e.el:a(""),f=t.anchor=e?e.anchor:a("");let{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(s=s?s.concat(h):h),null==e?(n(d,r,o),n(f,r,o),A(t.children,r,f,i,l,u,s,c)):p>0&&64&p&&m&&e.dynamicChildren?(D(e.dynamicChildren,m,r,i,l,u,s),(null!=t.key||i&&t===i.subTree)&&Jn(e,t,!0)):j(e,t,r,f,i,l,u,s,c)},B=(e,t,n,r,o,i,a,l,u)=>{t.slotScopeIds=l,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,a,u):R(t,n,r,o,i,a,u):I(e,t,u)},R=(e,t,n,r,o,i,a)=>{const l=e.component=function(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Wr,i={uid:qr++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,scope:new J(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pn(r,o),emitsOptions:Mt(r,o),emit:null,emitted:null,propsDefaults:p,inheritAttrs:r.inheritAttrs,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=t?t.root:i,i.emit=At.bind(null,i),e.ce&&e.ce(i);return i}(e,r,o);if(tn(e)&&(l.ctx.renderer=re),function(e,t=!1){Jr=t;const{props:n,children:r}=e.vnode,o=Zr(e);Mn(e,n,o,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=dt(t),Y(t,"_",n)):Hn(t,e.slots={})}else e.slots={},t&&jn(e,t);Y(e.slots,Sr,1)})(e,r);const i=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ft(new Proxy(e.ctx,Ur));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(he(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;Gr(e),pe();const o=ro(r,e,0,[e.props,n]);if(me(),Xr(),N(o)){if(o.then(Xr,Xr),t)return o.then((t=>{Qr(e,t)})).catch((t=>{io(t,e,0)}));e.asyncDep=o}else Qr(e,o)}else eo(e)}(e,t):void 0;Jr=!1}(l),l.asyncDep){if(o&&o.registerDep(l,F),!e.el){const e=l.subTree=Er(fr);x(null,e,t,n)}}else F(l,e,t,n,o,i,a)},I=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:i}=e,{props:a,children:l,patchFlag:u}=t,s=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!o&&!l||l&&l.$stable)||r!==a&&(r?!a||Ht(r,a,s):!!a);if(1024&u)return!0;if(16&u)return r?Ht(r,a,s):!!a;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!Dt(s,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,t,n);r.next=t,function(e){const t=uo.indexOf(e);t>so&&uo.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},F=(e,t,n,r,o,i,a)=>{const l=new se((()=>{if(e.isMounted){let t,{next:n,bu:r,u:u,parent:s,vnode:d}=e,f=n;l.allowRecurse=!1,n?(n.el=d.el,V(e,n,a)):n=d,r&&K(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Zn(t,s,n,d),l.allowRecurse=!0;const p=Lt(e),m=e.subTree;e.subTree=p,b(m,p,c(m.el),te(m),e,o,i),n.el=p.el,null===f&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,p.el),u&&Yn(u,o),(t=n.props&&n.props.onVnodeUpdated)&&Yn((()=>Zn(t,s,n,d)),o)}else{let a;const{el:u,props:s}=t,{bm:c,m:d,parent:f}=e,p=en(t);if(l.allowRecurse=!1,c&&K(c),!p&&(a=s&&s.onVnodeBeforeMount)&&Zn(a,f,t),l.allowRecurse=!0,u&&ie){const n=()=>{e.subTree=Lt(e),ie(u,e.subTree,e,o,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const a=e.subTree=Lt(e);b(null,a,n,r,e,o,i),t.el=a.el}if(d&&Yn(d,o),!p&&(a=s&&s.onVnodeMounted)){const e=t;Yn((()=>Zn(a,f,e)),o)}256&t.shapeFlag&&e.a&&Yn(e.a,o),e.isMounted=!0,t=n=r=null}}),(()=>xo(e.update)),e.scope),u=e.update=l.run.bind(l);u.id=e.uid,l.allowRecurse=u.allowRecurse=!0,u()},V=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,l=dt(o),[u]=e.propsOptions;let s=!1;if(!(r||a>0)||16&a){let r;Dn(e,t,o,i)&&(s=!0);for(const i in l)t&&(k(t,i)||(r=$(i))!==i&&k(t,r))||(u?!n||void 0===n[i]&&void 0===n[r]||(o[i]=Nn(u,l,i,void 0,e,!0)):delete o[i]);if(i!==l)for(const e in i)t&&k(t,e)||(delete i[e],s=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];const c=t[a];if(u)if(k(i,a))c!==i[a]&&(i[a]=c,s=!0);else{const t=H(a);o[t]=Nn(u,l,t,c,e,!1)}else c!==i[a]&&(i[a]=c,s=!0)}}s&&be(e,"set","$attrs")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,a=p;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:(w(o,t),n||1!==e||delete o._):(i=!t.$stable,Hn(t,o)),a=t}else t&&(jn(e,t),a={default:1});if(i)for(const l in o)Ln(l)||l in a||delete o[l]})(e,t.children,n),pe(),So(void 0,e.update),me()},j=(e,t,n,r,o,i,a,l,u=!1)=>{const c=e&&e.children,d=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:m}=t;if(p>0){if(128&p)return void W(c,f,n,r,o,i,a,l,u);if(256&p)return void U(c,f,n,r,o,i,a,l,u)}8&m?(16&d&&ee(c,o,i),f!==c&&s(n,f)):16&d?16&m?W(c,f,n,r,o,i,a,l,u):ee(c,o,i,!0):(8&d&&s(n,""),16&m&&A(f,n,r,o,i,a,l,u))},U=(e,t,n,r,o,i,a,l,u)=>{t=t||m;const s=(e=e||m).length,c=t.length,d=Math.min(s,c);let f;for(f=0;f<d;f++){const r=t[f]=u?zr(t[f]):Pr(t[f]);b(e[f],r,n,null,o,i,a,l,u)}s>c?ee(e,o,i,!0,!1,d):A(t,n,r,o,i,a,l,u,d)},W=(e,t,n,r,o,i,a,l,u)=>{let s=0;const c=t.length;let d=e.length-1,f=c-1;for(;s<=d&&s<=f;){const r=e[s],c=t[s]=u?zr(t[s]):Pr(t[s]);if(!kr(r,c))break;b(r,c,n,null,o,i,a,l,u),s++}for(;s<=d&&s<=f;){const r=e[d],s=t[f]=u?zr(t[f]):Pr(t[f]);if(!kr(r,s))break;b(r,s,n,null,o,i,a,l,u),d--,f--}if(s>d){if(s<=f){const e=f+1,d=e<c?t[e].el:r;for(;s<=f;)b(null,t[s]=u?zr(t[s]):Pr(t[s]),n,d,o,i,a,l,u),s++}}else if(s>f)for(;s<=d;)G(e[s],o,i,!0),s++;else{const p=s,h=s,g=new Map;for(s=h;s<=f;s++){const e=t[s]=u?zr(t[s]):Pr(t[s]);null!=e.key&&g.set(e.key,s)}let v,y=0;const w=f-h+1;let x=!1,C=0;const k=new Array(w);for(s=0;s<w;s++)k[s]=0;for(s=p;s<=d;s++){const r=e[s];if(y>=w){G(r,o,i,!0);continue}let c;if(null!=r.key)c=g.get(r.key);else for(v=h;v<=f;v++)if(0===k[v-h]&&kr(r,t[v])){c=v;break}void 0===c?G(r,o,i,!0):(k[c-h]=s+1,c>=C?C=c:x=!0,b(r,t[c],n,null,o,i,a,l,u),y++)}const S=x?function(e){const t=e.slice(),n=[0];let r,o,i,a,l;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(o=n[n.length-1],e[o]<u){t[r]=o,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<u?i=l+1:a=l;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,a=n[i-1];for(;i-- >0;)n[i]=a,a=t[a];return n}(k):m;for(v=S.length-1,s=w-1;s>=0;s--){const e=h+s,d=t[e],f=e+1<c?t[e+1].el:r;0===k[s]?b(null,d,n,f,o,i,a,l,u):x&&(v<0||s!==S[v]?q(d,n,f,2):v--)}}},q=(e,t,r,o,i=null)=>{const{el:a,type:l,transition:u,children:s,shapeFlag:c}=e;if(6&c)return void q(e.component.subTree,t,r,o);if(128&c)return void e.suspense.move(t,r,o);if(64&c)return void l.move(e,t,r,re);if(l===cr){n(a,t,r);for(let e=0;e<s.length;e++)q(s[e],t,r,o);return void n(e.anchor,t,r)}if(l===pr)return void S(e,t,r);if(2!==o&&1&c&&u)if(0===o)u.beforeEnter(a),n(a,t,r),Yn((()=>u.enter(a)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=u,l=()=>n(a,t,r),s=()=>{e(a,(()=>{l(),i&&i()}))};o?o(a,l,s):s()}else n(a,t,r)},G=(e,t,n,r=!1,o=!1)=>{const{type:i,props:a,ref:l,children:u,dynamicChildren:s,shapeFlag:c,patchFlag:d,dirs:f}=e;if(null!=l&&Xn(l,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const p=1&c&&f,m=!en(e);let h;if(m&&(h=a&&a.onVnodeBeforeUnmount)&&Zn(h,t,e),6&c)Q(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);p&&Un(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,o,re,r):s&&(i!==cr||d>0&&64&d)?ee(s,t,n,!1,!0):(i===cr&&384&d||!o&&16&c)&&ee(u,t,n),r&&X(e)}(m&&(h=a&&a.onVnodeUnmounted)||p)&&Yn((()=>{h&&Zn(h,t,e),p&&Un(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:o,transition:i}=e;if(t===cr)return void Z(n,o);if(t===pr)return void _(e);const a=()=>{r(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,a);r?r(e.el,a,o):o()}else a()},Z=(e,t)=>{let n;for(;e!==t;)n=d(e),r(e),e=n;r(t)},Q=(e,t,n)=>{const{bum:r,scope:o,update:i,subTree:a,um:l}=e;r&&K(r),o.stop(),i&&(i.active=!1,G(a,e,t,n)),l&&Yn(l,t),Yn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ee=(e,t,n,r=!1,o=!1,i=0)=>{for(let a=i;a<e.length;a++)G(e[a],t,n,r,o)},te=e=>6&e.shapeFlag?te(e.component.subTree):128&e.shapeFlag?e.suspense.next():d(e.anchor||e.el),ne=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,n),_o(),t._vnode=e},re={p:b,um:G,m:q,r:X,mt:R,mc:A,pc:j,pbc:D,n:te,o:e};let oe,ie;t&&([oe,ie]=t(re));return{render:ne,hydrate:oe,createApp:Kn(ne,oe)}}(e)}function Xn(e,t,n,r,o=!1){if(S(e))return void e.forEach(((e,i)=>Xn(e,t&&(S(t)?t[i]:t),n,r,o)));if(en(r)&&!o)return;const i=4&r.shapeFlag?to(r.component)||r.component.proxy:r.el,a=o?null:i,{i:l,r:u}=e,s=t&&t.r,c=l.refs===p?l.refs={}:l.refs,d=l.setupState;if(null!=s&&s!==u&&(A(s)?(c[s]=null,k(d,s)&&(d[s]=null)):gt(s)&&(s.value=null)),A(u)){const e=()=>{c[u]=a,k(d,u)&&(d[u]=a)};a?(e.id=-1,Yn(e,n)):e()}else if(gt(u)){const e=()=>{u.value=a};a?(e.id=-1,Yn(e,n)):e()}else E(u)&&ro(u,l,12,[a,c])}function Zn(e,t,n,r=null){oo(e,t,7,[n,r])}function Jn(e,t,n=!1){const r=e.children,o=t.children;if(S(r)&&S(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=zr(o[i]),t.el=e.el),n||Jn(e,t))}}const Qn=e=>e&&(e.disabled||""===e.disabled),er=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,tr=(e,t)=>{const n=e&&e.to;if(A(n)){if(t){return t(n)}return null}return n};function nr(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:u,children:s,props:c}=e,d=2===i;if(d&&r(a,t,n),(!d||Qn(c))&&16&u)for(let f=0;f<s.length;f++)o(s[f],t,n,2);d&&r(l,t,n)}const rr={__isTeleport:!0,process(e,t,n,r,o,i,a,l,u,s){const{mc:c,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:h,createComment:g}}=s,v=Qn(t.props);let{shapeFlag:b,children:y,dynamicChildren:w}=t;if(null==e){const e=t.el=h(""),s=t.anchor=h("");p(e,n,r),p(s,n,r);const d=t.target=tr(t.props,m),f=t.targetAnchor=h("");d&&(p(f,d),a=a||er(d));const g=(e,t)=>{16&b&&c(y,e,t,o,i,a,l,u)};v?g(n,s):d&&g(d,f)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,p=t.targetAnchor=e.targetAnchor,h=Qn(e.props),g=h?n:c,b=h?r:p;if(a=a||er(c),w?(f(e.dynamicChildren,w,g,o,i,a,l),Jn(e,t,!0)):u||d(e,t,g,b,o,i,a,l,!1),v)h||nr(t,n,r,s,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=tr(t.props,m);e&&nr(t,e,null,s,0)}else h&&nr(t,c,p,s,1)}},remove(e,t,n,r,{um:o,o:{remove:i}},a){const{shapeFlag:l,children:u,anchor:s,targetAnchor:c,target:d,props:f}=e;if(d&&i(c),(a||!Qn(f))&&(i(s),16&l))for(let p=0;p<u.length;p++){const e=u[p];o(e,t,n,!0,!!e.dynamicChildren)}},move:nr,hydrate:function(e,t,n,r,o,i,{o:{nextSibling:a,parentNode:l,querySelector:u}},s){const c=t.target=tr(t.props,u);if(c){const u=c._lpa||c.firstChild;16&t.shapeFlag&&(Qn(t.props)?(t.anchor=s(a(e),t,l(e),n,r,o,i),t.targetAnchor=u):(t.anchor=a(e),t.targetAnchor=s(u,t,c,n,r,o,i)),c._lpa=t.targetAnchor&&a(t.targetAnchor))}return t.anchor&&a(t.anchor)}};function or(e,t){return ur("components",e,!0,t)||e}const ir=Symbol();function ar(e){return A(e)?ur("components",e,!1)||e:e||ir}function lr(e){return ur("directives",e)}function ur(e,t,n=!0,r=!1){const o=Nt||Kr;if(o){const n=o.type;if("components"===e){const e=no(n);if(e&&(e===t||e===H(t)||e===U(H(t))))return n}const i=sr(o[e]||n[e],t)||sr(o.appContext[e],t);return!i&&r?n:i}}function sr(e,t){return e&&(e[t]||e[H(t)]||e[U(H(t))])}const cr=Symbol(void 0),dr=Symbol(void 0),fr=Symbol(void 0),pr=Symbol(void 0),mr=[];let hr=null;function gr(e=!1){mr.push(hr=e?null:[])}let vr=1;function br(e){vr+=e}function yr(e){return e.dynamicChildren=vr>0?hr||m:null,mr.pop(),hr=mr[mr.length-1]||null,vr>0&&hr&&hr.push(e),e}function wr(e,t,n,r,o,i){return yr(Tr(e,t,n,r,o,i,!0))}function xr(e,t,n,r,o){return yr(Er(e,t,n,r,o,!0))}function Cr(e){return!!e&&!0===e.__v_isVNode}function kr(e,t){return e.type===t.type&&e.key===t.key}const Sr="__vInternal",_r=({key:e})=>null!=e?e:null,Or=({ref:e})=>null!=e?A(e)||gt(e)||E(e)?{i:Nt,r:e}:e:null;function Tr(e,t=null,n=null,r=0,o=null,i=(e===cr?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_r(t),ref:t&&Or(t),scopeId:Pt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(Br(u,n),128&i&&e.normalize(u)):n&&(u.shapeFlag|=A(n)?8:16),vr>0&&!a&&hr&&(u.patchFlag>0||6&i)&&32!==u.patchFlag&&hr.push(u),u}const Er=function(e,t=null,n=null,o=0,i=null,a=!1){e&&e!==ir||(e=fr);if(Cr(e)){const r=Mr(e,t,!0);return n&&Br(r,n),r}u=e,E(u)&&"__vccOpts"in u&&(e=e.__vccOpts);var u;if(t){t=Ar(t);let{class:e,style:n}=t;e&&!A(e)&&(t.class=l(e)),D(n)&&(ct(n)&&!S(n)&&(n=w({},n)),t.style=r(n))}const s=A(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:D(e)?4:E(e)?2:0;return Tr(e,t,n,o,i,s,a,!0)};function Ar(e){return e?ct(e)||Sr in e?w({},e):e:null}function Mr(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:a}=e,l=t?Rr(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&_r(l),ref:t&&t.ref?n&&o?S(o)?o.concat(Or(t)):[o,Or(t)]:Or(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==cr?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mr(e.ssContent),ssFallback:e.ssFallback&&Mr(e.ssFallback),el:e.el,anchor:e.anchor}}function Dr(e=" ",t=0){return Er(dr,null,e,t)}function Nr(e="",t=!1){return t?(gr(),xr(fr,null,e)):Er(fr,null,e)}function Pr(e){return null==e||"boolean"==typeof e?Er(fr):S(e)?Er(cr,null,e.slice()):"object"==typeof e?zr(e):Er(dr,null,String(e))}function zr(e){return null===e.el||e.memo?e:Mr(e)}function Br(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(S(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Br(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Sr in t?3===r&&Nt&&(1===Nt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Nt}}else E(t)?(t={default:t,_ctx:Nt},n=32):(t=String(t),64&r?(n=16,t=[Dr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Rr(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=l([t.class,o.class]));else if("style"===e)t.style=r([t.style,o.style]);else if(b(e)){const n=t[e],r=o[e];n!==r&&(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=o[e])}return t}function Ir(e,t,n,r){let o;const i=n&&n[r];if(S(e)||A(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,i&&i[n])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,i&&i[n])}else if(D(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,i&&i[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];o[r]=t(e[a],a,r,i&&i[r])}}else o=[];return n&&(n[r]=o),o}function Lr(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(S(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.fn)}return e}function Fr(e,t,n={},r,o){if(Nt.isCE)return Er("slot","default"===t?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),gr();const a=i&&Vr(i(n)),l=xr(cr,{key:n.key||`_${t}`},a||(r?r():[]),a&&1===e._?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Vr(e){return e.some((e=>!Cr(e)||e.type!==fr&&!(e.type===cr&&!Vr(e.children))))?e:null}function Hr(e){const t={};for(const n in e)t[W(n)]=e[n];return t}const jr=e=>e?Zr(e)?to(e)||e.proxy:jr(e.parent):null,$r=w(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jr(e.parent),$root:e=>jr(e.root),$emit:e=>e.emit,$options:e=>kn(e),$forceUpdate:e=>()=>xo(e.update),$nextTick:e=>wo.bind(e.proxy),$watch:e=>No.bind(e)}),Ur={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:a,type:l,appContext:u}=e;let s;if("$"!==t[0]){const l=a[t];if(void 0!==l)switch(l){case 0:return r[t];case 1:return o[t];case 3:return n[t];case 2:return i[t]}else{if(r!==p&&k(r,t))return a[t]=0,r[t];if(o!==p&&k(o,t))return a[t]=1,o[t];if((s=e.propsOptions[0])&&k(s,t))return a[t]=2,i[t];if(n!==p&&k(n,t))return a[t]=3,n[t];yn&&(a[t]=4)}}const c=$r[t];let d,f;return c?("$attrs"===t&&he(e,0,t),c(e)):(d=l.__cssModules)&&(d=d[t])?d:n!==p&&k(n,t)?(a[t]=3,n[t]):(f=u.config.globalProperties,k(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;if(o!==p&&k(o,t))o[t]=n;else if(r!==p&&k(r,t))r[t]=n;else if(k(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},a){let l;return void 0!==n[a]||e!==p&&k(e,a)||t!==p&&k(t,a)||(l=i[0])&&k(l,a)||k(r,a)||k($r,a)||k(o.config.globalProperties,a)}},Wr=Wn();let qr=0;let Kr=null;const Yr=()=>Kr||Nt,Gr=e=>{Kr=e,e.scope.on()},Xr=()=>{Kr&&Kr.scope.off(),Kr=null};function Zr(e){return 4&e.vnode.shapeFlag}let Jr=!1;function Qr(e,t,n){E(t)?e.render=t:D(t)&&(e.setupState=kt(t)),eo(e)}function eo(e,t,n){const r=e.type;e.render||(e.render=r.render||h),Gr(e),pe(),wn(e),me(),Xr()}function to(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(kt(ft(e.exposed)),{get:(t,n)=>n in t?t[n]:n in $r?$r[n](e):void 0}))}function no(e){return E(e)&&e.displayName||e.name}function ro(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){io(i,t,n)}return o}function oo(e,t,n,r){if(E(e)){const o=ro(e,t,n,r);return o&&N(o)&&o.catch((e=>{io(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(oo(e[i],t,n,r));return o}function io(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const o=t.proxy,i=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,i))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void ro(a,null,10,[e,o,i])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let ao=!1,lo=!1;const uo=[];let so=0;const co=[];let fo=null,po=0;const mo=[];let ho=null,go=0;const vo=Promise.resolve();let bo=null,yo=null;function wo(e){const t=bo||vo;return e?t.then(this?e.bind(this):e):t}function xo(e){uo.length&&uo.includes(e,ao&&e.allowRecurse?so+1:so)||e===yo||(null==e.id?uo.push(e):uo.splice(function(e){let t=so+1,n=uo.length;for(;t<n;){const r=t+n>>>1;Oo(uo[r])<e?t=r+1:n=r}return t}(e.id),0,e),Co())}function Co(){ao||lo||(lo=!0,bo=vo.then(To))}function ko(e,t,n,r){S(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Co()}function So(e,t=null){if(co.length){for(yo=t,fo=[...new Set(co)],co.length=0,po=0;po<fo.length;po++)fo[po]();fo=null,po=0,yo=null,So(e,t)}}function _o(e){if(mo.length){const e=[...new Set(mo)];if(mo.length=0,ho)return void ho.push(...e);for(ho=e,ho.sort(((e,t)=>Oo(e)-Oo(t))),go=0;go<ho.length;go++)ho[go]();ho=null,go=0}}const Oo=e=>null==e.id?1/0:e.id;function To(e){lo=!1,ao=!0,So(e),uo.sort(((e,t)=>Oo(e)-Oo(t)));try{for(so=0;so<uo.length;so++){const e=uo[so];e&&!1!==e.active&&ro(e,null,14)}}finally{so=0,uo.length=0,_o(),ao=!1,bo=null,(uo.length||co.length||mo.length)&&To(e)}}function Eo(e,t){return Do(e,null,t)}const Ao={};function Mo(e,t,n){return Do(e,t,n)}function Do(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:a}=p){const l=Kr;let u,s,c=!1,d=!1;if(gt(e)?(u=()=>e.value,c=!!e._shallow):ut(e)?(u=()=>e,r=!0):S(e)?(d=!0,c=e.some(ut),u=()=>e.map((e=>gt(e)?e.value:ut(e)?zo(e):E(e)?ro(e,l,2):void 0))):u=E(e)?t?()=>ro(e,l,2):()=>{if(!l||!l.isUnmounted)return s&&s(),oo(e,l,3,[f])}:h,t&&r){const e=u;u=()=>zo(e())}let f=e=>{s=b.onStop=()=>{ro(e,l,4)}},m=d?[]:Ao;const g=()=>{if(b.active)if(t){const e=b.run();(r||c||(d?e.some(((e,t)=>q(e,m[t]))):q(e,m)))&&(s&&s(),oo(t,l,3,[e,m===Ao?void 0:m,f]),m=e)}else b.run()};let v;g.allowRecurse=!!t,v="sync"===o?g:"post"===o?()=>Yn(g,l&&l.suspense):()=>{!l||l.isMounted?function(e){ko(e,fo,co,po)}(g):g()};const b=new se(u,v);return t?n?g():m=b.run():"post"===o?Yn(b.run.bind(b),l&&l.suspense):b.run(),()=>{b.stop(),l&&l.scope&&x(l.scope.effects,b)}}function No(e,t,n){const r=this.proxy,o=A(e)?e.includes(".")?Po(r,e):()=>r[e]:e.bind(r,r);let i;E(t)?i=t:(i=t.handler,n=t);const a=Kr;Gr(this);const l=Do(o,i.bind(r),n);return a?Gr(a):Xr(),l}function Po(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function zo(e,t=new Set){if(!D(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),gt(e))zo(e.value,t);else if(S(e))for(let n=0;n<e.length;n++)zo(e[n],t);else if(O(e)||_(e))e.forEach((e=>{zo(e,t)}));else if(R(e))for(const n in e)zo(e[n],t);return e}function Bo(e,t,n){const r=arguments.length;return 2===r?D(t)&&!S(t)?Cr(t)?Er(e,null,[t]):Er(e,t):Er(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Cr(n)&&(n=[n]),Er(e,t,n))}const Ro="3.2.4",Io="undefined"!=typeof document?document:null,Lo=new Map,Fo={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Io.createElementNS("http://www.w3.org/2000/svg",e):Io.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>Io.createTextNode(e),createComment:e=>Io.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Io.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const o=n?n.previousSibling:t.lastChild;let i=Lo.get(e);if(!i){const t=Io.createElement("template");if(t.innerHTML=r?`<svg>${e}</svg>`:e,i=t.content,r){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}Lo.set(e,i)}return t.insertBefore(i.cloneNode(!0),n),[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const Vo=/\s*!important$/;function Ho(e,t,n){if(S(n))n.forEach((n=>Ho(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=$o[t];if(n)return n;let r=H(t);if("filter"!==r&&r in e)return $o[t]=r;r=U(r);for(let o=0;o<jo.length;o++){const n=jo[o]+r;if(n in e)return $o[t]=n}return t}(e,t);Vo.test(n)?e.setProperty($(r),n.replace(Vo,""),"important"):e[r]=n}}const jo=["Webkit","Moz","ms"],$o={};const Uo="http://www.w3.org/1999/xlink";let Wo=Date.now,qo=!1;if("undefined"!=typeof window){Wo()>document.createEvent("Event").timeStamp&&(Wo=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);qo=!!(e&&Number(e[1])<=53)}let Ko=0;const Yo=Promise.resolve(),Go=()=>{Ko=0};function Xo(e,t,n,r){e.addEventListener(t,n,r)}function Zo(e,t,n,r,o=null){const i=e._vei||(e._vei={}),a=i[t];if(r&&a)a.value=r;else{const[n,l]=function(e){let t;if(Jo.test(e)){let n;for(t={};n=e.match(Jo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[$(e.slice(2)),t]}(t);if(r){Xo(e,n,i[t]=function(e,t){const n=e=>{const r=e.timeStamp||Wo();(qo||r>=n.attached-1)&&oo(function(e,t){if(S(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Ko||(Yo.then(Go),Ko=Wo()))(),n}(r,o),l)}else a&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,a,l),i[t]=void 0)}}const Jo=/(?:Once|Passive|Capture)$/;const Qo=/^on[a-z]/;const ei=(e,{slots:t})=>Bo(qt,ii(e),t);ei.displayName="Transition";const ti={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ni=ei.props=w({},qt.props,ti),ri=(e,t=[])=>{S(e)?e.forEach((e=>e(...t))):e&&e(...t)},oi=e=>!!e&&(S(e)?e.some((e=>e.length>1)):e.length>1);function ii(e){const t={};for(const w in e)w in ti||(t[w]=e[w]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:s=a,appearToClass:c=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if(D(e))return[ai(e.enter),ai(e.leave)];{const t=ai(e);return[t,t]}}(o),h=m&&m[0],g=m&&m[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:y,onLeave:x,onLeaveCancelled:C,onBeforeAppear:k=v,onAppear:S=b,onAppearCancelled:_=y}=t,O=(e,t,n)=>{ui(e,t?c:l),ui(e,t?s:a),n&&n()},T=(e,t)=>{ui(e,p),ui(e,f),t&&t()},E=e=>(t,n)=>{const o=e?S:b,a=()=>O(t,e,n);ri(o,[t,a]),si((()=>{ui(t,e?u:i),li(t,e?c:l),oi(o)||di(t,r,h,a)}))};return w(t,{onBeforeEnter(e){ri(v,[e]),li(e,i),li(e,a)},onBeforeAppear(e){ri(k,[e]),li(e,u),li(e,s)},onEnter:E(!1),onAppear:E(!0),onLeave(e,t){const n=()=>T(e,t);li(e,d),hi(),li(e,f),si((()=>{ui(e,d),li(e,p),oi(x)||di(e,r,g,n)})),ri(x,[e,n])},onEnterCancelled(e){O(e,!1),ri(y,[e])},onAppearCancelled(e){O(e,!0),ri(_,[e])},onLeaveCancelled(e){T(e),ri(C,[e])}})}function ai(e){return G(e)}function li(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function ui(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function si(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let ci=0;function di(e,t,n,r){const o=e._endId=++ci,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:a,timeout:l,propCount:u}=fi(e,t);if(!a)return r();const s=a+"end";let c=0;const d=()=>{e.removeEventListener(s,f),i()},f=t=>{t.target===e&&++c>=u&&d()};setTimeout((()=>{c<u&&d()}),l+1),e.addEventListener(s,f)}function fi(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r("transitionDelay"),i=r("transitionDuration"),a=pi(o,i),l=r("animationDelay"),u=r("animationDuration"),s=pi(l,u);let c=null,d=0,f=0;"transition"===t?a>0&&(c="transition",d=a,f=i.length):"animation"===t?s>0&&(c="animation",d=s,f=u.length):(d=Math.max(a,s),c=d>0?a>s?"transition":"animation":null,f=c?"transition"===c?i.length:u.length:0);return{type:c,timeout:d,propCount:f,hasTransform:"transition"===c&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function pi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>mi(t)+mi(e[n]))))}function mi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function hi(){return document.body.offsetHeight}const gi=new WeakMap,vi=new WeakMap,bi={name:"TransitionGroup",props:w({},ni,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Yr(),r=Ut();let o,i;return fn((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=fi(r);return o.removeChild(r),i}(o[0].el,n.vnode.el,t))return;o.forEach(yi),o.forEach(wi);const r=o.filter(xi);hi(),r.forEach((e=>{const n=e.el,r=n.style;li(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n._moveCb=null,ui(n,t))};n.addEventListener("transitionend",o)}))})),()=>{const a=dt(e),l=ii(a);let u=a.tag||cr;o=i,i=t.default?Jt(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&Zt(t,Yt(t,l,r,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];Zt(t,Yt(t,l,r,n)),gi.set(t,t.el.getBoundingClientRect())}return Er(u,null,i)}}};function yi(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function wi(e){vi.set(e,e.el.getBoundingClientRect())}function xi(e){const t=gi.get(e),n=vi.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}const Ci=e=>{const t=e.props["onUpdate:modelValue"];return S(t)?e=>K(t,e):t};function ki(e){e.target.composing=!0}function Si(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const _i={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=Ci(o);const i=r||o.props&&"number"===o.props.type;Xo(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n?r=r.trim():i&&(r=G(r)),e._assign(r)})),n&&Xo(e,"change",(()=>{e.value=e.value.trim()})),t||(Xo(e,"compositionstart",ki),Xo(e,"compositionend",Si),Xo(e,"change",Si))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},i){if(e._assign=Ci(i),e.composing)return;if(document.activeElement===e){if(n)return;if(r&&e.value.trim()===t)return;if((o||"number"===e.type)&&G(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},Oi={deep:!0,created(e,t,n){e._assign=Ci(n),Xo(e,"change",(()=>{const t=e._modelValue,n=Ai(e),r=e.checked,o=e._assign;if(S(t)){const e=c(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if(O(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(Mi(e,r))}))},mounted:Ti,beforeUpdate(e,t,n){e._assign=Ci(n),Ti(e,t,n)}};function Ti(e,{value:t,oldValue:n},r){e._modelValue=t,S(t)?e.checked=c(t,r.props.value)>-1:O(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=s(t,Mi(e,!0)))}const Ei={created(e,{value:t},n){e.checked=s(t,n.props.value),e._assign=Ci(n),Xo(e,"change",(()=>{e._assign(Ai(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Ci(r),t!==n&&(e.checked=s(t,r.props.value))}};function Ai(e){return"_value"in e?e._value:e.value}function Mi(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Di=["ctrl","shift","alt","meta"],Ni={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Di.some((n=>e[`${n}Key`]&&!t.includes(n)))},Pi=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=Ni[t[e]];if(r&&r(n,t))return}return e(n,...r)},zi={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bi=(e,t)=>n=>{if(!("key"in n))return;const r=$(n.key);return t.some((e=>e===r||zi[e]===r))?e(n):void 0},Ri={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Ii(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ii(e,!0),r.enter(e)):r.leave(e,(()=>{Ii(e,!1)})):Ii(e,t))},beforeUnmount(e,{value:t}){Ii(e,t)}};function Ii(e,t){e.style.display=t?e._vod:"none"}const Li=w({patchProp:(e,r,o,i,a=!1,l,u,s,c)=>{"class"===r?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,a):"style"===r?function(e,t,n){const r=e.style;if(n)if(A(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)Ho(r,e,n[e]);if(t&&!A(t))for(const e in t)null==n[e]&&Ho(r,e,"")}else e.removeAttribute("style")}(e,o,i):b(r)?y(r)||Zo(e,r,0,i,u):("."===r[0]?(r=r.slice(1),1):"^"===r[0]?(r=r.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&Qo.test(t)&&E(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Qo.test(t)&&A(n))return!1;return t in e}(e,r,i,a))?function(e,t,r,o,i,a,l){if("innerHTML"===t||"textContent"===t)return o&&l(o,i,a),void(e[t]=null==r?"":r);if("value"===t&&"PROGRESS"!==e.tagName){e._value=r;const n=null==r?"":r;return e.value!==n&&(e.value=n),void(null==r&&e.removeAttribute(t))}if(""===r||null==r){const o=typeof e[t];if("boolean"===o)return void(e[t]=n(r));if(null==r&&"string"===o)return e[t]="",void e.removeAttribute(t);if("number"===o){try{e[t]=0}catch(u){}return void e.removeAttribute(t)}}try{e[t]=r}catch(s){}}(e,r,i,l,u,s,c):("true-value"===r?e._trueValue=i:"false-value"===r&&(e._falseValue=i),function(e,r,o,i,a){if(i&&r.startsWith("xlink:"))null==o?e.removeAttributeNS(Uo,r.slice(6,r.length)):e.setAttributeNS(Uo,r,o);else{const i=t(r);null==o||i&&!n(o)?e.removeAttribute(r):e.setAttribute(r,i?"":o)}}(e,r,i,a))}},Fo);let Fi;function Vi(){return Fi||(Fi=Gn(Li))}const Hi=(...e)=>{Vi().render(...e)},ji=(...e)=>{const t=Vi().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(A(e)){return document.querySelector(e)}return e}
/*!
  * vue-router v4.0.11
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */(e);if(!r)return;const o=t._component;E(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};const $i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Ui=e=>$i?Symbol(e):"_vr_"+e,Wi=Ui("rvlm"),qi=Ui("rvd"),Ki=Ui("r"),Yi=Ui("rl"),Gi=Ui("rvl"),Xi="undefined"!=typeof window;const Zi=Object.assign;function Ji(e,t){const n={};for(const r in t){const o=t[r];n[r]=Array.isArray(o)?o.map(e):e(o)}return n}const Qi=()=>{},ea=/\/$/;function ta(e,t,n="/"){let r,o={},i="",a="";const l=t.indexOf("?"),u=t.indexOf("#",l>-1?l:0);return l>-1&&(r=t.slice(0,l),i=t.slice(l+1,u>-1?u:t.length),o=e(i)),u>-1&&(r=r||t.slice(0,u),a=t.slice(u,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o,i,a=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],1!==a&&"."!==i){if(".."!==i)break;a--}return n.slice(0,a).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:o,hash:a}}function na(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function ra(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function oa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ia(e[n],t[n]))return!1;return!0}function ia(e,t){return Array.isArray(e)?aa(e,t):Array.isArray(t)?aa(t,e):e===t}function aa(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var la,ua,sa,ca;function da(e){if(!e)if(Xi){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(ea,"")}(ua=la||(la={})).pop="pop",ua.push="push",(ca=sa||(sa={})).back="back",ca.forward="forward",ca.unknown="";const fa=/^[^#]+#/;function pa(e,t){return e.replace(fa,"#")+t}const ma=()=>({left:window.pageXOffset,top:window.pageYOffset});function ha(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function ga(e,t){return(history.state?history.state.position-t:-1)+e}const va=new Map;function ba(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let t=o.includes(e.slice(i))?e.slice(i).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),na(n,"")}return na(n,e)+r+o}function ya(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?ma():null}}function wa(e){const{history:t,location:n}=window,r={value:ba(e,n)},o={value:t.state};function i(r,i,a){const l=e.indexOf("#"),u=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+r:location.protocol+"//"+location.host+e+r;try{t[a?"replaceState":"pushState"](i,"",u),o.value=i}catch(s){console.error(s),n[a?"replace":"assign"](u)}}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const a=Zi({},o.value,t.state,{forward:e,scroll:ma()});i(a.current,a,!0),i(e,Zi({},ya(r.value,e,null),{position:a.position+1},n),!1),r.value=e},replace:function(e,n){i(e,Zi({},t.state,ya(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}function xa(e){const t=wa(e=da(e)),n=function(e,t,n,r){let o=[],i=[],a=null;const l=({state:i})=>{const l=ba(e,location),u=n.value,s=t.value;let c=0;if(i){if(n.value=l,t.value=i,a&&a===u)return void(a=null);c=s?i.position-s.position:0}else r(l);o.forEach((e=>{e(n.value,u,{delta:c,type:la.pop,direction:c?c>0?sa.forward:sa.back:sa.unknown})}))};function u(){const{history:e}=window;e.state&&e.replaceState(Zi({},e.state,{scroll:ma()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:function(){a=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}}}(e,t.state,t.location,t.replace);const r=Zi({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:pa.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Ca(e){return"string"==typeof e||"symbol"==typeof e}const ka={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sa=Ui("nf");var _a,Oa;function Ta(e,t){return Zi(new Error,{type:e,[Sa]:!0},t)}function Ea(e,t){return e instanceof Error&&Sa in e&&(null==t||!!(e.type&t))}(Oa=_a||(_a={}))[Oa.aborted=4]="aborted",Oa[Oa.cancelled=8]="cancelled",Oa[Oa.duplicated=16]="duplicated";const Aa={sensitive:!1,strict:!1,start:!0,end:!0},Ma=/[.+*?^${}()[\]/\\]/g;function Da(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Na(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=Da(r[n],o[n]);if(e)return e;n++}return o.length-r.length}const Pa={type:0,value:""},za=/[a-zA-Z0-9_]/;function Ba(e,t,n){const r=function(e,t){const n=Zi({},Aa,t),r=[];let o=n.start?"^":"";const i=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let t=0;t<u.length;t++){const r=u[t];let a=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(Ma,"\\$&"),a+=40;else if(1===r.type){const{value:e,repeatable:n,optional:s,regexp:c}=r;i.push({name:e,repeatable:n,optional:s});const d=c||"[^/]+?";if("[^/]+?"!==d){a+=10;try{new RegExp(`(${d})`)}catch(l){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+l.message)}}let f=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(f=s&&u.length<2?`(?:/${f})`:"/"+f),s&&(f+="?"),o+=f,a+=20,s&&(a+=-8),n&&(a+=-20),".*"===d&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");return{re:a,score:r,keys:i,parse:function(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=i[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:a,optional:l}=e,u=i in t?t[i]:"";if(Array.isArray(u)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const s=Array.isArray(u)?u.join("/"):u;if(!s){if(!l)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=s}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[Pa]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${s}": ${e}`)}let n=0,r=n;const o=[];let i;function a(){i&&o.push(i),i=[]}let l,u=0,s="",c="";function d(){s&&(0===n?i.push({type:0,value:s}):1===n||2===n||3===n?(i.length>1&&("*"===l||"+"===l)&&t(`A repeatable param (${s}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:s,regexp:c,repeatable:"*"===l||"+"===l,optional:"*"===l||"?"===l})):t("Invalid state to consume buffer"),s="")}function f(){s+=l}for(;u<e.length;)if(l=e[u++],"\\"!==l||2===n)switch(n){case 0:"/"===l?(s&&d(),a()):":"===l?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===l?n=2:za.test(l)?f():(d(),n=0,"*"!==l&&"?"!==l&&"+"!==l&&u--);break;case 2:")"===l?"\\"==c[c.length-1]?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,"*"!==l&&"?"!==l&&"+"!==l&&u--,c="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${s}"`),d(),a(),o}(e.path),n),o=Zi(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Ra(e,t){const n=[],r=new Map;function o(e,n,r){const l=!r,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ia(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);u.aliasOf=r&&r.record;const s=Va(t,e),c=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(Zi({},u,{components:r?r.record.components:u.components,path:e,aliasOf:r?r.record:u}))}let d,f;for(const t of c){const{path:c}=t;if(n&&"/"!==c[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(c&&r+c)}if(d=Ba(t,n,s),r?r.alias.push(d):(f=f||d,f!==d&&f.alias.push(d),l&&e.name&&!La(d)&&i(e.name)),"children"in u){const e=u.children;for(let t=0;t<e.length;t++)o(e[t],d,r&&r.children[t])}r=r||d,a(d)}return f?()=>{i(f)}:Qi}function i(e){if(Ca(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function a(e){let t=0;for(;t<n.length&&Na(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!La(e)&&r.set(e.record.name,e)}return t=Va({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,a,l={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw Ta(1,{location:e});a=o.record.name,l=Zi(function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=o.stringify(l)}else if("path"in e)i=e.path,o=n.find((e=>e.re.test(i))),o&&(l=o.parse(i),a=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw Ta(1,{location:e,currentLocation:t});a=o.record.name,l=Zi({},t.params,e.params),i=o.stringify(l)}const u=[];let s=o;for(;s;)u.unshift(s.record),s=s.parent;return{name:a,path:i,params:l,matched:u,meta:Fa(u)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Ia(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function La(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Fa(e){return e.reduce(((e,t)=>Zi(e,t.meta)),{})}function Va(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const Ha=/#/g,ja=/&/g,$a=/\//g,Ua=/=/g,Wa=/\?/g,qa=/\+/g,Ka=/%5B/g,Ya=/%5D/g,Ga=/%5E/g,Xa=/%60/g,Za=/%7B/g,Ja=/%7C/g,Qa=/%7D/g,el=/%20/g;function tl(e){return encodeURI(""+e).replace(Ja,"|").replace(Ka,"[").replace(Ya,"]")}function nl(e){return tl(e).replace(qa,"%2B").replace(el,"+").replace(Ha,"%23").replace(ja,"%26").replace(Xa,"`").replace(Za,"{").replace(Qa,"}").replace(Ga,"^")}function rl(e){return null==e?"":function(e){return tl(e).replace(Ha,"%23").replace(Wa,"%3F")}(e).replace($a,"%2F")}function ol(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function il(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(qa," "),o=e.indexOf("="),i=ol(o<0?e:e.slice(0,o)),a=o<0?null:ol(e.slice(o+1));if(i in t){let e=t[i];Array.isArray(e)||(e=t[i]=[e]),e.push(a)}else t[i]=a}return t}function al(e){let t="";for(let n in e){const r=e[n];if(n=nl(n).replace(Ua,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map((e=>e&&nl(e))):[r&&nl(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function ll(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function ul(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function sl(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((a,l)=>{const u=e=>{var u;!1===e?l(Ta(4,{from:n,to:t})):e instanceof Error?l(e):"string"==typeof(u=e)||u&&"object"==typeof u?l(Ta(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"==typeof e&&i.push(e),a())},s=e.call(r&&r.instances[o],t,n,u);let c=Promise.resolve(s);e.length<3&&(c=c.then(u)),c.catch((e=>l(e)))}))}function cl(e,t,n,r){const o=[];for(const a of e)for(const e in a.components){let l=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if("object"==typeof(i=l)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(l.__vccOpts||l)[t];i&&o.push(sl(i,n,r,a,e))}else{let i=l();o.push((()=>i.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const i=(l=o).__esModule||$i&&"Module"===l[Symbol.toStringTag]?o.default:o;var l;a.components[e]=i;const u=(i.__vccOpts||i)[t];return u&&sl(u,n,r,a,e)()}))))}}var i;return o}function dl(e){const t=$t(Ki),n=$t(Yi),r=Et((()=>t.resolve(xt(e.to)))),o=Et((()=>{const{matched:e}=r.value,{length:t}=e,o=e[t-1],i=n.matched;if(!o||!i.length)return-1;const a=i.findIndex(ra.bind(null,o));if(a>-1)return a;const l=pl(e[t-2]);return t>1&&pl(o)===l&&i[i.length-1].path!==l?i.findIndex(ra.bind(null,e[t-2])):a})),i=Et((()=>o.value>-1&&function(e,t){for(const n in t){const r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),a=Et((()=>o.value>-1&&o.value===n.matched.length-1&&oa(n.params,r.value.params)));return{route:r,href:Et((()=>r.value.href)),isActive:i,isExactActive:a,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[xt(e.replace)?"replace":"push"](xt(e.to)).catch(Qi):Promise.resolve()}}}const fl=Qt({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dl,setup(e,{slots:t}){const n=it(dl(e)),{options:r}=$t(Ki),o=Et((()=>({[ml(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ml(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:Bo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}});function pl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ml=(e,t,n)=>null!=e?e:null!=t?t:n;function hl(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const gl=Qt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=$t(Gi),o=Et((()=>e.route||r.value)),i=$t(qi,0),a=Et((()=>o.value.matched[i]));jt(qi,i+1),jt(Wi,a),jt(Gi,o);const l=vt();return Mo((()=>[l.value,a.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&ra(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,i=a.value,u=i&&i.components[e.name],s=e.name;if(!u)return hl(n.default,{Component:u,route:r});const c=i.props[e.name],d=c?!0===c?r.params:"function"==typeof c?c(r):c:null,f=Bo(u,Zi({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[s]=null)},ref:l}));return hl(n.default,{Component:f,route:r})||f}}});function vl(e){const t=Ra(e.routes,e),n=e.parseQuery||il,r=e.stringifyQuery||al,o=e.history,i=ul(),a=ul(),l=ul(),u=bt(ka);let s=ka;Xi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ji.bind(null,(e=>""+e)),d=Ji.bind(null,rl),f=Ji.bind(null,ol);function p(e,i){if(i=Zi({},i||u.value),"string"==typeof e){const r=ta(n,e,i.path),a=t.resolve({path:r.path},i),l=o.createHref(r.fullPath);return Zi(r,a,{params:f(a.params),hash:ol(r.hash),redirectedFrom:void 0,href:l})}let a;if("path"in e)a=Zi({},e,{path:ta(n,e.path,i.path).path});else{const t=Zi({},e.params);for(const e in t)null==t[e]&&delete t[e];a=Zi({},e,{params:d(e.params)}),i.params=d(i.params)}const l=t.resolve(a,i),s=e.hash||"";l.params=c(f(l.params));const p=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Zi({},e,{hash:(m=s,tl(m).replace(Za,"{").replace(Qa,"}").replace(Ga,"^")),path:l.path}));var m;const h=o.createHref(p);return Zi({fullPath:p,hash:s,query:r===al?ll(e.query):e.query||{}},l,{redirectedFrom:void 0,href:h})}function m(e){return"string"==typeof e?ta(n,e,u.value.path):Zi({},e)}function h(e,t){if(s!==e)return Ta(8,{from:t,to:e})}function g(e){return b(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=m(r):{path:r},r.params={}),Zi({query:e.query,hash:e.hash,params:e.params},r)}}function b(e,t){const n=s=p(e),o=u.value,i=e.state,a=e.force,l=!0===e.replace,c=v(n);if(c)return b(Zi(m(c),{state:i,force:a,replace:l}),t||n);const d=n;let f;return d.redirectedFrom=t,!a&&function(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&ra(t.matched[r],n.matched[o])&&oa(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(f=Ta(16,{to:d,from:o}),M(o,o,!0,!1)),(f?Promise.resolve(f):w(d,o)).catch((e=>Ea(e)?e:E(e,d,o))).then((e=>{if(e){if(Ea(e,2))return b(Zi(m(e.to),{state:i,force:a,replace:l}),t||d)}else e=C(d,o,!0,l,i);return x(d,o,e),e}))}function y(e,t){const n=h(e,t);return n?Promise.reject(n):Promise.resolve()}function w(e,t){let n;const[r,o,l]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const i=t.matched[a];i&&(e.matched.find((e=>ra(e,i)))?r.push(i):n.push(i));const l=e.matched[a];l&&(t.matched.find((e=>ra(e,l)))||o.push(l))}return[n,r,o]}(e,t);n=cl(r.reverse(),"beforeRouteLeave",e,t);for(const i of r)i.leaveGuards.forEach((r=>{n.push(sl(r,e,t))}));const u=y.bind(null,e,t);return n.push(u),bl(n).then((()=>{n=[];for(const r of i.list())n.push(sl(r,e,t));return n.push(u),bl(n)})).then((()=>{n=cl(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(sl(r,e,t))}));return n.push(u),bl(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const o of r.beforeEnter)n.push(sl(o,e,t));else n.push(sl(r.beforeEnter,e,t));return n.push(u),bl(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=cl(l,"beforeRouteEnter",e,t),n.push(u),bl(n)))).then((()=>{n=[];for(const r of a.list())n.push(sl(r,e,t));return n.push(u),bl(n)})).catch((e=>Ea(e,8)?e:Promise.reject(e)))}function x(e,t,n){for(const r of l.list())r(e,t,n)}function C(e,t,n,r,i){const a=h(e,t);if(a)return a;const l=t===ka,s=Xi?history.state:{};n&&(r||l?o.replace(e.fullPath,Zi({scroll:l&&s&&s.scroll},i)):o.push(e.fullPath,i)),u.value=e,M(e,t,n,l),A()}let k;function S(){k=o.listen(((e,t,n)=>{const r=p(e),i=v(r);if(i)return void b(Zi(i,{replace:!0}),r).catch(Qi);s=r;const a=u.value;var l,c;Xi&&(l=ga(a.fullPath,n.delta),c=ma(),va.set(l,c)),w(r,a).catch((e=>Ea(e,12)?e:Ea(e,2)?(b(e.to,r).then((e=>{Ea(e,20)&&!n.delta&&n.type===la.pop&&o.go(-1,!1)})).catch(Qi),Promise.reject()):(n.delta&&o.go(-n.delta,!1),E(e,r,a)))).then((e=>{(e=e||C(r,a,!1))&&(n.delta?o.go(-n.delta,!1):n.type===la.pop&&Ea(e,20)&&o.go(-1,!1)),x(r,a,e)})).catch(Qi)}))}let _,O=ul(),T=ul();function E(e,t,n){A(e);const r=T.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function A(e){_||(_=!0,S(),O.list().forEach((([t,n])=>e?n(e):t())),O.reset())}function M(t,n,r,o){const{scrollBehavior:i}=e;if(!Xi||!i)return Promise.resolve();const a=!r&&function(e){const t=va.get(e);return va.delete(e),t}(ga(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return wo().then((()=>i(t,n,a))).then((e=>e&&ha(e))).catch((e=>E(e,t,n)))}const D=e=>o.go(e);let N;const P=new Set;return{currentRoute:u,addRoute:function(e,n){let r,o;return Ca(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:g,replace:function(e){return g(Zi(m(e),{replace:!0}))},go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:T.add,isReady:function(){return _&&u.value!==ka?Promise.resolve():new Promise(((e,t)=>{O.add([e,t])}))},install(e){e.component("RouterLink",fl),e.component("RouterView",gl),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>xt(u)}),Xi&&!N&&u.value===ka&&(N=!0,g(o.location).catch((e=>{})));const t={};for(const r in ka)t[r]=Et((()=>u.value[r]));e.provide(Ki,this),e.provide(Yi,it(t)),e.provide(Gi,u);const n=e.unmount;P.add(e),e.unmount=function(){P.delete(e),P.size<1&&(s=ka,k&&k(),u.value=ka,N=!1,_=!1),n()}}}}function bl(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var yl,wl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xl={exports:{}};yl=xl,function(){var e=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},t=function(e){return{eq:e}},n=t((function(e,t){return e===t})),r=function(e){return t((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0}))},o=function(e,n){return function(e,n){return t((function(t,r){return e.eq(n(t),n(r))}))}(r(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,n)}))},i=function(e){return t((function(t,r){var i=Object.keys(t),a=Object.keys(r);if(!o(n).eq(i,a))return!1;for(var l=i.length,u=0;u<l;u++){var s=i[u];if(!e.eq(t[s],r[s]))return!1}return!0}))},a=t((function(t,n){if(t===n)return!0;var o=e(t);return o===e(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(o)?t===n:"array"===o?r(a).eq(t,n):"object"===o&&i(a).eq(t,n))})),l=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},u=function(e){return function(t){return typeof t===e}},s=function(e){return function(t){return e===t}},c=l("string"),d=l("object"),f=l("array"),p=s(null),m=u("boolean"),h=s(void 0),g=function(e){return null==e},v=function(e){return!g(e)},b=u("function"),y=u("number"),w=function(){},x=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},C=function(e,t){return function(n){return e(t(n))}},k=function(e){return function(){return e}},S=function(e){return e},_=function(e,t){return e===t};function O(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var T,E,A=function(e){return function(t){return!e(t)}},M=function(e){return e()},D=function(e){e()},N=k(!1),P=k(!0),z=function(){return B},B={fold:function(e,t){return e()},isSome:N,isNone:P,getOr:E=S,getOrThunk:T=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:k(null),getOrUndefined:k(void 0),or:E,orThunk:T,map:z,each:w,bind:z,exists:N,forall:P,filter:function(){return z()},toArray:function(){return[]},toString:k("none()")},R=function(e){var t=k(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:P,isNone:N,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return R(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:B},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},I={some:R,none:z,from:function(e){return null==e?B:R(e)}},L=Array.prototype.slice,F=Array.prototype.indexOf,V=Array.prototype.push,H=function(e,t){return F.call(e,t)},j=function(e,t){return H(e,t)>-1},$=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},U=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},W=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},q=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)},K=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},Y=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},G=function(e,t,n){return q(e,(function(e,r){n=t(n,e,r)})),n},X=function(e,t,n){return W(e,(function(e,r){n=t(n,e,r)})),n},Z=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return I.some(i);if(n(i,r))break}return I.none()},J=function(e,t){return Z(e,t,N)},Q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return I.some(n);return I.none()},ee=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!f(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);V.apply(t,e[n])}return t}(U(e,t))},te=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},ne=function(e){var t=L.call(e,0);return t.reverse(),t},re=function(e,t){return Y(e,(function(e){return!j(t,e)}))},oe=function(e,t){return t>=0&&t<e.length?I.some(e[t]):I.none()},ie=function(e){return oe(e,0)},ae=function(e){return oe(e,e.length-1)},le=b(Array.from)?Array.from:function(e){return L.call(e)},ue=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return I.none()},se=Object.keys,ce=Object.hasOwnProperty,de=function(e,t){for(var n=se(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},fe=function(e,t){return pe(e,(function(e,n){return{k:n,v:t(e,n)}}))},pe=function(e,t){var n={};return de(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},me=function(e){return function(t,n){e[n]=t}},he=function(e,t,n,r){return de(e,(function(e,o){(t(e,o)?n:r)(e,o)})),{}},ge=function(e,t){var n={};return he(e,t,me(n),w),n},ve=function(e){return function(e,t){var n=[];return de(e,(function(e,r){n.push(t(e,r))})),n}(e,S)},be=function(e,t){return ye(e,t)?I.from(e[t]):I.none()},ye=function(e,t){return ce.call(e,t)},we=function(e,t){return ye(e,t)&&void 0!==e[t]&&null!==e[t]},xe=Array.isArray,Ce=function(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(ye(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0},ke=function(e,t){var n=[];return Ce(e,(function(r,o){n.push(t(r,o,e))})),n},Se=function(e,t){var n=[];return Ce(e,(function(r,o){t&&!t(r,o,e)||n.push(r)})),n},_e=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Oe=function(e,t,n,r){for(var o=h(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o},Te=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Ee=function(e){return e[e.length-1]},Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Me(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var De=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Ne=function(){return Pe(0,0)},Pe=function(e,t){return{major:e,minor:t}},ze={nu:Pe,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ne():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Pe(r(1),r(2))}(e,n)},unknown:Ne},Be=function(e,t){var n=String(t).toLowerCase();return J(e,(function(e){return e.search(n)}))},Re=function(e,t){return-1!==e.indexOf(t)},Ie=function(e,t){return function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}(e,t,0)},Le=function(e){return function(t){return t.replace(e,"")}},Fe=Le(/^\s+|\s+$/g),Ve=Le(/^\s+/g),He=Le(/\s+$/g),je=function(e){return e.length>0},$e=function(e){return!je(e)},Ue=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,We=function(e){return function(t){return Re(t,e)}},qe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Re(e,"edge/")&&Re(e,"chrome")&&Re(e,"safari")&&Re(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ue],search:function(e){return Re(e,"chrome")&&!Re(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Re(e,"msie")||Re(e,"trident")}},{name:"Opera",versionRegexes:[Ue,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:We("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:We("firefox")},{name:"Safari",versionRegexes:[Ue,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Re(e,"safari")||Re(e,"mobile/"))&&Re(e,"applewebkit")}}],Ke=[{name:"Windows",search:We("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Re(e,"iphone")||Re(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:We("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:We("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:We("linux"),versionRegexes:[]},{name:"Solaris",search:We("sunos"),versionRegexes:[]},{name:"FreeBSD",search:We("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:We("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ye={browsers:k(qe),oses:k(Ke)},Ge="Edge",Xe="Chrome",Ze="Opera",Je="Firefox",Qe="Safari",et=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Ge),isChrome:r(Xe),isIE:r("IE"),isOpera:r(Ze),isFirefox:r(Je),isSafari:r(Qe)}},tt={unknown:function(){return et({current:void 0,version:ze.unknown()})},nu:et,edge:k(Ge),chrome:k(Xe),ie:k("IE"),opera:k(Ze),firefox:k(Je),safari:k(Qe)},nt="Windows",rt="Android",ot="Linux",it="Solaris",at="FreeBSD",lt="ChromeOS",ut=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(nt),isiOS:r("iOS"),isAndroid:r(rt),isOSX:r("OSX"),isLinux:r(ot),isSolaris:r(it),isFreeBSD:r(at),isChromeOS:r(lt)}},st={unknown:function(){return ut({current:void 0,version:ze.unknown()})},nu:ut,windows:k(nt),ios:k("iOS"),android:k(rt),linux:k(ot),osx:k("OSX"),solaris:k(it),freebsd:k(at),chromeos:k(lt)},ct=function(e,t,n){var r=Ye.browsers(),o=Ye.oses(),i=t.bind((function(e){return function(e,t){return ue(t.brands,(function(t){var n=t.brand.toLowerCase();return J(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:ze.nu(parseInt(t.version,10),0)}}))}))}(r,e)})).orThunk((function(){return function(e,t){return Be(e,t).map((function(e){var n=ze.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e)})).fold(tt.unknown,tt.nu),a=function(e,t){return Be(e,t).map((function(e){var n=ze.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e).fold(st.unknown,st.nu),l=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),l=a||r("(pointer:coarse)"),u=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!u,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!s&&!u&&!c;return{isiPad:k(o),isiPhone:k(i),isTablet:k(u),isPhone:k(s),isTouch:k(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:k(c),isDesktop:k(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:l}},dt=function(e){return window.matchMedia(e).matches},ft=De((function(){return ct(navigator.userAgent,I.from(navigator.userAgentData),dt)})),pt=function(){return ft()},mt=navigator.userAgent,ht=pt(),gt=ht.browser,vt=ht.os,bt=ht.deviceType,yt=/WebKit/.test(mt)&&!gt.isEdge(),wt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,xt=-1!==mt.indexOf("Windows Phone"),Ct={opera:gt.isOpera(),webkit:yt,ie:!(!gt.isIE()&&!gt.isEdge())&&gt.version.major,gecko:gt.isFirefox(),mac:vt.isOSX()||vt.isiOS(),iOS:bt.isiPad()||bt.isiPhone(),android:vt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:gt.isIE()?document.documentMode||7:10,fileApi:wt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!gt.isIE(),desktop:bt.isDesktop(),windowsPhone:xt,browser:{current:gt.current,version:gt.version,isChrome:gt.isChrome,isEdge:gt.isEdge,isFirefox:gt.isFirefox,isIE:gt.isIE,isOpera:gt.isOpera,isSafari:gt.isSafari},os:{current:vt.current,version:vt.version,isAndroid:vt.isAndroid,isChromeOS:vt.isChromeOS,isFreeBSD:vt.isFreeBSD,isiOS:vt.isiOS,isLinux:vt.isLinux,isOSX:vt.isOSX,isSolaris:vt.isSolaris,isWindows:vt.isWindows},deviceType:{isDesktop:bt.isDesktop,isiPad:bt.isiPad,isiPhone:bt.isiPhone,isPhone:bt.isPhone,isTablet:bt.isTablet,isTouch:bt.isTouch,isWebView:bt.isWebView}},kt=/^\s*|\s*$/g,St=function(e){return null==e?"":(""+e).replace(kt,"")},_t=function(e,t){return t?!("array"!==t||!xe(e))||typeof e===t:void 0!==e},Ot=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Ce(e,(function(e,o){if(!1===t.call(r,e,o,n))return!1;Ot(e,t,n,r)})))},Tt={trim:St,isArray:xe,is:_t,toArray:function(e){if(xe(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:Ce,map:ke,grep:Se,inArray:_e,hasOwn:ye,extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)if(ye(o,i)){var a=o[i];void 0!==a&&(e[i]=a)}}return e},create:function(e,t,n){var r,o,i,a=this,l=0,u=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],s=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!s[u]){if("static"===e[2])return s[u]=t,void(this.onCreate&&this.onCreate(e[2],e[3],s[u]));t[u]||(t[u]=function(){},l=1),s[u]=t[u],a.extend(s[u].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=s[u],s[u]=l?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},s[u].prototype[u]=s[u],a.each(r,(function(e,t){s[u].prototype[t]=r[t]})),a.each(t,(function(e,t){r[t]?s[u].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==u&&(s[u].prototype[t]=e)}))),a.each(t.static,(function(e,t){s[u][t]=e}))}},walk:Ot,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||_t(e,"array")?e:ke(e.split(t||","),St)},_addCacheSuffix:function(e){var t=Ct.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Et=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},At={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Et(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Et(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Et(n)},fromDom:Et,fromPoint:function(e,t,n){return I.from(e.dom.elementFromPoint(t,n)).map(Et)}},Mt=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},Dt=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Nt=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Pt=function(e,t){return e.dom===t.dom},zt=function(e,t){return n=e.dom,r=t.dom,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var n,r},Bt=function(e,t){return pt().browser.isIE()?zt(e,t):function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)}(e,t)};"undefined"!=typeof window?window:Function("return this;")();var Rt,It,Lt=function(e){return e.dom.nodeName.toLowerCase()},Ft=function(e){return e.dom.nodeType},Vt=function(e){return function(t){return Ft(t)===e}},Ht=Vt(1),jt=Vt(3),$t=Vt(9),Ut=Vt(11),Wt=function(e){return At.fromDom(e.dom.ownerDocument)},qt=function(e){return $t(e)?e:Wt(e)},Kt=function(e){return At.fromDom(qt(e).dom.defaultView)},Yt=function(e){return I.from(e.dom.parentNode).map(At.fromDom)},Gt=function(e){return I.from(e.dom.previousSibling).map(At.fromDom)},Xt=function(e){return I.from(e.dom.nextSibling).map(At.fromDom)},Zt=function(e){return ne(Mt(e,Gt))},Jt=function(e){return Mt(e,Xt)},Qt=function(e){return U(e.dom.childNodes,At.fromDom)},en=function(e,t){var n=e.dom.childNodes;return I.from(n[t]).map(At.fromDom)},tn=function(e){return en(e,0)},nn=function(e){return en(e,e.dom.childNodes.length-1)},rn=function(e){return e.dom.childNodes.length},on=function(e){return Ut(e)&&v(e.dom.host)},an=b(Element.prototype.attachShadow)&&b(Node.prototype.getRootNode),ln=k(an),un=an?function(e){return At.fromDom(e.dom.getRootNode())}:qt,sn=function(e){return on(e)?e:function(e){var t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return At.fromDom(t)}(qt(e))},cn=function(e){return At.fromDom(e.dom.host)},dn=function(e){return v(e.dom.shadowRoot)},fn=function(e,t){Yt(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},pn=function(e,t){Xt(e).fold((function(){Yt(e).each((function(e){hn(e,t)}))}),(function(e){fn(e,t)}))},mn=function(e,t){tn(e).fold((function(){hn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},hn=function(e,t){e.dom.appendChild(t.dom)},gn=function(e,t){W(t,(function(t){hn(e,t)}))},vn=function(e){e.dom.textContent="",W(Qt(e),(function(e){bn(e)}))},bn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},yn=function(e){var t,n=Qt(e);n.length>0&&(t=e,W(n,(function(e){fn(t,e)}))),bn(e)},wn=function(e){var t=jt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return(n=At.fromDom(t),r=un(n),on(r)?I.some(r):I.none()).fold((function(){return o.body.contains(t)}),C(wn,cn))},xn=function(e,t){return{left:e,top:t,translate:function(n,r){return xn(e+n,t+r)}}},Cn=xn,kn=function(e,t){return void 0!==e?e:void 0!==t?t:0},Sn=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Cn(n.offsetLeft,n.offsetTop):wn(e)?function(e){var t=e.getBoundingClientRect();return Cn(t.left,t.top)}(t):Cn(0,0)},_n=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Cn(n,r)},On=function(e,t,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Tn=function(e,t){pt().browser.isSafari()&&b(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},En=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},An=function(e){var t=void 0===e?window:e,n=t.document,r=_n(At.fromDom(n));return function(e){var t=void 0===e?window:e;return I.from(t.visualViewport)}(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return En(r.left,r.top,n,o)}),(function(e){return En(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},Mn=function(e){return function(t){return!!t&&t.nodeType===e}},Dn=function(e){return!!e&&!Object.getPrototypeOf(e)},Nn=Mn(1),Pn=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return j(t,n)}return!1}},zn=function(e,t){var n=t.toLowerCase().split(" ");return function(t){if(Nn(t))for(var r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},Bn=function(e){return function(t){return Nn(t)&&t.hasAttribute(e)}},Rn=function(e){return Nn(e)&&e.hasAttribute("data-mce-bogus")},In=function(e){return Nn(e)&&"TABLE"===e.tagName},Ln=function(e){return function(t){if(Nn(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Fn=Pn(["textarea","input"]),Vn=Mn(3),Hn=Mn(8),jn=Mn(9),$n=Mn(11),Un=Pn(["br"]),Wn=Pn(["img"]),qn=Ln("true"),Kn=Ln("false"),Yn=Pn(["td","th"]),Gn=Pn(["video","audio","object","embed"]),Xn=function(e,t,n){return void 0===n&&(n=_),e.exists((function(e){return n(e,t)}))},Zn=function(e,t,n){return e.isSome()&&t.isSome()?I.some(n(e.getOrDie(),t.getOrDie())):I.none()},Jn=function(e){return void 0!==e.style&&b(e.style.getPropertyValue)},Qn=function(e,t,n){if(!(c(n)||m(n)||y(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},er=function(e,t,n){Qn(e.dom,t,n)},tr=function(e,t){var n=e.dom;de(t,(function(e,t){Qn(n,t,e)}))},nr=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},rr=function(e,t){return I.from(nr(e,t))},or=function(e,t){e.dom.removeAttribute(t)},ir=function(e,t){var n=e.dom;de(t,(function(e,t){!function(e,t,n){if(!c(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Jn(e)&&e.style.setProperty(t,n)}(n,t,e)}))},ar=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||wn(e)?r:lr(n,t)},lr=function(e,t){return Jn(e)?e.style.getPropertyValue(t):""},ur=function(e,t){var n=e.dom,r=lr(n,t);return I.from(r).filter((function(e){return e.length>0}))},sr=function(e){var t={},n=e.dom;if(Jn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},cr=pt().browser,dr=function(e){return J(e,Ht)},fr=function(e,t){return e.children&&j(e.children,t)},pr=function(e,t,n){var r=0,o=0,i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===ar(At.fromDom(e),"position")){var a=t.getBoundingClientRect();return{x:r=a.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,y:o=a.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop}}for(var l=t;l&&l!==n&&l.nodeType&&!fr(l,n);){var u=l;r+=u.offsetLeft||0,o+=u.offsetTop||0,l=u.offsetParent}for(l=t.parentNode;l&&l!==n&&l.nodeType&&!fr(l,n);)r-=l.scrollLeft||0,o-=l.scrollTop||0,l=l.parentNode;o+=function(e){return cr.isFirefox()&&"table"===Lt(e)?dr(Qt(e)).filter((function(e){return"caption"===Lt(e)})).bind((function(e){return dr(Jt(e)).map((function(t){var n=t.dom.offsetTop,r=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=r?-o:0}))})).getOr(0):0}(At.fromDom(t))}return{x:r,y:o}},mr={},hr={exports:mr};Rt=mr,It=hr,function(e){"object"==typeof Rt&&void 0!==It?It.exports=e():("undefined"!=typeof window?window:void 0!==wl?wl:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}((function(){return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var u=!1;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:l}catch(e){o=l}}();var s,c=[],d=!1,f=-1;function p(){d&&s&&(d=!1,s.length?c=s.concat(c):f=-1,c.length&&m())}function m(){if(!d){var e=u(p);d=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(n){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||d||u(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void u(t.promise,o)}l(t.promise,r)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void d((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(a){u(e,a)}var r,o}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(r){if(n)return;n=!0,u(t,r)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new c(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(u){n(u)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,l={},u=0;function s(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return l[t]=!0,o((function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}));var gr=hr.exports.boltExport,vr=function(e){var t=I.none(),n=[],r=function(e){o()?a(e):n.push(e)},o=function(){return t.isSome()},i=function(e){W(e,a)},a=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){o()||(t=I.some(e),i(n),n=[])})),{get:r,map:function(e){return vr((function(t){r((function(n){t(e(n))}))}))},isReady:o}},br={nu:vr,pure:function(e){return vr((function(t){t(e)}))}},yr=function(e){setTimeout((function(){throw e}),0)},wr=function(e){var t=function(t){e().then(t,yr)};return{map:function(t){return wr((function(){return e().then(t)}))},bind:function(t){return wr((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return wr((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return br.nu(t)},toCached:function(){var t=null;return wr((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},xr=function(e){return wr((function(){return new gr(e)}))},Cr=function(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):W(e,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}}(i))}))}))},kr=function(e){return{isValue:P,isError:N,getOr:k(e),getOrThunk:k(e),getOrDie:k(e),or:function(t){return kr(e)},orThunk:function(t){return kr(e)},fold:function(t,n){return n(e)},map:function(t){return kr(t(e))},mapError:function(t){return kr(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return I.some(e)}}},Sr=function(e){return{isValue:N,isError:P,getOr:S,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:S,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Sr(e)},mapError:function(t){return Sr(t(e))},each:w,bind:function(t){return Sr(e)},exists:N,forall:P,toOptional:I.none}},_r={value:kr,error:Sr,fromOption:function(e,t){return e.fold((function(){return Sr(t)}),kr)}},Or=function(e){if(!f(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return W(e,(function(r,o){var i=se(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],l=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!f(l))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+i);var u=function(e){var r=se(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!te(t,(function(e){return j(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[o];return i.apply(null,n)},match:u,log:function(e){console.log(e,{constructors:t,constructor:a,params:n})}}}})),n};Or([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Tr=function(e){return e.fold(S,S)};function Er(e,t,n,r,o){return e(n,r)?I.some(n):b(o)&&o(n)?I.none():t(n,r,o)}var Ar,Mr,Dr,Nr,Pr,zr,Br,Rr,Ir,Lr,Fr,Vr,Hr,jr,$r,Ur,Wr,qr,Kr,Yr,Gr,Xr=function(e,t,n){for(var r=e.dom,o=b(n)?n:N;r.parentNode;){r=r.parentNode;var i=At.fromDom(r);if(t(i))return I.some(i);if(o(i))break}return I.none()},Zr=function(e,t,n){return Er((function(e,t){return t(e)}),Xr,e,t,n)},Jr=function(e,t){return J(e.dom.childNodes,(function(e){return t(At.fromDom(e))})).map(At.fromDom)},Qr=function(e,t,n){return Xr(e,(function(e){return Dt(e,t)}),n)},eo=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Nt(n)?I.none():I.from(n.querySelector(e)).map(At.fromDom)}(t,e)},to=function(e,t,n){return Er((function(e,t){return Dt(e,t)}),Qr,e,t,n)},no=window.Promise?window.Promise:function(){var e=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.apply(t,n)}},t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(i,this),e(a,this))},r=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){return setTimeout(e,1)};function o(e){var t=this;null!==this._state?r((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(i,this),e(a,this))}this._state=!0,this._value=t,l.call(this)}catch(r){a.call(this,r)}}function a(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function u(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}var s=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(o){if(r)return;r=!0,n(o)}};return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var r=this;return new n((function(n,i){o.call(r,new u(e,t,n,i))}))},n.all=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=Array.prototype.slice.call(1===e.length&&t(e[0])?e[0]:e);return new n((function(e,t){if(0===o.length)return e([]);for(var n=o.length,r=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,(function(e){r(i,e)}),t)}o[i]=a,0==--n&&e(o)}catch(u){t(u)}},i=0;i<o.length;i++)r(i,o[i])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},n}(),ro=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},oo=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},io=function(e,t){var n,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=ro((function(){e.apply(this,r)}),t)};return r.stop=function(){clearTimeout(n)},r},ao={requestAnimationFrame:function(e,t){Ar?Ar.then(e):Ar=new no((function(e){t||(t=document.body),function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];n||(n=function(e){window.setTimeout(e,0)}),n(e,t)}(e,t)})).then(e)},setTimeout:ro,setInterval:oo,setEditorTimeout:function(e,t,n){return ro((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r=oo((function(){e.removed?clearInterval(r):t()}),n);return r},debounce:io,throttle:io,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},lo=function(e,t){void 0===t&&(t={});var n=0,r={},o=At.fromDom(e),i=qt(o),a=t.maxLoadTime||5e3,l=function(l,u,s){var c,d=Tt._addCacheSuffix(l),f=function(e){return be(r,e).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))}(d);r[d]=f,f.count++;var p=function(e,t){for(var n=e.length;n--;)e[n]();f.status=t,f.passed=[],f.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},m=function(){return p(f.passed,2)},h=function(){return p(f.failed,3)},g=function(){var t;t=g,function(){for(var t=e.styleSheets,n=t.length;n--;){var r=t[n].ownerNode;if(r&&r.id===c.id)return m(),!0}return!1}()||(Date.now()-y<a?ao.setTimeout(t):h())};if(u&&f.passed.push(u),s&&f.failed.push(s),1!==f.status)if(2!==f.status)if(3!==f.status){f.status=1;var v=At.fromTag("link",i.dom);tr(v,{rel:"stylesheet",type:"text/css",id:f.id});var b,y=Date.now();t.contentCssCors&&er(v,"crossOrigin","anonymous"),t.referrerPolicy&&er(v,"referrerpolicy",t.referrerPolicy),(c=v.dom).onload=g,c.onerror=h,b=v,hn(sn(o),b),er(v,"href",d)}else h();else m()},u=function(e){return xr((function(t){l(e,x(t,k(_r.value(e))),x(t,k(_r.error(e))))}))},s=function(e){var t=Tt._addCacheSuffix(e);be(r,t).each((function(e){0==--e.count&&(delete r[t],function(e){var t=sn(o);eo(t,"#"+e).each(bn)}(e.id))}))};return{load:l,loadAll:function(e,t,n){var r;(r=U(e,u),Cr(r,xr)).get((function(e){var r=K(e,(function(e){return e.isValue()}));r.fail.length>0?n(r.fail.map(Tr)):t(r.pass.map(Tr))}))},unload:s,unloadAll:function(e){W(e,(function(e){s(e)}))},_setReferrerPolicy:function(e){t.referrerPolicy=e}}},uo=(Mr=new WeakMap,{forElement:function(e,t){var n=un(e).dom;return I.from(Mr.get(n)).getOrThunk((function(){var e=lo(n,t);return Mr.set(n,e),e}))}}),so=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),co=function(e){var t;return function(n){return t=t||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(e,P),ye(t,Lt(n))}},fo=co(["h1","h2","h3","h4","h5","h6"]),po=co(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),mo=function(e){return Ht(e)&&!po(e)},ho=function(e){return Ht(e)&&"br"===Lt(e)},go=co(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),vo=co(["ul","ol","dl"]),bo=co(["li","dd","dt"]),yo=co(["thead","tbody","tfoot"]),wo=co(["td","th"]),xo=co(["pre","script","textarea","style"]),Co="",ko="\ufeff",So=function(e){return"\ufeff"===e},_o=function(e){return e.replace(/\uFEFF/g,"")},Oo=Nn,To=Vn,Eo=function(e){return To(e)&&(e=e.parentNode),Oo(e)&&e.hasAttribute("data-mce-caret")},Ao=function(e){return To(e)&&So(e.data)},Mo=function(e){return Eo(e)||Ao(e)},Do=function(e){return e.firstChild!==e.lastChild||!Un(e.firstChild)},No=function(e){var t=e.container();return!!Vn(t)&&(t.data.charAt(e.offset())===ko||e.isAtStart()&&Ao(t.previousSibling))},Po=function(e){var t=e.container();return!!Vn(t)&&(t.data.charAt(e.offset()-1)===ko||e.isAtEnd()&&Ao(t.nextSibling))},zo=function(e,t,n){var r,o=t.ownerDocument.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r));var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},Bo=function(e){return To(e)&&e.data[0]===ko},Ro=function(e){return To(e)&&e.data[e.data.length-1]===ko},Io=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],Rn(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Lo=function(e){return Eo(e.startContainer)},Fo=qn,Vo=Kn,Ho=Un,jo=Vn,$o=Pn(["script","style","textarea"]),Uo=Pn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Wo=Pn(["table"]),qo=Mo,Ko=function(e){return!qo(e)&&(jo(e)?!$o(e.parentNode):Uo(e)||Ho(e)||Wo(e)||Yo(e))},Yo=function(e){return!1===function(e){return Nn(e)&&"true"===e.getAttribute("unselectable")}(e)&&Vo(e)},Go=function(e,t){return Ko(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Yo(e))return!1;if(Fo(e))return!0}return!0}(e,t)},Xo=/^[ \t\r\n]*$/,Zo=function(e){return Xo.test(e)},Jo=function(e,t){var n,r,o,i=At.fromDom(t),a=At.fromDom(e);return n=a,r="pre,code",o=O(Pt,i),Qr(n,r,o).isSome()},Qo=function(e,t){return Ko(e)&&!1===function(e,t){return Vn(e)&&Zo(e.data)&&!1===Jo(e,t)}(e,t)||function(e){return Nn(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))}(e)||ei(e)},ei=Bn("data-mce-bookmark"),ti=Bn("data-mce-bogus"),ni=(Dr="data-mce-bogus",Nr="all",function(e){return Nn(e)&&e.getAttribute(Dr)===Nr}),ri=function(e,t){return void 0===t&&(t=!0),function(e,t){var n=0;if(Qo(e,e))return!1;var r=e.firstChild;if(!r)return!0;var o=new so(r,e);do{if(t){if(ni(r)){r=o.next(!0);continue}if(ti(r)){r=o.next();continue}}if(Un(r))n++,r=o.next();else{if(Qo(r,e))return!1;r=o.next()}}while(r);return n<=1}(e.dom,t)},oi=function(e,t){return v(e)&&(Qo(e,t)||mo(At.fromDom(e)))},ii=function(e){return function(e){return"span"===e.nodeName.toLowerCase()}(e)&&"bookmark"===e.getAttribute("data-mce-type")},ai=function(e,t){return Vn(e)&&e.data.length>0&&function(e,t){var n=new so(e,t).prev(!1),r=new so(e,t).next(!1),o=h(n)||oi(n,t),i=h(r)||oi(r,t);return o&&i}(e,t)},li=function(e,t,n){var r=n||t;if(Nn(t)&&ii(t))return t;for(var o=t.childNodes,i=o.length-1;i>=0;i--)li(e,o[i],r);if(Nn(t)){var a=t.childNodes;1===a.length&&ii(a[0])&&t.parentNode.insertBefore(a[0],t)}return function(e){return $n(e)||jn(e)}(t)||Qo(t,r)||function(e){return!!Nn(e)&&e.childNodes.length>0}(t)||ai(t,r)||e.remove(t),t},ui=Tt.makeMap,si=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ci=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,di=/[<>&\"\']/g,fi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,pi={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},mi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},gi=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),mi[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}},vi=gi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),bi=function(e,t){return e.replace(t?si:ci,(function(e){return mi[e]||e}))},yi=function(e,t){return e.replace(t?si:ci,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":mi[e]||"&#"+e.charCodeAt(0)+";"}))},wi=function(e,t,n){return n=n||vi,e.replace(t?si:ci,(function(e){return mi[e]||n[e]||e}))},xi={encodeRaw:bi,encodeAllRaw:function(e){return(""+e).replace(di,(function(e){return mi[e]||e}))},encodeNumeric:yi,encodeNamed:wi,getEncodeFunc:function(e,t){var n=gi(t)||vi,r=ui(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?si:ci,(function(e){return void 0!==mi[e]?mi[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:r.named?t?function(e,t){return wi(e,t,n)}:wi:r.numeric?yi:bi},decode:function(e){return e.replace(fi,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):pi[t]||String.fromCharCode(t):hi[e]||vi[e]||function(e){var t=At.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e}(e)}))}},Ci={},ki={},Si=Tt.makeMap,_i=Tt.each,Oi=Tt.extend,Ti=Tt.explode,Ei=Tt.inArray,Ai=function(e,t){return(e=Tt.trim(e))?e.split(t||" "):[]},Mi=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),_i(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Si(e,/[, ]/):Ti(e,/[, ]/)}))),n},Di=function(e){var t,n,r,o,i,a,l,u,s,c,d={},f={},p=[],m={},h={},g=function(t,n,r){var o=e[t];return o?o=Si(o,/[, ]/,Si(o.toUpperCase(),/[, ]/)):(o=Ci[t])||(o=Si(n," ",Si(n.toUpperCase()," ")),o=Oi(o,r),Ci[t]=o),o},v=(t=(e=e||{}).schema,u={},s=function(e,t,r){var o,i,a,l=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};t=t||"","string"==typeof(r=r||[])&&(r=Ai(r));var s=Ai(e);for(o=s.length;o--;)a={attributes:l(i=Ai([n,t].join(" "))),attributesOrder:i,children:l(r,ki)},u[s[o]]=a},c=function(e,t){var n,r,o,i,a=Ai(e);n=a.length;for(var l=Ai(t);n--;)for(r=u[a[n]],o=0,i=l.length;o<i;o++)r.attributes[l[o]]={},r.attributesOrder.push(l[o])},Ci[t]?Ci[t]:(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(n+=" xml:lang",o=[o,l="acronym applet basefont big font strike tt"].join(" "),_i(Ai(l),(function(e){s(e,"",o)})),r=[r,a="center dir isindex noframes"].join(" "),i=[r,o].join(" "),_i(Ai(a),(function(e){s(e,"",i)}))),i=i||[r,o].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",o),s("q","cite",o),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",o),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?i:o),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==t&&(s("wbr"),s("ruby","",[o,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",o),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[o,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",o),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",o),s("progress","value max",o),s("meter","value min max low high optimum",o),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==t&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),_i(Ai("a form meter progress dfn"),(function(e){u[e]&&delete u[e].children[e]})),delete u.caption.children.table,delete u.script,Ci[t]=u,u));!1===e.verify_html&&(e.valid_elements="*[*]");var b=Mi(e.valid_styles),y=Mi(e.invalid_styles,"map"),w=Mi(e.valid_classes,"map"),x=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),C=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),S=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),_=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),O="td th iframe video audio object script code",T=g("non_empty_elements",O+" pre",S),E=g("move_caret_before_on_enter_elements",O+" table",S),A=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),M=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",A),D=g("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");_i((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){h[e]=new RegExp("</"+e+"[^>]*>","gi")}));var N=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},P=function(e){var t,n,r,o,i,a,l,u,s,c,f,m,h,g,v,b,y,w,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e){var S=Ai(e,",");for(d["@"]&&(b=d["@"].attributes,y=d["@"].attributesOrder),t=0,n=S.length;t<n;t++)if(i=x.exec(S[t])){if(g=i[1],s=i[2],v=i[3],u=i[5],a={attributes:m={},attributesOrder:h=[]},"#"===g&&(a.paddEmpty=!0),"-"===g&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),b&&(de(b,(function(e,t){m[t]=e})),h.push.apply(h,y)),u)for(r=0,o=(u=Ai(u,"|")).length;r<o;r++)if(i=C.exec(u[r])){if(l={},f=i[1],c=i[2].replace(/[\\:]:/g,":"),g=i[3],w=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(c),l.required=!0),"-"===f){delete m[c],h.splice(Ei(h,c),1);continue}g&&("="===g&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:c,value:w}),l.defaultValue=w),":"===g&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:c,value:w}),l.forcedValue=w),"<"===g&&(l.validValues=Si(w,"?"))),k.test(c)?(a.attributePatterns=a.attributePatterns||[],l.pattern=N(c),a.attributePatterns.push(l)):(m[c]||h.push(c),m[c]=l)}b||"@"!==s||(b=m,y=h),v&&(a.outputName=s,d[v]=a),k.test(s)?(a.pattern=N(s),p.push(a)):d[s]=a}}},z=function(e){d={},p=[],P(e),_i(v,(function(e,t){f[t]=e.children}))},B=function(e){var t=/^(~)?(.+)$/;e&&(Ci.text_block_elements=Ci.block_elements=null,_i(Ai(e,","),(function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(f[i]=f[o],m[i]=o,r||(M[i.toUpperCase()]={},M[i]={}),!d[i]){var a=d[o];delete(a=Oi({},a)).removeEmptyAttrs,delete a.removeEmpty,d[i]=a}_i(f,(function(e,t){e[o]&&(f[t]=e=Oi({},f[t]),e[i]=e[o])}))})))},R=function(t){var n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ci[e.schema]=null,t&&_i(Ai(t,","),(function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?f[o[2]]:f[o[2]]={"#comment":{}},t=f[o[2]],_i(Ai(o[3],"|"),(function(e){"-"===r?delete t[e]:t[e]={}})))}))},I=function(e){var t,n=d[e];if(n)return n;for(t=p.length;t--;)if((n=p[t]).pattern.test(e))return n};e.valid_elements?z(e.valid_elements):(_i(v,(function(e,t){d[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},f[t]=e.children})),"html5"!==e.schema&&_i(Ai("strong/b em/i"),(function(e){var t=Ai(e,"/");d[t[1]].outputName=t[0]})),_i(Ai("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){d[e]&&(d[e].removeEmpty=!0)})),_i(Ai("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){d[e].paddEmpty=!0})),_i(Ai("span"),(function(e){d[e].removeEmptyAttrs=!0}))),B(e.custom_elements),R(e.valid_children),P(e.extended_valid_elements),R("+ol[ul|ol],+ul[ul|ol]"),_i({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){d[t]&&(d[t].parentsRequired=Ai(e))})),e.invalid_elements&&_i(Ti(e.invalid_elements),(function(e){d[e]&&delete d[e]})),I("span")||P("span[!data-mce-type|*]");var L=k(b),F=k(y),V=k(w),H=k(_),j=k(M),$=k(A),U=k(D),W=k(S),q=k(C),K=k(T),Y=k(E),G=k(x),X=k(h),Z=k(m);return{children:f,elements:d,getValidStyles:L,getValidClasses:V,getBlockElements:j,getInvalidStyles:F,getShortEndedElements:W,getTextBlockElements:$,getTextInlineElements:U,getBoolAttrs:H,getElementRule:I,getSelfClosingElements:q,getNonEmptyElements:K,getMoveCaretBeforeOnEnterElements:Y,getWhiteSpaceElements:G,getSpecialElements:X,isValidChild:function(e,t){var n=f[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=I(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:Z,addValidElements:P,setValidElements:z,addCustomElements:B,addValidChildren:R}},Ni=function(e,t,n,r){var o=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Pi=function(e,t){var n,r,o,i=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,c={},d="\ufeff";e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles());var f="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<f.length;n++)c[f[n]]=d+n,c[d+n]=f[n];return{toHex:function(e){return e.replace(a,Ni)},parse:function(t){var r,o,f,p,m,h,g,v,b={},y=e.url_converter,w=e.url_converter_scope||i,x=function(e,t,r){var o=b[e+"-top"+t];if(o){var i=b[e+"-right"+t];if(i){var a=b[e+"-bottom"+t];if(a){var l=b[e+"-left"+t];if(l){var u=[o,i,a,l];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&r||(b[e+t]=-1===n?u[0]:u.join(" "),delete b[e+"-top"+t],delete b[e+"-right"+t],delete b[e+"-bottom"+t],delete b[e+"-left"+t])}}}}},C=function(e){var t,n=b[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return b[e]=n[0],!0}},k=function(e){return p=!0,c[e]},S=function(e,t){return p&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return c[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},_=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},O=function(e){return e.replace(/\\[0-9a-f]+/gi,_)},T=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=S(i)).replace(/\'/g,"\\'")+"'";if(n=S(n||r||o),!e.allow_script_urls){var l=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(l))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(l))return""}return y&&(n=y.call(w,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,k).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,k)}));r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),f=r[2].replace(s,""),o&&f){if(o=O(o),f=O(f),-1!==o.indexOf(d)||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(f)))continue;"font-weight"===o&&"700"===f?f="bold":"color"!==o&&"background-color"!==o||(f=f.toLowerCase()),f=(f=f.replace(a,Ni)).replace(l,T),b[o]=p?S(f,!0):f}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),m="border",g="border-style",v="border-color",C(h="border-width")&&C(g)&&C(v)&&(b[m]=b[h]+" "+b[g]+" "+b[v],delete b[h],delete b[g],delete b[v]),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(e,t){var n="",i=function(t){var o,i=r[t];if(i)for(var a=0,l=i.length;a<l;a++)t=i[a],(o=e[t])&&(n+=(n.length>0?" ":"")+t+": "+o+";")};return t&&r?(i("*"),i(t)):de(e,(function(e,r){!e||o&&!function(e,t){var n=o["*"];return!(n&&n[e]||(n=o[t])&&n[e])}(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}}},zi={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Bi=function(e){return e instanceof Event||b(e.initEvent)},Ri=function(e,t,n,r){var o,i=function(e,t){var n=null!=t?t:{};for(var r in e)ye(zi,r)||(n[r]=e[r]);return v(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n}(t,r);return i.type=e,g(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:n),function(e){return g(e.preventDefault)||Bi(e)}(t)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=P,b(t.preventDefault)?t.preventDefault():Bi(t)&&(t.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=P,b(t.stopPropagation)?t.stopPropagation():Bi(t)&&(t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=P,i.stopPropagation()},function(e){return e.isDefaultPrevented===P||e.isDefaultPrevented===N}(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?P:N,i.isPropagationStopped=!0===i.cancelBubble?P:N,i.isImmediatePropagationStopped=N)),i},Ii=/^(?:mouse|contextmenu)|click/,Li=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Fi=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Vi=function(e,t){var n=Ri(e.type,e,document,t);if(function(e){return v(e)&&Ii.test(e.type)}(e)&&h(e.pageX)&&!h(e.clientX)){var r=n.target.ownerDocument||document,o=r.documentElement,i=r.body,a=n;a.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),a.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return h(n.metaKey)&&(n.metaKey=!1),n},Hi=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){Fi(e,"DOMContentLoaded",i),Fi(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():Li(e,"DOMContentLoaded",i),n.domLoaded||Li(e,"load",i)}},ji=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(e,t,n,r){var o,i,a,l,u,s,c,d=this,f=window,p=function(e){d.executeHandlers(Vi(e||f.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?o=e[d.expando]:(o=d.count++,e[d.expando]=o,d.events[o]={}),r=r||e;var m=t.split(" ");for(a=m.length;a--;)s=p,u=c=!1,"DOMContentLoaded"===(l=m[a])&&(l="ready"),d.domLoaded&&"ready"===l&&"complete"===e.readyState?n.call(r,Vi({type:l})):(d.hasMouseEnterLeave||(u=d.mouseEnterLeave[l])&&(s=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Vi(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,o))}),d.hasFocusIn||"focusin"!==l&&"focusout"!==l||(c=!0,u="focusin"===l?"focus":"blur",s=function(e){(e=Vi(e||f.event)).type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,o)}),(i=d.events[o][l])?"ready"===l&&d.domLoaded?n(Vi({type:l})):i.push({func:n,scope:r}):(d.events[o][l]=i=[{func:n,scope:r}],i.fakeName=u,i.capture=c,i.nativeHandler=s,"ready"===l?Hi(e,s,d):Li(e,u||l,s,c)));return e=i=null,n}},e.prototype.unbind=function(e,t,n){var r,o,i,a,l;if(!e||3===e.nodeType||8===e.nodeType)return this;var u=e[this.expando];if(u){if(l=this.events[u],t){var s=t.split(" ");for(o=s.length;o--;)if(r=l[a=s[o]]){if(n)for(i=r.length;i--;)if(r[i].func===n){var c=r.nativeHandler,d=r.fakeName,f=r.capture;(r=r.slice(0,i).concat(r.slice(i+1))).nativeHandler=c,r.fakeName=d,r.capture=f,l[a]=r}n&&0!==r.length||(delete l[a],Fi(e,r.fakeName||a,r.nativeHandler,r.capture))}}else de(l,(function(t,n){Fi(e,t.fakeName||n,t.nativeHandler,t.capture)})),l={};for(a in l)if(ye(l,a))return this;delete this.events[u];try{delete e[this.expando]}catch(p){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=Vi({type:t,target:e},n);do{(r=e[this.expando])&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),$i="sizzle"+-new Date,Ui=window.document,Wi=0,qi=0,Ki=Oa(),Yi=Oa(),Gi=Oa(),Xi=function(e,t){return e===t&&(jr=!0),0},Zi="undefined",Ji=1<<31,Qi={}.hasOwnProperty,ea=[],ta=ea.pop,na=ea.push,ra=ea.push,oa=ea.slice,ia=ea.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},aa="[\\x20\\t\\r\\n\\f]",la="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ua="\\[[\\x20\\t\\r\\n\\f]*("+la+")(?:"+aa+"*([*^$|!~]?=)"+aa+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+la+"))|)"+aa+"*\\]",sa=":("+la+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ua+")*)|.*)\\)|)",ca=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),da=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),fa=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),pa=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ma=new RegExp(sa),ha=new RegExp("^"+la+"$"),ga={ID:new RegExp("^#("+la+")"),CLASS:new RegExp("^\\.("+la+")"),TAG:new RegExp("^("+la+"|[*])"),ATTR:new RegExp("^"+ua),PSEUDO:new RegExp("^"+sa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},va=/^(?:input|select|textarea|button)$/i,ba=/^h\d$/i,ya=/^[^{]+\{\s*\[native \w/,wa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xa=/[+~]/,Ca=/'|\\/g,ka=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Sa=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{ra.apply(ea=oa.call(Ui.childNodes),Ui.childNodes),ea[Ui.childNodes.length].nodeType}catch(iT){ra={apply:ea.length?function(e,t){na.apply(e,oa.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var _a=function(e,t,n,r){var o,i,a,l,u,s,c,d,f,p;if((t?t.ownerDocument||t:Ui)!==Ur&&$r(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=(t=t||Ur).nodeType)&&9!==l)return[];if(qr&&!r){if(o=wa.exec(e))if(a=o[1]){if(9===l){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&Gr(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return ra.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Pr.getElementsByClassName)return ra.apply(n,t.getElementsByClassName(a)),n}if(Pr.qsa&&(!Kr||!Kr.test(e))){if(d=c=$i,f=t,p=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(s=Ir(e),(c=t.getAttribute("id"))?d=c.replace(Ca,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=s.length;u--;)s[u]=d+Na(s[u]);f=xa.test(e)&&Ma(t.parentNode)||t,p=s.join(",")}if(p)try{return ra.apply(n,f.querySelectorAll(p)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return Fr(e.replace(ca,"$1"),t,n,r)};function Oa(){var e=[];return function t(n,r){return e.push(n+" ")>zr.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function Ta(e){return e[$i]=!0,e}function Ea(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Ji)-(~e.sourceIndex||Ji);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function Aa(e){return Ta((function(t){return t=+t,Ta((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function Ma(e){return e&&typeof e.getElementsByTagName!==Zi&&e}function Da(){}function Na(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Pa(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=qi++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var l,u,s=[Wi,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((l=(u=t[$i]||(t[$i]={}))[r])&&l[0]===Wi&&l[1]===i)return s[2]=l[2];if(u[r]=s,s[2]=e(t,n,a))return!0}}}function za(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ba(e,t,n,r,o){for(var i,a=[],l=0,u=e.length,s=null!=t;l<u;l++)(i=e[l])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(l)));return a}function Ra(e,t,n,r,o,i){return r&&!r[$i]&&(r=Ra(r)),o&&!o[$i]&&(o=Ra(o,i)),Ta((function(i,a,l,u){var s,c,d,f=[],p=[],m=a.length,h=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)_a(e,t[r],n);return n}(t||"*",l.nodeType?[l]:l,[]),g=!e||!i&&t?h:Ba(h,f,e,l,u),v=n?o||(i?e:m||r)?[]:a:g;if(n&&n(g,v,l,u),r)for(s=Ba(v,p),r(s,[],l,u),c=s.length;c--;)(d=s[c])&&(v[p[c]]=!(g[p[c]]=d));if(i){if(o||e){if(o){for(s=[],c=v.length;c--;)(d=v[c])&&s.push(g[c]=d);o(null,v=[],s,u)}for(c=v.length;c--;)(d=v[c])&&(s=o?ia.call(i,d):f[c])>-1&&(i[s]=!(a[s]=d))}}else v=Ba(v===a?v.splice(m,v.length):v),o?o(null,a,v,u):ra.apply(a,v)}))}function Ia(e){for(var t,n,r,o=e.length,i=zr.relative[e[0].type],a=i||zr.relative[" "],l=i?1:0,u=Pa((function(e){return e===t}),a,!0),s=Pa((function(e){return ia.call(t,e)>-1}),a,!0),c=[function(e,n,r){var o=!i&&(r||n!==Vr)||((t=n).nodeType?u(e,n,r):s(e,n,r));return t=null,o}];l<o;l++)if(n=zr.relative[e[l].type])c=[Pa(za(c),n)];else{if((n=zr.filter[e[l].type].apply(null,e[l].matches))[$i]){for(r=++l;r<o&&!zr.relative[e[r].type];r++);return Ra(l>1&&za(c),l>1&&Na(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(ca,"$1"),n,l<r&&Ia(e.slice(l,r)),r<o&&Ia(e=e.slice(r)),r<o&&Na(e))}c.push(n)}return za(c)}Pr=_a.support={},Rr=_a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},$r=_a.setDocument=function(e){var t,n=e?e.ownerDocument||e:Ui,r=n.defaultView;return n!==Ur&&9===n.nodeType&&n.documentElement?(Ur=n,Wr=n.documentElement,qr=!Rr(n),r&&r!==function(e){try{return e.top}catch(t){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){$r()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){$r()}))),Pr.attributes=!0,Pr.getElementsByTagName=!0,Pr.getElementsByClassName=ya.test(n.getElementsByClassName),Pr.getById=!0,zr.find.ID=function(e,t){if(typeof t.getElementById!==Zi&&qr){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},zr.filter.ID=function(e){var t=e.replace(ka,Sa);return function(e){return e.getAttribute("id")===t}},zr.find.TAG=Pr.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Zi)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},zr.find.CLASS=Pr.getElementsByClassName&&function(e,t){if(qr)return t.getElementsByClassName(e)},Yr=[],Kr=[],Pr.disconnectedMatch=!0,Kr=Kr.length&&new RegExp(Kr.join("|")),Yr=Yr.length&&new RegExp(Yr.join("|")),t=ya.test(Wr.compareDocumentPosition),Gr=t||ya.test(Wr.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Xi=t?function(e,t){if(e===t)return jr=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Pr.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===Ui&&Gr(Ui,e)?-1:t===n||t.ownerDocument===Ui&&Gr(Ui,t)?1:Hr?ia.call(Hr,e)-ia.call(Hr,t):0:4&r?-1:1)}:function(e,t){if(e===t)return jr=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:Hr?ia.call(Hr,e)-ia.call(Hr,t):0;if(i===a)return Ea(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;l[o]===u[o];)o++;return o?Ea(l[o],u[o]):l[o]===Ui?-1:u[o]===Ui?1:0},n):Ur},_a.matches=function(e,t){return _a(e,null,null,t)},_a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Ur&&$r(e),t=t.replace(pa,"='$1']"),Pr.matchesSelector&&qr&&(!Yr||!Yr.test(t))&&(!Kr||!Kr.test(t)))try{var n=(void 0).call(e,t);if(n||Pr.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(iT){}return _a(t,Ur,null,[e]).length>0},_a.contains=function(e,t){return(e.ownerDocument||e)!==Ur&&$r(e),Gr(e,t)},_a.attr=function(e,t){(e.ownerDocument||e)!==Ur&&$r(e);var n=zr.attrHandle[t.toLowerCase()],r=n&&Qi.call(zr.attrHandle,t.toLowerCase())?n(e,t,!qr):void 0;return void 0!==r?r:Pr.attributes||!qr?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},_a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},_a.uniqueSort=function(e){var t,n=[],r=0,o=0;if(jr=!Pr.detectDuplicates,Hr=!Pr.sortStable&&e.slice(0),e.sort(Xi),jr){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return Hr=null,e},Br=_a.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Br(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Br(t);return n},(zr=_a.selectors={cacheLength:50,createPseudo:Ta,match:ga,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ka,Sa),e[3]=(e[3]||e[4]||e[5]||"").replace(ka,Sa),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||_a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&_a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ga.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ma.test(n)&&(t=Ir(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ka,Sa).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Ki[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+aa+"|$)"))&&Ki(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Zi&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=_a.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),l="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var s,c,d,f,p,m,h=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=l&&t.nodeName.toLowerCase(),b=!u&&!l;if(g){if(i){for(;h;){for(d=t;d=d[h];)if(l?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&b){for(p=(s=(c=g[$i]||(g[$i]={}))[e]||[])[0]===Wi&&s[1],f=s[0]===Wi&&s[2],d=p&&g.childNodes[p];d=++p&&d&&d[h]||(f=p=0)||m.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[Wi,p,f];break}}else if(b&&(s=(t[$i]||(t[$i]={}))[e])&&s[0]===Wi)f=s[1];else for(;(d=++p&&d&&d[h]||(f=p=0)||m.pop())&&((l?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[$i]||(d[$i]={}))[e]=[Wi,f]),d!==t)););return(f-=o)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=zr.pseudos[e]||zr.setFilters[e.toLowerCase()]||_a.error("unsupported pseudo: "+e);return r[$i]?r(t):r.length>1?(n=[e,e,"",t],zr.setFilters.hasOwnProperty(e.toLowerCase())?Ta((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=ia.call(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:Ta((function(e){var t=[],n=[],r=Lr(e.replace(ca,"$1"));return r[$i]?Ta((function(e,t,n,o){for(var i,a=r(e,null,o,[]),l=e.length;l--;)(i=a[l])&&(e[l]=!(t[l]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:Ta((function(e){return function(t){return _a(e,t).length>0}})),contains:Ta((function(e){return e=e.replace(ka,Sa),function(t){return(t.textContent||t.innerText||Br(t)).indexOf(e)>-1}})),lang:Ta((function(e){return ha.test(e||"")||_a.error("unsupported lang: "+e),e=e.replace(ka,Sa).toLowerCase(),function(t){var n;do{if(n=qr?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Wr},focus:function(e){return e===Ur.activeElement&&(!Ur.hasFocus||Ur.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!zr.pseudos.empty(e)},header:function(e){return ba.test(e.nodeName)},input:function(e){return va.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Aa((function(){return[0]})),last:Aa((function(e,t){return[t-1]})),eq:Aa((function(e,t,n){return[n<0?n+t:n]})),even:Aa((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:Aa((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:Aa((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:Aa((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=zr.pseudos.eq,W(["radio","checkbox","file","password","image"],(function(e){var t;zr.pseudos[e]=(t=e,function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t})})),W(["submit","reset"],(function(e){var t;zr.pseudos[e]=(t=e,function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t})})),Da.prototype=zr.filters=zr.pseudos,zr.setFilters=new Da,Ir=_a.tokenize=function(e,t){var n,r,o,i,a,l,u,s=Yi[e+" "];if(s)return t?0:s.slice(0);for(a=e,l=[],u=zr.preFilter;a;){for(i in n&&!(r=da.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=fa.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ca," ")}),a=a.slice(n.length)),zr.filter)zr.filter.hasOwnProperty(i)&&(!(r=ga[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?_a.error(e):Yi(e,l).slice(0)},Lr=_a.compile=function(e,t){var n,r=[],o=[],i=Gi[e+" "];if(!i){for(t||(t=Ir(e)),n=t.length;n--;)(i=Ia(t[n]))[$i]?r.push(i):o.push(i);(i=Gi(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,l,u){var s,c,d,f=0,p="0",m=o&&[],h=[],g=Vr,v=o||r&&zr.find.TAG("*",u),b=Wi+=null==g?1:Math.random()||.1,y=v.length;for(u&&(Vr=i!==Ur&&i);p!==y&&null!=(s=v[p]);p++){if(r&&s){for(c=0;d=e[c++];)if(d(s,i,a)){l.push(s);break}u&&(Wi=b)}n&&((s=!d&&s)&&f--,o&&m.push(s))}if(f+=p,n&&p!==f){for(c=0;d=t[c++];)d(m,h,i,a);if(o){if(f>0)for(;p--;)m[p]||h[p]||(h[p]=ta.call(l));h=Ba(h)}ra.apply(l,h),u&&!o&&h.length>0&&f+t.length>1&&_a.uniqueSort(l)}return u&&(Wi=b,Vr=g),m};return n?Ta(o):o}(o,r))).selector=e}return i},Fr=_a.select=function(e,t,n,r){var o,i,a,l,u,s="function"==typeof e&&e,c=!r&&Ir(e=s.selector||e);if(n=n||[],1===c.length){if((i=c[0]=c[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&Pr.getById&&9===t.nodeType&&qr&&zr.relative[i[1].type]){if(!(t=(zr.find.ID(a.matches[0].replace(ka,Sa),t)||[])[0]))return n;s&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=ga.needsContext.test(e)?0:i.length;o--&&(a=i[o],!zr.relative[l=a.type]);)if((u=zr.find[l])&&(r=u(a.matches[0].replace(ka,Sa),xa.test(i[0].type)&&Ma(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Na(i)))return ra.apply(n,r),n;break}}return(s||Lr(e,c))(r,t,!qr,n,xa.test(e)&&Ma(t.parentNode)||t),n},Pr.sortStable=$i.split("").sort(Xi).join("")===$i,Pr.detectDuplicates=!!jr,$r(),Pr.sortDetached=!0;var La=document,Fa=Array.prototype.push,Va=Array.prototype.slice,Ha=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ja=ji.Event,$a=Tt.makeMap("children,contents,next,prev"),Ua=function(e){return void 0!==e},Wa=function(e){return"string"==typeof e},qa=function(e,t){var n,r=(t=t||La).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o},Ka=function(e,t,n,r){var o;if(Wa(t))t=qa(t,ll(e[0]));else if(t.length&&!t.nodeType){if(t=dl.makeArray(t),r)for(o=t.length-1;o>=0;o--)Ka(e,t[o],n,r);else for(o=0;o<t.length;o++)Ka(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Ya=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Ga=function(e,t,n){var r,o;return t=dl(t)[0],e.each((function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e)})),e},Xa=Tt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Za=Tt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ja={for:"htmlFor",class:"className",readonly:"readOnly"},Qa={float:"cssFloat"},el={},tl={},nl=function(e,t){return new dl.fn.init(e,t)},rl=/^\s*|\s*$/g,ol=function(e){return null==e?"":(""+e).replace(rl,"")},il=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},al=function(e,t){var n=[];return il(e,(function(e,r){t(r,e)&&n.push(r)})),n},ll=function(e){return e?9===e.nodeType?e:e.ownerDocument:La};nl.fn=nl.prototype={constructor:nl,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return dl(e).attr(t);o.context=t=document}if(Wa(e)){if(o.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ha.exec(e)))return dl(t).find(e);if(n[1])for(r=qa(e,ll(t)).firstChild;r;)Fa.call(o,r),r=r.nextSibling;else{if(!(r=ll(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return Tt.toArray(this)},add:function(e,t){var n,r,o=this;if(Wa(e))return o.add(dl(e));if(!1!==t)for(n=dl.unique(o.toArray().concat(dl.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Fa.apply(o,dl.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)il(e,(function(e,t){r.attr(e,t)}));else{if(!Ua(t)){if(r[0]&&1===r[0].nodeType){if((n=el[e])&&n.get)return n.get(r[0],e);if(Za[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=el[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Ja[e]||e))il(e,(function(e,t){n.prop(e,t)}));else{if(!Ua(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"==typeof e)il(e,(function(e,t){o.css(e,t)}));else if(Ua(t))e=i(e),"number"!=typeof t||Xa[e]||(t=t.toString()+"px"),o.each((function(){var n=this.style;if((r=tl[e])&&r.set)r.set(this,t);else{try{this.style[Qa[e]||e]=t}catch(o){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=o[0],(r=tl[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(l){return}}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],ja.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Ua(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){dl(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Ua(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Ka(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return Ka(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Ka(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Ka(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return dl(e).append(this),this},prependTo:function(e){return dl(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ga(this,e)},wrapAll:function(e){return Ga(this,e,!0)},wrapInner:function(e){return this.each((function(){dl(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){dl(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),dl(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?il(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o=Ya(r,e);if(o!==t){var i=r.className;o?r.className=ol((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e}}))),n},hasClass:function(e){return Ya(this[0],e)},each:function(e){return il(this,e)},on:function(e,t){return this.each((function(){ja.bind(this,e,t)}))},off:function(e,t){return this.each((function(){ja.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?ja.fire(this,e.type,e):ja.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return dl(Va.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)dl.find(e,this[t],r);return dl(r)},filter:function(e){return dl("function"==typeof e?al(this.toArray(),(function(t,n){return e(n,t)})):dl.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof dl&&(e=e[0]),this.each((function(n,r){for(;r;){if("string"==typeof e&&dl(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),dl(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Fa,sort:Array.prototype.sort,splice:Array.prototype.splice},Tt.extend(nl,{extend:Tt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Tt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Tt.isArray,each:il,trim:ol,grep:al,find:_a,expr:_a.selectors,unique:_a.uniqueSort,text:_a.getText,contains:_a.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?dl.find.matchesSelector(t[0],e)?[t[0]]:[]:dl.find.matches(e,t)}});var ul=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof dl&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&dl(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},sl=function(e,t,n,r){var o=[];for(r instanceof dl&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&dl(e).is(r))break}o.push(e)}return o},cl=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};il({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ul(e,"parentNode")},next:function(e){return cl(e,"nextSibling",1)},prev:function(e){return cl(e,"previousSibling",1)},children:function(e){return sl(e.firstChild,"nextSibling",1)},contents:function(e){return Tt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){nl.fn[e]=function(n){var r=[];this.each((function(){var e=t.call(r,this,n,r);e&&(dl.isArray(e)?r.push.apply(r,e):r.push(e))})),this.length>1&&($a[e]||(r=dl.unique(r)),0===e.indexOf("parents")&&(r=r.reverse()));var o=dl(r);return n?o.filter(n):o}})),il({parentsUntil:function(e,t){return ul(e,"parentNode",t)},nextUntil:function(e,t){return sl(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return sl(e,"previousSibling",1,t).slice(1)}},(function(e,t){nl.fn[e]=function(n,r){var o=[];this.each((function(){var e=t.call(o,this,n,o);e&&(dl.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(o=dl.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var i=dl(o);return r?i.filter(r):i}})),nl.fn.is=function(e){return!!e&&this.filter(e).length>0},nl.fn.init.prototype=nl.fn,nl.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return dl.extend(n,this),n},nl.attrHooks=el,nl.cssHooks=tl;var dl=nl,fl=Tt.each,pl=Tt.grep,ml=Ct.ie,hl=/^([a-z0-9],?)+$/i,gl=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},vl=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o},bl=function(e,t){void 0===t&&(t={});var n={},r=window,o={},i=0,a=uo.forElement(At.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),l=[],u=t.schema?t.schema:Di({}),s=Pi({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new ji:ji.Event,f=u.getBlockElements(),p=dl.overrideDefaults((function(){return{context:e,element:$.getRoot()}})),m=function(t){return t&&e&&c(t)?e.getElementById(t):t},h=function(e){return p("string"==typeof e?m(e):e)},v=function(e,t,n){var r,o,i=h(e);return i.length&&(o=(r=U[t])&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o},b=function(e){var t=m(e);return t?t.attributes:[]},y=function(e,n,r){""===r&&(r=null);var o=h(e),i=o.attr(n);if(o.length){var a=U[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},x=function(){return t.root_element||e.body},C=function(t,n){return pr(e.body,m(t),n)},S=function(e,t,n){var r=h(e);return n?r.css(t):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=Ct.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},_=function(e){var t,n;return e=m(e),t=S(e,"width"),n=S(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},O=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(hl.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return _a(t,i[0].ownerDocument||i[0],null,i).length>0},T=function(e,t,n,r){var o,i=[],a=m(e);for(r=void 0===r,n=n||("BODY"!==x().nodeName?x().parentNode:null),Tt.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return O(e,o)});a&&!(a===n||g(a.nodeType)||jn(a)||$n(a));){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},E=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return O(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},A=function(e,t,n){var r,o="string"==typeof e?m(e):e;if(!o)return!1;if(Tt.isArray(o)&&(o.length||0===o.length))return r=[],fl(o,(function(e,o){e&&r.push(t.call(n,"string"==typeof e?m(e):e,o))})),r;var i=n||this;return t.call(i,o)},M=function(e,t){h(e).each((function(e,n){fl(t,(function(e,t){y(n,t,e)}))}))},D=function(e,t){var n=h(e);ml?n.each((function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){dl("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):n.html(t)},N=function(t,n,r,o,i){return A(t,(function(t){var a="string"==typeof n?e.createElement(n):n;return M(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&D(a,o)),i?a:t.appendChild(a)}))},P=function(t,n,r){return N(e.createElement(t),t,n,r,!0)},z=xi.encodeAllRaw,B=function(e,t){var n=h(e);return t?n.each((function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},R=function(e,t,n){h(e).toggleClass(t,n).each((function(){""===this.className&&dl(this).attr("class",null)}))},I=function(e,t,n){return A(t,(function(t){return Tt.is(t,"array")&&(e=e.cloneNode(!0)),n&&fl(pl(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},L=function(e){if(Nn(e)){var t="a"===e.nodeName.toLowerCase()&&!v(e,"href")&&v(e,"id");if(v(e,"name")||v(e,"data-mce-bookmark")||t)return!0}return!1},F=function(){return e.createRange()},V=function(n,o,i,a){if(Tt.isArray(n)){for(var u=n.length,s=[];u--;)s[u]=V(n[u],o,i,a);return s}return!t.collect||n!==e&&n!==r||l.push([n,o,i,a]),d.bind(n,o,i,a||$)},H=function(t,n,o){if(Tt.isArray(t)){for(var i=t.length,a=[];i--;)a[i]=H(t[i],n,o);return a}if(l.length>0&&(t===e||t===r))for(i=l.length;i--;){var u=l[i];t!==u[0]||n&&n!==u[1]||o&&o!==u[2]||d.unbind(u[0],u[1],u[2])}return d.unbind(t,n,o)},j=function(e){if(e&&Nn(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},$={doc:e,settings:t,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:l,styles:s,schema:u,events:d,isBlock:function(e){if("string"==typeof e)return!!f[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!f[e.nodeName])}return!1},$:p,$$:h,root:null,clone:function(t,n){if(!ml||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return fl(b(t),(function(e){y(r,e.nodeName,v(t,e.nodeName))})),r},getRoot:x,getViewPort:function(e){var t=An(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(e){e=m(e);var t=C(e),n=_(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:_,getParent:function(e,t,n){var r=T(e,t,n,!1);return r&&r.length>0?r[0]:null},getParents:T,get:m,getNext:function(e,t){return E(e,t,"nextSibling")},getPrev:function(e,t){return E(e,t,"previousSibling")},select:function(n,r){return _a(n,m(r)||t.root_element||e,[])},is:O,add:N,create:P,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)we(t,r)&&(o+=" "+r+'="'+z(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:B,setStyle:function(e,n,r){var o=c(n)?h(e).css(n,r):h(e).css(n);t.update_styles&&gl(s,o)},getStyle:S,setStyles:function(e,n){var r=h(e).css(n);t.update_styles&&gl(s,r)},removeAllAttribs:function(e){return A(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:y,setAttribs:M,getAttrib:v,getPos:C,parseStyle:function(e){return s.parse(e)},serializeStyle:function(e,t){return s.serialize(e,t)},addStyle:function(t){var r,o;if($!==bl.DOM&&e===document){if(n[t])return;n[t]=!0}(o=e.getElementById("mceDefaultStyles"))||((o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css",(r=e.getElementsByTagName("head")[0]).firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:function(e){e||(e=""),W(e.split(","),(function(e){o[e]=!0,a.load(e,w)}))},addClass:function(e,t){h(e).addClass(t)},removeClass:function(e,t){R(e,t,!1)},hasClass:function(e,t){return h(e).hasClass(t)},toggleClass:R,show:function(e){h(e).show()},hide:function(e){h(e).hide()},isHidden:function(e){return"none"===h(e).css("display")},uniqueId:function(e){return(e||"mce_")+i++},setHTML:D,getOuterHTML:function(e){var t="string"==typeof e?m(e):e;return Nn(t)?t.outerHTML:dl("<div></div>").append(dl(t).clone()).html()},setOuterHTML:function(e,t){h(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}B(dl(this).html(t),!0)}))},decode:xi.decode,encode:z,insertAfter:function(e,t){var n=m(t);return A(e,(function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e}))},replace:I,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=P(t),fl(b(e),(function(t){y(n,t.nodeName,v(e,t.nodeName))})),I(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return s.toHex(Tt.trim(e))},run:A,getAttribs:b,isEmpty:function(e,t){var n,r,o=0;if(L(e))return!1;if(e=e.firstChild){var i=new so(e,e.parentNode),a=u?u.getWhiteSpaceElements():{};t=t||(u?u.getNonEmptyElements():null);do{if(n=e.nodeType,Nn(e)){var l=e.getAttribute("data-mce-bogus");if(l){e=i.next("all"===l);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){o++,e=i.next();continue}return!1}if(L(e))return!1}if(8===n)return!1;if(3===n&&!Zo(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Zo(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},createRng:F,nodeIndex:vl,split:function(e,t,n){var r,o,i,a=F();if(e&&t)return a.setStart(e.parentNode,vl(e)),a.setEnd(t.parentNode,vl(t)),r=a.extractContents(),(a=F()).setStart(t.parentNode,vl(t)+1),a.setEnd(e.parentNode,vl(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(li($,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(li($,o),e),B(e),n||t},bind:V,unbind:H,fire:function(e,t,n){return d.fire(e,t,n)},getContentEditable:j,getContentEditableParent:function(e){for(var t=x(),n=null;e&&e!==t&&null===(n=j(e));e=e.parentNode);return n},destroy:function(){if(l.length>0)for(var e=l.length;e--;){var t=l[e];d.unbind(t[0],t[1],t[2])}de(o,(function(e,t){a.unload(t),delete o[t]})),_a.setDocument&&_a.setDocument()},isChildOf:function(e,t){if(ml){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}return e===t||t.contains(e)},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},U=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){null===n||"object"!=typeof n?(r&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i}(s,t,k($));return $};bl.DOM=bl(document),bl.nodeIndex=vl;var xl=bl.DOM,Cl=Tt.each,kl=Tt.grep,Sl=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,n){var r,o=xl,i=function(){o.remove(a),r&&(r.onerror=r.onload=r=null)},a=o.uniqueId();(r=document.createElement("script")).id=a,r.type="text/javascript",r.src=Tt._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=function(){i(),t()},r.onerror=function(){i(),b(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){Cl(o.scriptLoadedCallbacks[t],(function(t){b(t[e])&&t[e].call(t.scope)})),o.scriptLoadedCallbacks[t]=void 0};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var l=function(){var t=kl(e);if(e.length=0,Cl(t,(function(e){2!==o.states[e]?3!==o.states[e]?1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,(function(){o.states[e]=2,o.loading--,a("success",e),l()}),(function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),l()}))):a("failure",e):a("success",e)})),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,Cl(n,(function(e){0===i.length?b(e.success)&&e.success.call(e.scope):b(e.failure)&&e.failure.call(e.scope,i)}))}};l()},e.ScriptLoader=new e,e}(),_l=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Ol={},Tl=_l("en"),El=function(){return be(Ol,Tl.get())},Al={getData:function(){return fe(Ol,(function(e){return Ae({},e)}))},setCode:function(e){e&&Tl.set(e)},getCode:function(){return Tl.get()},add:function(e,t){var n=Ol[e];n||(Ol[e]=n={}),de(t,(function(e,t){n[t.toLowerCase()]=e}))},translate:function(e){var t,n=El().getOr({}),r=function(e){return b(e)?Object.prototype.toString.call(e):o(e)?"":""+e},o=function(e){return""===e||null==e},i=function(e){var t=r(e);return be(n,t.toLowerCase()).map(r).getOr(t)},a=function(e){return e.replace(/{context:\w+}$/,"")};if(o(e))return"";if(d(t=e)&&ye(t,"raw"))return r(e.raw);if(function(e){return f(e)&&e.length>1}(e)){var l=e.slice(1);return a(i(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return ye(l,t)?r(l[t]):e})))}return a(i(e))},isRtl:function(){return El().bind((function(e){return be(e,"_dir")})).exists((function(e){return"rtl"===e}))},hasCode:function(e){return ye(Ol,e)}},Ml=function(){var e=[],t={},n={},r=[],o=function(e,t){var n=Y(r,(function(n){return n.name===e&&n.state===t}));W(n,(function(e){return e.callback()}))},i=function(e){var t;return n[e]&&(t=n[e].dependencies),t||[]},a=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},l=function(e,r,u,s,c){if(!t[e]){var d="string"==typeof r?r:r.prefix+r.resource+r.suffix;0!==d.indexOf("/")&&-1===d.indexOf("://")&&(d=Ml.baseURL+"/"+d),t[e]=d.substring(0,d.lastIndexOf("/"));var f=function(){o(e,"loaded"),function(e,t,n,r){var o=i(e);W(o,(function(e){var n=a(t,e);l(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Sl))}(e,r,u,s)};n[e]?f():Sl.ScriptLoader.add(d,f,s,c)}},u=function(e,o,i){void 0===i&&(i="added"),ye(n,e)&&"added"===i||ye(t,e)&&"loaded"===i?o():r.push({name:e,state:i,callback:o})};return{items:e,urls:t,lookup:n,_listeners:r,get:function(e){if(n[e])return n[e].instance},dependencies:i,requireLangPack:function(e,n){!1!==Ml.languageLoad&&u(e,(function(){var r=Al.getCode();!r||n&&-1===(","+(n||"")+",").indexOf(","+r+",")||Sl.ScriptLoader.add(t[e]+"/langs/"+r+".js")}),"loaded")},add:function(t,r,i){var a=r;return e.push(a),n[t]={instance:a,dependencies:i},o(t,"added"),a},remove:function(e){delete t[e],delete n[e]},createUrl:a,addComponents:function(e,n){var r=t[e];W(n,(function(e){Sl.ScriptLoader.add(r+"/"+e)}))},load:l,waitFor:u}};Ml.languageLoad=!0,Ml.baseURL="",Ml.PluginManager=Ml(),Ml.ThemeManager=Ml();var Dl=function(){var e=function(e){var t=_l(I.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(I.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(I.some(e))}}}(w);return Ae(Ae({},e),{on:function(t){return e.get().each(t)}})},Nl=function(e,t){var n=null;return{cancel:function(){p(n)||(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];p(n)&&(n=setTimeout((function(){n=null,e.apply(null,r)}),t))}}},Pl=function(e,t){var n=null,r=function(){p(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r(),n=setTimeout((function(){n=null,e.apply(null,o)}),t)}}},zl=function(e,t){var n=nr(e,t);return void 0===n||""===n?[]:n.split(" ")},Bl=function(e){return void 0!==e.dom.classList},Rl=function(e,t){return function(e,t,n){var r=zl(e,t).concat([n]);return er(e,t,r.join(" ")),!0}(e,"class",t)},Il=function(e,t){return function(e,t,n){var r=Y(zl(e,t),(function(e){return e!==n}));return r.length>0?er(e,t,r.join(" ")):or(e,t),!1}(e,"class",t)},Ll=function(e,t){Bl(e)?e.dom.classList.add(t):Rl(e,t)},Fl=function(e){0===(Bl(e)?e.dom.classList:function(e){return zl(e,"class")}(e)).length&&or(e,"class")},Vl=function(e,t){return Bl(e)&&e.dom.classList.contains(t)},Hl=function(e,t){var n=[];return W(Qt(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(Hl(e,t))})),n},jl=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Nt(n)?[]:U(n.querySelectorAll(e),At.fromDom)}(t,e)},$l=k("mce-annotation"),Ul=k("data-mce-annotation"),Wl=k("data-mce-annotation-uid"),ql=function(e,t){var n=e.selection.getRng(),r=At.fromDom(n.startContainer),o=At.fromDom(e.getBody()),i=t.fold((function(){return"."+$l()}),(function(e){return"["+Ul()+'="'+e+'"]'})),a=en(r,n.startOffset).getOr(r),l=to(a,i,(function(e){return Pt(e,o)})),u=function(e,t){return n=t,(r=e.dom)&&r.hasAttribute&&r.hasAttribute(n)?I.some(nr(e,t)):I.none();var n,r};return l.bind((function(t){return u(t,""+Wl()).bind((function(n){return u(t,""+Ul()).map((function(t){var r=Kl(e,n);return{uid:n,name:t,elements:r}}))}))}))},Kl=function(e,t){var n=At.fromDom(e.getBody());return jl(n,"["+Wl()+'="'+t+'"]')},Yl=function(e,t){var n=_l({}),r=function(){return{listeners:[],previous:Dl()}},o=function(e,t){i(e,(function(e){return t(e),e}))},i=function(e,t){var o=n.get(),i=t(be(o,e).getOrThunk(r));o[e]=i,n.set(o)},a=Pl((function(){var t,r,a,l=n.get(),u=(t=se(l),(a=L.call(t,0)).sort(r),a);W(u,(function(t){i(t,(function(n){var r=n.previous.get();return ql(e,I.some(t)).fold((function(){r.isSome()&&(function(e){o(e,(function(t){W(t.listeners,(function(t){return t(!1,e)}))}))}(t),n.previous.clear())}),(function(e){var t=e.uid,i=e.name,a=e.elements;Xn(r,t)||(function(e,t,n){o(e,(function(r){W(r.listeners,(function(r){return r(!0,e,{uid:t,nodes:U(n,(function(e){return e.dom}))})}))}))}(i,t,a),n.previous.set(t))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return e.on("remove",(function(){a.cancel()})),e.on("NodeChange",(function(){a.throttle()})),{addListener:function(e,t){i(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}}},Gl=function(e,t){e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){W(e,(function(e){(function(e){return I.from(e.attr(Ul())).bind(t.lookup)})(e).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))},Xl=0,Zl=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Xl+String(t)},Jl=function(e,t){var n,r,o=Wt(e).dom,i=At.fromDom(o.createDocumentFragment()),a=(n=t,(r=(o||document).createElement("div")).innerHTML=n,Qt(At.fromDom(r)));gn(i,a),vn(e),hn(e,i)},Ql=function(e,t){return At.fromDom(e.dom.cloneNode(t))},eu=function(e){return Ql(e,!1)},tu=function(e){return Ql(e,!0)},nu=function(e,t,n){void 0===n&&(n=N);var r=new so(e,t),o=function(e){var t;do{t=r[e]()}while(t&&!Vn(t)&&!n(t));return I.from(t).filter(Vn)};return{current:function(){return I.from(r.current()).filter(Vn)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},ru=function(e,t){var n=t||function(t){return e.isBlock(t)||Un(t)||Kn(t)},r=function(e,t,n,o){if(Vn(e)){var i=o(e,t,e.data);if(-1!==i)return I.some({container:e,offset:i})}return n().bind((function(e){return r(e.container,e.offset,n,o)}))};return{backwards:function(e,t,o,i){var a=nu(e,i,n);return r(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),o).getOrNull()},forwards:function(e,t,o,i){var a=nu(e,i,n);return r(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),o).getOrNull()}}},ou=Math.round,iu=function(e){return e?{left:ou(e.left),top:ou(e.top),bottom:ou(e.bottom),right:ou(e.right),width:ou(e.width),height:ou(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},au=function(e,t){return e=iu(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},lu=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},uu=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&lu(t.top-e.bottom,e,t)},su=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&lu(t.bottom-e.top,e,t)},cu=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},du=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},fu=function(e,t){if(Nn(e)&&e.hasChildNodes()){var n=e.childNodes;return n[(r=t,o=0,i=n.length-1,Math.min(Math.max(r,o),i))]}return e;var r,o,i},pu=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),mu=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&pu.test(e)},hu=Nn,gu=Ko,vu=zn("display","block table"),bu=zn("float","left right"),yu=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(hu,gu,A(bu)),wu=A(zn("white-space","pre pre-line pre-wrap")),xu=Vn,Cu=Un,ku=bl.nodeIndex,Su=function(e,t){return t<0&&Nn(e)&&e.hasChildNodes()?void 0:fu(e,t)},_u=function(e){return"createRange"in e?e.createRange():bl.DOM.createRng()},Ou=function(e){return e&&/[\r\n\t ]/.test(e)},Tu=function(e){return!!e.setStart&&!!e.setEnd},Eu=function(e){var t=e.startContainer,n=e.startOffset;if(Ou(e.toString())&&wu(t.parentNode)&&Vn(t)){var r=t.data;if(Ou(r[n-1])||Ou(r[n+1]))return!0}return!1},Au=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Mu=function(e){var t,n=e.getClientRects();return t=n.length>0?iu(n[0]):iu(e.getBoundingClientRect()),!Tu(e)&&Cu(e)&&Au(t)?function(e){var t=e.ownerDocument,n=_u(t),r=t.createTextNode(Co),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=iu(n.getBoundingClientRect());return o.removeChild(r),i}(e):Au(t)&&Tu(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&Vn(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Mu(i)}return null}(e):t},Du=function(e,t){var n=au(e,t);return n.width=1,n.right=n.left+1,n},Nu=function(e,t,n){var r=function(){return n||(n=function(e){var t=[],n=function(e){var n,r;0!==e.height&&(t.length>0&&(n=e,r=t[t.length-1],n.left===r.left&&n.top===r.top&&n.bottom===r.bottom&&n.right===r.right)||t.push(e))},r=function(e,r){var o=_u(e.ownerDocument);if(r<e.data.length){if(mu(e.data[r]))return t;if(mu(e.data[r-1])&&(o.setStart(e,r),o.setEnd(e,r+1),!Eu(o)))return n(Du(Mu(o),!1)),t}r>0&&(o.setStart(e,r-1),o.setEnd(e,r),Eu(o)||n(Du(Mu(o),!1))),r<e.data.length&&(o.setStart(e,r),o.setEnd(e,r+1),Eu(o)||n(Du(Mu(o),!0)))},o=e.container(),i=e.offset();if(xu(o))return r(o,i),t;if(hu(o))if(e.isAtEnd()){var a=Su(o,i);xu(a)&&r(a,a.data.length),yu(a)&&!Cu(a)&&n(Du(Mu(a),!1))}else{if(a=Su(o,i),xu(a)&&r(a,0),yu(a)&&e.isAtEnd())return n(Du(Mu(a),!1)),t;var l=Su(e.container(),e.offset()-1);yu(l)&&!Cu(l)&&(vu(l)||vu(a)||!yu(a))&&n(Du(Mu(l),!1)),yu(a)&&n(Du(Mu(a),!0))}return t}(Nu(e,t))),n};return{container:k(e),offset:k(t),toRange:function(){var n=_u(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return xu(e),0===t},isAtEnd:function(){return xu(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return Su(e,n?t-1:t)}}};Nu.fromRangeStart=function(e){return Nu(e.startContainer,e.startOffset)},Nu.fromRangeEnd=function(e){return Nu(e.endContainer,e.endOffset)},Nu.after=function(e){return Nu(e.parentNode,ku(e)+1)},Nu.before=function(e){return Nu(e.parentNode,ku(e))},Nu.isAbove=function(e,t){return Zn(ie(t.getClientRects()),ae(e.getClientRects()),uu).getOr(!1)},Nu.isBelow=function(e,t){return Zn(ae(t.getClientRects()),ie(e.getClientRects()),su).getOr(!1)},Nu.isAtStart=function(e){return!!e&&e.isAtStart()},Nu.isAtEnd=function(e){return!!e&&e.isAtEnd()},Nu.isTextPosition=function(e){return!!e&&Vn(e.container())},Nu.isElementPosition=function(e){return!1===Nu.isTextPosition(e)};var Pu,zu,Bu=function(e,t){Vn(t)&&0===t.data.length&&e.remove(t)},Ru=function(e,t,n){$n(n)?function(e,t,n){var r=I.from(n.firstChild),o=I.from(n.lastChild);t.insertNode(n),r.each((function(t){return Bu(e,t.previousSibling)})),o.each((function(t){return Bu(e,t.nextSibling)}))}(e,t,n):function(e,t,n){t.insertNode(n),Bu(e,n.previousSibling),Bu(e,n.nextSibling)}(e,t,n)},Iu=Vn,Lu=Rn,Fu=bl.nodeIndex,Vu=function(e){var t=e.parentNode;return Lu(t)?Vu(t):t},Hu=function(e){return e?Oe(e.childNodes,(function(e,t){return Lu(t)&&"BR"!==t.nodeName?e=e.concat(Hu(t)):e.push(t),e}),[]):[]},ju=function(e){return function(t){return e===t}},$u=function(e){return(Iu(e)?"text()":e.nodeName.toLowerCase())+"["+function(e){var t,n;t=Hu(Vu(e)),n=Te(t,ju(e),e),t=t.slice(0,n+1);var r=Oe(t,(function(e,n,r){return Iu(n)&&Iu(t[r-1])&&e++,e}),0);return t=Se(t,Pn([e.nodeName])),(n=Te(t,ju(e),e))-r}(e)+"]"},Uu=function(e,t){var n,r,o,i,a,l=[];return n=t.container(),r=t.offset(),Iu(n)?o=function(e,t){for(;(e=e.previousSibling)&&Iu(e);)t+=e.data.length;return t}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),l.push($u(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode)r.push(t);return r}(e,n),a=Se(a,A(Rn)),(l=l.concat(ke(a,(function(e){return $u(e)})))).reverse().join("/")+","+o},Wu=function(e,t){var n;if(!t)return null;var r=t.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=Oe(o,(function(e,t){var n,r,o,i,a=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return a?("text()"===a[1]&&(a[1]="#text"),n=e,r=a[1],o=parseInt(a[2],10),i=Hu(n),i=Se(i,(function(e,t){return!Iu(e)||!Iu(i[t-1])})),(i=Se(i,Pn([r])))[o]):null}),e);return i?Iu(i)?function(e,t){for(var n,r=e,o=0;Iu(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Iu(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Iu(e)&&t>e.data.length&&(t=e.data.length),Nu(e,t)}(i,parseInt(n,10)):(n="after"===n?Fu(i)+1:Fu(i),Nu(i.parentNode,n)):null},qu=Kn,Ku=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],l=r[o?"startOffset":"endOffset"],u=[],s=0,c=e.getRoot();for(Vn(a)?u.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Vn(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,a,l):l):(l>=(i=a.childNodes).length&&i.length&&(s=1,l=Math.max(0,i.length-1)),u.push(e.nodeIndex(i[l],n)+s));a&&a!==c;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},Yu=function(e,t,n){var r=0;return Tt.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r},Gu=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],Nn(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},Xu=function(e){return Gu(e,!0),Gu(e,!1),e},Zu=function(e,t){var n;if(Nn(e)&&(e=fu(e,t),qu(e)))return e;if(Mo(e)){if(Vn(e)&&Eo(e)&&(e=e.parentNode),n=e.previousSibling,qu(n))return n;if(n=e.nextSibling,qu(n))return n}},Ju=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(qu(r)||"IMG"===o)return{name:o,index:Yu(n.dom,o,r)};var a=function(e){return Zu(e.startContainer,e.startOffset)||Zu(e.endContainer,e.endOffset)}(i);return a?{name:o=a.tagName,index:Yu(n.dom,o,a)}:function(e,t,n,r){var o=t.dom,i={};return i.start=Ku(o,e,n,r,!0),t.isCollapsed()||(i.end=Ku(o,e,n,r,!1)),Lo(r)&&(i.isFakeCaret=!0),i}(e,n,t,i)},Qu=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},es=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),l=a.nodeName;if("IMG"===l)return{name:l,index:Yu(n,l,a)};var u=Xu(r.cloneRange());if(!i){u.collapse(!1);var s=Qu(n,o+"_end",t);Ru(n,u,s)}(r=Xu(r)).collapse(!0);var c=Qu(n,o+"_start",t);return Ru(n,r,c),e.moveToBookmark({id:o,keep:!0}),{id:o}},ts=function(e,t,n){return 2===t?Ju(_o,n,e):3===t?function(e){var t=e.getRng();return{start:Uu(e.dom.getRoot(),Nu.fromRangeStart(t)),end:Uu(e.dom.getRoot(),Nu.fromRangeEnd(t))}}(e):t?function(e){return{rng:e.getRng()}}(e):es(e,!1)},ns=O(Ju,S,!0),rs=bl.DOM,os=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return be(o,e.id).getOr(n)}return r},is=function(e){return e.getParam("content_security_policy","")},as=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},ls=function(e){return e.getParam("forced_root_block_attrs",{})},us=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ss=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},cs=function(e){return e.getParam("icons","","string")},ds=function(e){return e.getParam("images_upload_url","","string")},fs=function(e){return e.getParam("images_upload_base_path","","string")},ps=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ms=function(e){return e.getParam("images_upload_handler",null,"function")},hs=function(e){return e.getParam("content_css_cors",!1,"boolean")},gs=function(e){return e.getParam("referrer_policy","","string")},vs=function(e){return e.getParam("language","en","string")},bs=function(e){return e.getParam("indent_use_margin",!1)},ys=function(e){var t=e.getParam("font_css",[]);return f(t)?t:U(t.split(","),Fe)},ws=function(e){var t=e.getParam("object_resizing");return!1!==t&&!Ct.iOS&&(c(t)?t:"table,img,figure.image,div,video,iframe")},xs=function(e){return e.getParam("event_root")},Cs=function(e){return e.getParam("theme")},ks=function(e){return e.getParam("validate")},Ss=function(e){return!1!==e.getParam("inline_boundaries")},_s=function(e){return e.getParam("content_css_cors")},Os=function(e){return e.getParam("plugins","","string")},Ts=Nn,Es=Vn,As=function(e){var t=e.parentNode;t&&t.removeChild(e)},Ms=function(e){var t=_o(e);return{count:e.length-t.length,text:t}},Ds=function(e){for(var t;-1!==(t=e.data.lastIndexOf(ko));)e.deleteData(t,1)},Ns=function(e,t){return Rs(e),t},Ps=function(e,t){var n,r,o,i=t.container(),a=(n=le(i.childNodes),r=e,o=H(n,r),-1===o?I.none():I.some(o)).map((function(e){return e<t.offset()?Nu(i,t.offset()-1):t})).getOr(t);return Rs(e),a},zs=function(e,t){return Es(e)&&t.container()===e?function(e,t){var n=Ms(e.data.substr(0,t.offset())),r=Ms(e.data.substr(t.offset()));return(n.text+r.text).length>0?(Ds(e),Nu(e,t.offset()-n.count)):t}(e,t):Ns(e,t)},Bs=function(e,t){return Nu.isTextPosition(t)?zs(e,t):function(e,t){return t.container()===e.parentNode?Ps(e,t):Ns(e,t)}(e,t)},Rs=function(e){Ts(e)&&Mo(e)&&(Do(e)?e.removeAttribute("data-mce-caret"):As(e)),Es(e)&&(Ds(e),0===e.data.length&&As(e))},Is=pt().browser,Ls=Kn,Fs=Gn,Vs=Yn,Hs=function(e,t,n){var r,o,i=au(t.getBoundingClientRect(),n);if("BODY"===e.tagName){var a=e.ownerDocument.documentElement;r=e.scrollLeft||a.scrollLeft,o=e.scrollTop||a.scrollTop}else{var l=e.getBoundingClientRect();r=e.scrollLeft-l.left,o=e.scrollTop-l.top}i.left+=r,i.right+=r,i.top+=o,i.bottom+=o,i.width=1;var u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),i.left+=u,i.right+=u),i},js=function(e,t,n,r){var o,i,a=Dl(),l=as(e),u=l.length>0?l:"p",s=function(){!function(e){for(var t=jl(At.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),n=0;n<t.length;n++){var r,o=t[n].dom,i=o.previousSibling;Ro(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),i=o.nextSibling,Bo(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}}(t),i&&(Rs(i),i=null),a.on((function(e){dl(e.caret).remove(),a.clear()})),o&&(ao.clearInterval(o),o=void 0)},c=function(){o=ao.setInterval((function(){r()?dl("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):dl("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)};return{show:function(e,r){var o;if(s(),Vs(r))return null;if(!n(r))return i=function(e,t){var n=e.ownerDocument.createTextNode(ko),r=e.parentNode;if(t){if(o=e.previousSibling,To(o)){if(Mo(o))return o;if(Ro(o))return o.splitText(o.data.length-1)}r.insertBefore(n,e)}else{var o=e.nextSibling;if(To(o)){if(Mo(o))return o;if(Bo(o))return o.splitText(1),o}e.nextSibling?r.insertBefore(n,e.nextSibling):r.appendChild(n)}return n}(r,e),o=r.ownerDocument.createRange(),Us(i.nextSibling)?(o.setStart(i,0),o.setEnd(i,0)):(o.setStart(i,1),o.setEnd(i,1)),o;i=zo(u,r,e);var l=Hs(t,r,e);dl(i).css("top",l.top);var d=dl('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Ae({},l)).appendTo(t)[0];return a.set({caret:d,element:r,before:e}),e&&dl(d).addClass("mce-visual-caret-before"),c(),(o=r.ownerDocument.createRange()).setStart(i,0),o.setEnd(i,0),o},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.on((function(e){var n=Hs(t,e.element,e.before);dl(e.caret).css(Ae({},n))}))},destroy:function(){return ao.clearInterval(o)}}},$s=function(){return Is.isIE()||Is.isEdge()||Is.isFirefox()},Us=function(e){return Ls(e)||Fs(e)},Ws=function(e){return Us(e)||In(e)&&$s()},qs=Kn,Ks=Gn,Ys=zn("display","block table table-cell table-caption list-item"),Gs=Mo,Xs=Eo,Zs=Nn,Js=Ko,Qs=function(e){return e>0},ec=function(e){return e<0},tc=function(e,t){for(var n;n=e(t);)if(!Xs(n))return n;return null},nc=function(e,t,n,r,o){var i=new so(e,r),a=qs(e)||Xs(e);if(ec(t)){if(a&&n(e=tc(i.prev.bind(i),!0)))return e;for(;e=tc(i.prev.bind(i),o);)if(n(e))return e}if(Qs(t)){if(a&&n(e=tc(i.next.bind(i),!0)))return e;for(;e=tc(i.next.bind(i),o);)if(n(e))return e}return null},rc=function(e,t){for(;e&&e!==t;){if(Ys(e))return e;e=e.parentNode}return null},oc=function(e,t,n){return rc(e.container(),n)===rc(t.container(),n)},ic=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Zs(n)?n.childNodes[r+e]:null},ac=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},lc=function(e,t,n){return rc(t,e)===rc(n,e)},uc=function(e,t,n){for(var r=e?"previousSibling":"nextSibling";n&&n!==t;){var o=n[r];if(Gs(o)&&(o=o[r]),qs(o)||Ks(o)){if(lc(t,o,n))return o;break}if(Js(o))break;n=n.parentNode}return null},sc=O(ac,!0),cc=O(ac,!1),dc=function(e,t,n){var r,o=O(uc,!0,t),i=O(uc,!1,t),a=n.startContainer,l=n.startOffset;if(Eo(a)){Zs(a)||(a=a.parentNode);var u=a.getAttribute("data-mce-caret");if("before"===u&&(r=a.nextSibling,Ws(r)))return sc(r);if("after"===u&&(r=a.previousSibling,Ws(r)))return cc(r)}if(!n.collapsed)return n;if(Vn(a)){if(Gs(a)){if(1===e){if(r=i(a))return sc(r);if(r=o(a))return cc(r)}if(-1===e){if(r=o(a))return cc(r);if(r=i(a))return sc(r)}return n}if(Ro(a)&&l>=a.data.length-1)return 1===e&&(r=i(a))?sc(r):n;if(Bo(a)&&l<=1)return-1===e&&(r=o(a))?cc(r):n;if(l===a.data.length)return(r=i(a))?sc(r):n;if(0===l)return(r=o(a))?cc(r):n}return n},fc=function(e,t){return I.from(ic(e?0:-1,t)).filter(qs)},pc=function(e,t,n){var r=dc(e,t,n);return-1===e?Nu.fromRangeStart(r):Nu.fromRangeEnd(r)},mc=function(e){return I.from(e.getNode()).map(At.fromDom)},hc=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},gc=function(e,t){var n=oc(e,t);return!(n||!Un(e.getNode()))||n};(zu=Pu||(Pu={}))[zu.Backwards=-1]="Backwards",zu[zu.Forwards=1]="Forwards";var vc,bc,yc,wc,xc=Kn,Cc=Vn,kc=Nn,Sc=Un,_c=Ko,Oc=function(e){return Uo(e)||function(e){return!!Yo(e)&&!0!==X(le(e.getElementsByTagName("*")),(function(e,t){return e||Fo(t)}),!1)}(e)},Tc=Go,Ec=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Ac=function(e,t){if(Qs(e)){if(_c(t.previousSibling)&&!Cc(t.previousSibling))return Nu.before(t);if(Cc(t))return Nu(t,0)}if(ec(e)){if(_c(t.nextSibling)&&!Cc(t.nextSibling))return Nu.after(t);if(Cc(t))return Nu(t,t.data.length)}return ec(e)?Sc(t)?Nu.before(t):Nu.after(t):Nu.before(t)},Mc=function(e,t,n){var r,o,i,a;if(!kc(n)||!t)return null;if(t.isEqual(Nu.after(n))&&n.lastChild){if(a=Nu.after(n.lastChild),ec(e)&&_c(n.lastChild)&&kc(n.lastChild))return Sc(n.lastChild)?Nu.before(n.lastChild):a}else a=t;var l=a.container(),u=a.offset();if(Cc(l)){if(ec(e)&&u>0)return Nu(l,--u);if(Qs(e)&&u<l.length)return Nu(l,++u);r=l}else{if(ec(e)&&u>0&&(o=Ec(l,u-1),_c(o)))return!Oc(o)&&(i=nc(o,e,Tc,o))?Cc(i)?Nu(i,i.data.length):Nu.after(i):Cc(o)?Nu(o,o.data.length):Nu.before(o);if(Qs(e)&&u<l.childNodes.length&&(o=Ec(l,u),_c(o)))return Sc(o)?function(e,t){var n=t.nextSibling;return n&&_c(n)?Cc(n)?Nu(n,0):Nu.before(n):Mc(Pu.Forwards,Nu.after(t),e)}(n,o):!Oc(o)&&(i=nc(o,e,Tc,o))?Cc(i)?Nu(i,0):Nu.before(i):Cc(o)?Nu(o,0):Nu.after(o);r=o||a.getNode()}if((Qs(e)&&a.isAtEnd()||ec(e)&&a.isAtStart())&&(r=nc(r,e,P,n,!0),Tc(r,n)))return Ac(e,r);o=nc(r,e,Tc,n);var s=Ee(Y(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(l,n),xc));return!s||o&&s.contains(o)?o?Ac(e,o):null:a=Qs(e)?Nu.after(s):Nu.before(s)},Dc=function(e){return{next:function(t){return Mc(Pu.Forwards,t,e)},prev:function(t){return Mc(Pu.Backwards,t,e)}}},Nc=function(e){return Nu.isTextPosition(e)?0===e.offset():Ko(e.getNode())},Pc=function(e){if(Nu.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Ko(e.getNode(!0))},zc=function(e,t){return!Nu.isTextPosition(e)&&!Nu.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Bc=function(e,t,n){return e?!zc(t,n)&&(r=t,!(!Nu.isTextPosition(r)&&Un(r.getNode())))&&Pc(t)&&Nc(n):!zc(n,t)&&Nc(t)&&Pc(n);var r},Rc=function(e,t,n){var r=Dc(t);return I.from(e?r.next(n):r.prev(n))},Ic=function(e,t,n){return Rc(e,t,n).bind((function(r){return oc(n,r,t)&&Bc(e,n,r)?Rc(e,t,r):I.some(r)}))},Lc=function(e,t,n,r){return Ic(e,t,n).bind((function(n){return r(n)?Lc(e,t,n,r):I.some(n)}))},Fc=function(e,t){var n,r=e?t.firstChild:t.lastChild;return Vn(r)?I.some(Nu(r,e?0:r.data.length)):r?Ko(r)?I.some(e?Nu.before(r):Un(n=r)?Nu.before(n):Nu.after(n)):function(e,t,n){var r=e?Nu.before(n):Nu.after(n);return Rc(e,t,r)}(e,t,r):I.none()},Vc=O(Rc,!0),Hc=O(Rc,!1),jc=O(Fc,!0),$c=O(Fc,!1),Uc="_mce_caret",Wc=function(e){return Nn(e)&&e.id===Uc},qc=function(e,t){for(;t&&t!==e;){if(t.id===Uc)return t;t=t.parentNode}return null},Kc=function(e){return Tt.isArray(e.start)},Yc=function(e,t){return Nn(t)&&e.isBlock(t)&&!t.innerHTML&&!Ct.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Gc=function(e,t){return $c(e).fold(N,(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},Xc=function(e,t,n){return!(!function(e){return!1===e.hasChildNodes()}(t)||!qc(e,t)||(function(e,t){var n=e.ownerDocument.createTextNode(ko);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)}(t,n),0))},Zc=function(e,t,n,r){var o,i,a,l,u=n[t?"start":"end"],s=e.getRoot();if(u){for(a=u[0],i=s,o=u.length-1;o>=1;o--){if(l=i.childNodes,Xc(s,i,r))return!0;if(u[o]>l.length-1)return!!Xc(s,i,r)||Gc(i,r);i=l[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Jc=function(e){return Vn(e)&&e.data.length>0},Qc=function(e,t,n){var r,o,i,a,l,u,s=e.get(n.id+"_"+t),c=n.keep;if(s){if(r=s.parentNode,"start"===t?(c?s.hasChildNodes()?(r=s.firstChild,o=1):Jc(s.nextSibling)?(r=s.nextSibling,o=0):Jc(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)+1):o=e.nodeIndex(s),l=r,u=o):(c?s.hasChildNodes()?(r=s.firstChild,o=1):Jc(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)):o=e.nodeIndex(s),l=r,u=o),!c){for(a=s.previousSibling,i=s.nextSibling,Tt.each(Tt.grep(s.childNodes),(function(e){Vn(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));s=e.get(n.id+"_"+t);)e.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&Vn(a)&&!Ct.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),l=a,u=o)}return I.some(Nu(l,u))}return I.none()},ed=function(e,t){var n=e.dom;if(t){if(Kc(t))return function(e,t){var n=e.createRng();return Zc(e,!0,t,n)&&Zc(e,!1,t,n)?I.some(n):I.none()}(n,t);if(function(e){return c(e.start)}(t))return I.some(function(e,t){var n,r=e.createRng();return n=Wu(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Wu(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r}(n,t));if(function(e){return ye(e,"id")}(t))return function(e,t){var n=Qc(e,"start",t),r=Qc(e,"end",t);return Zn(n,r.or(n),(function(t,n){var r=e.createRng();return r.setStart(Yc(e,t.container()),t.offset()),r.setEnd(Yc(e,n.container()),n.offset()),r}))}(n,t);if(function(e){return ye(e,"name")}(t))return function(e,t){return I.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();return n.selectNode(t),n}))}(n,t);if(function(e){return ye(e,"rng")}(t))return I.some(t.rng)}return I.none()},td=function(e,t,n){return ts(e,t,n)},nd=function(e,t){ed(e,t).each((function(t){e.setRng(t)}))},rd=function(e){return Nn(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},od=(vc=Co,function(e){return vc===e}),id=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},ad=function(e){return!id(e)&&!od(e)},ld=function(e){return!!e.nodeType},ud=function(e,t,n){var r=n.startOffset,o=n.startContainer;if((o!==n.endContainer||!function(e){return e&&/^(IMG)$/.test(e.nodeName)}(o.childNodes[r]))&&Nn(o)){var i=o.childNodes,a=void 0;r<i.length?(o=i[r],a=new so(o,e.getParent(o,e.isBlock))):(o=i[i.length-1],(a=new so(o,e.getParent(o,e.isBlock))).next(!0));for(var l=a.current();l;l=a.next())if(Vn(l)&&!fd(l))return n.setStart(l,0),void t.setRng(n)}},sd=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Nn(e)||!fd(e))return e}},cd=function(e,t){return ld(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},dd=function(e,t,n){return e.schema.isValidChild(t,n)},fd=function(e,t){if(void 0===t&&(t=!1),v(e)&&Vn(e)){var n=t?e.data.replace(/ /g,""):e.data;return Zo(n)}return!1},pd=function(e,t){return b(e)?e=e(t):v(t)&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},md=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},hd=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},gd=function(e,t,n){return hd(e,e.getStyle(t,n),n)},vd=function(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n},bd=function(e,t,n){return e.getParents(t,n,e.getRoot())},yd=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return ge(e,(function(e,t){return $(r,(function(e){return e===t}))}))};return $(e.formatter.get(t),(function(t){var r=o(t);return $(e.formatter.get(n),(function(e){var t,n,l,u=o(e);return t=r,n=u,void 0===l&&(l=a),i(l).eq(t,n)}))}))},wd=function(e){return we(e,"block")},xd=function(e){return we(e,"selector")},Cd=function(e){return we(e,"inline")},kd=function(e){return xd(e)&&!1!==e.expand&&!Cd(e)},Sd=rd,_d=bd,Od=fd,Td=cd,Ed=function(e,t){for(var n=t;n;){if(Nn(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Ad=function(e,t,n,r){for(var o=t.data,i=n;e?i>=0:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},Md=function(e,t,n){return Ad(e,t,n,(function(e){return od(e)||id(e)}))},Dd=function(e,t,n){return Ad(e,t,n,ad)},Nd=function(e,t,n,r,o,i){var a,l=e.getParent(n,e.isBlock)||t,u=function(t,n,r){var i=ru(e),u=o?i.backwards:i.forwards;return I.from(u(t,n,(function(e,t){return Sd(e.parentNode)?-1:(a=e,r(o,e,t))}),l))};return u(n,r,Md).bind((function(e){return i?u(e.container,e.offset+(o?-1:0),Dd):I.some(e)})).orThunk((function(){return a?I.some({container:a,offset:o?0:a.length}):I.none()}))},Pd=function(e,t,n,r,o){Vn(r)&&$e(r.data)&&r[o]&&(r=r[o]);for(var i=_d(e,r),a=0;a<i.length;a++)for(var l=0;l<t.length;l++){var u=t[l];if((!v(u.collapsed)||u.collapsed===n.collapsed)&&xd(u)&&e.is(i[a],u.selector))return i[a]}return r},zd=function(e,t,n,r){var o=n,i=e.dom,a=i.getRoot(),l=t[0];if(wd(l)&&!l.wrapper&&(o=i.getParent(n,l.block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(Vn(n)?n.parentNode:n,(function(t){return t!==a&&Td(e,t)}),u)}if(o&&wd(l)&&l.wrapper&&(o=_d(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!md(o,"br")););return o||n},Bd=function(e,t,n,r){var o=n.parentNode;return!v(n[r])&&(!(o!==t&&!g(o)&&!e.isBlock(o))||Bd(e,t,o,r))},Rd=function(e,t,n,r,o){var i,a=n,l=o?"previousSibling":"nextSibling",u=e.getRoot();if(Vn(n)&&!Od(n)&&(o?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(var s=a[l];s;s=s[l]){var c=Vn(s)&&!Bd(e,u,s,l);if(!Sd(s)&&(!Un(i=s)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!Od(s,c))return a}if(a===u||a.parentNode===u){n=a;break}a=a.parentNode}return n},Id=function(e){return Sd(e.parentNode)||Sd(e)},Ld=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,l=t.endOffset,u=e.dom,s=n[0];return Nn(o)&&o.hasChildNodes()&&(o=fu(o,i),Vn(o)&&(i=0)),Nn(a)&&a.hasChildNodes()&&(a=fu(a,t.collapsed?l:l-1),Vn(a)&&(l=a.nodeValue.length)),o=Ed(u,o),a=Ed(u,a),Id(o)&&(o=Sd(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,Vn(o)&&(i=t.collapsed?o.length:0)),Id(a)&&(a=Sd(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Vn(a)&&(l=t.collapsed?0:a.length)),t.collapsed&&(Nd(u,e.getBody(),o,i,!0,r).each((function(e){var t=e.container,n=e.offset;o=t,i=n})),Nd(u,e.getBody(),a,l,!1,r).each((function(e){var t=e.container,n=e.offset;a=t,l=n}))),(Cd(s)||s.block_expand)&&(Cd(s)&&Vn(o)&&0!==i||(o=Rd(u,n,o,i,!0)),Cd(s)&&Vn(a)&&l!==a.nodeValue.length||(a=Rd(u,n,a,l,!1))),kd(s)&&(o=Pd(u,n,t,o,"previousSibling"),a=Pd(u,n,t,a,"nextSibling")),(wd(s)||xd(s))&&(o=zd(e,n,o,"previousSibling"),a=zd(e,n,a,"nextSibling"),wd(s)&&(u.isBlock(o)||(o=Rd(u,n,o,i,!0)),u.isBlock(a)||(a=Rd(u,n,a,l,!1)))),Nn(o)&&(i=u.nodeIndex(o),o=o.parentNode),Nn(a)&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:l}},Fd=function(e,t,n){var r=t.startOffset,o=fu(t.startContainer,r),i=t.endOffset,a=fu(t.endContainer,i-1),l=function(e){var t=e[0];Vn(t)&&t===o&&r>=t.data.length&&e.splice(0,1);var n=e[e.length-1];return 0===i&&e.length>0&&n===a&&Vn(n)&&e.splice(e.length-1,1),e},u=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},s=function(t,n){return e.getParent(t,(function(e){return e.parentNode===n}),n)},c=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var s=u(i===e?i:i[o],o);s.length&&(r||s.reverse(),n(l(s)))}};if(o===a)return n(l([o]));var d=e.findCommonAncestor(o,a);if(e.isChildOf(o,a))return c(o,d,!0);if(e.isChildOf(a,o))return c(a,d);var f=s(o,d)||o,p=s(a,d)||a;c(o,f,!0);var m=u(f===o?f:f.nextSibling,"nextSibling",p===a?p.nextSibling:p);m.length&&n(l(m)),c(a,p)},Vd=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Hd=function(e){return Y(function(e){return ee(e,(function(e){var t=du(e);return t?[At.fromDom(t)]:[]}))}(e),wo)},jd=function(e,t){var n=jl(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:Hd(e)},$d=function(e){return jd(Vd(e.selection.getSel()),At.fromDom(e.getBody()))},Ud=function(e,t){return Qr(e,"table",t)},Wd=function(e){return tn(e).fold(k([e]),(function(t){return[e].concat(Wd(t))}))},qd=function(e){return nn(e).fold(k([e]),(function(t){return"br"===Lt(t)?Gt(t).map((function(t){return[e].concat(qd(t))})).getOr([]):[e].concat(qd(t))}))},Kd=function(e,t){return Zn(function(e){var t=e.startContainer,n=e.startOffset;return Vn(t)?0===n?I.some(At.fromDom(t)):I.none():I.from(t.childNodes[n]).map(At.fromDom)}(t),function(e){var t=e.endContainer,n=e.endOffset;return Vn(t)?n===t.data.length?I.some(At.fromDom(t)):I.none():I.from(t.childNodes[n-1]).map(At.fromDom)}(t),(function(t,n){var r=J(Wd(e),O(Pt,t)),o=J(qd(e),O(Pt,n));return r.isSome()&&o.isSome()})).getOr(!1)},Yd=function(e,t,n,r){var o=n,i=new so(n,o),a=ge(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!j(["td","th","table"],t.toLowerCase())}));do{if(Vn(n)&&0!==Tt.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Gd=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Xd=function(e,t){var n=$d(e);n.length>0?W(n,(function(n){var r=n.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)})):t(e.selection.getRng(),!1)},Zd=function(e,t,n){var r=es(e,t);n(r),e.moveToBookmark(r)},Jd=(bc=jt,yc="text",{get:function(e){if(!bc(e))throw new Error("Can only get "+yc+" value of a "+yc+" node");return wc(e).getOr("")},getOption:wc=function(e){return bc(e)?I.from(e.dom.nodeValue):I.none()},set:function(e,t){if(!bc(e))throw new Error("Can only set raw "+yc+" value of a "+yc+" node");e.dom.nodeValue=t}}),Qd=function(e){return Jd.get(e)},ef=function(e,t,n,r){return Yt(t).fold((function(){return"skipping"}),(function(o){return"br"===r||function(e){return jt(e)&&Qd(e)===ko}(t)?"valid":function(e){return Ht(e)&&Vl(e,$l())}(t)?"existing":Wc(t.dom)?"caret":dd(e,n,r)&&dd(e,Lt(o),n)?"valid":"invalid-child"}))},tf=function(e,t,n,r){var o=t.uid,i=void 0===o?Zl("mce-annotation"):o,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["uid"]),l=At.fromTag("span",e);Ll(l,$l()),er(l,""+Wl(),i),er(l,""+Ul(),n);var u=r(i,a),s=u.attributes,c=void 0===s?{}:s,d=u.classes,f=void 0===d?[]:d;return tr(l,c),function(e,t){W(t,(function(t){Ll(e,t)}))}(l,f),l},nf=function(e,t,n,r,o){var i=[],a=tf(e.getDoc(),o,n,r),l=Dl(),u=function(){l.clear()},s=function(e){W(e,c)},c=function(t){switch(ef(e,t,"span",Lt(t))){case"invalid-child":u();var n=Qt(t);s(n),u();break;case"valid":!function(e,t){fn(e,t),hn(t,e)}(t,l.get().getOrThunk((function(){var e=eu(a);return i.push(e),l.set(e),e})))}};return Fd(e.dom,t,(function(e){u(),function(e){var t=U(e,At.fromDom);s(t)}(e)})),i},rf=function(e,t,n,r){e.undoManager.transact((function(){var o=e.selection,i=o.getRng(),a=$d(e).length>0;if(i.collapsed&&!a&&function(e,t){var n=Ld(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)}(e,i),o.getRng().collapsed&&!a){var l=tf(e.getDoc(),r,t,n.decorate);Jl(l,Co),o.getRng().insertNode(l.dom),o.select(l.dom)}else Zd(o,!1,(function(){Xd(e,(function(o){nf(e,o,t,n.decorate,r)}))}))}))},of=function(e){var t,n=(t={},{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return be(t,e).map((function(e){return e.settings}))}});Gl(e,n);var r=Yl(e);return{register:function(e,t){n.register(e,t)},annotate:function(t,r){n.lookup(t).each((function(n){rf(e,t,n,r)}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){ql(e,I.some(t)).each((function(e){var t=e.elements;W(t,yn)}))},getAll:function(t){var n=function(e,t){var n=At.fromDom(e.getBody()),r=jl(n,"["+Ul()+'="'+t+'"]'),o={};return W(r,(function(e){var t=nr(e,Wl()),n=be(o,t).getOr([]);o[t]=n.concat([e])})),o}(e,t);return fe(n,(function(e){return U(e,(function(e){return e.dom}))}))}}},af=function(e){return{getBookmark:O(td,e),moveToBookmark:O(nd,e)}};af.isBookmarkNode=rd;var lf=function(e,t){for(;t&&t!==e;){if(qn(t)||Kn(t))return t;t=t.parentNode}return null},uf=function(e,t,n){if(n.collapsed)return!1;if(Ct.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Nn(r))return $(r.getClientRects(),(function(n){return cu(n,e,t)}))}return $(n.getClientRects(),(function(n){return cu(n,e,t)}))},sf=function(e,t,n){return e.fire(t,n)},cf=function(e,t,n,r){return e.fire("FormatApply",{format:t,node:n,vars:r})},df=function(e,t,n,r){return e.fire("FormatRemove",{format:t,node:n,vars:r})},ff={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||ff.metaKeyPressed(e)},metaKeyPressed:function(e){return Ct.mac?e.metaKey:e.ctrlKey&&!e.altKey}},pf=Kn,mf=function(e,t){var n,r,o,i,a,l,u,s,c,d,f,p,m,h,g,b="data-mce-selected",y=t.dom,w=Tt.each,x=t.getDoc(),C=document,k=Math.abs,S=Math.round,_=t.getBody(),O={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},T=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},E=function(e){return Gn(e)||y.hasClass(e,"mce-preview-object")},A=function(e){var n=e.target;(function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return T(e.target)&&!uf(n.clientX,n.clientY,t)}return T(e.target)&&!uf(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},M=function(e){return y.is(e,"figure.image")?[e.querySelector("img")]:y.hasClass(e,"mce-preview-object")&&v(e.firstElementChild)?[e,e.firstElementChild]:[e]},D=function(e){var n=ws(t);return!!n&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(y.hasClass(e,"mce-preview-object")?Dt(At.fromDom(e.firstElementChild),n):Dt(At.fromDom(e),n))},N=function(e,n,r){if(v(r)){var o=M(e);W(o,(function(e){e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?y.setStyle(e,n,r):y.setAttrib(e,n,""+r)}))}},P=function(e,t,n){N(e,"width",t),N(e,"height",n)},z=function(e){var a,v,b,w;a=e.screenX-l,v=e.screenY-u,p=a*i[2]+s,m=v*i[3]+c,p=p<5?5:p,m=m<5?5:m,((T(n)||E(n))&&!1!==function(e){return e.getParam("resize_img_proportional",!0,"boolean")}(t)?!ff.modifierPressed(e):ff.modifierPressed(e))&&(k(a)>k(v)?(m=S(p*d),p=S(m/d)):(p=S(m/d),m=S(p*d))),P(r,p,m),b=(b=i.startPos.x+a)>0?b:0,w=(w=i.startPos.y+v)>0?w:0,y.setStyles(o,{left:b,top:w,display:"block"}),o.innerHTML=p+" &times; "+m,i[2]<0&&r.clientWidth<=p&&y.setStyle(r,"left",void 0+(s-p)),i[3]<0&&r.clientHeight<=m&&y.setStyle(r,"top",void 0+(c-m)),(a=_.scrollWidth-h)+(v=_.scrollHeight-g)!=0&&y.setStyles(o,{left:b-a,top:w-v}),f||(function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})}(t,n,s,c,"corner-"+i.name),f=!0)},B=function(){var e=f;f=!1,e&&(N(n,"width",p),N(n,"height",m)),y.unbind(x,"mousemove",z),y.unbind(x,"mouseup",B),C!==x&&(y.unbind(C,"mousemove",z),y.unbind(C,"mouseup",B)),y.remove(r),y.remove(o),y.remove(a),R(n),e&&(function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})}(t,n,p,m,"corner-"+i.name),y.setAttrib(n,"style",y.getAttrib(n,"style"))),t.nodeChanged()},R=function(e){V();var f=y.getPos(e,_),v=f.x,k=f.y,S=e.getBoundingClientRect(),T=S.width||S.right-S.left,A=S.height||S.bottom-S.top;n!==e&&(I(),n=e,p=m=0);var N=t.fire("ObjectSelected",{target:e}),R=y.getAttrib(n,b,"1");D(e)&&!N.isDefaultPrevented()?w(O,(function(e,t){var f,p=function(f){var p,m=M(n)[0];l=f.screenX,u=f.screenY,s=m.clientWidth,c=m.clientHeight,d=c/s,(i=e).name=t,i.startPos={x:T*e[0]+v,y:A*e[1]+k},h=_.scrollWidth,g=_.scrollHeight,a=y.add(_,"div",{class:"mce-resize-backdrop"}),y.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=E(p=n)?y.create("img",{src:Ct.transparentSrc}):p.cloneNode(!0),y.addClass(r,"mce-clonedresizable"),y.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",y.setStyles(r,{left:v,top:k,margin:0}),P(r,T,A),r.removeAttribute(b),_.appendChild(r),y.bind(x,"mousemove",z),y.bind(x,"mouseup",B),C!==x&&(y.bind(C,"mousemove",z),y.bind(C,"mouseup",B)),o=y.add(_,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},s+" &times; "+c)};(f=y.get("mceResizeHandle"+t))&&y.remove(f),f=y.add(_,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Ct.ie&&(f.contentEditable=!1),y.bind(f,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)})),e.elm=f,y.setStyles(f,{left:T*e[0]+v-f.offsetWidth/2,top:A*e[1]+k-f.offsetHeight/2})})):I(),y.getAttrib(n,b)||n.setAttribute(b,R)},I=function(){V(),n&&n.removeAttribute(b),de(O,(function(e,t){var n=y.get("mceResizeHandle"+t);n&&(y.unbind(n),y.remove(n))}))},L=function(n){var r,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};f||t.removed||(w(y.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(b)})),r="mousedown"===n.type?n.target:e.getNode(),o(r=y.$(r).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],_)&&(H(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?R(r):I())},F=function(e){return pf(lf(t.getBody(),e))},V=function(){de(O,(function(e){e.elm&&(y.unbind(e.elm),delete e.elm)}))},H=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",(function(){if(H(),Ct.browser.isIE()||Ct.browser.isEdge()){t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;f||!/^(TABLE|IMG|HR)$/.test(r)||F(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}));var e=function(e){var n=function(e){ao.setEditorTimeout(t,(function(){return t.selection.select(e)}))};if(F(e.target)||Gn(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};y.bind(_,"mscontrolselect",e),t.on("remove",(function(){return y.unbind(_,"mscontrolselect",e)}))}var r=ao.throttle((function(e){t.composing||L(e)}));t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),t.on("keyup compositionend",(function(e){n&&"TABLE"===n.nodeName&&r(e)})),t.on("hide blur",I),t.on("contextmenu longpress",A,!0)})),t.on("remove",V),{isResizable:D,showResizeRect:R,hideResizeRect:I,updateResizeRect:L,destroy:function(){n=r=a=null}}},hf=function(e){return qn(e)||Kn(e)},gf=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),(r=(r=Tt.toArray(i.getClientRects())).sort((function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))}))).length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(a){}}return null}(e,t,n)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Kn(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(n,t,hf))?null:e}(r,n.body)}return r},vf=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},bf=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},yf=function(e,t,n){return bf(e,t,(function(e){return e.nodeName===n}))},wf=function(e){return e&&"TABLE"===e.nodeName},xf=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Cf=function(e,t){return Mo(e)&&!1===bf(e,t,Wc)},kf=function(e,t,n){for(var r=new so(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Un(t))return!0},Sf=function(e,t,n,r,o){var i,a,l=e.getRoot(),u=e.schema.getNonEmptyElements(),s=e.getParent(o.parentNode,e.isBlock)||l;if(r&&Un(o)&&t&&e.isEmpty(s))return I.some(Nu(o.parentNode,e.nodeIndex(o)));for(var c=new so(o,s);a=c[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||Cf(a,l))return I.none();if(Vn(a)&&a.nodeValue.length>0)return!1===yf(a,l,"A")?I.some(Nu(a,r?a.nodeValue.length:0)):I.none();if(e.isBlock(a)||u[a.nodeName.toLowerCase()])return I.none();i=a}return n&&i?I.some(Nu(i,0)):I.none()},_f=function(e,t,n,r){var o,i,a,l,u=e.getRoot(),s=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var c=Nn(o)&&i===o.childNodes.length,d=e.schema.getNonEmptyElements();if(l=n,Mo(o))return I.none();if(Nn(o)&&i>o.childNodes.length-1&&(l=!1),jn(o)&&(o=u,i=0),o===u){if(l&&(a=o.childNodes[i>0?i-1:0])){if(Mo(a))return I.none();if(d[a.nodeName]||wf(a))return I.none()}if(o.hasChildNodes()){if(i=Math.min(!l&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Vn(o)&&c?o.data.length:0,!t&&o===u.lastChild&&wf(o))return I.none();if(function(e,t){for(;t&&t!==e;){if(Kn(t))return!0;t=t.parentNode}return!1}(u,o)||Mo(o))return I.none();if(o.hasChildNodes()&&!1===wf(o)){a=o;var f=new so(o,u);do{if(Kn(a)||Mo(a)){s=!1;break}if(Vn(a)&&a.nodeValue.length>0){i=l?0:a.nodeValue.length,o=a,s=!0;break}if(d[a.nodeName.toLowerCase()]&&!xf(a)){i=e.nodeIndex(a),o=a.parentNode,l||i++,s=!0;break}}while(a=l?f.next():f.prev())}}}return t&&(Vn(o)&&0===i&&Sf(e,c,t,!0,o).each((function(e){o=e.container(),i=e.offset(),s=!0})),Nn(o)&&((a=o.childNodes[i])||(a=o.childNodes[i-1]),!a||!Un(a)||function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}(a,"A")||kf(e,a,!1)||kf(e,a,!0)||Sf(e,c,t,!0,a).each((function(e){o=e.container(),i=e.offset(),s=!0})))),l&&!t&&Vn(o)&&i===o.nodeValue.length&&Sf(e,c,t,!1,o).each((function(e){o=e.container(),i=e.offset(),s=!0})),s?I.some(Nu(o,i)):I.none()},Of=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=Nu.fromRangeStart(t);return _f(e,n,!0,r).each((function(e){n&&Nu.isAbove(o,e)||r.setStart(e.container(),e.offset())})),n||_f(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),vf(t,r)?I.none():I.some(r)},Tf=function(e,t){return e.splitText(t)},Ef=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Vn(t)?n>0&&n<t.nodeValue.length&&(t=(r=Tf(t,n)).previousSibling,o>n?(t=r=Tf(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(Vn(t)&&n>0&&n<t.nodeValue.length&&(t=Tf(t,n),n=0),Vn(r)&&o>0&&o<r.nodeValue.length&&(o=(r=Tf(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},Af=function(e){return{walk:function(t,n){return Fd(e,t,n)},split:Ef,normalize:function(t){return Of(e,t).fold(N,(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}};Af.compareRanges=vf,Af.getCaretRangeFromPoint=gf,Af.getSelectedNode=du,Af.getNode=fu;var Mf,Df=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=ar(n,e);return parseFloat(o)||0}return r},r=function(e,t){return X(t,(function(t,n){var r=ar(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!y(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Jn(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}}("height",(function(e){var t=e.dom;return wn(e)?t.getBoundingClientRect().height:t.offsetHeight})),Nf=function(e,t){return e.view(t).fold(k([]),(function(t){var n=e.owner(t),r=Nf(e,n);return[t].concat(r)}))},Pf=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?I.none():I.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(At.fromDom)},owner:function(e){return qt(e)}}),zf=function(e){var t=At.fromDom(document),n=_n(t),r=function(e,t){var n=t.owner(e);return Nf(t,n)}(e,Pf),o=Sn(e),i=G(r,(function(e,t){var n=Sn(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Cn(i.left+o.left+n.left,i.top+o.top+n.top)},Bf=function(e){return"textarea"===Lt(e)},Rf=function(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Cn(n.offsetLeft,n.offsetTop);var i=kn(null==r?void 0:r.pageYOffset,o.scrollTop),a=kn(null==r?void 0:r.pageXOffset,o.scrollLeft),l=kn(o.clientTop,n.clientTop),u=kn(o.clientLeft,n.clientLeft);return Sn(e).translate(a-u,i-l)}(e),r=function(e){return Df.get(e)}(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},If=function(e,t){var n=function(e,t){var n=Qt(e);if(0===n.length||Bf(e))return{element:e,offset:t};if(t<n.length&&!Bf(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Bf(r)?{element:e,offset:t}:"img"===Lt(r)?{element:r,offset:1}:jt(r)?{element:r,offset:Qd(r).length}:{element:r,offset:Qt(r).length}}(e,t),r=At.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return fn(n.element,r),Rf(r,(function(){return bn(r)}))},Lf=function(e,t,n,r){jf(e,(function(o,i){return Vf(e,t,n,r)}),n)},Ff=function(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};(function(e,t){return e.fire("ScrollIntoView",t).isDefaultPrevented()})(e,i)||(n(t,_n(t).top,r,o),function(e,t){e.fire("AfterScrollIntoView",t)}(e,i))},Vf=function(e,t,n,r){var o=At.fromDom(e.getBody()),i=At.fromDom(e.getDoc());o.dom.offsetWidth;var a=If(At.fromDom(n.startContainer),n.startOffset);Ff(e,i,t,a,r),a.cleanup()},Hf=function(e,t,n,r){var o=At.fromDom(e.getDoc());Ff(e,o,n,function(e){return Rf(At.fromDom(e),w)}(t),r)},jf=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(At.fromDom(r),At.fromDom(i));var l=e.dom.createRng();l.setStart(r,o),l.setEnd(i,a),e.selection.setRng(n)},$f=function(e,t,n,r){var o=e.pos;if(n)On(o.left,o.top,r);else{var i=o.top-t+e.height;On(o.left,i,r)}},Uf=function(e,t,n,r,o){var i=n+t,a=r.pos.top,l=r.bottom,u=l-a>=n;a<t?$f(r,n,!1!==o,e):a>i?$f(r,n,u?!1!==o:!0===o,e):l>i&&!u&&$f(r,n,!0===o,e)},Wf=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;Uf(e,t,o,n,r)},qf=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;Uf(e,t,o,n,r);var i=zf(n.element),a=An(window);i.top<a.y?Tn(n.element,!1!==r):i.top>a.bottom&&Tn(n.element,!0===r)},Kf=function(e,t,n){return Lf(e,Wf,t,n)},Yf=function(e,t,n){return Hf(e,t,Wf,n)},Gf=function(e,t,n){return Lf(e,qf,t,n)},Xf=function(e,t,n){return Hf(e,t,qf,n)},Zf=function(e,t,n){(e.inline?Kf:Gf)(e,t,n)},Jf=function(e){var t=un(e).dom;return e.dom===t.activeElement},Qf=function(e){return void 0===e&&(e=At.fromDom(document)),I.from(e.dom.activeElement).map(At.fromDom)},ep=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},tp=Or([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),np=(tp.before,tp.on,tp.after,function(e){return e.fold(S,S,S)}),rp=Or([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),op={domRange:rp.domRange,relative:rp.relative,exact:rp.exact,exactFromRange:function(e){return rp.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return At.fromDom(e.startContainer)},relative:function(e,t){return np(e)},exact:function(e,t,n,r){return e}})}(e);return Kt(t)},range:ep},ip=pt().browser,ap=function(e,t){var n=jt(t)?Qd(t).length:Qt(t).length+1;return e>n?n:e<0?0:e},lp=function(e){return op.range(e.start,ap(e.soffset,e.start),e.finish,ap(e.foffset,e.finish))},up=function(e,t){return!Dn(t.dom)&&(Bt(e,t)||Pt(e,t))},sp=function(e){return function(t){return up(e,t.start)&&up(e,t.finish)}},cp=function(e){return!0===e.inline||ip.isIE()},dp=function(e){return op.range(At.fromDom(e.startContainer),e.startOffset,At.fromDom(e.endContainer),e.endOffset)},fp=function(e){return function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?I.from(t.getRangeAt(0)):I.none()).map(dp)}(Kt(e).dom).filter(sp(e))},pp=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),I.some(t)}catch(n){return I.none()}},mp=function(e){var t=cp(e)?fp(At.fromDom(e.getBody())):I.none();e.bookmark=t.isSome()?t:e.bookmark},hp=function(e){return(e.bookmark?e.bookmark:I.none()).bind((function(t){return function(e,t){return I.from(t).filter(sp(e)).map(lp)}(At.fromDom(e.getBody()),t)})).bind(pp)},gp={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},vp=function(e,t){pt().browser.isIE()?function(e){e.on("focusout",(function(){mp(e)}))}(e):function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))}(e,t),e.on("keyup NodeChange",(function(t){(function(e){return"nodechange"===e.type&&e.selectionChange})(t)||mp(e)}))},bp=function(e){var t=Nl((function(){mp(e)}),0);e.on("init",(function(){e.inline&&function(e,t){var n=function(){t.throttle()};bl.DOM.bind(document,"mouseup",n),e.on("remove",(function(){bl.DOM.unbind(document,"mouseup",n)}))}(e,t),vp(e,t)})),e.on("remove",(function(){t.cancel()}))},yp=bl.DOM,wp=function(e,t){var n=function(e){return e.getParam("custom_ui_selector","","string")}(e);return null!==yp.getParent(t,(function(t){return function(e){return gp.isEditorUIElement(e)}(t)||!!n&&e.dom.is(t,n)}))},xp=function(e,t){var n=t.editor;bp(n),n.on("focusin",(function(){var t=e.focusedEditor;t!==n&&(t&&t.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(function(){ao.setEditorTimeout(n,(function(){var t=e.focusedEditor;wp(n,function(e){try{var t=un(At.fromDom(e.getElement()));return Qf(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(n){return document.body}}(n))||t!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Mf||(Mf=function(t){var n=e.activeEditor;n&&function(e){if(ln()&&v(e.target)){var t=At.fromDom(e.target);if(Ht(t)&&dn(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ie(n)}}return I.from(e.target)}(t).each((function(t){t.ownerDocument===document&&(t===document.body||wp(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))}))},yp.bind(document,"focusin",Mf))},Cp=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(yp.unbind(document,"focusin",Mf),Mf=null)},kp=function(e,t){return function(e){return e.collapsed?I.from(fu(e.startContainer,e.startOffset)).map(At.fromDom):I.none()}(t).bind((function(t){return yo(t)?I.some(t):!1===Bt(e,t)?I.some(e):I.none()}))},Sp=function(e,t){kp(At.fromDom(e.getBody()),t).bind((function(e){return jc(e.dom)})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},_p=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Op=function(e){return Jf(e)||(t=e,Qf(un(t)).filter((function(e){return t.dom.contains(e.dom)}))).isSome();var t},Tp=function(e){return e.inline?function(e){var t=e.getBody();return t&&Op(At.fromDom(t))}(e):function(e){return e.iframeElement&&Jf(At.fromDom(e.iframeElement))}(e)},Ep=function(e){return Tp(e)||function(e){var t=un(At.fromDom(e.getElement()));return Qf(t).filter((function(t){return!(void 0!==(n=t.dom.classList)&&(n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body")))&&wp(e,t.dom);var n})).isSome()}(e)},Ap=function(e){return e.editorManager.setActive(e)},Mp=function(e,t){e.removed||(t?Ap(e):function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Tp(e)&&hp(e).each((function(t){e.selection.setRng(t),r=t}));var o=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}(e,t.getNode());if(e.$.contains(n,o))return _p(o),Sp(e,r),void Ap(e);e.inline||(Ct.opera||_p(n),e.getWin().focus()),(Ct.gecko||e.inline)&&(_p(n),Sp(e,r)),Ap(e)}(e))},Dp=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return I.from(i).map(At.fromDom).map((function(e){return r&&t.collapsed?e:en(e,o(e,a)).getOr(e)})).bind((function(e){return Ht(e)?I.some(e):Yt(e).filter(Ht)})).map((function(e){return e.dom})).getOr(e)},Np=function(e,t,n){return Dp(e,t,!0,n,(function(e,t){return Math.min(rn(e),t)}))},Pp=function(e,t,n){return Dp(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},zp=function(e,t){for(var n=e;e&&Vn(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Bp=function(e,t){return U(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},Rp={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ip=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},Lp=function(e){if(!Zo(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},Fp=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Vp=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,Rp[t]||1);return n&&de(n,(function(e,t){r.attr(t,e)})),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&de(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var l=t[i];"id"!==l.name&&(o[o.length]={name:l.name,value:l.value},o.map[l.name]=l.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Ip(n,this))n.name===e&&t.push(n);return t},e.prototype.children=function(){for(var e=[],t=this.firstChild;t;t=t.next)e.push(t);return e},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=Ip(n,e))t.push(n);for(var r=t.length;r--;)(n=t[r]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(Fp(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(Fp(o))return!1}if(8===o.type)return!1;if(3===o.type&&!Lp(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&Zo(o.value))return!1;if(n&&n(o))return!1}while(o=Ip(o,r));return!0},e.prototype.walk=function(e){return Ip(this,null,e)},e}(),Hp=function(e,t){return e.replace(t.re,(function(e){return be(t.uris,e).getOr(e)}))},jp=["img","video"],$p=Tt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Up=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?function(e,t){return!(g(e)?j(jp,t):e)}(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Wp=function(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),a=1,l=n;0!==a;)for(r.lastIndex=l;;){var u=r.exec(t);if(null===u)return l;if("!"===u[1]){l=Ie(u[2],"--")?qp(t,!1,u.index+"!--".length):qp(t,!0,u.index+1);break}o.lastIndex=r.lastIndex;var s=o.exec(t);if(!p(s)&&s.index===r.lastIndex){"/"===u[1]?a-=1:ye(i,u[2])||(a+=1),l=r.lastIndex+s[0].length;break}}return l},qp=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))}(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var l=a.exec(e);return l?l.index+l[0].length:r.length},Kp=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null},Yp=function(e,t){var n;void 0===t&&(t=Di());var r=null!==(n=(e=e||{}).document)&&void 0!==n?n:document,o=r.createElement("form");!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var i=e.comment?e.comment:w,a=e.cdata?e.cdata:w,l=e.text?e.text:w,u=e.start?e.start:w,s=e.end?e.end:w,c=e.pi?e.pi:w,d=e.doctype?e.doctype:w,f=function(n,f){void 0===f&&(f="html");for(var p,m,h,g,v,b,y,w,x,C,k,S,_,O,T,E,A,M,D,N=n.html,P=0,z=[],B=0,R=xi.decode,I=Tt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),L=/((java|vb)script|mhtml):/i,F="html"===f?0:1,V=function(e){var t,n;for(t=z.length;t--&&z[t].name!==e;);if(t>=0){for(n=z.length-1;n>=t;n--)(e=z[n]).valid&&s(e.name);z.length=t}},H=function(e,t){return l(Hp(e,n),t)},j=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),i(Hp(t,n)))},$=function(e,t){var n=e||"",r=!Ie(n,"--"),o=qp(N,r,t);return e=N.substr(t,o-t),j(r?n+e:e),o+1},U=function(t,i,a,l,u){var s,c;if(a=function(e){return Hp(e,n)}((i=i.toLowerCase())in G?i:R(a||l||u||"")),X&&!w&&!1===function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}(i)){if(!(s=O[i])&&T){for(c=T.length;c--&&!(s=T[c]).pattern.test(i););-1===c&&(s=null)}if(!s)return;if(s.validValues&&!(a in s.validValues))return}if("name"!==i&&"id"!==i||!(t in $p)||!(a in r)&&!(a in o)){if(I[i]&&!e.allow_script_urls){var d=a.replace(/[\s\u0000-\u001F]+/g,"");try{d=decodeURIComponent(d)}catch(f){d=unescape(d)}if(L.test(d))return;if(Up(e,d,t))return}w&&(i in I||0===i.indexOf("on"))||(g.map[i]=a,g.push({name:i,value:a}))}},W=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),q=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,K=t.getShortEndedElements(),Y=e.self_closing_elements||t.getSelfClosingElements(),G=t.getBoolAttrs(),X=e.validate,Z=e.remove_internals,J=e.fix_self_closing,Q=t.getSpecialElements(),ee=N+">";p=W.exec(ee);){var te=p[0];if(P<p.index&&H(R(N.substr(P,p.index-P))),m=p[7])":"===(m=m.toLowerCase()).charAt(0)&&(m=m.substr(1)),V(m);else if(m=p[8]){if(p.index+te.length>N.length){H(R(N.substr(p.index))),P=p.index+te.length;continue}":"===(m=m.toLowerCase()).charAt(0)&&(m=m.substr(1)),x=m in K,J&&Y[m]&&z.length>0&&z[z.length-1].name===m&&V(m);var ne=Kp(q,p[9]);if(null!==ne){if("all"===ne){P=Wp(t,N,W.lastIndex),W.lastIndex=P;continue}k=!1}if(!X||(C=t.getElementRule(m))){if(k=!0,X&&(O=C.attributes,T=C.attributePatterns),(_=p[9])?((w=-1!==_.indexOf("data-mce-type"))&&Z&&(k=!1),(g=[]).map={},_.replace(q,(function(e,t,n,r,o){return U(m,t,n,r,o),""}))):(g=[]).map={},X&&!w){if(E=C.attributesRequired,A=C.attributesDefault,M=C.attributesForced,C.removeEmptyAttrs&&!g.length&&(k=!1),M)for(v=M.length;v--;)y=(S=M[v]).name,"{$uid}"===(D=S.value)&&(D="mce_"+B++),g.map[y]=D,g.push({name:y,value:D});if(A)for(v=A.length;v--;)(y=(S=A[v]).name)in g.map||("{$uid}"===(D=S.value)&&(D="mce_"+B++),g.map[y]=D,g.push({name:y,value:D}));if(E){for(v=E.length;v--&&!(E[v]in g.map););-1===v&&(k=!1)}if(S=g.map["data-mce-bogus"]){if("all"===S){P=Wp(t,N,W.lastIndex),W.lastIndex=P;continue}k=!1}}k&&u(m,g,x)}else k=!1;if(h=Q[m]){h.lastIndex=P=p.index+te.length,(p=h.exec(N))?(k&&(b=N.substr(P,p.index-P)),P=p.index+p[0].length):(b=N.substr(P),P=N.length),k&&(b.length>0&&H(b,!0),s(m)),W.lastIndex=P;continue}x||(_&&_.indexOf("/")===_.length-1?k&&s(m):z.push({name:m,valid:k}))}else if(m=p[1])j(m);else if(m=p[2]){if(!(1===F||e.preserve_cdata||z.length>0&&t.isValidChild(z[z.length-1].name,"#cdata"))){P=$("",p.index+2),W.lastIndex=P;continue}a(m)}else if(m=p[3])d(m);else{if((m=p[4])||"<!"===te){P=$(m,p.index+te.length),W.lastIndex=P;continue}if(m=p[5]){if(1!==F){P=$("?",p.index+2),W.lastIndex=P;continue}c(m,p[6])}}P=p.index+te.length}for(P<N.length&&H(R(N.substr(P))),v=z.length-1;v>=0;v--)(m=z[v]).valid&&s(m.name)};return{parse:function(e,t){void 0===t&&(t="html"),f(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],o={},i=Zl("img"),a=0,l=0;t=n.exec(e);){var u=t[0],s=i+"_"+l++;o[s]=u,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(s),a=t.index+u.length}var c=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:e,re:c}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(""),re:c})}(e),t)}}};Yp.findEndTag=Wp;var Gp=function(e,t){for(var n,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema,i=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")}(e.getTempAttrs(),t),a=o.getShortEndedElements();n=r.exec(i);){var l=r.lastIndex,u=n[0].length,s=void 0;s=a[n[1]]?l:Yp.findEndTag(o,i,l),i=i.substring(0,l-u)+i.substring(s),r.lastIndex=l-u}return _o(i)},Xp=Gp,Zp=function(e,t,n,r){var o,i=function(e,t){return Ae(Ae({},e),{format:t,get:!0,getInner:!0})}(t,n),a=t.no_events?i:e.fire("BeforeGetContent",i);return o="raw"===a.format?Tt.trim(Xp(e.serializer,r.innerHTML)):"text"===a.format?e.dom.isEmpty(r)?"":_o(r.innerText||r.textContent):"tree"===a.format?e.serializer.serialize(r,a):function(e,t){var n=as(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")}(e,e.serializer.serialize(r,a)),j(["text","tree"],a.format)||xo(At.fromDom(r))?a.content=o:a.content=Tt.trim(o),a.no_events?a.content:e.fire("GetContent",a).content},Jp=Tt.each,Qp=function(e){return{compare:function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return Jp(e.getAttribs(t),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))})),n},o=function(e,t){var n,r;for(r in e)if(ye(e,r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(ye(t,r))return!1;return!0};return!(!o(r(t),r(n))||!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||rd(t)||rd(n))}}},em=Tt.makeMap,tm=function(e){var t=[],n=(e=e||{}).indent,r=em(e.indent_before||""),o=em(e.indent_after||""),i=xi.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,l,u){var s,c,d,f;if(n&&r[e]&&t.length>0&&(f=t[t.length-1]).length>0&&"\n"!==f&&t.push("\n"),t.push("<",e),l)for(s=0,c=l.length;s<c;s++)d=l[s],t.push(" ",d.name,'="',i(d.value,!0),'"');t[t.length]=!u||a?">":" />",u&&n&&o[e]&&t.length>0&&(f=t[t.length-1]).length>0&&"\n"!==f&&t.push("\n")},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1]).length>0&&"\n"!==r&&t.push("\n")},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},nm=function(e,t){void 0===t&&(t=Di());var n=tm(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r=i[e.type];if(r)r(e);else{var l=e.name,u=e.shortEnded,s=e.attributes;if(o&&s&&s.length>1){var c=[];c.map={};var d=t.getElementRule(e.name);if(d){for(var f=0,p=d.attributesOrder.length;f<p;f++)if((h=d.attributesOrder[f])in s.map){var m=s.map[h];c.map[h]=m,c.push({name:h,value:m})}for(f=0,p=s.length;f<p;f++){var h;(h=s[f].name)in c.map||(m=s.map[h],c.map[h]=m,c.push({name:h,value:m}))}s=c}}if(n.start(e.name,s,u),!u){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(l)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}},rm=new Set;W(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(function(e){rm.add(e)}));var om=["font","text-decoration","text-emphasis"],im=function(e,t){return se(e.parseStyle(e.getAttrib(t,"style")))},am=function(e,t){return te(im(e,t),(function(e){return!function(e){return rm.has(e)}(e)}))},lm=function(e,t,n){var r=im(e,t),o=im(e,n),i=function(r){var o=e.getStyle(t,r),i=e.getStyle(n,r);return je(o)&&je(i)&&o!==i};return $(r,(function(e){var t=function(t){return $(t,(function(t){return t===e}))};if(!t(o)&&t(om)){var n=Y(o,(function(e){return $(om,(function(t){return Ie(e,t)}))}));return $(n,i)}return i(e)}))},um=function(e,t,n){return I.from(n.container()).filter(Vn).exists((function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))}))},sm=O(um,!0,id),cm=O(um,!1,id),dm=function(e){var t=e.container();return Vn(t)&&(0===t.data.length||So(t.data)&&af.isBookmarkNode(t.parentNode))},fm=function(e,t){return function(n){return I.from(ic(e?0:-1,n)).filter(t).isSome()}},pm=function(e){return Wn(e)&&"block"===ar(At.fromDom(e),"display")},mm=function(e){return Kn(e)&&!function(e){return Nn(e)&&"all"===e.getAttribute("data-mce-bogus")}(e)},hm=fm(!0,pm),gm=fm(!1,pm),vm=fm(!0,Gn),bm=fm(!1,Gn),ym=fm(!0,In),wm=fm(!1,In),xm=fm(!0,mm),Cm=fm(!1,mm),km=function(e){var t=jl(e,"br"),n=Y(function(e){for(var t=[],n=e.dom;n;)t.push(At.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),ho);t.length===n.length&&W(n,bn)},Sm=function(e){vn(e),hn(e,At.fromHtml('<br data-mce-bogus="1">'))},_m=function(e){nn(e).each((function(t){Gt(t).each((function(n){po(e)&&ho(t)&&po(n)&&bn(t)}))}))},Om=function(e,t,n){return Bt(t,e)?function(e,t){for(var n=b(t)?t:N,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=At.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,(function(e){return n(e)||Pt(e,t)})).slice(0,-1):[]},Tm=function(e,t){return Om(e,t,N)},Em=function(e,t){return[e].concat(Tm(e,t))},Am=function(e,t,n){return Lc(e,t,n,dm)},Mm=function(e,t){return J(Em(At.fromDom(t.container()),e),po)},Dm=function(e,t,n){return Am(e,t.dom,n).forall((function(e){return Mm(t,n).fold((function(){return!1===oc(e,n,t.dom)}),(function(r){return!1===oc(e,n,t.dom)&&Bt(r,At.fromDom(e.container()))}))}))},Nm=function(e,t,n){return Mm(t,n).fold((function(){return Am(e,t.dom,n).forall((function(e){return!1===oc(e,n,t.dom)}))}),(function(t){return Am(e,t.dom,n).isNone()}))},Pm=O(Nm,!1),zm=O(Nm,!0),Bm=O(Dm,!1),Rm=O(Dm,!0),Im=function(e){return mc(e).exists(ho)},Lm=function(e,t,n){var r=Y(Em(At.fromDom(n.container()),t),po),o=ie(r).getOr(t);return Rc(e,o.dom,n).filter(Im)},Fm=function(e,t){return mc(t).exists(ho)||Lm(!0,e,t).isSome()},Vm=function(e,t){return function(e){return I.from(e.getNode(!0)).map(At.fromDom)}(t).exists(ho)||Lm(!1,e,t).isSome()},Hm=O(Lm,!1),jm=O(Lm,!0),$m=function(e){return Nu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Um=function(e,t){var n=Y(Em(At.fromDom(t.container()),e),po);return ie(n).getOr(e)},Wm=function(e,t){return $m(t)?cm(t):cm(t)||Hc(Um(e,t).dom,t).exists(cm)},qm=function(e,t){return $m(t)?sm(t):sm(t)||Vc(Um(e,t).dom,t).exists(sm)},Km=function(e){return mc(e).bind((function(e){return Zr(e,Ht)})).exists((function(e){return t=ar(e,"white-space"),j(["pre","pre-wrap"],t);var t}))},Ym=function(e,t){return function(e,t){return Hc(e.dom,t).isNone()}(e,t)||function(e,t){return Vc(e.dom,t).isNone()}(e,t)||Pm(e,t)||zm(e,t)||Vm(e,t)||Fm(e,t)},Gm=function(e,t){return!Km(t)&&(Pm(e,t)||Bm(e,t)||Vm(e,t)||Wm(e,t))},Xm=function(e,t){return!Km(t)&&(zm(e,t)||Rm(e,t)||Fm(e,t)||qm(e,t))},Zm=function(e,t){return Gm(e,t)||Xm(e,function(e){var t=e.container(),n=e.offset();return Vn(t)&&n<t.data.length?Nu(t,n+1):e}(t))},Jm=function(e,t){return od(e.charAt(t))},Qm=function(e){var t=e.container();return Vn(t)&&Re(t.data,Co)},eh=function(e){var t=e.data,n=function(e){var t=e.split("");return U(t,(function(e,n){return od(e)&&n>0&&n<t.length-1&&ad(t[n-1])&&ad(t[n+1])?" ":e})).join("")}(t);return n!==t&&(e.data=n,!0)},th=function(e,t){return I.some(t).filter(Qm).bind((function(t){var n=t.container();return function(e,t){var n=t.data,r=Nu(t,0);return!(!Jm(n,0)||Zm(e,r)||(t.data=" "+n.slice(1),0))}(e,n)||eh(n)||function(e,t){var n=t.data,r=Nu(t,n.length-1);return!(!Jm(n,n.length-1)||Zm(e,r)||(t.data=n.slice(0,-1)+" ",0))}(e,n)?I.some(t):I.none()}))},nh=function(e){var t=At.fromDom(e.getBody());e.selection.isCollapsed()&&th(t,Nu.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))},rh=function(e,t,n){if(0!==n){var r=At.fromDom(e),o=Xr(r,po).getOr(r),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&Xm(o,Nu(e,e.data.length)),l=0===t&&Gm(o,Nu(e,0));e.replaceData(t,n,function(e,t,n){return X(e,(function(r,o){return id(o)||od(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+Co}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""}).str}(i,l,a))}},oh=function(e,t){var n=e.data.slice(t),r=n.length-Ve(n).length;rh(e,t,r)},ih=function(e,t){var n=e.data.slice(0,t),r=n.length-He(n).length;rh(e,t-r,r)},ah=function(e,t,n,r){void 0===r&&(r=!0);var o=He(e.data).length,i=r?e:t,a=r?t:e;return r?i.appendData(a.data):i.insertData(0,a.data),bn(At.fromDom(a)),n&&oh(i,o),i},lh=function(e,t){return function(e,t){var n=e.container(),r=e.offset();return!1===Nu.isTextPosition(e)&&n===t.parentNode&&r>Nu.before(t).offset()}(t,e)?Nu(t.container(),t.offset()-1):t},uh=function(e){return Ko(e.previousSibling)?I.some((t=e.previousSibling,Vn(t)?Nu(t,t.data.length):Nu.after(t))):e.previousSibling?$c(e.previousSibling):I.none();var t},sh=function(e){return Ko(e.nextSibling)?I.some((t=e.nextSibling,Vn(t)?Nu(t,0):Nu.before(t))):e.nextSibling?jc(e.nextSibling):I.none();var t},ch=function(e,t){return uh(t).orThunk((function(){return sh(t)})).orThunk((function(){return function(e,t){var n=Nu.before(t.previousSibling?t.previousSibling:t.parentNode);return Hc(e,n).fold((function(){return Vc(e,Nu.after(t))}),I.some)}(e,t)}))},dh=function(e,t){return sh(t).orThunk((function(){return uh(t)})).orThunk((function(){return function(e,t){return Vc(e,Nu.after(t)).fold((function(){return Hc(e,Nu.before(t))}),I.some)}(e,t)}))},fh=function(e,t,n){return function(e,t,n){return e?dh(t,n):ch(t,n)}(e,t,n).map(O(lh,n))},ph=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},mh=function(e,t){return t&&ye(e.schema.getBlockElements(),Lt(t))},hh=function(e){if(ri(e)){var t=At.fromHtml('<br data-mce-bogus="1">');return vn(e),hn(e,t),I.some(Nu.before(t.dom))}return I.none()},gh=function(e,t,n){var r,o,i,a,l=Gt(e).filter(jt),u=Xt(e).filter(jt);return bn(e),(r=l,o=u,i=t,a=function(e,t,r){var o=e.dom,i=t.dom,a=o.data.length;return ah(o,i,n),r.container()===i?Nu(o,a):r},r.isSome()&&o.isSome()&&i.isSome()?I.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):I.none()).orThunk((function(){return n&&(l.each((function(e){return ih(e.dom,e.dom.length)})),u.each((function(e){return oh(e.dom,0)}))),t}))},vh=function(e,t,n,r){void 0===r&&(r=!0);var o,i=fh(t,e.getBody(),n.dom),a=Xr(n,O(mh,e),(o=e.getBody(),function(e){return e.dom===o})),l=gh(n,i,function(e,t){return ye(e.schema.getTextInlineElements(),Lt(t))}(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(hh).fold((function(){r&&ph(e,t,l)}),(function(n){r&&ph(e,t,I.some(n))}))},bh=function(e){return jl(e,"td,th")},yh=function(e,t){return{start:e,end:t}},wh=Or([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),xh=function(e,t){return to(At.fromDom(e),"td,th",t)},Ch=function(e){return!Pt(e.start,e.end)},kh=function(e,t){return Ud(e.start,t).bind((function(n){return Ud(e.end,t).bind((function(e){return t=Pt(n,e),r=n,t?I.some(r):I.none();var t,r}))}))},Sh=function(e){return function(t){return kh(t,e).map((function(e){return function(e,t,n){return{rng:e,table:t,cells:n}}(t,e,bh(e))}))}},_h=function(e,t,n,r){if(n.collapsed||!e.forall(Ch))return I.none();if(t.isSameTable){var o=e.bind(Sh(r));return I.some({start:o,end:o})}var i=xh(n.startContainer,r),a=xh(n.endContainer,r),l=i.bind(function(e){return function(t){return Ud(t,e).bind((function(e){return ae(bh(e)).map((function(e){return yh(t,e)}))}))}}(r)).bind(Sh(r)),u=a.bind(function(e){return function(t){return Ud(t,e).bind((function(e){return ie(bh(e)).map((function(e){return yh(e,t)}))}))}}(r)).bind(Sh(r));return I.some({start:l,end:u})},Oh=function(e,t){return Q(e,(function(e){return Pt(e,t)}))},Th=function(e){return Zn(Oh(e.cells,e.rng.start),Oh(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))},Eh=function(e,t,n){return e.exists((function(e){return function(e,t){return!Ch(e)&&kh(e,t).exists((function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}))}(e,n)&&Kd(e.start,t)}))},Ah=function(e,t){var n=t.startTable,r=t.endTable,o=e.cloneRange();return n.each((function(e){return o.setStartAfter(e.dom)})),r.each((function(e){return o.setEndBefore(e.dom)})),o},Mh=function(e,t){var n=function(e){return function(t){return Pt(e,t)}}(e),r=function(e,t){var n=xh(e.startContainer,t),r=xh(e.endContainer,t);return Zn(n,r,yh)}(t,n),o=function(e,t){var n=function(e){return Ud(At.fromDom(e),t)},r=n(e.startContainer),o=n(e.endContainer),i=r.isSome(),a=o.isSome(),l=Zn(r,o,Pt).getOr(!1);return{startTable:r,endTable:o,isStartInTable:i,isEndInTable:a,isSameTable:l,isMultiTable:!l&&i&&a}}(t,n);return Eh(r,t,n)?r.map((function(e){return wh.singleCellTable(t,e.start)})):o.isMultiTable?function(e,t,n,r){return _h(e,t,n,r).bind((function(e){var r=e.start,o=e.end,i=r.bind(Th).getOr([]),a=o.bind(Th).getOr([]);if(i.length>0&&a.length>0){var l=Ah(n,t);return I.some(wh.multiTable(i,a,l))}return I.none()}))}(r,o,t,n):function(e,t,n,r){return _h(e,t,n,r).bind((function(e){var t=e.start,n=e.end;return t.or(n)})).bind((function(e){var r=t.isSameTable,o=Th(e).getOr([]);if(r&&e.cells.length===o.length)return I.some(wh.fullTable(e.table));if(o.length>0){if(r)return I.some(wh.partialTable(o,I.none()));var i=Ah(n,t);return I.some(wh.partialTable(o,I.some(Ae(Ae({},t),{rng:i}))))}return I.none()}))}(r,o,t,n)},Dh=function(e){var t;return(8===Ft(t=e)||"#comment"===Lt(t)?Gt(e):nn(e)).bind(Dh).orThunk((function(){return I.some(e)}))},Nh=function(e){return W(e,(function(e){or(e,"contenteditable"),Sm(e)}))},Ph=function(e,t){var n=$d(e);e.selection.setCursorLocation(t.dom,0),n.length>1&&er(t,"data-mce-selected","1")},zh=function(e,t,n){return Nh(t),n.map((function(t){var n=t.rng,r=t.isStartInTable,o=function(e,t){return I.from(e.dom.getParent(t,e.dom.isBlock)).map(At.fromDom)}(e,r?n.endContainer:n.startContainer);n.deleteContents(),function(e,t,n){n.each((function(n){t?bn(n):(Sm(n),e.selection.setCursorLocation(n.dom,0))}))}(e,r,o.filter(ri))})),n.forall((function(e){return e.isStartInTable}))?Ph(e,t[0]):e.selection.collapse(!0),!0},Bh=function(e,t,n,r){return Nh(t.concat(n)),r.deleteContents(),Ph(e,t[0]),!0},Rh=function(e,t,n){t.deleteContents();var r,o=Dh(n).getOr(n),i=At.fromDom(e.dom.getParent(o.dom,e.dom.isBlock));if(ri(i)&&(Sm(i),e.selection.setCursorLocation(i.dom,0)),!Pt(n,i)){var a=Xn(Yt(i),n)?[]:Yt(r=i).map(Qt).map((function(e){return Y(e,(function(e){return!Pt(r,e)}))})).getOr([]);W(a.concat(Qt(n)),(function(e){Pt(e,i)||Bt(e,i)||bn(e)}))}return!0},Ih=function(e,t){return vh(e,!1,t),!0},Lh=function(e,t,n,r){return Vh(t,r).fold((function(){return function(e,t,n){return Mh(t,n).map((function(t){return t.fold(O(Rh,e),O(Ih,e),O(zh,e),O(Bh,e))}))}(e,t,n)}),(function(t){return function(e,t){return Hh(e,t)}(e,t)})).getOr(!1)},Fh=function(e,t){return J(Em(t,e),wo)},Vh=function(e,t){return J(Em(t,e),(n="caption",function(e){return Ht(e)&&Lt(e)===n}));var n},Hh=function(e,t){return Sm(t),e.selection.setCursorLocation(t.dom,0),I.some(!0)},jh=function(e,t,n,r,o){return Ic(n,e.getBody(),o).bind((function(i){return function(e,t,n,r){return jc(e.dom).bind((function(o){return $c(e.dom).map((function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)}))})).getOr(!0)}(r,n,o,i)?function(e,t){return Hh(e,t)}(e,r):function(e,t,n){return Vh(e,At.fromDom(n.getNode())).map((function(e){return!1===Pt(e,t)}))}(t,r,i)})).or(I.some(!0))},$h=function(e,t,n,r){var o=Nu.fromRangeStart(e.selection.getRng());return Fh(n,r).bind((function(r){return ri(r)?Hh(e,r):function(e,t,n,r,o){return Ic(n,e.getBody(),o).bind((function(e){return Fh(t,At.fromDom(e.getNode())).map((function(e){return!1===Pt(e,r)}))}))}(e,n,t,r,o)})).getOr(!1)},Uh=function(e,t){return e?ym(t):wm(t)},Wh=function(e,t,n){var r=At.fromDom(e.getBody());return Vh(r,n).fold((function(){return $h(e,t,r,n)||function(e,t){var n=Nu.fromRangeStart(e.selection.getRng());return Uh(t,n)||Rc(t,e.getBody(),n).exists((function(e){return Uh(t,e)}))}(e,t)}),(function(n){return function(e,t,n,r){var o=Nu.fromRangeStart(e.selection.getRng());return ri(r)?Hh(e,r):jh(e,n,t,r,o)}(e,t,r,n).getOr(!1)}))},qh=function(e,t){var n=At.fromDom(e.selection.getStart(!0)),r=$d(e);return e.selection.isCollapsed()&&0===r.length?Wh(e,t,n):function(e,t,n){var r=At.fromDom(e.getBody()),o=e.selection.getRng();return 0!==n.length?zh(e,n,I.none()):Lh(e,r,o,t)}(e,n,r)},Kh=function(e){var t=Nu.fromRangeStart(e),n=Nu.fromRangeEnd(e),r=e.commonAncestorContainer;return Rc(!1,r,n).map((function(o){return!oc(t,n,r)&&oc(t,o,r)?function(e,t,n,r){var o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o}(t.container(),t.offset(),o.container(),o.offset()):e})).getOr(e)},Yh=function(e){return e.collapsed?e:Kh(e)},Gh=function(e,t){return e.getBlockElements()[t.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(t)&&function(e){return"br"===e.name||e.value===Co}(t.firstChild)},Xh=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Gh(e,t))}(e,r)&&(r=r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)},Zh=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&function(e){return e.data===Co||Un(e)}(e.firstChild)},Jh=function(e){return e.length>0&&(!(t=e[e.length-1]).firstChild||Zh(t))?e.slice(0,-1):e;var t},Qh=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},eg=function(e,t){var n=Nu.after(e),r=Dc(t).prev(n);return r?r.toRange():null},tg=function(e,t,n){var r=e.parentNode;return Tt.each(t,(function(t){r.insertBefore(t,e)})),function(e,t){var n=Nu.before(e),r=Dc(t).next(n);return r?r.toRange():null}(e,n)},ng=function(e,t,n,r){var o,i=function(e,t,n){var r=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(r))}(t,e,r),a=Qh(t,n.startContainer),l=Jh((o=i.firstChild,Y(o.childNodes,(function(e){return"LI"===e.nodeName})))),u=t.getRoot(),s=function(e){var r=Nu.fromRangeStart(n),o=Dc(t.getRoot()),i=1===e?o.prev(r):o.next(r);return!i||Qh(t,i.getNode())!==a};return s(1)?tg(a,l,u):s(2)?function(e,t,n,r){return r.insertAfter(t.reverse(),e),eg(t[0],n)}(a,l,u,t):function(e,t,n,r){var o=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]}(e,r),i=e.parentNode;return i.insertBefore(o[0],e),Tt.each(t,(function(t){i.insertBefore(t,e)})),i.insertBefore(o[1],e),i.removeChild(e),eg(t[t.length-1],n)}(a,l,u,n)},rg=Yn,og=function(e){var t=e.dom,n=Yh(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,rg);!function(e,t,n){return null!==n&&n===e.getParent(t.endContainer,rg)&&Kd(At.fromDom(n),t)}(t,n,r)?e.getDoc().execCommand("Delete",!1,null):Rh(e,n,At.fromDom(r))},ig=function(e,t,n){var r,o,i,a=e.selection,l=e.dom;/^ | $/.test(t)&&(t=function(e,t,n){var r=At.fromDom(e.getRoot());return n=Gm(r,Nu.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),Xm(r,Nu.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(l,a.getRng(),t));var u=e.parser,s=n.merge,c=nm({validate:ks(e)},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',f=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(f.isDefaultPrevented())e.fire("SetContent",{content:f.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=f.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);var p=(o=a.getRng()).startContainer||(o.parentElement?o.parentElement():null),m=e.getBody();p===m&&a.isCollapsed()&&l.isBlock(m.firstChild)&&function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]}(e,m.firstChild)&&l.isEmpty(m.firstChild)&&((o=l.createRng()).setStart(m.firstChild,0),o.setEnd(m.firstChild,0),a.setRng(o)),a.isCollapsed()||og(e);var h,g={context:(r=a.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},b=u.parse(t,g);if(!0===n.paste&&Xh(e.schema,b)&&function(e,t){return!!Qh(e,t)}(l,r))return o=ng(c,l,a.getRng(),b),a.setRng(o),void e.fire("SetContent",f);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(b),"mce_marker"===(i=b.lastChild).attr("id")){var y=i;for(i=i.prev;i;i=i.walk(!0))if(3===i.type||!l.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(y,i,"br"===i.name);break}}if(e._selectionOverrides.showBlockCaretContainer(r),g.invalid){e.selection.setContent(d),r=a.getNode();var w=e.getBody();for(9===r.nodeType?r=i=w:i=r;i!==w;)r=i,i=i.parentNode;t=r===w?w.innerHTML:l.getOuterHTML(r),t=c.serialize(u.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return c.serialize(b)})))),r===w?l.setHTML(w,t):l.setOuterHTML(r,t)}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(e,t=c.serialize(b),r);!function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=Qp(r);Tt.each(r.select("*[data-mce-fragment]"),(function(e){if(v(n[e.nodeName.toLowerCase()])&&am(r,e))for(var t=e.parentNode;v(t)&&t!==o&&!lm(r,e,t);t=t.parentNode)if(i.compare(t,e)){r.remove(e,!0);break}}))}}(e,s),function(e,t){var n,r=e.dom,o=e.selection;if(t){o.scrollIntoView(t);var i=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===r.getContentEditable(t))return t;return null}(t);if(i)return r.remove(t),void o.select(i);var a=r.createRng(),l=t.previousSibling;if(Vn(l)){if(a.setStart(l,l.nodeValue.length),!Ct.ie){var u=t.nextSibling;Vn(u)&&(l.appendData(u.data),u.parentNode.removeChild(u))}}else a.setStartBefore(t),a.setEndBefore(t);var s=r.getParent(t,r.isBlock);r.remove(t),s&&r.isEmpty(s)&&(e.$(s).empty(),a.setStart(s,0),a.setEnd(s,0),rg(s)||function(e){return!!e.getAttribute("data-mce-fragment")}(s)||!(n=function(t){var n=Nu.fromRangeStart(t);if(n=Dc(e.getBody()).next(n))return n.toRange()}(a))?r.add(s,r.create("br",{"data-mce-bogus":"1"})):(a=n,r.remove(s))),o.setRng(a)}}(e,l.get("mce_marker")),h=e.getBody(),Tt.each(h.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),function(e,t){I.from(e.getParent(t,"td,th")).map(At.fromDom).each(_m)}(l,a.getStart()),e.fire("SetContent",f),e.addVisual()}},ag=function(e,t){t(e),e.firstChild&&ag(e.firstChild,t),e.next&&ag(e.next,t)},lg=function(e,t,n){var r=function(e,t,n){var r={},o={},i=[];for(var a in n.firstChild&&ag(n.firstChild,(function(n){W(e,(function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})),W(t,(function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})}))})),r)ye(r,a)&&i.push(r[a]);for(var l in o)ye(o,l)&&i.push(o[l]);return i}(e,t,n);W(r,(function(e){W(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))},ug=function(e){return e instanceof Vp},sg=function(e,t,n){e.dom.setHTML(e.getBody(),t),!0!==n&&function(e){Tp(e)&&jc(e.getBody()).each((function(t){var n=t.getNode(),r=In(n)?jc(n).getOr(t):t;e.selection.setRng(r.toRange())}))}(e)},cg=function(e,t,n){var r=function(e,t){return Ae(Ae({format:"html"},e),{set:!0,content:ug(t)?"":t})}(n,t),o=n.no_events?r:e.fire("BeforeSetContent",r);return ug(t)||(t=o.content),I.from(e.getBody()).fold(k(t),(function(n){return ug(t)?function(e,t,n,r){lg(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=nm({validate:e.validate},e.schema).serialize(n);return r.content=xo(At.fromDom(t))?o:Tt.trim(o),sg(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r),n}(e,n,t,o):function(e,t,n,r){if(0===n.length||/^\s+$/.test(n)){var o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");var i=as(e);i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=e.dom.createHTML(i,ls(e),n)):n||(n='<br data-mce-bogus="1">'),sg(e,n,r.no_selection),e.fire("SetContent",r)}else"raw"!==r.format&&(n=nm({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=xo(At.fromDom(t))?n:Tt.trim(n),sg(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r);return r.content}(e,n,t,o)}))},dg=function(e,t){return function(e,t){var n=e.dom;return n.parentNode?Jr(At.fromDom(n.parentNode),(function(n){return!Pt(e,n)&&t(n)})):I.none()}(e,t).isSome()},fg=function(e){return b(e)?e:N},pg=function(e,t,n){var r=t(e),o=fg(n);return r.orThunk((function(){return o(e)?I.none():function(e,t,n){for(var r=e.dom,o=fg(n);r.parentNode;){r=r.parentNode;var i=At.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return I.none()}(e,t,o)}))},mg=md,hg=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(xd(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return!0}return!1},gg=function(e,t,n,r,o){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,(function(t){return!!hg(e,t,n)||t.parentNode===i||!!yg(e,t,n,r,!0)})),!!yg(e,t,n,r,o))},vg=function(e,t,n){return!!mg(t,n.inline)||!!mg(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},bg=function(e,t,n,r,o,i){var a=n[r];if(b(n.onmatch))return n.onmatch(t,n,r);if(a)if(h(a.length)){for(var l in a)if(ye(a,l)){var u="attributes"===r?e.getAttrib(t,l):gd(e,t,l),s=pd(a[l],i),c=g(u)||$e(u);if(c&&g(s))continue;if(o&&c&&!n.exact)return!1;if((!o||n.exact)&&!mg(u,hd(e,s,l)))return!1}}else for(var d=0;d<a.length;d++)if("attributes"===r?e.getAttrib(t,a[d]):gd(e,t,a[d]))return!0;return!0},yg=function(e,t,n,r,o){var i=e.formatter.get(n),a=e.dom;if(i&&t)for(var l=0;l<i.length;l++){var u=i[l];if(vg(e.dom,t,u)&&bg(a,t,u,"attributes",o,r)&&bg(a,t,u,"styles",o,r)){var s=u.classes;if(s)for(var c=0;c<s.length;c++)if(!e.dom.hasClass(t,pd(s[c],r)))return;return u}}},wg=function(e,t,n,r,o){if(r)return gg(e,r,t,n,o);if(r=e.selection.getNode(),gg(e,r,t,n,o))return!0;var i=e.selection.getStart();return!(i===r||!gg(e,i,t,n,o))},xg=function(e,t){var n=function(t){return Pt(t,At.fromDom(e.getBody()))};return I.from(e.selection.getStart(!0)).bind((function(r){return pg(At.fromDom(r),(function(n){return ue(t,(function(t){return function(t,n){return yg(e,t.dom,n)?I.some(n):I.none()}(n,t)}))}),n)})).getOrNull()},Cg=function(e,t,n){return X(n,(function(n,r){var o=function(e,t){return $(e.formatter.get(t),(function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return $(["styles","attributes"],(function(n){return be(e,n).exists((function(e){var n=f(e)?e:ve(e);return $(n,t)}))}))}))}(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n}),[])},kg=ko,Sg="_mce_caret",_g=function(e){return function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==kg||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length>0},Og=function(e){if(e){var t=new so(e,e);for(e=t.current();e;e=t.next())if(Vn(e))return e}return null},Tg=function(e){var t=At.fromTag("span");return tr(t,{id:Sg,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&hn(t,At.fromText(kg)),t},Eg=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(_g(t))vh(e,!1,At.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),l=i.startContainer,u=i.startOffset,s=i.endContainer,c=i.endOffset,d=function(e){var t=Og(e);return t&&t.nodeValue.charAt(0)===kg&&t.deleteData(0,1),t}(t);r.remove(t,!0),l===d&&u>0&&i.setStart(d,u-1),s===d&&c>0&&i.setEnd(d,c-1),a&&r.isEmpty(a)&&Sm(At.fromDom(a)),o.setRng(i)}},Ag=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)Eg(e,t,n);else if(!(t=qc(e.getBody(),o.getStart())))for(;t=r.get(Sg);)Eg(e,t,!1)},Mg=function(e,t){return e.appendChild(t),t},Dg=function(e,t){var n=G(e,(function(e,t){return Mg(e,t.cloneNode(!1))}),t);return Mg(n,n.ownerDocument.createTextNode(kg))},Ng=function(e,t,n,r){var o,i,a,l=e.dom,u=e.selection,s=[],c=u.getRng(),d=c.startContainer,f=c.startOffset;for(i=d,3===d.nodeType&&(f!==d.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(yg(e,i,t,n,r)){a=i;break}i.nextSibling&&(o=!0),s.push(i),i=i.parentNode}if(a)if(o){var p=u.getBookmark();c.collapse(!0);var m=Ld(e,c,e.formatter.get(t),!0);m=Ef(m),e.formatter.remove(t,n,m,r),u.moveToBookmark(p)}else{var h=qc(e.getBody(),a),g=Tg(!1).dom;!function(e,t,n){var r=e.dom,o=r.getParent(n,O(cd,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(km(At.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))}(e,g,null!==h?h:a);var v=function(e,t,n,r,o,i){var a=e.formatter,l=e.dom,u=Y(se(a.get()),(function(e){return e!==r&&!Re(e,"removeformat")})),s=Cg(e,n,u);if(Y(s,(function(t){return!yd(e,t,r)})).length>0){var c=n.cloneNode(!1);return l.add(t,c),a.remove(r,o,c,i),l.remove(c),I.some(c)}return I.none()}(e,g,a,t,n,r),b=Dg(s.concat(v.toArray()),g);Eg(e,h,!1),u.setCursorLocation(b,1),l.isEmpty(a)&&l.remove(a)}},Pg=function(e){e.on("mouseup keydown",(function(t){!function(e,t){var n=e.selection,r=e.getBody();Ag(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==kg||Ag(e,qc(r,n.getStart())),37!==t&&39!==t||Ag(e,qc(r,n.getStart()))}(e,t.keyCode)}))},zg=function(e,t){var n=e.schema.getTextInlineElements();return ye(n,Lt(t))&&!Wc(t.dom)&&!Rn(t.dom)},Bg={},Rg=Se,Ig=Ce;!function(e,t){Bg[e]||(Bg[e]=[]),Bg[e].push(t)}("pre",(function(e){var t,n=e.selection.getRng(),r=Pn(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),Ig(Rg(Rg(t,r),(function(e){return r(e.previousSibling)&&-1!==_e(t,e.previousSibling)})),(function(e){var t,n;t=e.previousSibling,dl(n=e).remove(),dl(t).append("<br><br>").append(n.childNodes)})))}));var Lg,Fg,Vg=Tt.each,Hg=function(e){return Nn(e)&&!rd(e)&&!Wc(e)&&!Rn(e)},jg=function(e,t){for(var n=e;n;n=n[t]){if(Vn(n)&&je(n.data))return e;if(Nn(n)&&!rd(n))return n}return e},$g=function(e,t,n){var r=Qp(e);if(t&&n&&(t=jg(t,"previousSibling"),n=jg(n,"nextSibling"),r.compare(t,n))){for(var o=t.nextSibling;o&&o!==n;){var i=o;o=o.nextSibling,t.appendChild(i)}return e.remove(n),Tt.each(Tt.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},Ug=function(e,t,n,r){if(r&&!1!==t.merge_siblings){var o=$g(e,sd(r),r);$g(e,o,sd(o,!0))}},Wg=function(e,t,n){Vg(e.childNodes,(function(e){Hg(e)&&(t(e)&&n(e),e.hasChildNodes()&&Wg(e,t,n))}))},qg=function(e,t){return function(n){return!(!n||!gd(e,n,t))}},Kg=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)}(e,r)}},Yg=Or([{keep:[]},{rename:["name"]},{removed:[]}]),Gg=/^(src|href|style)$/,Xg=Tt.each,Zg=md,Jg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Qg=function(e,t,n){var r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Nn(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return Vn(r)&&n&&o>=r.nodeValue.length&&(r=new so(r,e.getBody()).next()||r),Vn(r)&&!n&&0===o&&(r=new so(r,e.getBody()).prev()||r),r},ev=function(e,t){var n=t?"firstChild":"lastChild";if(function(e){return/^(TR|TH|TD)$/.test(e.nodeName)}(e)&&e[n]){var r=e[n];return"TR"===e.nodeName&&r[n]||r}return e},tv=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},nv=function(e,t,n,r,o){var i=At.fromDom(t),a=At.fromDom(e.create(r,o)),l=n?Jt(i):Zt(i);return gn(a,l),n?(fn(i,a),mn(a,i)):(pn(i,a),hn(a,i)),a.dom},rv=function(e,t,n,r){var o=sd(t,n,r);return g(o)||"BR"===o.nodeName||e.isBlock(o)},ov=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=as(e);wd(n)&&(a?o===i.getRoot()&&(n.list_block&&Zg(t,n.list_block)||W(le(t.childNodes),(function(t){dd(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=tv(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=null}))):i.isBlock(t)&&!i.isBlock(o)&&(rv(i,t,!1)||rv(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),rv(i,t,!0)||rv(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),function(e){return xd(e)&&Cd(e)&&Xn(be(e,"mixed"),!0)}(n)&&!Zg(n.inline,t)||i.remove(t,!0)},iv=function(e,t,n,r,o){var i,a=e.dom;if(!function(e,t,n){return!(!Cd(n)||!Zg(t,n.inline))||!(!wd(n)||!Zg(t,n.block))||(xd(n)?Nn(t)&&e.is(t,n.selector):void 0)}(a,r,t)&&!function(e,t){return t.links&&"A"===e.nodeName}(r,t))return Yg.keep();var l=r;if(Cd(t)&&"all"===t.remove&&f(t.preserve_attributes)){var u=Y(a.getAttribs(l),(function(e){return j(t.preserve_attributes,e.name.toLowerCase())}));if(a.removeAllAttribs(l),W(u,(function(e){return a.setAttrib(l,e.name,e.value)})),u.length>0)return Yg.rename("span")}if("all"!==t.remove){Xg(t.styles,(function(e,r){e=hd(a,pd(e,n),r+""),y(r)&&(r=e,o=null),(t.remove_similar||!o||Zg(gd(a,o,r),e))&&a.setStyle(l,r,""),i=!0})),i&&""===a.getAttrib(l,"style")&&(l.removeAttribute("style"),l.removeAttribute("data-mce-style")),Xg(t.attributes,(function(e,r){var i;if(e=pd(e,n),y(r)&&(r=e,o=null),t.remove_similar||!o||Zg(a.getAttrib(o,r),e)){if("class"===r&&(e=a.getAttrib(l,r))&&(i="",W(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)})),i))return void a.setAttrib(l,r,i);if(Gg.test(r)&&l.removeAttribute("data-mce-"+r),"style"===r&&Pn(["li"])(l)&&"none"===a.getStyle(l,"list-style-type"))return l.removeAttribute(r),void a.setStyle(l,"list-style-type","none");"class"===r&&l.removeAttribute("className"),l.removeAttribute(r)}})),Xg(t.classes,(function(e){e=pd(e,n),o&&!a.hasClass(o,e)||a.removeClass(l,e)}));for(var s=a.getAttribs(l),c=0;c<s.length;c++){var d=s[c].nodeName;if(0!==d.indexOf("_")&&0!==d.indexOf("data-"))return Yg.keep()}}return"none"!==t.remove?(ov(e,l,t),Yg.removed()):Yg.keep()},av=function(e,t,n,r,o){return iv(e,t,n,r,o).fold(N,(function(t){return e.dom.rename(r,t),!0}),P)},lv=function(e,t,n,r){return iv(e,t,n,r,r).fold(k(r),(function(t){return e.dom.createFragment().appendChild(r),e.dom.rename(r,t)}),k(null))},uv=function(e,t,n,r,o){var i=e.formatter.get(t),a=i[0],l=!0,u=e.dom,s=e.selection,c=function(r){var l=function(e,t,n,r,o){var i;return W(bd(e.dom,t.parentNode).reverse(),(function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=yg(e,t,n,r,o);a&&!1!==a.split&&(i=t)}})),i}(e,r,t,n,o);return function(e,t,n,r,o,i,a,l){var u,s,c,d=e.dom;if(n){for(var f=n.parentNode,p=r.parentNode;p&&p!==f;p=p.parentNode){u=d.clone(p,!1);for(var m=0;m<t.length&&null!==(u=lv(e,t[m],l,u));m++);u&&(s&&u.appendChild(s),c||(c=u),s=u)}!i||a.mixed&&d.isBlock(n)||(r=d.split(n,r)),s&&(o.parentNode.insertBefore(s,o),c.appendChild(o),Cd(a)&&Ug(d,a,0,s))}return r}(e,i,l,r,r,!0,a,n)},d=function(t){return $(i,(function(r){return av(e,r,n,t,t)}))},f=function(t){var n=!0,r=!1;Nn(t)&&u.getContentEditable(t)&&(n=l,l="true"===u.getContentEditable(t),r=!0);var o=le(t.childNodes);if(l&&!r){var i=d(t),s=t.parentNode;!i&&v(s)&&kd(a)&&d(s)}if(a.deep&&o.length){for(var c=0;c<o.length;c++)f(o[c]);r&&(l=n)}W(["underline","line-through","overline"],(function(n){Nn(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&vd(u,t.parentNode)===n&&av(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))},p=function(e){var t=u.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return function(e){return rd(e)&&Nn(e)&&("_start"===e.id||"_end"===e.id)}(n)&&(n=n[e?"firstChild":"lastChild"]),Vn(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),u.remove(t,!0),n},m=function(t){var n,r,o=Ld(e,t,i,t.collapsed);if(a.split){if(o=Ef(o),(n=Qg(e,o,!0))!==(r=Qg(e,o))){if(n=ev(n,!0),r=ev(r,!1),Jg(u,n,r)){var l=I.from(n.firstChild).getOr(n);return c(nv(u,l,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(Jg(u,r,n))return l=I.from(r.lastChild).getOr(r),c(nv(u,l,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1);n=tv(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=tv(u,r,"span",{id:"_end","data-mce-type":"bookmark"});var s=u.createRng();s.setStartAfter(n),s.setEndBefore(r),Fd(u,s,(function(e){W(e,(function(e){rd(e)||rd(e.parentNode)||c(e)}))})),c(n),c(r),n=p(!0),r=p()}else n=r=c(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=u.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=u.nodeIndex(r)+1}Fd(u,o,(function(e){W(e,f)}))};if(r){if(ld(r)){var h=u.createRng();h.setStartBefore(r),h.setEndAfter(r),m(h)}else m(r);df(e,t,r,n)}else if("false"!==u.getContentEditable(s.getNode()))s.isCollapsed()&&Cd(a)&&!$d(e).length?Ng(e,t,n,o):(Zd(s,!0,(function(){Xd(e,m)})),Cd(a)&&wg(e,t,n,s.getStart())&&ud(u,s,s.getRng()),e.nodeChanged()),df(e,t,r,n);else{r=s.getNode();for(var g=0;g<i.length&&(!i[g].ceFalseOverride||!av(e,i[g],n,r,r));g++);df(e,t,r,n)}},sv=Tt.each,cv=function(e,t,n,r){sv(t,(function(t){Cd(t)&&sv(e.dom.select(t.inline,r),(function(r){Hg(r)&&av(e,t,n,r,t.exact?r:null)})),function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";Vg(e.select(r,n),(function(n){Hg(n)&&Vg(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}}(e.dom,t,r)}))},dv=Tt.each,fv=function(e){return Nn(e)&&!rd(e)&&!Wc(e)&&!Rn(e)},pv=function(e,t,n,r){var o=e.formatter.get(t),i=o[0],a=!r&&e.selection.isCollapsed(),l=e.dom,u=e.selection,s=function(e,t){if(void 0===t&&(t=i),b(t.onformat)&&t.onformat(e,t,n,r),dv(t.styles,(function(t,r){l.setStyle(e,r,pd(t,n))})),t.styles){var o=l.getAttrib(e,"style");o&&l.setAttrib(e,"data-mce-style",o)}dv(t.attributes,(function(t,r){l.setAttrib(e,r,pd(t,n))})),dv(t.classes,(function(t){t=pd(t,n),l.hasClass(e,t)||l.addClass(e,t)}))},d=function(e,t){var n=!1;return dv(e,(function(e){return!!xd(e)&&(v(e.collapsed)&&e.collapsed!==a?void 0:l.is(t,e.selector)&&!Wc(t)?(s(t,e),n=!0,!1):void 0)})),n},f=function(r,a,u){var f=[],p=!0,m=i.inline||i.block,h=function(e){if(c(e)){var t=l.create(e);return s(t),t}return null}(m);Fd(r,a,(function(a){var l,c=function(a){var g=!1,b=p,y=a.nodeName.toLowerCase(),w=a.parentNode,x=w.nodeName.toLowerCase();if(Nn(a)&&r.getContentEditable(a)&&(b=p,p="true"===r.getContentEditable(a),g=!0),Un(a)&&!function(e,t,n,r){if(function(e){return e.getParam("format_empty_lines",!1,"boolean")}(e)&&Cd(t)){var o=Ae(Ae({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=dg(At.fromDom(n),(function(e){return Wc(e.dom)}));return we(o,r)&&ri(At.fromDom(n.parentNode),!1)&&!i}return!1}(e,i,a,x))return l=null,void(wd(i)&&r.remove(a));if(wd(i)&&i.wrapper&&yg(e,a,t,n))l=null;else{if(p&&!g&&wd(i)&&!i.wrapper&&cd(e,y)&&dd(e,x,m)){var C=r.rename(a,m);return s(C),f.push(C),void(l=null)}if(xd(i)){var k=d(o,a);if(!k&&v(w)&&kd(i)&&(k=d(o,w)),!Cd(i)||k)return void(l=null)}!p||g||!dd(e,m,y)||!dd(e,x,m)||!u&&Vn(a)&&So(a.data)||Wc(a)||Cd(i)&&r.isBlock(a)?(l=null,W(le(a.childNodes),c),g&&(p=b),l=null):(l||(l=r.clone(h,!1),a.parentNode.insertBefore(l,a),f.push(l)),l.appendChild(a))}};W(a,c)})),!0===i.links&&W(f,(function(e){var t=function(e){"A"===e.nodeName&&s(e,i),W(le(e.childNodes),t)};t(e)})),W(f,(function(a){var l,u=(l=0,W(a.childNodes,(function(e){(function(e){return v(e)&&Vn(e)&&0===e.length})(e)||rd(e)||l++})),l);!(f.length>1)&&r.isBlock(a)||0!==u?(Cd(i)||wd(i)&&i.wrapper)&&(i.exact||1!==u||(a=function(e){return J(e.childNodes,fv).filter((function(e){return vg(r,e,i)})).map((function(t){var n=r.clone(t,!1);return s(n),r.replace(n,e,!0),r.remove(t,!0),n})).getOr(e)}(a)),cv(e,o,n,a),function(e,t,n,r,o){yg(e,o.parentNode,n,r)&&av(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,(function(i){if(yg(e,i,n,r))return av(e,t,r,o),!0}))}(e,i,t,n,a),function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Wg(r,qg(e,"fontSize"),Kg(e,"backgroundColor",pd(t.styles.backgroundColor,n)))}(r,i,n,a),function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=vd(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Tt.walk(r,o,"childNodes"),o(r))}(r,i,0,a),function(e,t,n,r){!Cd(t)||"sub"!==t.inline&&"sup"!==t.inline||(Wg(r,qg(e,"fontSize"),Kg(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))}(r,i,0,a),Ug(r,i,0,a)):r.remove(a,!0)}))};if("false"!==l.getContentEditable(u.getNode())){if(i){if(r)if(ld(r)){if(!d(o,r)){var p=l.createRng();p.setStartBefore(r),p.setEndAfter(r),f(l,Ld(e,p,o),!0)}}else f(l,r,!0);else if(a&&Cd(i)&&!$d(e).length)!function(e,t,n){var r,o,i=e.selection,a=i.getRng(),l=a.startOffset,u=a.startContainer.nodeValue;(r=qc(e.getBody(),i.getStart()))&&(o=Og(r));var s,c,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&l>0&&l<u.length&&d.test(u.charAt(l))&&d.test(u.charAt(l-1))){var f=i.getBookmark();a.collapse(!0);var p=Ld(e,a,e.formatter.get(t));p=Ef(p),e.formatter.apply(t,n,p),i.moveToBookmark(f)}else r&&o.nodeValue===kg||(s=e.getDoc(),c=Tg(!0).dom,o=(r=s.importNode(c,!0)).firstChild,a.insertNode(r),l=1),e.formatter.apply(t,n,r),i.setCursorLocation(o,l)}(e,t,n);else{var m=u.getNode(),h=o[0];e.settings.forced_root_block||!h.defaultBlock||l.getParent(m,l.isBlock)||pv(e,h.defaultBlock),u.setRng(Yh(u.getRng())),Zd(u,!0,(function(){Xd(e,(function(t,n){var r=n?t:Ld(e,t,o);f(l,r,!1)}))})),ud(l,u,u.getRng()),e.nodeChanged()}!function(e,t){Ig(Bg[e],(function(e){e(t)}))}(t,e)}cf(e,t,r,n)}else{r=u.getNode();for(var g=0,y=o.length;g<y;g++){var w=o[g];if(w.ceFalseOverride&&xd(w)&&l.is(r,w.selector)){s(r,w);break}}cf(e,t,r,n)}},mv=function(e){return ye(e,"vars")},hv=function(e){return e.selection.getStart()},gv=function(e,t,n,r,o){return Z(t,(function(t){var i=e.formatter.matchNode(t,n,null!=o?o:{},r);return!h(i)}),(function(t){return!!hg(e,t,n)||!r&&v(e.formatter.matchNode(t,n,o,!0))}))},vv=function(e,t){var n=null!=t?t:hv(e);return Y(bd(e.dom,n),(function(e){return Nn(e)&&!Rn(e)}))},bv=function(e,t,n){var r=vv(e,t);de(n,(function(n,o){var i=function(n){var i=gv(e,r,o,n.similar,mv(n)?n.vars:void 0),a=i.isSome();if(n.state.get()!==a){n.state.set(a);var l=i.getOr(t);mv(n)?n.callback(a,{node:l,format:o,parents:r}):W(n.callbacks,(function(e){return e(a,{node:l,format:o,parents:r})}))}};W([n.withSimilar,n.withoutSimilar],i),W(n.withVars,i)}))},yv=function(e,t,n,r,o,i){return null===t.get()&&function(e,t){e.set({}),t.on("NodeChange",(function(n){bv(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(function(n){var r=I.from(n.node).map((function(e){return ld(e)?e:e.startContainer})).bind((function(e){return Nn(e)?I.some(e):I.from(e.parentElement)})).getOrThunk((function(){return hv(t)}));bv(t,r,e.get())}))}(t,e),function(e,t,n,r,o,i){var a=t.get();W(n.split(","),(function(t){var n=be(a,t).getOrThunk((function(){var e={withSimilar:{state:_l(!1),similar:!0,callbacks:[]},withoutSimilar:{state:_l(!1),similar:!1,callbacks:[]},withVars:[]};return a[t]=e,e})),l=function(){var n=vv(e);return gv(e,n,t,o,i).isSome()};if(h(i)){var u=o?n.withSimilar:n.withoutSimilar;u.callbacks.push(r),1===u.callbacks.length&&u.state.set(l())}else n.withVars.push({state:_l(l()),similar:o,vars:i,callback:r})})),t.set(a)}(e,t,n,r,o,i),{unbind:function(){return function(e,t,n){var r=e.get();W(t.split(","),(function(e){return be(r,e).each((function(t){r[e]={withSimilar:Ae(Ae({},t.withSimilar),{callbacks:Y(t.withSimilar.callbacks,(function(e){return e!==n}))}),withoutSimilar:Ae(Ae({},t.withoutSimilar),{callbacks:Y(t.withoutSimilar.callbacks,(function(e){return e!==n}))}),withVars:Y(t.withVars,(function(e){return e.callback!==n}))}}))})),e.set(r)}(t,n,r)}}},wv=function(e,t){var n=(t||document).createDocumentFragment();return W(e,(function(e){n.appendChild(e.dom)})),At.fromDom(n)},xv=function(e,t,n){return{element:e,width:t,rows:n}},Cv=function(e,t){return{element:e,cells:t}},kv=function(e,t){return{x:e,y:t}},Sv=function(e,t){var n=parseInt(nr(e,t),10);return isNaN(n)?1:n},_v=function(e,t,n){var r=e.rows;return!!(r[n]?r[n].cells:[])[t]},Ov=function(e){return X(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)},Tv=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Pt(o[i],t))return I.some(kv(i,r));return I.none()},Ev=function(e,t,n,r,o){for(var i=[],a=e.rows,l=n;l<=o;l++){var u=a[l].cells,s=t<r?u.slice(t,r+1):u.slice(r,t+1);i.push(Cv(a[l].element,s))}return i},Av=function(e){var t=xv(eu(e),0,[]);return W(jl(e,"tr"),(function(e,n){W(jl(e,"td,th"),(function(r,o){!function(e,t,n,r,o){for(var i=Sv(o,"rowspan"),a=Sv(o,"colspan"),l=e.rows,u=n;u<n+i;u++){l[u]||(l[u]=Cv(tu(r),[]));for(var s=t;s<t+a;s++)l[u].cells[s]=u===n&&s===t?o:eu(o)}}(t,function(e,t,n){for(;_v(e,t,n);)t++;return t}(t,o,n),n,e,r)}))})),xv(t.element,Ov(t.rows),t.rows)},Mv=function(e){return function(e,t){var n=eu(e.element),r=At.fromTag("tbody");return gn(r,t),hn(n,r),n}(e,function(e){return U(e.rows,(function(e){var t=U(e.cells,(function(e){var t=tu(e);return or(t,"colspan"),or(t,"rowspan"),t})),n=eu(e.element);return gn(n,t),n}))}(e))},Dv=function(e,t,n){return Tv(e,t).bind((function(t){return Tv(e,n).map((function(n){return function(e,t,n){var r=t.x,o=t.y,i=n.x,a=n.y,l=o<a?Ev(e,r,o,i,a):Ev(e,r,a,i,o);return xv(e.element,Ov(l),l)}(e,t,n)}))}))},Nv=function(e,t){return J(e,(function(e){return"li"===Lt(e)&&Kd(e,t)})).fold(k([]),(function(t){return function(e){return J(e,(function(e){return"ul"===Lt(e)||"ol"===Lt(e)}))}(e).map((function(e){var t=At.fromTag(Lt(e)),n=ge(sr(e),(function(e,t){return Ie(t,"list-style")}));return ir(t,n),[At.fromTag("li"),t]})).getOr([])}))},Pv=function(e,t){var n=At.fromDom(t.commonAncestorContainer),r=Em(n,e),o=Y(r,(function(e){return mo(e)||fo(e)})),i=Nv(r,t),a=o.concat(i.length?i:function(e){return bo(e)?Yt(e).filter(vo).fold(k([]),(function(t){return[e,t]})):vo(e)?[e]:[]}(n));return U(a,eu)},zv=function(){return wv([])},Bv=function(e,t){return n=At.fromDom(t.cloneContents()),r=Pv(e,t),o=X(r,(function(e,t){return hn(t,e),t}),n),r.length>0?wv([o]):o;var n,r,o},Rv=function(e,t){return(n=e,r=t[0],Qr(r,"table",O(Pt,n))).bind((function(e){var n=t[0],r=t[t.length-1],o=Av(e);return Dv(o,n,r).map((function(e){return wv([Mv(e)])}))})).getOrThunk(zv);var n,r},Iv=function(e,t){var n=jd(t,e);return n.length>0?Rv(e,n):function(e,t){return t.length>0&&t[0].collapsed?zv():Bv(e,t[0])}(e,t)},Lv=function(e,t){return t>=0&&t<e.length&&id(e.charAt(t))},Fv=function(e,t){var n=_o(e.innerText);return t?function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")}(n):n},Vv=function(e,t,n){void 0===n&&(n={});var r=function(e,t){return Ae(Ae({},e),{format:t,get:!0,selection:!0})}(n,t),o=e.fire("BeforeGetContent",r);if(o.isDefaultPrevented())return e.fire("GetContent",o),o.content;if("text"===o.format)return function(e){return I.from(e.selection.getRng()).map((function(t){var n=I.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),o=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()}(n),i=Ct.browser.isIE()&&"pre"!==o,a=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),l=Fv(a,i),u=_o(a.textContent);if(e.dom.remove(a),Lv(u,0)||Lv(u,u.length-1)){var s=n.getOr(r),c=Fv(s,i),d=c.indexOf(l);return-1===d?l:(Lv(c,d-1)?" ":"")+l+(Lv(c,d+l.length)?" ":"")}return l})).getOr("")}(e);o.getInner=!0;var i=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=Bp(e,Vd(o)),a=t.contextual?Iv(At.fromDom(e.getBody()),i).dom:n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)}(e,o);return"tree"===o.format?i:(o.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",o),o.content)},Hv=function(e){return Nn(e)?e.outerHTML:Vn(e)?xi.encodeRaw(e.data,!1):Hn(e)?"\x3c!--"+e.data+"--\x3e":""},jv=function(e,t,n){var r=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},$v=function(e,t){var n,r,o,i,a,l,u,s,c,d=U(le(t.childNodes),Hv);return function(e,t){var n=0;W(e,(function(e){0===e[0]?n++:1===e[0]?(jv(t,e[1],n),n++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(t,n)}))}((r=e,o=(n=d).length+r.length+2,i=new Array(o),a=new Array(o),l=function(e,t,o,i,a){var u=s(e,t,o,i);if(null===u||u.start===t&&u.diag===t-i||u.end===e&&u.diag===e-o)for(var c=e,d=o;c<t||d<i;)c<t&&d<i&&n[c]===r[d]?(a.push([0,n[c]]),++c,++d):t-e>i-o?(a.push([2,n[c]]),++c):(a.push([1,r[d]]),++d);else{l(e,u.start,o,u.start-u.diag,a);for(var f=u.start;f<u.end;++f)a.push([0,n[f]]);l(u.end,t,u.end-u.diag,i,a)}},u=function(e,t,o,i){for(var a=e;a-t<i&&a<o&&n[a]===r[a-t];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(e,a,t)},s=function(e,t,o,l){var s=t-e,c=l-o;if(0===s||0===c)return null;var d,f,p,m,h,g=s-c,v=c+s,b=(v%2==0?v:v+1)/2;for(i[1+b]=e,a[1+b]=t+1,d=0;d<=b;++d){for(f=-d;f<=d;f+=2){for(p=f+b,f===-d||f!==d&&i[p-1]<i[p+1]?i[p]=i[p+1]:i[p]=i[p-1]+1,h=(m=i[p])-e+o-f;m<t&&h<l&&n[m]===r[h];)i[p]=++m,++h;if(g%2!=0&&g-d<=f&&f<=g+d&&a[p-g]<=i[p])return u(a[p-g],f+e-o,t,l)}for(f=g-d;f<=g+d;f+=2){for(p=f+b-g,f===g-d||f!==g+d&&a[p+1]<=a[p-1]?a[p]=a[p+1]-1:a[p]=a[p-1],h=(m=a[p]-1)-e+o-f;m>=e&&h>=o&&n[m]===r[h];)a[p]=m--,h--;if(g%2==0&&-d<=f&&f<=d&&a[p]<=i[p+g])return u(a[p],f+e-o,t,l)}}},c=[],l(0,n.length,0,r.length,c),c),t),t},Uv=De((function(){return document.implementation.createHTMLDocument("undo")})),Wv=function(e){var t,n=(t=e.getBody(),Y(U(le(t.childNodes),Hv),(function(e){return e.length>0}))),r=ee(n,(function(t){var n=Gp(e.serializer,t);return n.length>0?[n]:[]})),o=r.join("");return-1!==o.indexOf("</iframe>")?function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}(r):function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}(o)},qv=function(e,t,n){var r=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?$v(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!v(r)||!Kc(r)||!r.isFakeCaret}),e.selection.moveToBookmark(r)},Kv=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Yv=function(e){var t=At.fromTag("body",Uv());return Jl(t,Kv(e)),W(jl(t,"*[data-mce-bogus]"),yn),t.dom.innerHTML},Gv=function(e,t){return!(!e||!t)&&(!!function(e,t){return Kv(e)===Kv(t)}(e,t)||function(e,t){return Yv(e)===Yv(t)}(e,t))},Xv=function(e){return 0===e.get()},Zv=function(e,t,n){Xv(n)&&(e.typing=t)},Jv=function(e,t){e.typing&&(Zv(e,!1,t),e.add())},Qv=function(e){return{undoManager:{beforeChange:function(t,n){return function(e,t,n){Xv(t)&&n.set(ns(e.selection))}(e,t,n)},add:function(t,n,r,o,i,a){return function(e,t,n,r,o,i,a){var l=Wv(e);if(i=i||{},i=Tt.extend(i,l),!1===Xv(r)||e.removed)return null;var u=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:u,originalEvent:a}).isDefaultPrevented())return null;if(u&&Gv(u,i))return null;t.data[n.get()]&&o.get().each((function(e){t.data[n.get()].beforeBookmark=e}));var s=function(e){return e.getParam("custom_undo_redo_levels",0,"number")}(e);if(s&&t.data.length>s){for(var c=0;c<t.data.length-1;c++)t.data[c]=t.data[c+1];t.data.length--,n.set(t.data.length)}i.bookmark=ns(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var d={level:i,lastLevel:u,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",d),e.fire("change",d)):e.fire("AddUndo",d),i}(e,t,n,r,o,i,a)},undo:function(t,n,r){return function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,Zv(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],qv(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o}(e,t,n,r)},redo:function(t,n){return function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],qv(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r}(e,t,n)},clear:function(t,n){return function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")}(e,t,n)},reset:function(e){return function(e){e.clear(),e.add()}(e)},hasUndo:function(t,n){return function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!Gv(Wv(e),t.data[0])}(e,t,n)},hasRedo:function(e,t){return function(e,t){return t.get()<e.data.length-1&&!e.typing}(e,t)},transact:function(e,t,n){return function(e,t,n){return Jv(e,t),e.beforeChange(),e.ignore(n),e.add()}(e,t,n)},ignore:function(e,t){return function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}}(e,t)},extra:function(t,n,r,o){return function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];qv(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}}(e,t,n,r,o)}},formatter:{match:function(t,n,r,o){return wg(e,t,n,r,o)},matchAll:function(t,n){return function(e,t,n){var r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,(function(i){for(var a=0;a<t.length;a++){var l=t[a];!o[l]&&yg(e,i,l,n)&&(o[l]=!0,r.push(l))}}),e.dom.getRoot()),r}(e,t,n)},matchNode:function(t,n,r,o){return yg(e,t,n,r,o)},canApply:function(t){return function(e,t){var n=e.formatter.get(t),r=e.dom;if(n)for(var o=e.selection.getStart(),i=bd(r,o),a=n.length-1;a>=0;a--){var l=n[a];if(!xd(l)||v(l.defaultBlock))return!0;for(var u=i.length-1;u>=0;u--)if(r.is(i[u],l.selector))return!0}return!1}(e,t)},closest:function(t){return xg(e,t)},apply:function(t,n,r){return pv(e,t,n,r)},remove:function(t,n,r,o){return uv(e,t,n,r,o)},toggle:function(t,n,r){return function(e,t,n,r){var o=e.formatter.get(t);!wg(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?pv(e,t,n,r):uv(e,t,n,r)}(e,t,n,r)},formatChanged:function(t,n,r,o,i){return yv(e,t,n,r,o,i)}},editor:{getContent:function(t,n){return function(e,t,n){return I.from(e.getBody()).fold(k("tree"===t.format?new Vp("body",11):""),(function(r){return Zp(e,t,n,r)}))}(e,t,n)},setContent:function(t,n){return cg(e,t,n)},insertContent:function(t,n){return ig(e,t,n)},addVisual:function(t){return function(e,t){var n=e.dom,r=v(t)?t:e.getBody();h(e.hasVisual)&&(e.hasVisual=function(e){return e.getParam("visual",!0,"boolean")}(e)),W(n.select("table,a",r),(function(t){switch(t.nodeName){case"TABLE":var r=function(e){return e.getParam("visual_table_class","mce-item-table","string")}(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){var i=n.getAttrib(t,"name")||t.id,a=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")}(e);i&&e.hasVisual?n.addClass(t,a):n.removeClass(t,a)}}})),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})}(e,t)}},selection:{getContent:function(t,n){return Vv(e,t,n)}},raw:{getModel:function(){return I.none()}}}},eb=function(e){return ye(e.plugins,"rtc")},tb=function(e){var t=e;return function(e){return be(e.plugins,"rtc").bind((function(e){return I.from(e.setup)}))}(e).fold((function(){return t.rtcInstance=Qv(e),I.none()}),(function(e){var n,r;return t.rtcInstance=(n=k(null),r=k(""),{undoManager:{beforeChange:w,add:n,undo:n,redo:n,clear:w,reset:w,hasUndo:N,hasRedo:N,transact:n,ignore:w,extra:w},formatter:{match:N,matchAll:k([]),matchNode:k(void 0),canApply:N,closest:r,apply:w,remove:w,toggle:w,formatChanged:k({unbind:w})},editor:{getContent:r,setContent:r,insertContent:w,addVisual:w},selection:{getContent:r},raw:{getModel:k(I.none())}}),I.some((function(){return e().then((function(e){return t.rtcInstance=function(e){var t=function(e){return d(e)?e:{}},n=e.undoManager,r=e.formatter,o=e.editor,i=e.selection,a=e.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(e,t,r){return n.transact(r)},ignore:function(e,t){return n.ignore(t)},extra:function(e,t,r,o){return n.extra(r,o)}},formatter:{match:function(e,n,o,i){return r.match(e,t(n),i)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(e){return r.canApply(e)},closest:function(e){return r.closest(e)},apply:function(e,n,o){return r.apply(e,t(n))},remove:function(e,n,o,i){return r.remove(e,t(n))},toggle:function(e,n,o){return r.toggle(e,t(n))},formatChanged:function(e,t,n,o,i){return r.formatChanged(t,n,o,i)}},editor:{getContent:function(e,t){return o.getContent(e)},setContent:function(e,t){return o.setContent(e,t)},insertContent:function(e,t){return o.insertContent(e)},addVisual:o.addVisual},selection:{getContent:function(e,t){return i.getContent(t)}},raw:{getModel:function(){return I.some(a.getRawModel())}}}}(e),e.rtc.isRemote}))}))}))},nb=function(e){return e.rtcInstance?e.rtcInstance:Qv(e)},rb=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},ob=function(e,t){return void 0===t&&(t={}),function(e,t,n){return rb(e).selection.getContent(t,n)}(e,t.format?t.format:"html",t)},ib=function(e){return 0===e.dom.length?(bn(e),I.none()):I.some(e)},ab=function(e,t,n,r){e.bind((function(e){return(r?ih:oh)(e.dom,r?e.dom.length:0),t.filter(jt).map((function(t){return function(e,t,n,r){var o=e.dom,i=t.dom,a=r?o.length:i.length;r?(ah(o,i,!1,!r),n.setStart(i,a)):(ah(i,o,!1,!r),n.setEnd(i,a))}(e,t,n,r)}))})).orThunk((function(){return function(e,t){return e.filter((function(e){return af.isBookmarkNode(e.dom)})).bind(t?Xt:Gt)}(t,r).or(t).filter(jt).map((function(e){return function(e,t){Yt(e).each((function(n){var r=e.dom;t&&Gm(n,Nu(r,0))?oh(r,0):!t&&Xm(n,Nu(r,r.length))&&ih(r,r.length)}))}(e,r)}))}))},lb=function(e,t,n){void 0===n&&(n={});var r=function(e,t){return Ae(Ae({format:"html"},e),{set:!0,selection:!0,content:t})}(n,t),o=r;if(!r.no_events){var i=e.fire("BeforeSetContent",r);if(i.isDefaultPrevented())return void e.fire("SetContent",i);o=i}o.content=function(e,t){if("raw"!==t.format){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,Ae(Ae({isRootContent:!0,forced_root_block:!1},o),t));return nm({validate:e.validate},e.schema).serialize(i)}return t.content}(e,o);var a=e.selection.getRng();!function(e,t){var n=I.from(t.firstChild).map(At.fromDom),r=I.from(t.lastChild).map(At.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(Gt).filter(jt).bind(ib),i=r.bind(Xt).filter(jt).bind(ib);ab(o,n,e,!0),ab(i,r,e,!1),e.collapse(!1)}(a,a.createContextualFragment(o.content)),e.selection.setRng(a),Zf(e,a),o.no_events||e.fire("SetContent",o)},ub=function(e,t,n){if(e&&ye(e,t)){var r=Y(e[t],(function(e){return e!==n}));0===r.length?delete e[t]:e[t]=r}},sb=function(e){return!!e.select},cb=function(e){return!(!e||!e.ownerDocument)&&Bt(At.fromDom(e.ownerDocument),At.fromDom(e))},db=function(e,t,n,r){var o,i,a=function(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",(function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};Tt.each(n,(function(t,n){Tt.each(i,(function(o){if(e.is(o,n))return r[n]||(Tt.each(t,(function(e){e(!0,{node:o,selector:n,parents:i})})),r[n]=t),a[n]=t,!1}))})),Tt.each(r,(function(e,t){a[t]||(delete r[t],Tt.each(e,(function(e){e(!1,{node:o,selector:t,parents:i})})))}))}))),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){ub(n,o,i),ub(r,o,i)}}}}}(e,r).selectorChangedWithUnbind,l=function(e,t){return lb(r,e,t)},u=function(e){var t=c();t.collapse(!!e),d(t)},s=function(){return t.getSelection?t.getSelection():t.document.selection},c=function(){var n,a,l,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}},c=t.document;if(void 0!==r.bookmark&&!1===Tp(r)){var d=hp(r);if(d.isSome())return d.map((function(e){return Bp(r,[e])[0]})).getOr(c.createRange())}try{(n=s())&&!Dn(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=Bp(r,[a])[0])}catch(f){}return a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(l=e.getRoot(),a.setStart(l,0),a.setEnd(l,0)),o&&i&&(0===u(a.START_TO_START,a,o)&&0===u(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},d=function(e,t){var n;if(function(e){return!!e&&(!!sb(e)||cb(e.startContainer)&&cb(e.endContainer))}(e)){var a=sb(e)?e:null;if(a){i=null;try{a.select()}catch(u){}}else{var l=s();if(e=r.fire("SetSelectionRange",{range:e,forward:t}).range,l){i=e;try{l.removeAllRanges(),l.addRange(e)}catch(u){}!1===t&&l.extend&&(l.collapse(e.endContainer,e.endOffset),l.extend(e.startContainer,e.startOffset)),o=l.rangeCount>0?l.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!l.setBaseAndExtent||Ct.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(l.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),l.anchorNode===e.startContainer&&l.focusNode===e.endContainer||l.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},f=function(){var t=s(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||Dn(n)||Dn(r))return!0;var o=e.createRng();o.setStart(n,t.anchorOffset),o.collapse(!0);var i=e.createRng();return i.setStart(r,t.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},p={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:u,setCursorLocation:function(t,n){var o=e.createRng();v(t)&&v(n)?(o.setStart(t,n),o.setEnd(t,n),d(o),u(!1)):(Yd(e,o,r.getBody(),!0),d(o))},getContent:function(e){return ob(r,e)},setContent:l,getBookmark:function(e,t){return m.getBookmark(e,t)},moveToBookmark:function(e){return m.moveToBookmark(e)},select:function(t,n){return function(e,t,n){return I.from(t).map((function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(Yd(e,o,t,!0),Yd(e,o,t,!1)),o}))}(e,t,n).each(d),t},isCollapsed:function(){var e=c(),t=s();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:f,setNode:function(t){return l(e.getOuterHTML(t)),t},getNode:function(){return function(e,t){var n,r,o;if(!t)return e;r=t.startContainer,o=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?zp(r.nextSibling,!0):r.parentNode,o=0===a?zp(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n}(r.getBody(),c())},getSel:s,setRng:d,getRng:c,getStart:function(e){return Np(r.getBody(),c(),e)},getEnd:function(e){return Pp(r.getBody(),c(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||Np(a,t,t.collapsed),e.isBlock),r=e.getParent(r||Pp(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;for(var l=new so(n,a);(o=l.next())&&o!==r;)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i}(e,c(),t,n)},normalize:function(){var t=c(),n=s();if(!(Vd(n).length>1)&&Gd(r)){var o=Of(e,t);return o.each((function(e){d(e,f())})),o.getOr(t)}return t},selectorChanged:function(e,t){return a(e,t),p},selectorChangedWithUnbind:a,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return function(e,t,n){(e.inline?Yf:Xf)(e,t,n)}(r,e,t)},placeCaretAt:function(e,t){return d(gf(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=c();return e.collapsed?Nu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=o=i=null,h.destroy()}},m=af(p),h=mf(p,r);return p.bookmarkManager=m,p.controlSelection=h,p},fb=function(e,t,n){e.addNodeFilter("font",(function(e){W(e,(function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),function(e,t){W(t,(function(t){e.attr(t,null)}))}(e,["color","face","size"])}))}))},pb=function(e,t){var n=Pi();t.convert_fonts_to_spans&&fb(e,n,Tt.explode(t.font_size_legacy_values)),function(e,t){e.addNodeFilter("strike",(function(e){W(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))}))}))}(e,n)},mb=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},hb=function(e,t){var n;try{n=atob(t)}catch(iT){return I.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return I.some(new Blob([r],{type:e}))},gb=function(e){return 0===e.indexOf("blob:")?function(e){return new no((function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===o.status?t(o.response):r()},o.onerror=r,o.send()}catch(i){r()}}))}(e):0===e.indexOf("data:")?(t=e,new no((function(e){var n=mb(t),r=n.type,o=n.data;hb(r,o).fold((function(){return e(new Blob([]))}),e)}))):null;var t},vb=0,bb=function(e){return(e||"blobid")+vb++},yb=function(e,t,n,r){var o,i;if(0!==t.src.indexOf("blob:")){var a=mb(t.src),l=a.data,u=a.type;o=l,(i=e.getByData(o,u))?n({image:t,blobInfo:i}):gb(t.src).then((function(r){i=e.create(bb(),r,o),e.add(i),n({image:t,blobInfo:i})}),(function(e){r(e)}))}else(i=e.getByUri(t.src))?n({image:t,blobInfo:i}):gb(t.src).then((function(r){(function(e){return new no((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))})(r).then((function(a){o=mb(a).data,i=e.create(bb(),r,o),e.add(i),n({image:t,blobInfo:i})}))}),(function(e){r(e)}))},wb=function(e,t){var n={};return{findAll:function(r,o){o||(o=P);var i=Y(function(e){return e?le(e.getElementsByTagName("img")):[]}(r),(function(t){var n=t.src;return!!Ct.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===Ct.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t))})),a=U(i,(function(e){if(void 0!==n[e.src])return new no((function(t){n[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new no((function(n,r){yb(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r,r}));return no.all(a)}}},xb=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Vp("br",1)).shortEnded=!0:r.empty().append(new Vp("#text",3)).value=Co},Cb=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},kb=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(e,t)}))},Sb=function(e,t){var n=t.blob_cache,r=function(e){var r,o,i=e.attr("src");(function(e){return e.attr("src")===Ct.transparentSrc||v(e.attr("data-mce-placeholder"))})(e)||function(e){return v(e.attr("data-mce-bogus"))}(e)||(r=i,o=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(r),o?I.some({type:o[1],data:decodeURIComponent(o[2])}):I.none()).filter((function(){return function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),de(e.attributes.map,(function(e,t){n.setAttribute(t,e)})),t.images_dataimg_filter(n)}return!0}(e,t)})).bind((function(e){var t=e.type,r=e.data;return I.from(n.getByData(r,t)).orThunk((function(){return hb(t,r).map((function(e){var t=n.create(bb(),e,r);return n.add(t),t}))}))})).each((function(t){e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(function(e){return W(e,r)}))},_b=Tt.makeMap,Ob=Tt.each,Tb=Tt.explode,Eb=Tt.extend,Ab=function(e,t){void 0===t&&(t=Di());var n={},r=[],o={},i={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var t=e.name;t in n&&((l=o[t])?l.push(e):o[t]=[e]);for(var a=r.length;a--;){var l,u=r[a].name;u in e.attributes.map&&((l=i[u])?l.push(e):i[u]=[e])}return e},l={schema:t,addAttributeFilter:function(e,t){Ob(Tb(e),(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){Ob(Tb(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},getNodeFilters:function(){var e=[];for(var t in n)ye(n,t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:a,parse:function(l,u){var s,c,d,f,p,m,h,g,v=[];u=u||{},o={},i={};var b,y=Eb(_b("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),x=t.children,C=e.validate,k="forced_root_block"in u?u.forced_root_block:e.forced_root_block,S=!1===(b=k)?"":!0===b?"p":b,_=t.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/,M=ye(_,u.context)||ye(_,e.root_name),D=function(e,t){var r,i=new Vp(e,t);return e in n&&((r=o[e])?r.push(i):o[e]=[i]),i},N=function(e){for(var n=t.getBlockElements(),r=e.prev;r&&3===r.type;){var o=r.value.replace(T,"");if(o.length>0)return void(r.value=o);var i=r.next;if(i){if(3===i.type&&i.value.length){r=r.prev;continue}if(!n[i.name]&&"script"!==i.name&&"style"!==i.name){r=r.prev;continue}}var a=r.prev;r.remove(),r=a}},P=Yp({validate:C,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t={};for(var n in e)"li"!==n&&"p"!==n&&(t[n]=e[n]);return t}(t.getSelfClosingElements()),cdata:function(e){g.append(D("#cdata",4)).value=e},text:function(e,t){var n;M||(e=e.replace(E," "),function(e,t){return e&&(ye(t,e.name)||"br"===e.name)}(g.lastChild,y)&&(e=e.replace(O,""))),0!==e.length&&((n=D("#text",3)).raw=!!t,g.append(n).value=e)},comment:function(e){g.append(D("#comment",8)).value=e},pi:function(e,t){g.append(D(e,7)).value=t,N(g)},doctype:function(e){g.append(D("#doctype",10)).value=e,N(g)},start:function(e,n,o){var a=C?t.getElementRule(e):{};if(a){var l=D(a.outputName||e,1);l.attributes=n,l.shortEnded=o,g.append(l);var u=x[g.name];u&&x[l.name]&&!u[l.name]&&v.push(l);for(var s=r.length;s--;){var c=r[s].name;c in n.map&&((m=i[c])?m.push(l):i[c]=[l])}y[e]&&N(l),o||(g=l),!M&&_[e]&&(M=!0)}},end:function(n){var r,o,i,a,l=C?t.getElementRule(n):{};if(l){if(y[n]&&!M){if((r=g.firstChild)&&3===r.type)if((o=r.value.replace(O,"")).length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,(0===o.length||A.test(o))&&(r.remove(),r=i),r=i;if((r=g.lastChild)&&3===r.type)if((o=r.value.replace(T,"")).length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||A.test(o))&&(r.remove(),r=i),r=i}if(M&&_[n]&&(M=!1),l.removeEmpty&&kb(t,w,_,g))return a=g.parent,y[g.name]?g.empty().remove():g.unwrap(),void(g=a);l.paddEmpty&&(function(e){return Cb(e,"#text")&&e.firstChild.value===Co}(g)||kb(t,w,_,g))&&xb(e,u,y,g),g=g.parent}}},t),z=g=new Vp(u.context||e.root_name,11);if(P.parse(l,u.format),C&&v.length&&(u.context?u.invalid=!0:function(e){for(var n=_b("tr,td,th,tbody,thead,tfoot,table"),r=t.getNonEmptyElements(),o=t.getWhiteSpaceElements(),i=t.getTextBlockElements(),l=t.getSpecialElements(),u=function(e,n){if(void 0===n&&(n=e.parent),l[e.name])e.empty().remove();else{for(var r=0,o=e.children();r<o.length;r++){var i=o[r];t.isValidChild(n.name,i.name)||u(i,n)}e.unwrap()}},s=0;s<e.length;s++){var c=e[s],d=void 0,f=void 0,p=void 0;if(c.parent&&!c.fixed)if(i[c.name]&&"li"===c.parent.name){for(var m=c.next;m&&i[m.name];)m.name="li",m.fixed=!0,c.parent.insert(m,c.parent),m=m.next;c.unwrap()}else{var h=[c];for(d=c.parent;d&&!t.isValidChild(d.name,c.name)&&!n[d.name];d=d.parent)h.push(d);if(d&&h.length>1)if(t.isValidChild(d.name,c.name)){h.reverse();for(var g=f=a(h[0].clone()),v=0;v<h.length-1;v++){t.isValidChild(g.name,h[v].name)?(p=a(h[v].clone()),g.append(p)):p=g;for(var b=h[v].firstChild;b&&b!==h[v+1];){var y=b.next;p.append(b),b=y}g=p}kb(t,r,o,f)?d.insert(c,h[0],!0):(d.insert(f,h[0],!0),d.insert(c,f)),d=h[0],(kb(t,r,o,d)||Cb(d,"br"))&&d.empty().remove()}else u(c);else if(c.parent){if("li"===c.name){if((m=c.prev)&&("ul"===m.name||"ol"===m.name)){m.append(c);continue}if((m=c.next)&&("ul"===m.name||"ol"===m.name)){m.insert(c,m.firstChild,!0);continue}c.wrap(a(new Vp("ul",1)));continue}t.isValidChild(c.parent.name,"div")&&t.isValidChild("div",c.name)?c.wrap(a(new Vp("div",1))):u(c)}}}}(v)),S&&("body"===z.name||u.isRootContent)&&function(){var n=z.firstChild,r=null,o=function(e){e&&((n=e.firstChild)&&3===n.type&&(n.value=n.value.replace(O,"")),(n=e.lastChild)&&3===n.type&&(n.value=n.value.replace(T,"")))};if(t.isValidChild(z.name,S.toLowerCase())){for(;n;){var i=n.next;3===n.type||1===n.type&&"p"!==n.name&&!y[n.name]&&!n.attr("data-mce-type")?(r||((r=D(S,1)).attr(e.forced_root_block_attrs),z.insert(r,n)),r.append(n)):(o(r),r=null),n=i}o(r)}}(),!u.invalid){for(h in o)if(ye(o,h)){for(m=n[h],f=(s=o[h]).length;f--;)s[f].parent||s.splice(f,1);for(c=0,d=m.length;c<d;c++)m[c](s,h,u)}for(c=0,d=r.length;c<d;c++)if((m=r[c]).name in i){for(f=(s=i[m.name]).length;f--;)s[f].parent||s.splice(f,1);for(f=0,p=m.callbacks.length;f<p;f++)m.callbacks[f](s,m.name,u)}}return z}};return function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,o){var i,a,l,u,s,c,d,f,p=e.length,m=Tt.extend({},n.getBlockElements()),h=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(m.body=1,i=0;i<p;i++)if(l=(a=e[i]).parent,m[a.parent.name]&&a===l.lastChild){for(s=a.prev;s;){if("span"!==(c=s.name)||"bookmark"!==s.attr("data-mce-type")){"br"===c&&(a=null);break}s=s.prev}a&&(a.remove(),kb(n,h,g,l)&&(d=n.getElementRule(l.name))&&(d.removeEmpty?l.remove():d.paddEmpty&&xb(t,o,m,l)))}else{for(u=a;l&&l.firstChild===u&&l.lastChild===u&&(u=l,!m[l.name]);)l=l.parent;u===l&&!0!==t.padd_empty_with_br&&((f=new Vp("#text",3)).value=Co,a.replace(f))}})),e.addAttributeFilter("href",(function(e){var n,r,o=e.length;if(!t.allow_unsafe_link_target)for(;o--;){var i=e[o];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",(r=void 0,r=(n=i.attr("rel"))?Tt.trim(n):"",/\b(noopener)\b/g.test(r)?r:function(e){return e.split(" ").filter((function(e){return e.length>0})).concat(["noopener"]).sort().join(" ")}(r)))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Vp("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t=n.getValidClasses(),r=e.length;r--;){for(var o=e[r],i=o.attr("class").split(" "),a="",l=0;l<i.length;l++){var u=i[l],s=!1,c=t["*"];c&&c[u]&&(s=!0),c=t[o.name],!s&&c&&c[u]&&(s=!0),s&&(a&&(a+=" "),a+=u)}a.length||(a=null),o.attr("class",a)}})),Sb(e,t)}(l,e),function(e,t){t.inline_styles&&pb(e,t)}(l,e),l},Mb=function(e,t,n){return function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}(e,n)?function(e,t,n){var r,o=e.dom,i=t.cloneNode(!0),a=document.implementation;if(a.createHTMLDocument){var l=a.createHTMLDocument("");Tt.each("BODY"===i.nodeName?i.childNodes:[i],(function(e){l.body.appendChild(l.importNode(e,!0))})),i="BODY"!==i.nodeName?l.body.firstChild:l.body,r=o.doc,o.doc=l}return function(e,t){e.fire("PreProcess",t)}(e,Ae(Ae({},n),{node:i})),r&&(o.doc=r),i}(e,t,n):t},Db=function(e,t,n){-1===Tt.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))},Nb=function(e,t,n,r,o){return function(e,t,n){return!t.no_events&&e?function(e,t){return e.fire("PostProcess",t)}(e,Ae(Ae({},t),{content:n})).content:n}(e,o,function(e,t,n){return nm(e,t).serialize(n)}(t,n,r))},Pb=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:bl.DOM,o=t&&t.schema?t.schema:Di(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var i=Ab(e,o);return function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n=e.length;n--;){var r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}})),e.addAttributeFilter("src,href,style",(function(e,r){for(var o="data-mce-"+r,i=t.url_converter,a=t.url_converter_scope,l=e.length;l--;){var u=e[l],s=u.attr(o);void 0!==s?(u.attr(r,s.length>0?s:null),u.attr(o,null)):(s=u.attr(r),"style"===r?s=n.serializeStyle(n.parseStyle(s),u.name):i&&(s=i.call(a,s,r,u.name)),u.attr(r,s.length>0?s:null))}})),e.addAttributeFilter("class",(function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("class");r&&(r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}})),e.addAttributeFilter("data-mce-type",(function(e,t,n){for(var r=e.length;r--;){var o=e[r];"bookmark"!==o.attr("data-mce-type")||n.cleanup||(I.from(o.firstChild).exists((function(e){return!So(e.value)}))?o.unwrap():o.remove())}})),e.addNodeFilter("noscript",(function(e){for(var t=e.length;t--;){var n=e[t].firstChild;n&&(n.value=xi.decode(n.value))}})),e.addNodeFilter("script,style",(function(e,n){for(var r=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},o=e.length;o--;){var i=e[o],a=i.firstChild?i.firstChild.value:"";if("script"===n){var l=i.attr("type");l&&i.attr("type","mce-no/type"===l?null:l.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a.length>0&&(i.firstChild.value="// <![CDATA[\n"+r(a)+"\n// ]]>")}else"xhtml"===t.element_format&&a.length>0&&(i.firstChild.value="\x3c!--\n"+r(a)+"\n--\x3e")}})),e.addNodeFilter("#comment",(function(e){for(var r=e.length;r--;){var o=e[r];t.preserve_cdata&&0===o.value.indexOf("[CDATA[")?(o.name="#cdata",o.type=4,o.value=n.decode(o.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===o.value.indexOf("mce:protected ")&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(o.value).substr(14))}})),e.addNodeFilter("xml:namespace,input",(function(e,t){for(var n=e.length;n--;){var r=e[n];7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(function(t){W(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))}(i,e,r),{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n,a){void 0===a&&(a={});var l=Ae({format:"html"},a),u=Mb(t,n,l),s=function(e,t,n){var r=_o(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||xo(At.fromDom(t))?r:Tt.trim(r)}(r,u,l),c=function(e,t,n){var r=n.selection?Ae({forced_root_block:!1},n):n,o=e.parse(t,r);return function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}}(o),o}(i,s,l);return"tree"===l.format?c:Nb(t,e,o,c,l)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:O(Db,i,n),getTempAttrs:k(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},zb=function(e,t){var n=Pb(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},Bb=function(e,t){return void 0===t&&(t={}),function(e,t,n){return nb(e).editor.getContent(t,n)}(e,t,t.format?t.format:"html")},Rb=function(e,t,n){return void 0===n&&(n={}),function(e,t,n){return nb(e).editor.setContent(t,n)}(e,t,n)},Ib=bl.DOM,Lb=function(e){return I.from(e).each((function(e){return e.destroy()}))},Fb=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Ib.remove(o.nextSibling),function(e){e.fire("remove")}(e),e.editorManager.remove(e),!e.inline&&r&&function(e){Ib.setStyle(e.id,"display",e.orgDisplay)}(e),function(e){e.fire("detach")}(e),Ib.remove(e.getContainer()),Lb(t),Lb(n),e.destroy()}},Vb=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Lb(n),Lb(r)),function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Ib.unbind(t,"submit reset",e.formEventDelegate))}(e),function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}(e),e.destroyed=!0):e.remove())},Hb=(Lg=function(e,t){return d(e)&&d(t)?Hb(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)ye(o,i)&&(n[i]=Lg(n[i],o[i]))}return n}),jb=pt().deviceType,$b=jb.isTouch(),Ub=jb.isPhone(),Wb=jb.isTablet(),qb=["lists","autolink","autosave"],Kb={table_grid:!1,object_resizing:!1,resize:!1},Yb=function(e){var t=f(e)?e.join(" "):e,n=U(c(t)?t.split(" "):[],Fe);return Y(n,(function(e){return e.length>0}))},Gb=function(e,t){var n,r,o=(r={},he(t,(function(t,n){return j(e,n)}),me(n={}),me(r)),{t:n,f:r});return function(e,t){return{sections:k(e),settings:k(t)}}(o.t,o.f)},Xb=function(e,t){return ye(e.sections(),t)},Zb=function(e,t){return be(e,"toolbar_mode").orThunk((function(){return be(e,"toolbar_drawer").map((function(e){return!1===e?"wrap":e}))})).getOr(t)},Jb=function(e,t){var n={resize:!1,toolbar_mode:Zb(e,"scrolling"),toolbar_sticky:!1};return Ae(Ae(Ae({},Kb),n),t?{menubar:!1}:{})},Qb=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?Tt.extend({},e.external_plugins,n):n},ey=function(e,t,n,r){return e&&function(e,t,n){var r=e.sections();return Xb(e,t)&&r[t].theme===n}(t,"mobile","mobile")?Y(r,O(j,qb)):e&&Xb(t,"mobile")?r:n},ty=function(e,t,n,r){var o=Yb(n.forced_plugins),i=Yb(r.plugins),a=function(e,t){return Xb(e,t)?e.sections()[t]:{}}(t,"mobile"),l=a.plugins?Yb(a.plugins):i,u=function(e,t){return[].concat(Yb(e)).concat(Yb(t))}(o,ey(e,t,i,l));if(Ct.browser.isIE()&&j(u,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Tt.extend(r,{plugins:u.join(" ")})},ny=function(e,t,n,r,o){var i=e?{mobile:Jb(o.mobile||{},t)}:{},a=Gb(["mobile"],Hb(i,o)),l=Tt.extend(n,r,a.settings(),function(e,t){return e&&Xb(t,"mobile")}(e,a)?function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=be(r,t).getOr({});return Tt.extend({},n,o)}(a,"mobile"):{},{validate:!0,external_plugins:Qb(r,a.settings())});return ty(e,a,r,l)},ry=function(e,t,n,r,o){var i=function(e,t,n,r,o){var i={id:t,theme:"silver",toolbar_mode:Zb(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Ae(Ae({},i),r?Kb:{})}(o,t,n,$b,e);return ny(Ub||Wb,Ub,i,r,o)},oy=function(e,t,n){return I.from(t.settings[n]).filter(e)},iy=function(e,t,n,r){var o,i=t in e.settings?e.settings[t]:n;return"hash"===r?function(e){var t={};return"string"==typeof e?W(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=");n.length>1?t[Tt.trim(n[0])]=Tt.trim(n[1]):t[Tt.trim(n[0])]=Tt.trim(n[0])})):t=e,t}(i):"string"===r?oy(c,e,t).getOr(n):"number"===r?oy(y,e,t).getOr(n):"boolean"===r?oy(m,e,t).getOr(n):"object"===r?oy(d,e,t).getOr(n):"array"===r?oy(f,e,t).getOr(n):"string[]"===r?oy((o=c,function(e){return f(e)&&te(e,o)}),e,t).getOr(n):"function"===r?oy(b,e,t).getOr(n):i},ay=(Fg={},{add:function(e,t){Fg[e]=t},get:function(e){return Fg[e]?Fg[e]:{icons:{}}},has:function(e){return ye(Fg,e)}}),ly=function(e,t){return t.dom[e]},uy=function(e,t){return parseInt(ar(t,e),10)},sy=O(ly,"clientWidth"),cy=O(ly,"clientHeight"),dy=O(uy,"margin-top"),fy=O(uy,"margin-left"),py=function(e,t,n){var r,o=At.fromDom(e.getBody()),i=e.inline?o:(r=o,At.fromDom(qt(r).dom.documentElement)),a=function(e,t,n,r){var o=function(e){return e.dom.getBoundingClientRect()}(t);return{x:n-(e?o.left+t.dom.clientLeft+fy(t):0),y:r-(e?o.top+t.dom.clientTop+dy(t):0)}}(e.inline,i,t,n);return function(e,t,n){var r=sy(e),o=cy(e);return t>=0&&n>=0&&t<=r&&n<=o}(i,a.x,a.y)},my=function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return(t=n,I.from(t).map(At.fromDom)).map(wn).getOr(!1)},hy=function(e){var t,n=[],r=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},o=function(){return I.from(n[0])},i=function(){n.length>0&&r().reposition(n)},a=function(e){Q(n,(function(t){return t===e})).each((function(e){n.splice(e,1)}))},l=function(t,l){if(void 0===l&&(l=!0),!e.removed&&my(e))return l&&e.fire("BeforeOpenNotification",{notification:t}),J(n,(function(e){return n=r().getArgs(e),o=t,!(n.type!==o.type||n.text!==o.text||n.progressBar||n.timeout||o.progressBar||o.timeout);var n,o})).getOrThunk((function(){e.editorManager.setActive(e);var l=r().open(t,(function(){a(l),i(),o().fold((function(){return e.focus()}),(function(e){return At.fromDom(e.getEl()).dom.focus()}))}));return function(e){n.push(e)}(l),i(),e.fire("OpenNotification",{notification:Ae({},l)}),l}))},u=k(n);return(t=e).on("SkinLoaded",(function(){var e=function(e){return e.getParam("service_message")}(t);e&&l({text:e,type:"warning",timeout:0},!1)})),t.on("ResizeEditor ResizeWindow NodeChange",(function(){ao.requestAnimationFrame(i)})),t.on("remove",(function(){W(n.slice(),(function(e){r().close(e)}))})),{open:l,close:function(){o().each((function(e){r().close(e),a(e),i()}))},getNotifications:u}},gy=Ml.PluginManager,vy=Ml.ThemeManager,by=function(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t?t.apply(e,n):void 0}},o=function(n){t.push(n),function(t){e.fire("OpenWindow",{dialog:t})}(n)},i=function(n){!function(t){e.fire("CloseWindow",{dialog:t})}(n),0===(t=Y(t,(function(e){return e!==n}))).length&&e.focus()},a=function(t){e.editorManager.setActive(e),mp(e);var n=t();return o(n),n};return e.on("remove",(function(){W(t,(function(e){n().close(e)}))})),{open:function(e,t){return a((function(){return n().open(e,t,i)}))},openUrl:function(e){return a((function(){return n().openUrl(e,i)}))},alert:function(e,t,o){var i=n();i.alert(e,r(o||i,t))},confirm:function(e,t,o){var i=n();i.confirm(e,r(o||i,t))},close:function(){I.from(t[t.length-1]).each((function(e){n().close(e),i(e)}))}}},yy=function(e,t){e.notificationManager.open({type:"error",text:t})},wy=function(e,t){e._skinLoaded?yy(e,t):e.on("SkinLoaded",(function(){yy(e,t)}))},xy=function(e,t,n){sf(e,t,{message:n}),console.error(n)},Cy=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},ky=function(e,t,n){xy(e,"PluginLoadError",Cy("plugin",t,n))},Sy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Me([e],t)):r.log.apply(r,Me([e],t)))},_y=function(e){return Oy(e,function(e){var t=e.getParam("content_css");return c(t)?U(t.split(","),Fe):f(t)?t:!1===t||e.inline?[]:["default"]}(e))},Oy=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r="content"+e.editorManager.suffix+".css",o=!0===e.inline;return U(t,(function(t){return function(e){return/^[a-z0-9\-]+$/i.test(e)}(t)&&!o?n+"/"+t+"/"+r:e.documentBaseURI.toAbsolute(t)}))},Ty=function(e){e.contentCSS=e.contentCSS.concat(_y(e),function(e){return Oy(e,ys(e))}(e))},Ey=function(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}},Ay=0,My=function(e){return e+Ay+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t},Dy=function(e,t){var n={},r=function(e,n,r,o){var i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)r("HTTP Error: "+i.status);else{var e,o,a=JSON.parse(i.responseText);a&&"string"==typeof a.location?n((e=t.basePath,o=a.location,e?e.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):r("Invalid JSON: "+i.responseText)}};var a=new FormData;a.append("file",e.blob(),e.filename()),i.send(a)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},i=function(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}},a=function(e,t){Tt.each(n[e],(function(e){e(t)})),delete n[e]},l=function(r,l){return r=Tt.grep(r,(function(t){return!e.isUploaded(t.blobUri())})),no.all(Tt.map(r,(function(r){return e.isPending(r.blobUri())?function(e){var t=e.blobUri();return new no((function(e){n[t]=n[t]||[],n[t].push(e)}))}(r):function(t,n,r){return e.markPending(t.blobUri()),new no((function(l){var u;try{var s=function(){u&&u.close()};n(t,(function(n){s(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),o(t,n)),l(o(t,n))}),(function(n,r){var o=r||{};s(),e.removeFailed(t.blobUri()),a(t.blobUri(),i(t,n,o)),l(i(t,n,o))}),(function(e){e<0||e>100||I.from(u).orThunk((function(){return I.from(r).map(M)})).each((function(t){u=t,t.progressBar.value(e)}))}))}catch(c){l(i(t,c.message,{}))}}))}(r,t.handler,l)})))};return!1===b(t.handler)&&(t.handler=r),{upload:function(e,n){return t.url||t.handler!==r?l(e,n):new no((function(e){e([])}))}}},Ny=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},Py=function(e,t){return Dy(t,{url:ds(e),basePath:fs(e),credentials:ps(e),handler:ms(e)})},zy=function(e){var t,n,r,o,i,a,l=(t=[],n=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var t,n=e.id||My("blobid"),r=e.name||n,o=e.blob;return{id:k(n),name:k(r),filename:k(e.filename||r+"."+(t=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[t.toLowerCase()]||"dat")),blob:k(o),base64:k(e.base64),blobUri:k(e.blobUri||URL.createObjectURL(o)),uri:k(e.uri)}},{create:function(e,t,r,o,i){if(c(e))return n({id:e,name:o,filename:i,blob:t,base64:r});if(d(e))return n(e);throw new Error("Unknown input type")},add:function(e){o(e.id())||t.push(e)},get:o=function(e){return r((function(t){return t.id()===e}))},getByUri:function(e){return r((function(t){return t.blobUri()===e}))},getByData:function(e,t){return r((function(n){return n.base64()===e&&n.blob().type===t}))},findFirst:r=function(e){return J(t,e).getOrUndefined()},removeByUri:function(e){t=Y(t,(function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){W(t,(function(e){URL.revokeObjectURL(e.blobUri())})),t=[]}}),u=Ey(),s=[],f=function(e){var t=_l(null);return e.on("change AddUndo",(function(e){t.set(Ae({},e.level))})),{fireIfChanged:function(){var n=e.undoManager.data;ae(n).filter((function(e){return!Gv(t.get(),e)})).each((function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:oe(n,n.length-2).getOrNull()})}))}}}(e),p=function(t){return function(n){return e.selection?t(n):[]}},m=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},h=function(e,t,n){var r='src="'+n+'"'+(n===Ct.transparentSrc?' data-mce-placeholder="1"':"");return e=m(e,'src="'+t+'"',r),e=m(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},g=function(t,n){W(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=U(e.fragments,(function(e){return h(e,t,n)})):e.content=h(e.content,t,n)}))},v=function(t){return i||(i=Py(e,u)),w().then(p((function(n){var r=U(n,(function(e){return e.blobInfo}));return i.upload(r,Ny(e)).then(p((function(r){var o=[],i=U(r,(function(t,r){var i=n[r].blobInfo,a=n[r].image;return t.status&&function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")}(e)?(l.removeByUri(a.src),eb(e)||function(t,n){var r,o=e.convertURL(n,"src");g(t.src,n),e.$(t).attr({src:ss(e)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})}(a,t.url)):t.error&&(t.error.options.remove&&(g(a.getAttribute("src"),Ct.transparentSrc),o.push(a)),function(e,t){wy(e,Al.translate(["Failed to upload image: {0}",t]))}(e,t.error.message)),{element:a,status:t.status,uploadUri:t.url,blobInfo:i}}));return i.length>0&&f.fireIfChanged(),o.length>0&&(eb(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact((function(){W(o,(function(t){e.dom.remove(t),l.removeByUri(t.src)}))}))),t&&t(i),i})))})))},b=function(t){if(us(e))return v(t)},y=function(t){return!1!==te(s,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||function(e){return e.getParam("images_dataimg_filter",P,"function")}(e)(t))},w=function(){return a||(a=wb(u,l)),a.findAll(e.getBody(),y).then(p((function(t){return t=Y(t,(function(t){return"string"!=typeof t||(wy(e,t),!1)})),eb(e)||W(t,(function(e){g(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},x=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var r=u.getResultUri(n);if(r)return'src="'+r+'"';var o=l.getByUri(n);return o||(o=X(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':t}))};return e.on("SetContent",(function(){us(e)?b():w()})),e.on("RawSaveContent",(function(e){e.content=x(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=x(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){W(e,(function(e){var t=e.attr("src");if(!l.getByUri(t)){var n=u.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:l,addFilter:function(e){s.push(e)},uploadImages:v,uploadImagesAuto:b,scanForImages:w,destroy:function(){l.destroy(),u.destroy(),a=i=null}}},By=function(e){var t={},n=function(e,r){e&&(c(e)?(f(r)||(r=[r]),W(r,(function(e){h(e.deep)&&(e.deep=!xd(e)),h(e.split)&&(e.split=!xd(e)||Cd(e)),h(e.remove)&&xd(e)&&!Cd(e)&&(e.remove="none"),xd(e)&&Cd(e)&&(e.mixed=!0,e.block_expand=!0),c(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=r):de(e,(function(e,t){n(t,e)})))};return n(function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return Nn(e)&&e.hasAttribute("href")},onformat:function(t,n,r){Tt.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(e){var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Tt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t}(e.dom)),n(function(e){return e.getParam("formats")}(e)),{get:function(e){return v(e)?t[e]:t},has:function(e){return ye(t,e)},register:n,unregister:function(e){return e&&t[e]&&delete t[e],t}}},Ry=Tt.each,Iy=bl.DOM,Ly=function(e,t){var n,r,o,i=t&&t.schema||Di({}),a=function(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t=Iy.create(r.name);return function(e,t){t.classes.length&&Iy.addClass(e,t.classes.join(" ")),Iy.setAttribs(e,t.attrs)}(t,r),t},l=function(e,t,n){var r,o,u=t.length>0&&t[0],s=u&&u.name,c=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==Tt.inArray(o,t)?t:o[0])}(e,s);if(c)s===c?(o=t[0],t=t.slice(1)):o=c;else if(u)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=a(o)).appendChild(e),n&&(r||(r=Iy.create("div")).appendChild(e),Tt.each(n,(function(t){var n=a(t);r.insertBefore(n,e)}))),l(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=a(r),(o=Iy.create("div")).appendChild(l(n,e.slice(1),r.siblings)),o):""},Fy=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Tt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Tt.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},Vy=function(e,t){var n,r,o,i="",a=function(e){var t=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return c(t)?t:""}(e);if(""===a)return"";var l=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var u=be(t,"preview");if(Xn(u,!1))return"";a=u.getOr(a)}n=t.block||t.inline||"span";var s,d=(s=t.selector)&&"string"==typeof s?(s=(s=s.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Tt.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=Tt.map(e.split(/(?:~\+|~|\+)/),Fy),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[];d.length?(d[0].name||(d[0].name=n),n=t.selector,r=Ly(d,e)):r=Ly([n],e);var f=Iy.select(n,r)[0]||r.firstChild;return Ry(t.styles,(function(e,t){var n=l(e);n&&Iy.setStyle(f,t,n)})),Ry(t.attributes,(function(e,t){var n=l(e);n&&Iy.setAttrib(f,t,n)})),Ry(t.classes,(function(e){var t=l(e);Iy.hasClass(f,t)||Iy.addClass(f,t)})),e.fire("PreviewFormats"),Iy.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=Iy.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,Ry(a.split(" "),(function(t){var n=Iy.getStyle(f,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Iy.getStyle(e.getBody(),t,!0),"#ffffff"===Iy.toHex(n).toLowerCase())||"color"===t&&"#000000"===Iy.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),Iy.remove(r),i},Hy=function(e){var t=By(e),n=_l(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),Pg(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){!function(e,t,n,r){rb(e).formatter.apply(t,n,r)}(e,t,n,r)},remove:function(t,n,r,o){!function(e,t,n,r,o){rb(e).formatter.remove(t,n,r,o)}(e,t,n,r,o)},toggle:function(t,n,r){!function(e,t,n,r){rb(e).formatter.toggle(t,n,r)}(e,t,n,r)},match:function(t,n,r,o){return function(e,t,n,r,o){return rb(e).formatter.match(t,n,r,o)}(e,t,n,r,o)},closest:function(t){return function(e,t){return rb(e).formatter.closest(t)}(e,t)},matchAll:function(t,n){return function(e,t,n){return rb(e).formatter.matchAll(t,n)}(e,t,n)},matchNode:function(t,n,r,o){return function(e,t,n,r,o){return rb(e).formatter.matchNode(t,n,r,o)}(e,t,n,r,o)},canApply:function(t){return function(e,t){return rb(e).formatter.canApply(t)}(e,t)},formatChanged:function(t,r,o,i){return function(e,t,n,r,o,i){return rb(e).formatter.formatChanged(t,n,r,o,i)}(e,n,t,r,o,i)},getCssText:O(Vy,e)}},jy=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},$y=function(e){var t=Dl(),n=_l(0),r=_l(0),o={data:[],typing:!1,beforeChange:function(){!function(e,t,n){rb(e).undoManager.beforeChange(t,n)}(e,n,t)},add:function(i,a){return function(e,t,n,r,o,i,a){return rb(e).undoManager.add(t,n,r,o,i,a)}(e,o,r,n,t,i,a)},undo:function(){return function(e,t,n,r){return rb(e).undoManager.undo(t,n,r)}(e,o,n,r)},redo:function(){return function(e,t,n){return rb(e).undoManager.redo(t,n)}(e,r,o.data)},clear:function(){!function(e,t,n){rb(e).undoManager.clear(t,n)}(e,o,r)},reset:function(){!function(e,t){rb(e).undoManager.reset(t)}(e,o)},hasUndo:function(){return function(e,t,n){return rb(e).undoManager.hasUndo(t,n)}(e,o,r)},hasRedo:function(){return function(e,t,n){return rb(e).undoManager.hasRedo(t,n)}(e,o,r)},transact:function(t){return function(e,t,n,r){return rb(e).undoManager.transact(t,n,r)}(e,o,n,t)},ignore:function(t){!function(e,t,n){rb(e).undoManager.ignore(t,n)}(e,n,t)},extra:function(t,n){!function(e,t,n,r,o){rb(e).undoManager.extra(t,n,r,o)}(e,o,r,t,n)}};return eb(e)||function(e,t,n){var r=_l(!1),o=function(e){Zv(t,!1,n),t.add({},e)};e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){var r=e.command;jy(r)||(Jv(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;jy(t)||o(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===Gv(Wv(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var i=e.keyCode;if(!e.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)t.typing&&o(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),Zv(t,!0,n),t.add({},e),r.set(!0))}})),e.on("mousedown",(function(e){t.typing&&o(e)})),e.on("input",(function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType}(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}(e,o,n),function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")}(e),o},Uy=[9,27,ff.HOME,ff.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ff.DOWN,ff.UP,ff.LEFT,ff.RIGHT].concat(Ct.browser.isFirefox()?[224]:[]),Wy="data-mce-placeholder",qy=function(e){return"keydown"===e.type||"keyup"===e.type},Ky=function(e){var t=e.keyCode;return t===ff.BACKSPACE||t===ff.DELETE},Yy=function(e){var t=e.dom,n=as(e),r=function(e){return e.getParam("placeholder",rs.getAttrib(e.getElement(),"placeholder"),"string")}(e),o=function(i,a){if(!function(e){if(qy(e)){var t=e.keyCode;return!Ky(e)&&(ff.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||j(Uy,t))}return!1}(i)){var l=e.getBody(),u=!function(e){return qy(e)&&!(Ky(e)||"keyup"===e.type&&229===e.keyCode)}(i)&&function(e,t,n){if(ri(At.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(t,l,n);(""!==t.getAttrib(l,Wy)!==u||a)&&(t.setAttrib(l,Wy,u?r:null),t.setAttrib(l,"aria-placeholder",u?r:null),function(e,t){e.fire("PlaceholderToggle",{state:t})}(e,u),e.on(u?"keydown":"keyup",o),e.off(u?"keyup":"keydown",o))}};r&&e.on("init",(function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",(function(t){return ao.setEditorTimeout(e,(function(){return o(t)}))}))}))},Gy=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Xy=function(e,t){return Dt(At.fromDom(t),function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(e))},Zy=function(e){return"rtl"===bl.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Gy.test(t));var t},Jy=function(e,t,n){var r=function(e,t,n){return Y(bl.DOM.getParents(n.container(),"*",t),e)}(e,t,n);return I.from(r[r.length-1])},Qy=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Ao(n)?Vn(n.nextSibling)?Nu(n.nextSibling,0):Nu.after(n):No(t)?Nu(n,r+1):t:Ao(n)?Vn(n.previousSibling)?Nu(n.previousSibling,n.previousSibling.data.length):Nu.before(n):Po(t)?Nu(n,r-1):t},ew=O(Qy,!0),tw=O(Qy,!1),nw=function(e){return go(e)||bo(e)},rw=function(e,t){return Bt(e,t)?Zr(t,nw,function(e){return function(t){return Pt(e,At.fromDom(t.dom.parentNode))}}(e)):I.none()},ow=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)}(e))},iw=function(e,t){return{from:e,to:t}},aw=function(e,t){var n=At.fromDom(e),r=At.fromDom(t.container());return rw(n,r).map((function(e){return function(e,t){return{block:e,position:t}}(e,t)}))},lw=function(e,t,n){var r=aw(e,Nu.fromRangeStart(n)),o=r.bind((function(n){return Rc(t,e,n.position).bind((function(n){return aw(e,n).map((function(n){return function(e,t,n){return Un(n.position.getNode())&&!1===ri(n.block)?Fc(!1,n.block.dom).bind((function(r){return r.isEqual(n.position)?Rc(t,e,r).bind((function(t){return aw(e,t)})):I.some(n)})).getOr(n):n}(e,t,n)}))}))}));return Zn(r,o,iw).filter((function(e){return function(e){return!1===Pt(e.from.block,e.to.block)}(e)&&function(e){return Yt(e.from.block).bind((function(t){return Yt(e.to.block).filter((function(e){return Pt(t,e)}))})).isSome()}(e)&&function(e){return!1===Kn(e.from.block.dom)&&!1===Kn(e.to.block.dom)}(e)}))},uw=function(e){var t=function(e){var t=Qt(e);return Q(t,po).fold(k(t),(function(e){return t.slice(0,e)}))}(e);return W(t,bn),t},sw=function(e,t){var n=Em(t,e);return J(n.reverse(),(function(e){return ri(e)})).each(bn)},cw=function(e,t,n,r){if(ri(n))return Sm(n),jc(n.dom);0===Y(Zt(r),(function(e){return!ri(e)})).length&&ri(t)&&fn(r,At.fromTag("br"));var o=Hc(n.dom,Nu.before(r.dom));return W(uw(t),(function(e){fn(r,e)})),sw(e,t),o},dw=function(e,t,n){if(ri(n))return bn(n),ri(t)&&Sm(t),jc(t.dom);var r=$c(n.dom);return W(uw(t),(function(e){hn(n,e)})),sw(e,t),r},fw=function(e,t){return Bt(t,e)?function(e,t){var n=Em(t,e);return I.from(n[n.length-1])}(t,e):I.none()},pw=function(e,t){Fc(e,t.dom).map((function(e){return e.getNode()})).map(At.fromDom).filter(ho).each(bn)},mw=function(e,t,n){return pw(!0,t),pw(!1,n),fw(t,n).fold(O(dw,e,t,n),O(cw,e,t,n))},hw=function(e,t,n,r){return t?mw(e,r,n):mw(e,n,r)},gw=function(e,t){var n=At.fromDom(e.getBody()),r=function(e,t,n){return n.collapsed?lw(e,t,n):I.none()}(n.dom,t,e.selection.getRng()).bind((function(e){return hw(n,t,e.from.block,e.to.block)}));return r.each((function(t){e.selection.setRng(t.toRange())})),r.isSome()},vw=function(e,t){var n=At.fromDom(t),r=O(Pt,e);return Xr(n,wo,r).isSome()},bw=function(e,t){var n=Hc(e.dom,Nu.fromRangeStart(t)).isNone(),r=Vc(e.dom,Nu.fromRangeEnd(t)).isNone();return!function(e,t){return vw(e,t.startContainer)||vw(e,t.endContainer)}(e,t)&&n&&r},yw=function(e){var t=At.fromDom(e.getBody()),n=e.selection.getRng();return bw(t,n)?function(e){return e.setContent(""),e.selection.setCursorLocation(),!0}(e):function(e,t){var n=t.getRng();return Zn(rw(e,At.fromDom(n.startContainer)),rw(e,At.fromDom(n.endContainer)),(function(r,o){return!1===Pt(r,o)&&(n.deleteContents(),hw(e,!0,r,o).each((function(e){t.setRng(e.toRange())})),!0)})).getOr(!1)}(t,e.selection)},ww=function(e,t){return!e.selection.isCollapsed()&&yw(e)},xw=qn,Cw=Kn,kw=function(e,t,n,r,o){return I.from(t._selectionOverrides.showCaret(e,n,r,o))},Sw=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?I.none():I.some(function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(t))},_w=function(e,t,n){var r=dc(1,e.getBody(),t),o=Nu.fromRangeStart(r),i=o.getNode();if(Us(i))return kw(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(Us(a))return kw(1,e,a,!1,!1);var l=e.dom.getParent(o.getNode(),(function(e){return Cw(e)||xw(e)}));return Us(l)?kw(1,e,l,!1,n):I.none()},Ow=function(e,t,n){return t.collapsed?_w(e,t,n).getOr(t):t},Tw=function(e){return xm(e)||vm(e)},Ew=function(e){return Cm(e)||bm(e)},Aw=function(e,t,n,r,o,i){return kw(r,e,i.getNode(!o),o,!0).each((function(n){if(t.collapsed){var r=t.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),function(e,t){Vn(t)&&0===t.data.length&&e.remove(t)}(e.dom,n),!0},Mw=function(e,t){return function(e,t){var n=e.selection.getRng();if(!Vn(n.commonAncestorContainer))return!1;var r=t?Pu.Forwards:Pu.Backwards,o=Dc(e.getBody()),i=O(hc,t?o.next:o.prev),a=t?Tw:Ew,l=pc(r,e.getBody(),n),u=Qy(t,i(l));if(!u||!gc(l,u))return!1;if(a(u))return Aw(e,n,l.getNode(),r,t,u);var s=i(u);return!!(s&&a(s)&&gc(u,s))&&Aw(e,n,l.getNode(),r,t,s)}(e,t)},Dw=Or([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Nw=function(e,t,n,r){var o=r.getNode(!1===t);return rw(At.fromDom(e),At.fromDom(n.getNode())).map((function(e){return ri(e)?Dw.remove(e.dom):Dw.moveToElement(o)})).orThunk((function(){return I.some(Dw.moveToElement(o))}))},Pw=function(e,t,n){return Rc(t,e,n).bind((function(r){return o=r.getNode(),wo(At.fromDom(o))||bo(At.fromDom(o))||function(e,t,n,r){var o=function(t){return mo(At.fromDom(t))&&!oc(n,r,e)};return fc(!t,n).fold((function(){return fc(t,r).fold(N,o)}),o)}(e,t,n,r)?I.none():t&&Kn(r.getNode())||!1===t&&Kn(r.getNode(!0))?Nw(e,t,n,r):t&&Cm(n)||!1===t&&xm(n)?I.some(Dw.moveToPosition(r)):I.none();var o}))},zw=function(e,t,n){return function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Nn(n)&&n.getAttribute("data-mce-caret")===r}(t,n)?function(e,t){return e&&Kn(t.nextSibling)?I.some(Dw.moveToElement(t.nextSibling)):!1===e&&Kn(t.previousSibling)?I.some(Dw.moveToElement(t.previousSibling)):I.none()}(t,n.getNode(!1===t)).fold((function(){return Pw(e,t,n)}),I.some):Pw(e,t,n).bind((function(t){return function(e,t,n){return n.fold((function(e){return I.some(Dw.remove(e))}),(function(e){return I.some(Dw.moveToElement(e))}),(function(n){return oc(t,n,e)?I.none():I.some(Dw.moveToPosition(n))}))}(e,n,t)}))},Bw=function(e,t){return I.from(lf(e.getBody(),t))},Rw=function(e,t){var n=e.selection.getNode();return Bw(e,n).filter(Kn).fold((function(){return function(e,t,n){var r=dc(t?1:-1,e,n),o=Nu.fromRangeStart(r),i=At.fromDom(e);return!1===t&&Cm(o)?I.some(Dw.remove(o.getNode(!0))):t&&xm(o)?I.some(Dw.remove(o.getNode())):!1===t&&xm(o)&&Vm(i,o)?Hm(i,o).map((function(e){return Dw.remove(e.getNode())})):t&&Cm(o)&&Fm(i,o)?jm(i,o).map((function(e){return Dw.remove(e.getNode())})):zw(e,t,o)}(e.getBody(),t,e.selection.getRng()).exists((function(n){return n.fold(function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),vh(e,t,At.fromDom(n)),!0}}(e,t),function(e,t){return function(n){var r=t?Nu.before(n):Nu.after(n);return e.selection.setRng(r.toRange()),!0}}(e,t),function(e){return function(t){return e.selection.setRng(t.toRange()),!0}}(e))}))}),P)},Iw=function(e,t){var n=e.selection.getNode();return!(!Kn(n)||Yn(n))&&Bw(e,n.parentNode).filter(Kn).fold((function(){var n;return n=At.fromDom(e.getBody()),W(jl(n,".mce-offscreen-selection"),bn),vh(e,t,At.fromDom(e.selection.getNode())),ow(e),!0}),P)},Lw=function(e){var t=e.dom,n=e.selection,r=lf(e.getBody(),n.getNode());if(qn(r)&&t.isBlock(r)&&t.isEmpty(r)){var o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(o),n.setRng(Nu.before(o).toRange())}return!0},Fw=function(e,t){return e.selection.isCollapsed()?Rw(e,t):Iw(e,t)},Vw=function(e,t){return!!e.selection.isCollapsed()&&function(e,t){var n=Nu.fromRangeStart(e.selection.getRng());return Rc(t,e.getBody(),n).filter((function(e){return t?hm(e):gm(e)})).bind((function(e){return I.from(ic(t?0:-1,e))})).exists((function(t){return e.selection.select(t),!0}))}(e,t)},Hw=Vn,jw=function(e){return Hw(e)&&e.data[0]===ko},$w=function(e){return Hw(e)&&e.data[e.data.length-1]===ko},Uw=function(e){return e.ownerDocument.createTextNode(ko)},Ww=function(e,t){return e?function(e){if(Hw(e.previousSibling))return $w(e.previousSibling)||e.previousSibling.appendData(ko),e.previousSibling;if(Hw(e))return jw(e)||e.insertData(0,ko),e;var t=Uw(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(Hw(e.nextSibling))return jw(e.nextSibling)||e.nextSibling.insertData(0,ko),e.nextSibling;if(Hw(e))return $w(e)||e.appendData(ko),e;var t=Uw(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},qw=O(Ww,!0),Kw=O(Ww,!1),Yw=function(e,t){return Vn(e.container())?Ww(t,e.container()):Ww(t,e.getNode())},Gw=function(e,t){var n=t.get();return n&&e.container()===n&&Ao(n)},Xw=function(e,t){return t.fold((function(t){Rs(e.get());var n=qw(t);return e.set(n),I.some(Nu(n,n.length-1))}),(function(t){return jc(t).map((function(t){if(Gw(t,e))return Nu(e.get(),1);Rs(e.get());var n=Yw(t,!0);return e.set(n),Nu(n,1)}))}),(function(t){return $c(t).map((function(t){if(Gw(t,e))return Nu(e.get(),e.get().length-1);Rs(e.get());var n=Yw(t,!1);return e.set(n),Nu(n,n.length-1)}))}),(function(t){Rs(e.get());var n=Kw(t);return e.set(n),I.some(Nu(n,1))}))},Zw=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return I.none()},Jw=Or([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Qw=function(e,t){var n=rc(t,e);return n||e},ex=function(e,t,n){var r=ew(n),o=Qw(t,r.container());return Jy(e,o,r).fold((function(){return Vc(o,r).bind(O(Jy,e,o)).map((function(e){return Jw.before(e)}))}),I.none)},tx=function(e,t){return null===qc(e,t)},nx=function(e,t,n){return Jy(e,t,n).filter(O(tx,t))},rx=function(e,t,n){var r=tw(n);return nx(e,t,r).bind((function(e){return Hc(e,r).isNone()?I.some(Jw.start(e)):I.none()}))},ox=function(e,t,n){var r=ew(n);return nx(e,t,r).bind((function(e){return Vc(e,r).isNone()?I.some(Jw.end(e)):I.none()}))},ix=function(e,t,n){var r=tw(n),o=Qw(t,r.container());return Jy(e,o,r).fold((function(){return Hc(o,r).bind(O(Jy,e,o)).map((function(e){return Jw.after(e)}))}),I.none)},ax=function(e){return!1===Zy(ux(e))},lx=function(e,t,n){return Zw([ex,rx,ox,ix],[e,t,n]).filter(ax)},ux=function(e){return e.fold(S,S,S,S)},sx=function(e){return e.fold(k("before"),k("start"),k("end"),k("after"))},cx=function(e){return e.fold(Jw.before,Jw.before,Jw.after,Jw.after)},dx=function(e){return e.fold(Jw.start,Jw.start,Jw.end,Jw.end)},fx=function(e,t,n,r,o,i){return Zn(Jy(t,n,r),Jy(t,n,o),(function(t,r){return t!==r&&function(e,t,n){var r=rc(t,e),o=rc(n,e);return r&&r===o}(n,t,r)?Jw.after(e?t:r):i})).getOr(i)},px=function(e,t){return e.fold(P,(function(e){return r=t,!(sx(n=e)===sx(r)&&ux(n)===ux(r));var n,r}))},mx=function(e,t){return e?t.fold(x(I.some,Jw.start),I.none,x(I.some,Jw.after),I.none):t.fold(I.none,x(I.some,Jw.before),I.none,x(I.some,Jw.end))},hx=function(e,t,n,r){var o=Qy(e,r),i=lx(t,n,o);return lx(t,n,o).bind(O(mx,e)).orThunk((function(){return function(e,t,n,r,o){var i=Qy(e,o);return Rc(e,n,i).map(O(Qy,e)).fold((function(){return r.map(cx)}),(function(o){return lx(t,n,o).map(O(fx,e,t,n,i,o)).filter(O(px,r))})).filter(ax)}(e,t,n,i,r)}))};O(hx,!1),O(hx,!0);var gx,vx,bx=function(e,t,n){var r=e?1:-1;return t.setRng(Nu(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},yx=function(e,t){var n=t.selection.getRng(),r=e?Nu.fromRangeEnd(n):Nu.fromRangeStart(n);return!!function(e){return b(e.selection.getSel().modify)}(t)&&(e&&No(r)?bx(!0,t.selection,r):!(e||!Po(r))&&bx(!1,t.selection,r))};(vx=gx||(gx={}))[vx.Br=0]="Br",vx[vx.Block=1]="Block",vx[vx.Wrap=2]="Wrap",vx[vx.Eol=3]="Eol";var wx,xx,Cx=function(e,t){return e===Pu.Backwards?ne(t):t},kx=function(e,t,n){return e===Pu.Forwards?t.next(n):t.prev(n)},Sx=function(e,t,n,r){return Un(r.getNode(t===Pu.Forwards))?gx.Br:!1===oc(n,r)?gx.Block:gx.Wrap},_x=function(e,t,n,r){for(var o=Dc(n),i=r,a=[];i;){var l=kx(t,o,i);if(!l)break;if(Un(l.getNode(!1)))return t===Pu.Forwards?{positions:Cx(t,a).concat([l]),breakType:gx.Br,breakAt:I.some(l)}:{positions:Cx(t,a),breakType:gx.Br,breakAt:I.some(l)};if(l.isVisible()){if(e(i,l)){var u=Sx(0,t,i,l);return{positions:Cx(t,a),breakType:u,breakAt:I.some(l)}}a.push(l),i=l}else i=l}return{positions:Cx(t,a),breakType:gx.Eol,breakAt:I.none()}},Ox=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions;return e===Pu.Backwards?o.concat(r):[r].concat(o)})).getOr([])},Tx=function(e,t){return X(e,(function(e,n){return e.fold((function(){return I.some(n)}),(function(r){return Zn(ie(r.getClientRects()),ie(n.getClientRects()),(function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r})).or(e)}))}),I.none())},Ex=function(e,t){return ie(t.getClientRects()).bind((function(t){return Tx(e,t.left)}))},Ax=O(_x,Nu.isAbove,-1),Mx=O(_x,Nu.isBelow,1),Dx=O(Ox,-1,Ax),Nx=O(Ox,1,Mx),Px=function(e){var t=function(t){return U(t,(function(t){var n=iu(t);return n.node=e,n}))};if(Nn(e))return t(e.getClientRects());if(Vn(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},zx=function(e){return ee(e,Px)};(xx=wx||(wx={}))[xx.Up=-1]="Up",xx[xx.Down=1]="Down";var Bx,Rx,Ix=function(e,t,n,r,o,i){var a=0,l=[],u=function(r){var i=zx([r]);-1===e&&(i=i.reverse());for(var u=0;u<i.length;u++){var c=i[u];if(!n(c,s)){if(l.length>0&&t(c,Ee(l))&&a++,c.line=a,o(c))return!0;l.push(c)}}},s=Ee(i.getClientRects());if(!s)return l;var c=i.getNode();return u(c),function(e,t,n,r){for(;r=nc(r,e,Go,t);)if(n(r))return}(e,r,u,c),l},Lx=O(Ix,wx.Up,uu,su),Fx=O(Ix,wx.Down,su,uu),Vx=function(e){return function(t){return function(e,t){return t.line>e}(e,t)}},Hx=function(e){return function(t){return function(e,t){return t.line===e}(e,t)}},jx=Kn,$x=nc,Ux=function(e,t){return Math.abs(e.left-t)},Wx=function(e,t){return Math.abs(e.right-t)},qx=function(e,t){return e>=t.left&&e<=t.right},Kx=function(e,t){return e>=t.top&&e<=t.bottom},Yx=function(e,t){return Oe(e,(function(e,n){var r=Math.min(Ux(e,t),Wx(e,t)),o=Math.min(Ux(n,t),Wx(n,t));return qx(t,n)?n:qx(t,e)?e:o===r&&jx(n.node)||o<r?n:e}))},Gx=function(e,t,n,r,o){var i=$x(r,e,Go,t,!o);do{if(!i||n(i))return}while(i=$x(i,e,Go,t))},Xx=function(e,t,n){var r=zx(function(e){return Y(le(e.getElementsByTagName("*")),Ws)}(e)),o=Y(r,O(Kx,n)),i=Yx(o,t);if(i){var a=!In(i.node)&&!Gn(i.node);if((i=Yx(function(e,t,n){void 0===n&&(n=!0);var r=[],o=function(e,n){var o=Y(zx([n]),(function(n){return!e(n,t)}));return r=r.concat(o),0===o.length};return r.push(t),Gx(wx.Up,e,O(o,uu),t.node,n),Gx(wx.Down,e,O(o,su),t.node,n),r}(e,i,a),t))&&Ws(i.node))return function(e,t){return{node:e.node,before:Ux(e,t)<Wx(e,t)}}(i,t)}return null},Zx=function(e,t){e.selection.setRng(t),Zf(e,e.selection.getRng())},Jx=function(e,t,n){return I.some(Ow(e,t,n))},Qx=function(e,t,n,r,o,i){var a=t===Pu.Forwards,l=Dc(e.getBody()),u=O(hc,a?l.next:l.prev),s=a?r:o;if(!n.collapsed){var c=du(n);if(i(c))return kw(t,e,c,t===Pu.Backwards,!1)}var d=pc(t,e.getBody(),n);if(s(d))return Sw(e,d.getNode(!a));var f=Qy(a,u(d)),p=Lo(n);if(!f)return p?I.some(n):I.none();if(s(f))return kw(t,e,f.getNode(!a),a,!1);var m=u(f);return m&&s(m)&&gc(f,m)?kw(t,e,m.getNode(!a),a,!1):p?Jx(e,f.toRange(),!1):I.none()},eC=function(e,t,n,r,o,i){var a=pc(t,e.getBody(),n),l=Ee(a.getClientRects()),u=t===wx.Down;if(!l)return I.none();var s,c=(u?Fx:Lx)(e.getBody(),Vx(1),a),d=Y(c,Hx(1)),f=l.left,p=Yx(d,f);if(p&&i(p.node)){var m=Math.abs(f-p.left),h=Math.abs(f-p.right);return kw(t,e,p.node,m<h,!1)}if(s=r(a)?a.getNode():o(a)?a.getNode(!0):du(n)){var g=function(e,t,n,r){var o,i,a,l,u=Dc(t),s=[],c=0,d=function(e){return Ee(e.getClientRects())};1===e?(o=u.next,i=su,a=uu,l=Nu.after(r)):(o=u.prev,i=uu,a=su,l=Nu.before(r));var f=d(l);do{if(l.isVisible()){var p=d(l);if(!a(p,f)){s.length>0&&i(p,Ee(s))&&c++;var m=iu(p);if(m.position=l,m.line=c,n(m))return s;s.push(m)}}}while(l=o(l));return s}(t,e.getBody(),Vx(1),s),v=Yx(Y(g,Hx(1)),f);if(v)return Jx(e,v.position.toRange(),!1);if(v=Ee(Y(g,Hx(0))))return Jx(e,v.position.toRange(),!1)}return 0===d.length?tC(e,u).filter(u?o:r).map((function(t){return Ow(e,t.toRange(),!1)})):I.none()},tC=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var o=Nu.fromRangeEnd(n),i=Mx(r,o);return ae(i.positions)}return o=Nu.fromRangeStart(n),i=Ax(r,o),ie(i.positions)},nC=function(e,t,n){return tC(e,t).filter(n).exists((function(t){return e.selection.setRng(t.toRange()),!0}))},rC=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},oC=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},iC=function(e,t,n){return Xw(t,n).map((function(t){return rC(e,t),n}))},aC=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Nu.fromRangeStart(e.selection.getRng());Nu.isTextPosition(n)&&!1===function(e){return No(e)||Po(e)}(n)&&(rC(e,Bs(t.get(),n)),t.set(null))}},lC=function(e,t,n){return!!Ss(e)&&function(e,t,n){var r=e.getBody(),o=Nu.fromRangeStart(e.selection.getRng()),i=O(Xy,e);return hx(n,i,r,o).bind((function(n){return iC(e,t,n)}))}(e,t,n).isSome()},uC=function(e,t,n){return!!Ss(t)&&yx(e,t)},sC=function(e){var t=_l(null),n=O(Xy,e);return e.on("NodeChange",(function(r){var o,i,a,l,u,s;!Ss(e)||Ct.browser.isIE()&&r.initial||(o=n,i=e.dom,a=r.parents,l=U(jl(At.fromDom(i.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom})),u=Y(l,o),s=Y(a,o),W(re(u,s),O(oC,!1)),W(re(s,u),O(oC,!0)),aC(e,t),function(e,t,n,r){if(t.selection.isCollapsed()){var o=Y(r,e);W(o,(function(r){var o=Nu.fromRangeStart(t.selection.getRng());lx(e,t.getBody(),o).bind((function(e){return iC(t,n,e)}))}))}}(n,e,t,r.parents))})),t},cC=O(uC,!0),dC=O(uC,!1),fC=function(e,t,n){if(Ss(e)){var r=tC(e,t).getOrThunk((function(){var n=e.selection.getRng();return t?Nu.fromRangeEnd(n):Nu.fromRangeStart(n)}));return lx(O(Xy,e),e.getBody(),r).exists((function(t){var r=cx(t);return Xw(n,r).exists((function(t){return rC(e,t),!0}))}))}return!1},pC=function(e,t){return function(n){return Xw(t,n).exists((function(t){return rC(e,t),!0}))}},mC=function(e,t,n,r){var o=e.getBody(),i=O(Xy,e);e.undoManager.ignore((function(){e.selection.setRng(function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n}(n,r)),e.execCommand("Delete"),lx(i,o,Nu.fromRangeStart(e.selection.getRng())).map(dx).map(pC(e,t))})),e.nodeChanged()},hC=function(e,t,n,r){var o=function(e,t){return rc(t,e)||e}(e.getBody(),r.container()),i=O(Xy,e),a=lx(i,o,r);return a.bind((function(e){return n?e.fold(k(I.some(dx(e))),I.none,k(I.some(cx(e))),I.none):e.fold(I.none,k(I.some(cx(e))),I.none,k(I.some(dx(e))))})).map(pC(e,t)).getOrThunk((function(){var l=Ic(n,o,r),u=l.bind((function(e){return lx(i,o,e)}));return Zn(a,u,(function(){return Jy(i,o,r).exists((function(t){return!!function(e){return Zn(jc(e),$c(e),(function(t,n){var r=Qy(!0,t),o=Qy(!1,n);return Vc(e,r).forall((function(e){return e.isEqual(o)}))})).getOr(!0)}(t)&&(vh(e,n,At.fromDom(t)),!0)}))})).orThunk((function(){return u.bind((function(o){return l.map((function(o){return n?mC(e,t,r,o):mC(e,t,o,r),!0}))}))})).getOr(!1)}))},gC=function(e,t,n){if(e.selection.isCollapsed()&&Ss(e)){var r=Nu.fromRangeStart(e.selection.getRng());return hC(e,t,n,r)}return!1},vC=function(e){return 1===rn(e)},bC=function(e,t,n,r){var o=O(zg,t),i=U(Y(r,o),(function(e){return e.dom}));if(0===i.length)vh(t,e,n);else{var a=function(e,t){var n=Tg(!1),r=Dg(t,n.dom);return fn(At.fromDom(e),n),bn(At.fromDom(e)),Nu(r,0)}(n.dom,i);t.selection.setRng(a.toRange())}},yC=function(e,t){var n=At.fromDom(e.getBody()),r=At.fromDom(e.selection.getStart()),o=Y(function(e,t){var n=Em(t,e);return Q(n,po).fold(k(n),(function(e){return n.slice(0,e)}))}(n,r),vC);return ae(o).exists((function(n){var r,i=Nu.fromRangeStart(e.selection.getRng());return!(!function(e,t,n){return Zn(jc(n),$c(n),(function(r,o){var i=Qy(!0,r),a=Qy(!1,o),l=Qy(!1,t);return e?Vc(n,l).exists((function(e){return e.isEqual(a)&&t.isEqual(i)})):Hc(n,l).exists((function(e){return e.isEqual(i)&&t.isEqual(a)}))})).getOr(!0)}(t,i,n.dom)||(r=n,Wc(r.dom)&&_g(r.dom))||(bC(t,e,n,o),0))}))},wC=function(e,t){return!!e.selection.isCollapsed()&&yC(e,t)},xC=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),vh(e,t,At.fromDom(n)),!0},CC=function(e,t){return e.selection.isCollapsed()?function(e,t){var n=t?vm:bm,r=t?Pu.Forwards:Pu.Backwards,o=pc(r,e.getBody(),e.selection.getRng());return n(o)?xC(e,t,o.getNode(!t)):I.from(Qy(t,o)).filter((function(e){return n(e)&&gc(o,e)})).exists((function(n){return xC(e,t,n.getNode(!t))}))}(e,t):function(e,t){var n=e.selection.getNode();return!!Gn(n)&&xC(e,t,n)}(e,t)},kC=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},SC=function(e,t){return(e||"table"===Lt(t)?"margin":"padding")+("rtl"===ar(t,"direction")?"-right":"-left")},_C=function(e){var t=TC(e);return!e.mode.isReadOnly()&&(t.length>1||function(e,t){return te(t,(function(t){var n=SC(bs(e),t),r=ur(t,n).map(kC).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&r>0}))}(e,t))},OC=function(e){return vo(e)||bo(e)},TC=function(e){return Y((t=e.selection.getSelectedBlocks(),U(t,At.fromDom)),(function(e){return!OC(e)&&!function(e){return Yt(e).exists(OC)}(e)&&Zr(e,(function(e){return qn(e.dom)||Kn(e.dom)})).exists((function(e){return qn(e.dom)}))}));var t},EC=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=function(e){return e.getParam("indentation","40px","string")}(e),a=/[a-z%]+$/i.exec(i)[0],l=parseInt(i,10),u=bs(e),s=as(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==s||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),W(TC(e),(function(e){!function(e,t,n,r,o,i){var a=SC(n,At.fromDom(i));if("outdent"===t){var l=Math.max(0,kC(i.style[a])-r);e.setStyle(i,a,l?l+o:"")}else l=kC(i.style[a])+r+o,e.setStyle(i,a,l)}(n,t,u,l,a,e.dom)}))},AC=function(e,t){if(e.selection.isCollapsed()&&_C(e)){var n=e.dom,r=e.selection.getRng(),o=Nu.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&Pm(At.fromDom(i),o))return EC(e,"outdent"),!0}return!1},MC=function(e,t){e.getDoc().execCommand(t,!1,null)},DC=function(e,t){e.addCommand("delete",(function(){!function(e,t){AC(e)||Fw(e,!1)||Mw(e,!1)||gC(e,t,!1)||gw(e,!1)||qh(e)||Vw(e,!1)||CC(e,!1)||ww(e)||wC(e,!1)||(MC(e,"Delete"),ow(e))}(e,t)})),e.addCommand("forwardDelete",(function(){!function(e,t){Fw(e,!0)||Mw(e,!0)||gC(e,t,!0)||gw(e,!0)||qh(e)||Vw(e,!0)||CC(e,!0)||ww(e)||wC(e,!0)||MC(e,"ForwardDelete")}(e,t)}))},NC=function(e){return void 0===e.touches||1!==e.touches.length?I.none():I.some(e.touches[0])},PC=function(e){var t=Dl(),n=_l(!1),r=Pl((function(t){e.fire("longpress",Ae(Ae({},t),{type:"longpress"})),n.set(!0)}),400);e.on("touchstart",(function(e){NC(e).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(i)}))}),!0),e.on("touchmove",(function(o){r.cancel(),NC(o).each((function(r){t.on((function(o){(function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(r,o)&&(t.clear(),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter((function(e){return e.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():e.fire("tap",Ae(Ae({},o),{type:"tap"}))}))}),!0)},zC=function(e,t){return ye(e,t.nodeName)},BC=function(e,t){return!!Vn(t)||!!Nn(t)&&!zC(e,t)&&!rd(t)},RC=function(e,t){if(Vn(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||zC(e,t.nextSibling)))return!0}return!1},IC=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,l=a.getBlockElements(),u=i.getStart(),s=e.getBody(),c=as(e);if(u&&Nn(u)&&c){var d=s.nodeName.toLowerCase();if(a.isValidChild(d,c.toLowerCase())&&!function(e,t,n){return $(Tm(At.fromDom(n),At.fromDom(t)),(function(t){return zC(e,t.dom)}))}(l,s,u)){var f=i.getRng(),p=f.startContainer,m=f.startOffset,h=f.endContainer,g=f.endOffset,v=Tp(e);for(u=s.firstChild;u;)if(BC(l,u)){if(RC(l,u)){n=u,u=u.nextSibling,o.remove(n);continue}t||(t=o.create(c,ls(e)),u.parentNode.insertBefore(t,u),r=!0),n=u,u=u.nextSibling,t.appendChild(n)}else t=null,u=u.nextSibling;r&&v&&(f.setStart(p,m),f.setEnd(h,g),i.setRng(f),e.nodeChanged())}}},LC=function(e,t){t.hasAttribute("data-mce-caret")&&(Io(t),function(e){e.selection.setRng(e.selection.getRng())}(e),e.selection.scrollIntoView(t))},FC=function(e,t){var n=function(e){return eo(At.fromDom(e.getBody()),"*[data-mce-caret]").map((function(e){return e.dom})).getOrNull()}(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void LC(e,n)):void(Do(n)&&(LC(e,n),e.undoManager.add()))},VC=Kn,HC=function(e,t,n){var r=Dc(e.getBody()),o=O(hc,1===t?r.next:r.prev);if(n.collapsed&&function(e){return""!==as(e)}(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;if(!o(Nu.fromRangeStart(n))){var a=function(e){var t=e.dom.create(as(e));return(!Ct.ie||Ct.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(e);1===t?e.$(i).after(a):e.$(i).before(a),e.selection.select(a,!0),e.selection.collapse()}}},jC=function(e,t){var n=t?Pu.Forwards:Pu.Backwards,r=e.selection.getRng();return function(e,t,n){return Qx(t,e,n,xm,Cm,VC)}(n,e,r).orThunk((function(){return HC(e,n,r),I.none()}))},$C=function(e,t){var n=t?1:-1,r=e.selection.getRng();return function(e,t,n){return eC(t,e,n,(function(e){return xm(e)||ym(e)}),(function(e){return Cm(e)||wm(e)}),VC)}(n,e,r).orThunk((function(){return HC(e,n,r),I.none()}))},UC=function(e,t){return jC(e,t).exists((function(t){return Zx(e,t),!0}))},WC=function(e,t){return $C(e,t).exists((function(t){return Zx(e,t),!0}))},qC=function(e,t){return nC(e,t,t?Cm:xm)},KC=function(e){return j(["figcaption"],Lt(e))},YC=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},GC=function(e,t,n){n?hn(e,t):mn(e,t)},XC=function(e,t,n,r){return""===t?function(e,t){var n=At.fromTag("br");return GC(e,n,t),YC(n)}(e,r):function(e,t,n,r){var o=At.fromTag(n),i=At.fromTag("br");return tr(o,r),hn(o,i),GC(e,o,t),YC(i)}(e,r,t,n)},ZC=function(e,t,n){return t?function(e,t){return Mx(e,t).breakAt.isNone()}(e.dom,n):function(e,t){return Ax(e,t).breakAt.isNone()}(e.dom,n)},JC=function(e,t){var n=At.fromDom(e.getBody()),r=Nu.fromRangeStart(e.selection.getRng()),o=as(e),i=ls(e);return function(e,t){var n=O(Pt,t);return Zr(At.fromDom(e.container()),po,n).filter(KC)}(r,n).exists((function(){if(ZC(n,t,r)){var a=XC(n,o,i,t);return e.selection.setRng(a),!0}return!1}))},QC=function(e,t){return!!e.selection.isCollapsed()&&JC(e,t)},ek=function(e,t){return ee(function(e){return U(e,(function(e){return Ae({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:w},e)}))}(e),(function(e){return function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}(e,t)?[e]:[]}))},tk=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},nk=function(e,t){return J(ek(e,t),(function(e){return e.action()}))},rk=function(e,t){var n=t?Pu.Forwards:Pu.Backwards,r=e.selection.getRng();return Qx(e,n,r,vm,bm,Gn).exists((function(t){return Zx(e,t),!0}))},ok=function(e,t){var n=t?1:-1,r=e.selection.getRng();return eC(e,n,r,vm,bm,Gn).exists((function(t){return Zx(e,t),!0}))},ik=function(e,t){return nC(e,t,t?bm:vm)},ak=function(e,t,n,r,o){var i=jl(At.fromDom(n),"td,th,caption").map((function(e){return e.dom}));return function(e,t,n){return X(e,(function(e,r){return e.fold((function(){return I.some(r)}),(function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return I.some(i<o?r:e)}))}),I.none())}(Y(function(e,t){return ee(t,(function(t){var n=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}(iu(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))}(e,i),(function(e){return t(e,o)})),r,o).map((function(e){return e.cell}))},lk=O(ak,(function(e){return e.bottom}),(function(e,t){return e.y<t})),uk=O(ak,(function(e){return e.top}),(function(e,t){return e.y>t})),sk=function(e,t){return ie(t.getClientRects()).bind((function(t){return lk(e,t.left,t.top)})).bind((function(e){return Ex($c(n=e).map((function(e){return Ax(n,e).positions.concat(e)})).getOr([]),t);var n}))},ck=function(e,t){return ae(t.getClientRects()).bind((function(t){return uk(e,t.left,t.top)})).bind((function(e){return Ex(jc(n=e).map((function(e){return[e].concat(Mx(n,e).positions)})).getOr([]),t);var n}))},dk=function(e,t,n){var r=e(t,n);return function(e){return e.breakType===gx.Wrap&&0===e.positions.length}(r)||!Un(n.getNode())&&function(e){return e.breakType===gx.Br&&1===e.positions.length}(r)?!function(e,t,n){return n.breakAt.exists((function(n){return e(t,n).breakAt.isSome()}))}(e,t,r):r.breakAt.isNone()},fk=O(dk,Ax),pk=O(dk,Mx),mk=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;return!(!$s()||!function(e,t,n){var r=Nu.fromRangeStart(t);return Fc(!e,n).exists((function(e){return e.isEqual(r)}))}(t,o,n)||(kw(i,e,n,!t,!1).each((function(t){Zx(e,t)})),0))},hk=function(e,t){var n=t.getNode(e);return Nn(n)&&"TABLE"===n.nodeName?I.some(n):I.none()},gk=function(e,t,n){var r=hk(!!t,n),o=!1===t;r.fold((function(){return Zx(e,n.toRange())}),(function(r){return Fc(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return Zx(e,n.toRange())}),(function(o){return function(e,t,n,r){var o=as(t);o?t.undoManager.transact((function(){var r=At.fromTag(o);tr(r,ls(t)),hn(r,At.fromTag("br")),e?pn(At.fromDom(n),r):fn(At.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),Zx(t,i)})):Zx(t,r.toRange())}(t,e,r,n)}))}))},vk=function(e,t,n,r){var o=e.selection.getRng(),i=Nu.fromRangeStart(o),a=e.getBody();if(!t&&fk(r,i)){var l=function(e,t,n){return sk(t,n).orThunk((function(){return ie(n.getClientRects()).bind((function(n){return Tx(Dx(e,Nu.before(t)),n.left)}))})).getOr(Nu.before(t))}(a,n,i);return gk(e,t,l),!0}return!(!t||!pk(r,i))&&(l=function(e,t,n){return ck(t,n).orThunk((function(){return ie(n.getClientRects()).bind((function(n){return Tx(Nx(e,Nu.after(t)),n.left)}))})).getOr(Nu.after(t))}(a,n,i),gk(e,t,l),!0)},bk=function(e,t,n){return I.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return I.from(e.dom.getParent(r,"table")).map((function(o){return n(e,t,o,r)}))})).getOr(!1)},yk=function(e,t){return bk(e,t,mk)},wk=function(e,t){return bk(e,t,vk)},xk=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){var r=pt().os;nk([{keyCode:ff.RIGHT,action:tk(UC,e,!0)},{keyCode:ff.LEFT,action:tk(UC,e,!1)},{keyCode:ff.UP,action:tk(WC,e,!1)},{keyCode:ff.DOWN,action:tk(WC,e,!0)},{keyCode:ff.RIGHT,action:tk(yk,e,!0)},{keyCode:ff.LEFT,action:tk(yk,e,!1)},{keyCode:ff.UP,action:tk(wk,e,!1)},{keyCode:ff.DOWN,action:tk(wk,e,!0)},{keyCode:ff.RIGHT,action:tk(rk,e,!0)},{keyCode:ff.LEFT,action:tk(rk,e,!1)},{keyCode:ff.UP,action:tk(ok,e,!1)},{keyCode:ff.DOWN,action:tk(ok,e,!0)},{keyCode:ff.RIGHT,action:tk(lC,e,t,!0)},{keyCode:ff.LEFT,action:tk(lC,e,t,!1)},{keyCode:ff.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:tk(cC,e,t)},{keyCode:ff.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:tk(dC,e,t)},{keyCode:ff.UP,action:tk(QC,e,!1)},{keyCode:ff.DOWN,action:tk(QC,e,!0)}],n).each((function(e){n.preventDefault()}))}(e,t,n)}))},Ck=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){nk([{keyCode:ff.BACKSPACE,action:tk(AC,e,!1)},{keyCode:ff.BACKSPACE,action:tk(Fw,e,!1)},{keyCode:ff.DELETE,action:tk(Fw,e,!0)},{keyCode:ff.BACKSPACE,action:tk(Mw,e,!1)},{keyCode:ff.DELETE,action:tk(Mw,e,!0)},{keyCode:ff.BACKSPACE,action:tk(gC,e,t,!1)},{keyCode:ff.DELETE,action:tk(gC,e,t,!0)},{keyCode:ff.BACKSPACE,action:tk(qh,e,!1)},{keyCode:ff.DELETE,action:tk(qh,e,!0)},{keyCode:ff.BACKSPACE,action:tk(Vw,e,!1)},{keyCode:ff.DELETE,action:tk(Vw,e,!0)},{keyCode:ff.BACKSPACE,action:tk(CC,e,!1)},{keyCode:ff.DELETE,action:tk(CC,e,!0)},{keyCode:ff.BACKSPACE,action:tk(ww,e,!1)},{keyCode:ff.DELETE,action:tk(ww,e,!0)},{keyCode:ff.BACKSPACE,action:tk(gw,e,!1)},{keyCode:ff.DELETE,action:tk(gw,e,!0)},{keyCode:ff.BACKSPACE,action:tk(wC,e,!1)},{keyCode:ff.DELETE,action:tk(wC,e,!0)}],n).each((function(e){n.preventDefault()}))}(e,t,n)})),e.on("keyup",(function(t){!1===t.isDefaultPrevented()&&function(e,t){nk([{keyCode:ff.BACKSPACE,action:tk(Lw,e)},{keyCode:ff.DELETE,action:tk(Lw,e)}],t)}(e,t)}))},kk=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(Co),t.firstChild)}var l=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var u=new so(t,t);n=u.current();){if(Vn(n)){l.setStart(n,0),l.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){l.setStartBefore(n),l.setEndBefore(n);break}r=n,n=u.next()}n||(l.setStart(r,0),l.setEnd(r,0))}else Un(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),Zf(e,l)}},Sk=function(e){return I.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},_k=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Ok=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Tk=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Ek=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Nn(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},Ak=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var l;Ok(l=n)&&Ok(l.parentNode)&&(o="LI");var u=o?t(o):i.create("BR");if(Ek(n,r,!0)&&Ek(n,r,!1))if(_k(n,"LI")){var s=Tk(n);i.insertAfter(u,s),function(e){var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e}(n)?i.remove(s):i.remove(n)}else i.replace(u,n);else if(Ek(n,r,!0))_k(n,"LI")?(i.insertAfter(u,Tk(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(Ek(n,r,!1))i.insertAfter(u,Tk(n)),i.remove(r);else{n=Tk(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var d=c.extractContents();"LI"===o&&function(e,t){return e.firstChild&&e.firstChild.nodeName===t}(d,"LI")?(u=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(u,n)),i.remove(r)}kk(e,u)}},Mk=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},Dk=function(e){e.innerHTML='<br data-mce-bogus="1">'},Nk=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Pk=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},zk=function(e,t,n){return!1===Vn(t)?n:e?1===n&&t.data.charAt(n-1)===ko?0:n:n===t.data.length-1&&t.data.charAt(n)===ko?t.data.length:n},Bk=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},Rk=function(e,t){var n=as(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,t,n){var r=e.dom;I.from(n.style).map(r.parseStyle).each((function(e){var n=sr(At.fromDom(t)),o=Ae(Ae({},n),e);r.setStyles(t,o)}));var o=I.from(n.class).map((function(e){return e.split(/\s+/)})),i=I.from(t.className).map((function(e){return Y(e.split(/\s+/),(function(e){return""!==e}))}));Zn(o,i,(function(e,n){var o=Y(n,(function(t){return!j(e,t)})),i=Me(Me([],e),o);r.setAttrib(t,"class",i.join(" "))}));var a=["style","class"],l=ge(n,(function(e,t){return!j(a,t)}));r.setAttribs(t,l)}(e,t,ls(e))},Ik=function(e,t){var n,r,o,i,a,l,u,s,c,d,f=e.dom,p=e.schema,m=p.getNonEmptyElements(),h=e.selection.getRng(),g=function(t){var n,o,a,l=r,u=p.getTextInlineElements();if(a=n=t||"TABLE"===s||"HR"===s?f.create(t||c):i.cloneNode(!1),!1===function(e){return e.getParam("keep_styles",!0)}(e))f.setAttrib(n,"style",null),f.setAttrib(n,"class",null);else do{if(u[l.nodeName]){if(Wc(l)||rd(l))continue;o=l.cloneNode(!1),f.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((l=l.parentNode)&&l!==x);return Rk(e,n),Dk(a),n},v=function(e){var t,n,a=zk(e,r,o);if(Vn(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&d&&!e)return!0;if(e&&Nn(r)&&r===i.firstChild)return!0;if(Nk(r,"TABLE")||Nk(r,"HR"))return d&&!e||!d&&e;var l=new so(r,i);for(Vn(r)&&(e&&0===a?l.prev():e||a!==r.nodeValue.length||l.next());t=l.current();){if(Nn(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),m[n]&&"br"!==n))return!1}else if(Vn(t)&&!Zo(t.nodeValue))return!1;e?l.prev():l.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!==C?g(c):g(),function(e){return e.getParam("end_container_on_empty_block",!1)}(e)&&Pk(f,u)&&f.isEmpty(i)?a=f.split(u,i):f.insertAfter(a,i),kk(e,a)};Of(f,h).each((function(e){h.setStart(e.startContainer,e.startOffset),h.setEnd(e.endContainer,e.endOffset)})),r=h.startContainer,o=h.startOffset,c=as(e);var y=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);Nn(r)&&r.hasChildNodes()&&(d=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=d&&Vn(r)?r.nodeValue.length:0);var x=Bk(f,r);if(x){(c&&!y||!c&&y)&&(r=function(e,t,n,r,o){var i,a,l,u,s,c,d=t||"P",f=e.dom,p=Bk(f,r);if(!(a=f.getParent(r,f.isBlock))||!Pk(f,a)){if(c=(a=a||p)===e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=f.create(d),Rk(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!f.isBlock(u);)l=u,u=u.previousSibling;if(l&&e.schema.isValidChild(c,d.toLowerCase())){for(i=f.create(d),Rk(e,i),l.parentNode.insertBefore(i,l),u=l;u&&!f.isBlock(u);)s=u.nextSibling,i.appendChild(u),u=s;n.setStart(r,o),n.setEnd(r,o)}}return r}(e,c,h,r,o)),i=f.getParent(r,f.isBlock),u=i?f.getParent(i.parentNode,f.isBlock):null,s=i?i.nodeName.toUpperCase():"";var C=u?u.nodeName.toUpperCase():"";"LI"!==C||w||(i=u,u=u.parentNode,s=C),/^(LI|DT|DD)$/.test(s)&&f.isEmpty(i)?Ak(e,g,u,i,c):c&&i===e.getBody()||(c=c||"P",Eo(i)?(a=Io(i),f.isEmpty(i)&&Dk(i),Rk(e,a),kk(e,a)):v()?b():v(!0)?(a=i.parentNode.insertBefore(g(),i),kk(e,Nk(i,"HR")?a:i)):((n=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,zk(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,zk(!1,e.endContainer,e.endOffset)),t}(h).cloneRange()).setEndAfter(i),function(e){W(Hl(At.fromDom(e),jt),(function(e){var t=e.dom;t.nodeValue=_o(t.nodeValue)}))}(l=n.extractContents()),function(e){do{Vn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(l),a=l.firstChild,f.insertAfter(l,i),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;Nn(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)(!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||Mk(e,o))&&e.remove(o)}}(f,m,a),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(f,i),f.isEmpty(i)&&Dk(i),a.normalize(),f.isEmpty(a)?(f.remove(a),b()):(Rk(e,a),kk(e,a))),f.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},Lk=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Zf(e,r)},Fk=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Of(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var l=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var s=l>u.childNodes.length-1;u=u.childNodes[Math.min(l,u.childNodes.length-1)]||u,l=s&&3===u.nodeType?u.nodeValue.length:0}var c=i.getParent(u,i.isBlock),d=c?i.getParent(c.parentNode,i.isBlock):null,f=d?d.nodeName.toUpperCase():"",p=!(!t||!t.ctrlKey);"LI"!==f||p||(c=d),u&&3===u.nodeType&&l>=u.nodeValue.length&&(function(e,t,n){for(var r,o=new so(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(e.schema,u,c)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Ru(i,a,n),Lk(e,n,r),e.undoManager.add()},Vk=function(e,t){var n=At.fromTag("br");fn(At.fromDom(t),n),e.undoManager.add()},Hk=function(e,t){jk(e.getBody(),t)||pn(At.fromDom(t),At.fromTag("br"));var n=At.fromTag("br");pn(At.fromDom(t),n),Lk(e,n.dom,!1),e.undoManager.add()},jk=function(e,t){return n=Nu.after(t),!!Un(n.getNode())||Vc(e,Nu.after(t)).map((function(e){return Un(e.getNode())})).getOr(!1);var n},$k=function(e){return e&&"A"===e.nodeName&&"href"in e},Uk=function(e){return e.fold(N,$k,$k,N)},Wk=function(e,t){t.fold(w,O(Vk,e),O(Hk,e),w)},qk=function(e,t){var n=function(e){var t=O(Xy,e),n=Nu.fromRangeStart(e.selection.getRng());return lx(t,e.getBody(),n).filter(Uk)}(e);n.isSome()?n.each(O(Wk,e)):Fk(e,t)},Kk=function(e,t){return Sk(e).filter((function(e){return t.length>0&&Dt(At.fromDom(e),t)})).isSome()},Yk=Or([{br:[]},{block:[]},{none:[]}]),Gk=function(e,t){return function(e){return Kk(e,function(e){return e.getParam("no_newline_selector","")}(e))}(e)},Xk=function(e){return function(t,n){return""===as(t)===e}},Zk=function(e){return function(t,n){return function(e){return Sk(e).filter((function(e){return bo(At.fromDom(e))})).isSome()}(t)===e}},Jk=function(e,t){return function(n,r){return function(e){return Sk(e).fold(k(""),(function(e){return e.nodeName.toUpperCase()}))}(n)===e.toUpperCase()===t}},Qk=function(e){return Jk("pre",e)},eS=function(e){return function(t,n){return function(e){return e.getParam("br_in_pre",!0)}(t)===e}},tS=function(e,t){return function(e){return Kk(e,function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(e))}(e)},nS=function(e,t){return t},rS=function(e){var t=as(e),n=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},oS=function(e,t){return function(n,r){return X(e,(function(e,t){return e&&t(n,r)}),!0)?I.some(t):I.none()}},iS=function(e,t){(function(e,t){return Zw([oS([Gk],Yk.none()),oS([Jk("summary",!0)],Yk.br()),oS([Qk(!0),eS(!1),nS],Yk.br()),oS([Qk(!0),eS(!1)],Yk.block()),oS([Qk(!0),eS(!0),nS],Yk.block()),oS([Qk(!0),eS(!0)],Yk.br()),oS([Zk(!0),nS],Yk.br()),oS([Zk(!0)],Yk.block()),oS([Xk(!0),nS,rS],Yk.block()),oS([Xk(!0)],Yk.br()),oS([tS],Yk.br()),oS([Xk(!1),nS],Yk.br()),oS([rS],Yk.block())],[e,!(!t||!t.shiftKey)]).getOr(Yk.none())})(e,t).fold((function(){qk(e,t)}),(function(){Ik(e,t)}),w)},aS=function(e){e.on("keydown",(function(t){t.keyCode===ff.ENTER&&function(e,t){var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),iS(e,t)})))}(e,t)}))},lS=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(e,t,n){nk([{keyCode:ff.END,action:tk(qC,e,!0)},{keyCode:ff.HOME,action:tk(qC,e,!1)},{keyCode:ff.END,action:tk(ik,e,!0)},{keyCode:ff.HOME,action:tk(ik,e,!1)},{keyCode:ff.END,action:tk(fC,e,!0,t)},{keyCode:ff.HOME,action:tk(fC,e,!1,t)}],n).each((function(e){n.preventDefault()}))}(e,t,n)}))},uS=pt().browser,sS=function(e){!function(e){var t=Nl((function(){e.composing||nh(e)}),0);uS.isIE()&&(e.on("keypress",(function(e){t.throttle()})),e.on("remove",(function(e){t.cancel()})))}(e),e.on("input",(function(t){!1===t.isComposing&&nh(e)}))},cS=pt(),dS=function(e){return e.stopImmediatePropagation()},fS=function(e){return e.keyCode===ff.PAGE_UP||e.keyCode===ff.PAGE_DOWN},pS=function(e,t,n){n&&!e.get()?t.on("NodeChange",dS,!0):!n&&e.get()&&t.off("NodeChange",dS),e.set(n)},mS=function(e,t){if(!cS.os.isOSX()){var n=_l(!1);e.on("keydown",(function(t){fS(t)&&pS(n,e,!0)})),e.on("keyup",(function(r){!1===r.isDefaultPrevented()&&function(e,t,n){nk([{keyCode:ff.PAGE_UP,action:tk(fC,e,!1,t)},{keyCode:ff.PAGE_DOWN,action:tk(fC,e,!0,t)}],n)}(e,t,r),fS(r)&&n.get()&&(pS(n,e,!1),e.nodeChanged())}))}},hS=function(e,t){var n=t.container(),r=t.offset();return Vn(n)?(n.insertData(r,e),I.some(Nu(n,r+e.length))):mc(t).map((function(n){var r=At.fromText(e);return t.isAtEnd()?pn(n,r):fn(n,r),Nu(r.dom,e.length)}))},gS=O(hS,Co),vS=O(hS," "),bS=function(e,t){return function(n){return function(e,t){return!Km(t)&&(Ym(e,t)||Wm(e,t)||qm(e,t))}(e,n)?gS(t):vS(t)}},yS=function(e){var t=Nu.fromRangeStart(e.selection.getRng()),n=At.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=O(Xy,e),o=Nu.fromRangeStart(e.selection.getRng());return lx(r,e.getBody(),o).bind(function(e){return function(t){return t.fold((function(t){return Hc(e.dom,Nu.before(t))}),(function(e){return jc(e)}),(function(e){return $c(e)}),(function(t){return Vc(e.dom,Nu.after(t))}))}}(n)).bind(bS(n,t)).exists(function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}}(e))}return!1},wS=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&function(e,t){nk([{keyCode:ff.SPACEBAR,action:tk(yS,e)}],t).each((function(e){t.preventDefault()}))}(e,t)}))},xS=function(e){var t=sC(e);return function(e){e.on("keyup compositionstart",O(FC,e))}(e),xk(e,t),Ck(e,t),aS(e),wS(e),sS(e),lS(e,t),mS(e,t),t},CS=function(){function e(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&vf(o,t)||e.fire("SelectionChange"),t=o})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!Ct.range&&e.selection.isCollapsed()||Gd(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&Gd(e)&&("IMG"===e.selection.getNode().nodeName?ao.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(t=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,(function(e){if(e===r)return!0;n.push(e)})),(e=e||{}).element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),kS=function(e){!function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))}(e),function(e){e.parser.addNodeFilter("details",(function(e){W(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){W(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",c(t)?t:null),e.attr("data-mce-open",null)}))}))}(e)},SS=function(e){return Nn(e)&&go(At.fromDom(e))},_S=function(e){e.on("click",(function(t){t.detail>=3&&function(e){var t=e.selection.getRng(),n=Nu.fromRangeStart(t),r=Nu.fromRangeEnd(t);if(Nu.isElementPosition(n)){var o=n.container();SS(o)&&jc(o).each((function(e){return t.setStart(e.container(),e.offset())}))}Nu.isElementPosition(r)&&(o=n.container(),SS(o)&&$c(o).each((function(e){return t.setEnd(e.container(),e.offset())}))),e.selection.setRng(Yh(t))}(e)}))},OS=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},TS=function(e,t){return n=function(e){return e.inline?OS(e.getBody()):{left:0,top:0}}(e),r=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),{pageX:(o=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=OS(e.getContentAreaContainer()),r=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o}(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o},ES=Kn,AS=qn,MS=function(e,t,n,r){var o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},DS=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},NS=function(e,t){return function(n){if(function(e){return 0===e.button}(n)){var r=J(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(ES,AS)).getOr(null);if(l=t.getBody(),ES(u=r)&&u!==l){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:MS(t,r,r.offsetWidth,r.offsetHeight)})}}var l,u}},PS=function(e,t){return function(n){e.on((function(e){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!ES(t)}(t,(a=t.selection,3===(l=a.getSel().getRangeAt(0).startContainer).nodeType?l.parentNode:l),e.element)){var r=(o=e.element,(i=o.cloneNode(!0)).removeAttribute("data-mce-selected"),i);t.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact((function(){DS(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}var o,i,a,l})),zS(e)}},zS=function(e){e.on((function(e){DS(e.ghost)})),e.clear()},BS=function(e){var t=Dl(),n=bl.DOM,r=document,o=NS(t,e),i=function(e,t){var n=ao.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.stop),function(r){return e.on((function(e){var o,i,a=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&a>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var l=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,TS(t,r));o=e.ghost,i=t.getBody(),o.parentNode!==i&&i.appendChild(o),function(e,t,n,r,o,i){var a=0,l=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(l=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-l+"px"}(e.ghost,l,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}))}}(t,e),a=PS(t,e),l=function(e,t){return function(){e.on((function(e){e.dragging&&t.fire("dragend")})),zS(e)}}(t,e);e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",a),n.bind(r,"mousemove",i),n.bind(r,"mouseup",l),e.on("remove",(function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",l)}))},RS=function(e){BS(e),function(e){e.on("drop",(function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(ES(n)||"false"===e.dom.getContentEditableParent(n))&&t.preventDefault()}))}(e),function(e){return e.getParam("block_unsupported_drop",!0,"boolean")}(e)&&function(e){var t=function(t){if(!t.isDefaultPrevented()){var n=t.dataTransfer;n&&(j(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&wy(e,"Dropped file type is not supported"))}},n=function(n){wp(e,n.target)&&t(n)},r=function(){var r=bl.DOM,o=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),l=["drop","dragover"];W(l,(function(e){r.bind(i,e,n),o.bind(a,e,t)})),e.on("remove",(function(){W(l,(function(e){r.unbind(i,e,n),o.unbind(a,e,t)}))}))};e.on("init",(function(){ao.setEditorTimeout(e,r,0)}))}(e)},IS=qn,LS=Kn,FS=function(e,t){return lf(e.getBody(),t)},VS=function(e){var t,n=e.selection,r=e.dom,o=r.isBlock,i=e.getBody(),a=js(e,i,o,(function(){return Tp(e)})),l="sel-"+r.uniqueId(),u="data-mce-selected",s=function(e){return e!==i&&(LS(e)||Gn(e))&&r.isChildOf(e,i)},c=function(e){e&&n.setRng(e)},d=n.getRng,f=function(t,r,o,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:r,direction:t,before:o}).isDefaultPrevented()?null:(i&&n.scrollIntoView(r,-1===t),a.show(o,r))},p=function(e){return Mo(e)||Bo(e)||Ro(e)},m=function(e){return p(e.startContainer)||p(e.endContainer)},h=function(t){var n=e.schema.getShortEndedElements(),o=r.createRng(),i=t.startContainer,a=t.startOffset,l=t.endContainer,u=t.endOffset;return ye(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),ye(n,l.nodeName.toLowerCase())?0===u?o.setEndBefore(l):o.setEndAfter(l):o.setEnd(l,u),o},g=function(o){var i=o.cloneNode(!0),a=e.fire("ObjectSelected",{target:o,targetClone:i});if(a.isDefaultPrevented())return null;var s=function(t,o,i){var a=e.$,u=eo(At.fromDom(e.getBody()),"#"+l).fold((function(){return a([])}),(function(e){return a([e.dom])}));0===u.length&&(u=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",l)).appendTo(e.getBody());var s=r.createRng();o===i&&Ct.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(o),s.setStartAfter(u[0].firstChild.firstChild),s.setEndAfter(o)):(u.empty().append(Co).append(o).append(Co),s.setStart(u[0].firstChild,1),s.setEnd(u[0].lastChild,0)),u.css({top:r.getPos(t,e.getBody()).y}),u[0].focus();var c=n.getSel();return c.removeAllRanges(),c.addRange(s),s}(o,a.targetClone,i),c=At.fromDom(o);return W(jl(At.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Pt(c,e)||or(e,u)})),r.getAttrib(o,u)||o.setAttribute(u,"1"),t=o,y(),s},v=function(e,t){if(!e)return null;if(e.collapsed){if(!m(e)){var n=t?1:-1,o=pc(n,i,e),a=o.getNode(!t);if(Ws(a))return f(n,a,!!t&&!o.isAtEnd(),!1);var l=o.getNode(t);if(Ws(l))return f(n,l,!t&&!o.isAtEnd(),!1)}return null}var u=e.startContainer,c=e.startOffset,d=e.endOffset;if(3===u.nodeType&&0===c&&LS(u.parentNode)&&(u=u.parentNode,c=r.nodeIndex(u),u=u.parentNode),1!==u.nodeType)return null;if(d===c+1&&u===e.endContainer){var p=u.childNodes[c];if(s(p))return g(p)}return null},b=function(){t&&t.removeAttribute(u),eo(At.fromDom(e.getBody()),"#"+l).each(bn),t=null},y=function(){a.hide()};return Ct.ceFalse&&!eb(e)&&function(){e.on("mouseup",(function(t){var n=d();n.collapsed&&py(e,t.clientX,t.clientY)&&_w(e,n,!1).each(c)})),e.on("click",(function(t){var o=FS(e,t.target);o&&(LS(o)&&(t.preventDefault(),e.focus()),IS(o)&&r.isChildOf(o,n.getNode())&&b())})),e.on("blur NewBlock",b),e.on("ResizeWindow FullscreenStateChanged",a.reposition);var u=function(e){var t=Dc(e);if(!e.firstChild)return!1;var n,r=Nu.before(e.firstChild),o=t.next(r);return o&&!(xm(n=o)||Cm(n)||vm(n)||bm(n))},p=function(t,n){var i,a,l=r.getParent(t,o),s=r.getParent(n,o);return!(!l||t===s||!r.isChildOf(l,s)||!1!==LS(FS(e,l)))||l&&(i=l,a=s,!(r.getParent(i,o)===r.getParent(a,o)))&&u(l)};e.on("tap",(function(t){var n=t.target,r=FS(e,n);LS(r)?(t.preventDefault(),Sw(e,r).each(v)):s(n)&&Sw(e,n).each(v)}),!0),e.on("mousedown",(function(t){var o=t.target;if((o===i||"HTML"===o.nodeName||r.isChildOf(o,i))&&!1!==py(e,t.clientX,t.clientY)){var a=FS(e,o);if(a)LS(a)?(t.preventDefault(),Sw(e,a).each(v)):(b(),IS(a)&&t.shiftKey||uf(t.clientX,t.clientY,n.getRng())||(y(),n.placeCaretAt(t.clientX,t.clientY)));else if(s(o))Sw(e,o).each(v);else if(!1===Ws(o)){b(),y();var l=Xx(i,t.clientX,t.clientY);if(l&&!p(o,l.node)){t.preventDefault();var u=f(1,l.node,l.before,!1);e.getBody().focus(),c(u)}}}})),e.on("keypress",(function(e){ff.modifierPressed(e)||LS(n.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}})),e.on("SetSelectionRange",(function(e){e.range=h(e.range);var t=v(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(function(e){var t,n=e.range,o=n.startContainer.parentNode;m(n)||"mcepastebin"===o.id||y(),t=o,r.hasClass(t,"mce-offscreen-selection")||b()})),e.on("copy",(function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Ct.ie){var o=(t=r.get(l))?t.getElementsByTagName("*")[0]:t;o&&(e.preventDefault(),n.clearData(),n.setData("text/html",o.outerHTML),n.setData("text/plain",o.outerText||o.innerText))}})),RS(e),function(e){var t=Nl((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var n=Ow(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))}(e),function(e){e.on("init",(function(){e.on("focusin",(function(t){var n=t.target;if(Gn(n)){var r=lf(e.getBody(),n),o=Kn(r)?r:n;e.selection.getNode()!==o&&Sw(e,o).each((function(t){return e.selection.setRng(t)}))}}))}))}(e)}(),{showCaret:f,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Io(e),c(d()),n.scrollIntoView(e))},hideFakeCaret:y,destroy:function(){a.destroy(),t=null}}},HS=function(e){var t,n,r=Tt.each,o=ff.BACKSPACE,i=ff.DELETE,a=e.dom,l=e.selection,u=e.parser,s=Ct.gecko,c=Ct.ie,d=Ct.webkit,f="data:text/mce-internal,",p=c?"Text":"URL",m=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},h=function(e){return e.isDefaultPrevented()},g=function(){var t=function(e){var t=a.create("body"),n=e.cloneContents();return t.appendChild(n),l.serializer.serialize(t,{format:"html"})};e.on("keydown",(function(n){var r,l,u,s,c,d=n.keyCode;if(!h(n)&&(d===i||d===o)){if(r=e.selection.isCollapsed(),l=e.getBody(),r&&!a.isEmpty(l))return;if(!r&&(u=e.selection.getRng(),s=t(u),(c=a.createRng()).selectNode(e.getBody()),s!==t(c)))return;n.preventDefault(),e.setContent(""),l.firstChild&&a.isBlock(l.firstChild)?e.selection.setCursorLocation(l.firstChild,0):e.selection.setCursorLocation(l,0),e.nodeChanged()}}))},v=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=l.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Mo(n.startContainer))return;l.placeCaretAt(t.clientX,t.clientY)}else l.setRng(n)}))},y=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!h(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),ao.setEditorTimeout(e,(function(){n.focus()}))}}))},x=function(){e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==a.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&a.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),l.select(n))}))},C=function(){e.on("keydown",(function(e){if(!h(e)&&e.keyCode===o&&l.isCollapsed()&&0===l.getRng().startOffset){var t=l.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},k=function(){(function(e){return e.getParam("readonly")})(e)||e.on("BeforeExecCommand mousedown",(function(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),ws(e)||m("enableObjectResizing",!1)}))},S=function(){e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||r(a.select("a"),(function(e){var t=e.parentNode,n=a.getRoot();if(t.lastChild===e){for(;t&&!a.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}a.add(t,"br",{"data-mce-bogus":1})}}))}))},_=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},O=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))},T=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(Ct.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))},E=function(){Ct.mac&&e.on("keydown",(function(t){!ff.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},A=function(){e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},M=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))},D=function(){e.on("dragstart",(function(t){!function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&l.select(t.target),(n=e.selection.getContent()).length>0&&(r=f+escape(e.id)+","+escape(n),t.dataTransfer.setData(p,r)))}(t)})),e.on("drop",(function(t){if(!h(t)){var n=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(p))&&t.indexOf(f)>=0?(t=t.substr(f.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}(t);if(n&&n.id!==e.id){t.preventDefault();var r=gf(t.x,t.y,e.getDoc());l.setRng(r),o=n.html,i=!0,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:o,internal:i}):e.execCommand("mceInsertContent",!1,o)}}var o,i}))},N=w;return eb(e)?(d&&(b(),x(),M(),v(),Ct.iOS&&(O(),T(),A())),s&&(y(),k(),_(),E())):(e.on("keydown",(function(t){var n,r;if(!h(t)&&t.keyCode===ff.BACKSPACE){var o=(n=l.getRng()).startContainer,i=n.startOffset,u=a.getRoot();if(r=o,n.collapsed&&0===i){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==u;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),(n=a.createRng()).setStart(o,0),n.setEnd(o,0),l.setRng(n))}}})),g(),Ct.windowsPhone||e.on("keyup focusin mouseup",(function(e){ff.modifierPressed(e)||l.normalize()}),!0),d&&(b(),x(),as(e)&&e.on("init",(function(){m("DefaultParagraphSeparator",as(e))})),M(),C(),u.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),Ct.iOS?(O(),T(),A()):v()),Ct.ie>=11&&(T(),C()),Ct.ie&&(v(),m("AutoUrlDetect",!1),D()),s&&(e.on("keydown",(function(t){if(!h(t)&&t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){var n=l.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return a.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(a.remove(r),t.preventDefault())}}})),y(),t=function(){var t=a.getAttribs(l.getStart().cloneNode(!1));return function(){var n=l.getStart();n!==e.getBody()&&(a.setAttrib(n,"style",null),r(t,(function(e){n.setAttributeNode(e.cloneNode(!0))})))}},n=function(){return!l.isCollapsed()&&a.getParent(l.getStart(),a.isBlock)!==a.getParent(l.getEnd(),a.isBlock)},e.on("keypress",(function(r){var o;if(!h(r)&&(8===r.keyCode||46===r.keyCode)&&n())return o=t(),e.getDoc().execCommand("delete",!1,null),o(),r.preventDefault(),!1})),a.bind(e.getDoc(),"cut",(function(r){var o;!h(r)&&n()&&(o=t(),ao.setEditorTimeout(e,(function(){o()})))})),k(),S(),_(),E(),C())),{refreshContentEditable:N,isHidden:function(){if(!s||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},jS=bl.DOM,$S=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},US=function(e){return ge(e,(function(e){return!1===h(e)}))},WS=function(e){var t=e.settings,n=e.editorUpload.blobCache;return US({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:$S(e),validate:!0,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})},qS=function(e){var t=e.dom.getRoot();e.inline||Gd(e)&&e.selection.getStart(!0)!==t||jc(t).each((function(t){var n=t.getNode(),r=In(n)?jc(n).getOr(t):t;Ct.browser.isIE()?function(e,t){var n=At.fromDom(e.getBody()),r=(cp(e)?I.from(t):I.none()).map(dp).filter(sp(n));e.bookmark=r.isSome()?r:e.bookmark}(e,r.toRange()):e.selection.setRng(r.toRange())}))},KS=function(e){e.bindPendingEventDelegates(),e.initialized=!0,function(e){e.fire("Init")}(e),e.focus(!0),qS(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),function(e){e.settings.auto_focus&&ao.setEditorTimeout(e,(function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()}),100)}(e)},YS=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},GS=function(e){var t=YS(e),n=ys(e),r=e.contentCSS,o=function(){t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=function(){e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){var a="";Tt.each(e.contentStyles,(function(e){a+=e+"\r\n"})),e.dom.addStyle(a)}var l=no.all(function(e,t,n){var r=[new no((function(n,r){return YS(e).loadAll(t,n,r)}))];return e.inline?r:r.concat([new no((function(t,r){return e.ui.styleSheetLoader.loadAll(n,t,r)}))])}(e,r,n)).then(i).catch(i);return e.settings.content_style&&function(e,t){var n=At.fromDom(e.getBody()),r=sn(un(n)),o=At.fromTag("style");er(o,"type","text/css"),hn(o,At.fromText(t)),hn(r,o),e.on("remove",(function(){bn(o)}))}(e,e.settings.content_style),l},XS=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();!function(e){e.fire("PreInit")}(e),t.browser_spellcheck||t.gecko_spellcheck||(n.body.spellcheck=!1,jS.setAttrib(r,"spellcheck","false")),e.quirks=HS(e),function(e){e.fire("PostRender")}(e);var o=function(e){return e.getParam("directionality",Al.isRtl()?"rtl":void 0)}(e);void 0!==o&&(r.dir=o),t.protect&&e.on("BeforeSetContent",(function(e){Tt.each(t.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type}))},ZS=function(e){!0!==e.removed&&(function(e){eb(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})}(e),KS(e))},JS=function(e,t){var n=e.settings,r=e.getElement(),o=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(o.open(),o.write(e.iframeHTML),o.close()),e.inline&&(jS.addClass(r,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&"static"===jS.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=zy(e),e.schema=Di(n),e.dom=bl(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:hs(e),referrerPolicy:gs(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=function(e){var t=Ab(WS(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){for(var r,o,i=t.length,a=e.dom,l="data-mce-"+n;i--;)if((o=(r=t[i]).attr(n))&&!r.attr(l)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=a.serializeStyle(a.parseStyle(o),r.name)).length||(o=null),r.attr(l,o),r.attr(n,o)):"tabindex"===n?(r.attr(l,o),r.attr(n,null)):r.attr(l,e.convertURL(o,n,r.name))}})),t.addNodeFilter("script",(function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){for(var n=t.length;n--;){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){for(var n=t.length,r=e.schema.getNonEmptyElements();n--;){var o=t[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new Vp("br",1)).shortEnded=!0)}})),t}(e),e.serializer=zb(function(e){var t=e.settings;return Ae(Ae({},WS(e)),US({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))}(e),e),e.selection=db(e.dom,e.getWin(),e.serializer,e),e.annotator=of(e),e.formatter=Hy(e),e.undoManager=$y(e),e._nodeChangeDispatcher=new CS(e),e._selectionOverrides=VS(e),PC(e),kS(e),eb(e)||_S(e);var a=function(e){return eb(e)?_l(null):xS(e)}(e);DC(e,a),function(e){as(e)&&e.on("NodeChange",O(IC,e))}(e),Yy(e);var l=tb(e);XS(e),l.fold((function(){GS(e).then((function(){return ZS(e)}))}),(function(t){e.setProgressState(!0),GS(e).then((function(){t().then((function(t){e.setProgressState(!1),ZS(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)}),ZS(e)}))}))}))},QS=bl.DOM,e_=function(e){var t=function(e){return e.getParam("doctype","<!DOCTYPE html>")}(e)+"<html><head>";(function(e){return e.getParam("document_base_url","")})(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=function(e){return os(e,"body_id","tinymce")}(e),r=function(e){return os(e,"body_class","")}(e);return is(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+is(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'},t_=function(e,t){var n=e.translate(function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")}(e)),r=function(e,t,n,r){var o=At.fromTag("iframe");return tr(o,r),tr(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ll(o,"tox-edit-area__iframe"),o}(e.id,n,t.height,function(e){return e.getParam("iframe_attrs",{})}(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var o=function(e,t){if(document.domain!==window.location.hostname&&Ct.browser.isIE()){var n=My("mce");e[n]=function(){JS(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return QS.setAttrib(t,"src",r),!0}return!1}(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=e_(e),QS.add(t.iframeContainer,r),o},n_=bl.DOM,r_=function(e,t,n){var r=gy.get(n),o=gy.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Tt.trim(n),r&&-1===Tt.inArray(t,n)){if(Tt.each(gy.dependencies(n),(function(n){r_(e,t,n)})),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(iT){!function(e,t,n){var r=Al.translate(["Failed to initialize plugin: {0}",t]);sf(e,"PluginLoadError",{message:r}),Sy(r,n),wy(e,r)}(e,n,iT)}}},o_=function(e){return e.replace(/^\-/,"")},i_=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},a_=function(e){var t=e.getElement();return e.inline?i_(null):function(e){var t=n_.create("div");return n_.insertAfter(t,e),i_(t)}(t)},l_=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,c(Cs(e))?function(e){return e.theme.renderUI()}(e):b(Cs(e))?function(e){var t=e.getElement(),n=Cs(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n}(e):a_(e)},u_=function(e){e.fire("ScriptsLoaded"),function(e){var t=Tt.trim(cs(e)),n=e.ui.registry.getAll().icons,r=Ae(Ae({},ay.get("default").icons),ay.get(t).icons);de(r,(function(t,r){ye(n,r)||e.ui.registry.addIcon(r,t)}))}(e),function(e){var t=Cs(e);if(c(t)){e.settings.theme=o_(t);var n=vy.get(t);e.theme=new n(e,vy.urls[t]),e.theme.init&&e.theme.init(e,vy.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}(e),function(e){var t=[];Tt.each(Os(e).split(/[ ,]/),(function(n){r_(e,t,o_(n))}))}(e);var t=l_(e);!function(e,t){var n={show:I.from(t.show).getOr(w),hide:I.from(t.hide).getOr(w),disable:I.from(t.disable).getOr(w),isDisabled:I.from(t.isDisabled).getOr(N),enable:function(){e.mode.isReadOnly()||I.from(t.enable).map(D)}};e.ui=Ae(Ae({},e.ui),n)}(e,I.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,Ty(e),e.inline?JS(e):function(e,t){var n=t_(e,t);t.editorContainer&&(QS.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=QS.isHidden(t.editorContainer)),e.getElement().style.display="none",QS.setAttrib(e.id,"aria-hidden","true"),n||JS(e)}(e,n)},s_=bl.DOM,c_=function(e){return"-"===e.charAt(0)},d_=function(e,t){var n=vs(t),r=function(e){return e.getParam("language_url","","string")}(t);if(!1===Al.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,w,void 0,(function(){!function(e,t,n){xy(e,"LanguageLoadError",Cy("language",t,n))}(t,o,n)}))}},f_=function(e,t,n){return I.from(t).filter((function(e){return e.length>0&&!ay.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:I.some(t)}}))},p_=function(e,t,n){var r=f_(t,"default",n),o=function(e){return I.from(function(e){return e.getParam("icons_url","","string")}(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:I.none()}}))}(t).orThunk((function(){return f_(t,cs(t),"")}));W(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([r,o]),(function(n){e.add(n.url,w,void 0,(function(){!function(e,t,n){xy(e,"IconsLoadError",Cy("icons",t,n))}(t,n.url,n.name.getOrUndefined())}))}))},m_=function(e,t){var n=Sl.ScriptLoader;!function(e,t,n,r){var o=Cs(t);if(c(o)){if(!c_(o)&&!ye(vy.urls,o)){var i=function(e){return e.getParam("theme_url")}(t);i?vy.load(o,t.documentBaseURI.toAbsolute(i)):vy.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue((function(){vy.waitFor(o,r)}))}else r()}(n,e,t,(function(){d_(n,e),p_(n,e,t),function(e,t){Tt.each(function(e){return e.getParam("external_plugins")}(e),(function(t,n){gy.load(n,t,w,void 0,(function(){ky(e,t,n)})),e.settings.plugins+=" "+n})),Tt.each(Os(e).split(/[ ,]/),(function(n){if((n=Tt.trim(n))&&!gy.urls[n])if(c_(n)){n=n.substr(1,n.length);var r=gy.dependencies(n);Tt.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},o=gy.createUrl(r,n);gy.load(o.resource,o,w,void 0,(function(){ky(e,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};gy.load(n,o,w,void 0,(function(){ky(e,o.prefix+o.resource+o.suffix,n)}))}}))}(e,t),n.loadQueue((function(){e.removed||u_(e)}),e,(function(){e.removed||u_(e)}))}))},h_=function(e){var t=e.id;Al.setCode(vs(e));var n=function(){s_.unbind(window,"ready",n),e.render()};if(ji.Event.domLoaded){if(e.getElement()&&Ct.contentEditable){var r=At.fromDom(e.getElement()),o=function(e){return X(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}(r);e.on("remove",(function(){q(r.dom.attributes,(function(e){return or(r,e.name)})),tr(r,o)})),e.ui.styleSheetLoader=function(e,t){return uo.forElement(e,{contentCssCors:_s(t),referrerPolicy:gs(t)})}(r,e),function(e){return e.getParam("inline")}(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||s_.getParent(t,"form");i&&(e.formElement=i,function(e){return e.getParam("hidden_input")}(e)&&!Fn(e.getElement())&&(s_.insertAfter(s_.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},s_.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!function(e){return e.getParam("submit_patch")}(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=by(e),e.notificationManager=hy(e),function(e){return"xml"===e.getParam("encoding")}(e)&&e.on("GetContent",(function(e){e.save&&(e.content=s_.encode(e.content))})),function(e){return e.getParam("add_form_submit_trigger")}(e)&&e.on("submit",(function(){e.initialized&&e.save()})),function(e){return e.getParam("add_unload_trigger")}(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),m_(e,e.suffix)}}else s_.bind(window,"ready",n)},g_=function(e,t){return function(e,t){return rb(e).editor.addVisual(t)}(e,t)},v_={"font-size":"size","font-family":"face"},b_=function(e,t,n){return pg(At.fromDom(n),(function(t){return function(t){return ur(t,e).orThunk((function(){return"font"===Lt(t)?be(v_,e).bind((function(e){return rr(t,e)})):I.none()}))}(t)}),(function(e){return Pt(At.fromDom(t),e)}))},y_=function(e){return function(t,n){return I.from(n).map(At.fromDom).filter(Ht).bind((function(n){return b_(e,t,n.dom).or(function(e,t){return I.from(bl.DOM.getStyle(t,e,!0))}(e,n.dom))})).getOr("")}},w_=y_("font-size"),x_=x((function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),y_("font-family")),C_=function(e){return jc(e.getBody()).map((function(e){var t=e.container();return Vn(t)?t.parentNode:t}))},k_=function(e,t){return function(e){return I.from(e.selection.getRng()).bind((function(t){var n=e.getBody();return t.startContainer===n&&0===t.startOffset?I.none():I.from(e.selection.getStart(!0))}))}(e).orThunk(O(C_,e)).map(At.fromDom).filter(Ht).bind(t)},S_=function(e,t){return k_(e,C(I.some,t))},__=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=function(e){return Tt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(e),o=function(e){return Tt.explode(e.getParam("font_size_classes",""))}(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},O_=function(e){var t=e.split(/\s*,\s*/);return U(t,(function(e){return-1===e.indexOf(" ")||Ie(e,'"')||Ie(e,"'")?e:"'"+e+"'"})).join(",")},T_=function(e,t){var n=function(e){if("string"!=typeof e){var t=Tt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}}(t);!function(e,t,n){nb(e).editor.insertContent(t,n)}(e,n.content,n.details)},E_=Tt.each,A_=Tt.map,M_=Tt.inArray,D_=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){var l;if("mcefocus"!==e.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?(l=a.editor,hp(l).each((function(e){return l.selection.setRng(e)}))):a.editor.focus()),(r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;var u=e.toLowerCase();if(o=a.commands.exec[u])return o(u,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(E_(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),i=!0,!1})),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(s){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(n){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(n){}}},e.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;E_(e,(function(e,r){E_(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":w,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},mceFocus:function(t,n,r){Mp(e,r)},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Ct.mac&&(i=i.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),E_("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,{value:r})},FontName:function(t,n,r){!function(e,t){var n=__(e,t);e.formatter.toggle("fontname",{value:O_(n)}),e.nodeChanged()}(e,r)},FontSize:function(t,n,r){!function(e,t){e.formatter.toggle("fontsize",{value:__(e,t)}),e.nodeChanged()}(e,r)},LineHeight:function(t,n,r){!function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()}(e,r)},Lang:function(e,n,r){t.toggleFormat(e,{value:r.code,customValue:r.customCode})},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){T_(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){iS(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){EC(e,t)},mceRepaint:w,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),qn);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return qk(e,r),!0}});var n=function(t){return function(){var n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),o=A_(r,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==M_(o,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return _C(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",(function(){return function(e){return S_(e,(function(t){return x_(e.getBody(),t.dom)})).getOr("")}(e)}),this),t.addQueryValueHandler("FontSize",(function(){return function(e){return S_(e,(function(t){return w_(e.getBody(),t.dom)})).getOr("")}(e)}),this),t.addQueryValueHandler("LineHeight",(function(){return function(e){return S_(e,(function(t){var n=At.fromDom(e.getBody());return pg(t,(function(e){return ur(e,"line-height")}),O(Pt,n)).getOrThunk((function(){var e=parseFloat(ar(t,"line-height")),n=parseFloat(ar(t,"font-size"));return String(e/n)}))})).getOr("")}(e)}),this)},e}(),N_="data-mce-contenteditable",P_=function(e,t,n){var r,o;Vl(e,t)&&!1===n?(o=t,Bl(r=e)?r.dom.classList.remove(o):Il(r,o),Fl(r)):n&&Ll(e,t)},z_=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(r){}},B_=function(e,t){e.dom.contentEditable=t?"true":"false"},R_=function(e,t){var n=At.fromDom(e.getBody());P_(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),function(e){I.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))}(e),e.readonly=!0,B_(n,!1),W(jl(n,'*[contenteditable="true"]'),(function(e){er(e,N_,"true"),B_(e,!1)}))):(e.readonly=!1,B_(n,!0),function(e){W(jl(e,'*[data-mce-contenteditable="true"]'),(function(e){or(e,N_),B_(e,!0)}))}(n),z_(e,"StyleWithCSS",!1),z_(e,"enableInlineTableEditing",!1),z_(e,"enableObjectResizing",!1),Ep(e)&&e.focus(),function(e){e.selection.setRng(e.selection.getRng())}(e),e.nodeChanged())},I_=function(e){return e.readonly},L_=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){I_(e)&&W(t,(function(e){e.attr(N_,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(N_,(function(t){I_(e)&&W(t,(function(e){e.attr("contenteditable",e.attr(N_))}))})),e.serializer.addTempAttr(N_)},F_=function(e,t){if(function(e){return"click"===e.type}(t)&&!ff.metaKeyPressed(t)){var n=At.fromDom(t.target);(function(e,t){return to(t,"a",(function(t){return Pt(t,At.fromDom(e.getBody()))})).bind((function(e){return rr(e,"href")}))})(e,n).each((function(n){if(t.preventDefault(),/^#/.test(n)){var r=e.dom.select(n+',[name="'+(Ie(o=n,i="#")?function(e,t){return e.substring(t)}(o,i.length):o)+'"]');r.length&&e.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");var o,i}))}},V_=Tt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),H_=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||N}return e.isNative=function(e){return!!V_[e.toLowerCase()]},e.prototype.fire=function(e,t){var n=e.toLowerCase(),r=Ri(n,t||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var l=o[i];if(!l.removed){if(l.once&&this.off(n,l.func),r.isImmediatePropagationStopped())return r;if(!1===l.func.call(this.scope,r))return r.preventDefault(),r}}return r},e.prototype.on=function(e,t,n,r){if(!1===t&&(t=N),t){var o={func:t,removed:!1};r&&Tt.extend(o,r);for(var i=e.toLowerCase().split(" "),a=i.length;a--;){var l=i[a],u=this.bindings[l];u||(u=[],this.toggleEvent(l,!0)),u=n?Me([o],u):Me(Me([],u),[o]),this.bindings[l]=u}}return this},e.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return de(this.bindings,(function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]})),this;if(a){if(t){var l=K(a,(function(e){return e.func===t}));a=l.fail,this.bindings[i]=a,W(l.pass,(function(e){e.removed=!0}))}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}else de(this.bindings,(function(e,t){n.toggleEvent(t,!1)})),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),j_=function(e){return e._eventDispatcher||(e._eventDispatcher=new H_({scope:e,toggleEvent:function(t,n){H_.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},$_={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=j_(r).fire(e,t);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.fire(e,o,!1),i=i.parent();return o},on:function(e,t,n){return j_(this).on(e,t,n)},off:function(e,t){return j_(this).off(e,t)},once:function(e,t){return j_(this).once(e,t)},hasEventListeners:function(e){return j_(this).has(e)}},U_=bl.DOM,W_=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=xs(e);return n?(e.eventRoot||(e.eventRoot=U_.select(n)[0]),e.eventRoot):e.getBody()},q_=function(e,t,n){!function(e){return!e.hidden&&!I_(e)}(e)?I_(e)&&F_(e,n):e.fire(t,n)},K_=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=W_(e,t);if(xs(e)){if(Bx||(Bx={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||Bx&&(de(Bx,(function(t,n){e.dom.unbind(W_(e,n))})),Bx=null)}))),Bx[t])return;n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||U_.isChildOf(r,a))&&q_(o[i],t,n)}},Bx[t]=n,U_.bind(r,t,n)}else n=function(n){q_(e,t,n)},U_.bind(r,t,n),e.delegates[t]=n}},Y_=Ae(Ae({},$_),{bindPendingEventDelegates:function(){var e=this;Tt.each(e._pendingNativeEvents,(function(t){K_(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?K_(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(W_(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(de(e.delegates,(function(t,n){e.dom.unbind(W_(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),G_=["design","readonly"],X_=function(e,t,n,r){var o=n[t.get()],i=n[r];try{i.activate()}catch(iT){return void console.error("problem while activating editor mode "+r+":",iT)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&R_(e,i.editorReadOnly),t.set(r),function(e,t){e.fire("SwitchMode",{mode:t})}(e,r)},Z_=function(e){var t=_l("design"),n=_l({design:{activate:w,deactivate:w,editorReadOnly:!1},readonly:{activate:w,deactivate:w,editorReadOnly:!0}});return function(e){e.serializer?L_(e):e.on("PreInit",(function(){L_(e)}))}(e),function(e){e.on("ShowCaret",(function(t){I_(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){I_(e)&&t.preventDefault()}))}(e),{isReadOnly:function(){return I_(e)},set:function(r){return function(e,t,n,r){if(r!==n.get()){if(!ye(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?X_(e,n,t,r):e.on("init",(function(){return X_(e,n,t,r)}))}}(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(function(e,t,n){var r;if(j(G_,t))throw new Error("Cannot override default mode "+t);return Ae(Ae({},e),((r={})[t]=Ae(Ae({},n),{deactivate:function(){try{n.deactivate()}catch(iT){console.error("problem while deactivating editor mode "+t+":",iT)}}}),r))}(n.get(),e,t))}}},J_=Tt.each,Q_=Tt.explode,eO={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},tO=Tt.makeMap("alt,ctrl,shift,meta,access"),nO=function(e){var t,n={};J_(Q_(e.toLowerCase(),"+"),(function(e){e in tO?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=eO[e]||e.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(t in tO)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,Ct.mac?n.ctrl=!0:n.shift=!0),n.meta&&(Ct.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},rO=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(J_(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}return e.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return J_(Q_(Tt.trim(e)),(function(e){var n=o.createShortcut(e,t,i,r);o.shortcuts[n.id]=n})),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:Tt.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},e.prototype.createShortcut=function(e,t,n,r){var o=Tt.map(Q_(e,">"),nO);return o[o.length-1]=Tt.extend(o[o.length-1],{func:n,scope:r||this.editor}),Tt.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),oO=function(){var e,t,n,r,o,i,a,l,u=(t={},n={},r={},o={},i={},a={},{addButton:(l=function(e,t){return function(n,r){return e[n.toLowerCase()]=Ae(Ae({},r),{type:t})}})(e={},"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(o,"contextmenu"),addContextToolbar:l(i,"contexttoolbar"),addContextForm:l(i,"contextform"),addSidebar:l(a,"sidebar"),addIcon:function(e,t){return r[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}});return{addAutocompleter:u.addAutocompleter,addButton:u.addButton,addContextForm:u.addContextForm,addContextMenu:u.addContextMenu,addContextToolbar:u.addContextToolbar,addIcon:u.addIcon,addMenuButton:u.addMenuButton,addMenuItem:u.addMenuItem,addNestedMenuItem:u.addNestedMenuItem,addSidebar:u.addSidebar,addSplitButton:u.addSplitButton,addToggleButton:u.addToggleButton,addGroupToolbarButton:u.addGroupToolbarButton,addToggleMenuItem:u.addToggleMenuItem,getAll:u.getAll}},iO=Tt.each,aO=Tt.trim,lO="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),uO={ftp:21,http:80,https:443,mailto:25},sO=function(){function e(t,n){t=aO(t),this.settings=n||{};var r=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var i=0===t.indexOf("//");if(0!==t.indexOf("/")||i||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var a=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+o.toAbsPath(a,t);else{var l=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,l[1])+l[2]}}t=t.replace(/@@/g,"(mce_at)");var u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);iO(lO,(function(e,t){var n=u[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=uO[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),l=t.split("/");if(a.length>=l.length)for(n=0,r=a.length;n<r;n++)if(n>=l.length||a[n]!==l[n]){o=n+1;break}if(a.length<l.length)for(n=0,r=l.length;n<r;n++)if(n>=a.length||a[n]!==l[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=l.length;n<r;n++)i+=n!==o-1?"/"+l[n]:l[n];return i},e.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",l=e.split("/"),u=t.split("/");for(iO(l,(function(e){e&&i.push(e)})),l=i,n=u.length-1,i=[];n>=0;n--)0!==u[n].length&&"."!==u[n]&&(".."!==u[n]?o>0?o--:i.push(u[n]):o++);return 0!==(r=(n=l.length-o)<=0?ne(i).join("/"):l.slice(0,n).join("/")+"/"+ne(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),cO=bl.DOM,dO=Tt.extend,fO=Tt.each,pO=Tt.resolve,mO=Ct.ie,hO=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,dO(this,Y_),this.settings=ry(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Sl.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),bl.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ml.languageLoad=this.settings.language_load,Ml.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new sO(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new rO(this),this.editorCommands=new D_(this),this.settings.cache_suffix&&(Ct.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:oO(),styleSheetLoader:void 0,show:w,hide:w,enable:w,disable:w,isDisabled:N};var o=Z_(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=dl.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return e.prototype.render=function(){h_(this)},e.prototype.focus=function(e){this.execCommand("mceFocus",!1,e)},e.prototype.hasFocus=function(){return Tp(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?pO(r):0,i=pO(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,t)},e.prototype.translate=function(e){return Al.translate(e)},e.prototype.getParam=function(e,t,n){return iy(this,e,t,n)},e.prototype.hasPlugin=function(e,t){return!(!j(Os(this).split(/[ ,]/),e)||t&&void 0===gy.get(e))},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(cO.show(e.getContainer()),cO.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(mO&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(cO.hide(e.getContainer()),cO.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){(e=e||{}).load=!0;var o=Fn(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,Fn(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=cO.getParent(r.id,"form"))&&fO(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return Rb(this,e,t)},e.prototype.getContent=function(e){return Bb(this,e)},e.prototype.insertContent=function(e,t){t&&(e=dO({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?Rb(this,this.startContent,{format:"raw"}):Rb(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=cO.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=cO.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},e.prototype.addVisual=function(e){g_(this,e)},e.prototype.remove=function(){Fb(this)},e.prototype.destroy=function(e){Vb(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),gO=bl.DOM,vO=Tt.explode,bO=Tt.each,yO=Tt.extend,wO=0,xO=!1,CO=[],kO=[],SO=function(e){var t=e.type;bO(EO.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}}))},_O=function(e){e!==xO&&(e?dl(window).on("resize scroll",SO):dl(window).off("resize scroll",SO),xO=e)},OO=function(e){var t=kO;delete CO[e.id];for(var n=0;n<CO.length;n++)if(CO[n]===e){CO.splice(n,1);break}return kO=Y(kO,(function(t){return e!==t})),EO.activeEditor===e&&(EO.activeEditor=kO.length>0?kO[0]:null),EO.focusedEditor===e&&(EO.focusedEditor=null),t.length!==kO.length},TO="CSS1Compat"!==document.compatMode,EO=Ae(Ae({},$_),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:dl,majorVersion:"5",minorVersion:"9.2",releaseDate:"2021-09-08",editors:CO,i18n:Al,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,n=this,r="";t=sO.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var o,i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,r=i.suffix;else{for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l++){var u;if(""!==(u=a[l].src||"")){var s=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==s.indexOf(".min")&&(r=".min"),e=u.substring(0,u.lastIndexOf("/"));break}}}!e&&document.currentScript&&(-1!==(u=document.currentScript.src).indexOf(".min")&&(r=".min"),e=u.substring(0,u.lastIndexOf("/")))}n.baseURL=new sO(t).toAbsolute(e),n.documentBaseURL=t,n.baseURI=new sO(n.baseURL),n.suffix=r,(o=n).on("AddEditor",O(xp,o)),o.on("RemoveEditor",O(Cp,o))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&de(r,(function(e,t){Ml.PluginManager.urls[t]=e}))},init:function(e){var t,n=this,r=Tt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e){var t=e.id;return t||(t=be(e,"name").filter((function(e){return!gO.get(e)})).getOrThunk(gO.uniqueId),e.setAttribute("id",t)),t},i=function(e,t){return t.constructor===RegExp?t.test(e.className):gO.hasClass(e,t)},a=function(e){t=e},l=function(){var t,u=0,s=[],c=function(e,r,o){var i=new hO(e,r,n);s.push(i),i.on("init",(function(){++u===t.length&&a(s)})),i.targetElm=i.targetElm||o,i.render()};gO.unbind(window,"ready",l),function(t){var r=e[t];r&&r.apply(n,[])}("onpageload"),t=dl.unique(function(e){var t=[];if(Ct.browser.isIE()&&Ct.browser.version.major<11)return Sy("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(TO)return Sy("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return bO(e.types,(function(e){t=t.concat(gO.select(e.selector))})),t;if(e.selector)return gO.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var n=e.elements||"";n.length>0&&bO(vO(n),(function(e){var n=gO.get(e);n?t.push(n):bO(document.forms,(function(n){bO(n.elements,(function(n){n.name===e&&(e="mce_editor_"+wO++,gO.setAttrib(n,"id",e),t.push(n))}))}))}));break;case"textareas":case"specific_textareas":bO(gO.select("textarea"),(function(n){e.editor_deselector&&i(n,e.editor_deselector)||e.editor_selector&&!i(n,e.editor_selector)||t.push(n)}))}return t}(e)),e.types?bO(e.types,(function(n){Tt.each(t,(function(t){return!gO.is(t,n.selector)||(c(o(t),yO({},e,n),t),!1)}))})):(Tt.each(t,(function(e){var t;(t=n.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(OO(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)})),0===(t=Tt.grep(t,(function(e){return!n.get(e.id)}))).length?a([]):bO(t,(function(t){!function(e,t){return e.inline&&t.tagName.toLowerCase()in r}(e,t)?c(o(t),e,t):Sy("Could not initialize inline editor on invalid inline target element",t)})))};return n.settings=e,gO.bind(window,"ready",l),new no((function(e){t?e(t):a=function(t){e(t)}}))},get:function(e){return 0===arguments.length?kO.slice(0):c(e)?J(kO,(function(t){return t.id===e})).getOr(null):y(e)&&kO[e]?kO[e]:null},add:function(e){var t=this;return CO[e.id]===e||(null===t.get(e.id)&&(function(e){return"length"!==e}(e.id)&&(CO[e.id]=e),CO.push(e),kO.push(e)),_O(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Rx||(Rx=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",Rx))),e},createEditor:function(e,t){return this.add(new hO(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!c(e))return n=e,p(r.get(n.id))?null:(OO(n)&&r.fire("RemoveEditor",{editor:n}),0===kO.length&&window.removeEventListener("beforeunload",Rx),n.remove(),_O(kO.length>0),n);bO(gO.select(e),(function(e){(n=r.get(e.id))&&r.remove(n)}))}else for(t=kO.length-1;t>=0;t--)r.remove(kO[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new hO(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){bO(kO,(function(e){e.save()}))},addI18n:function(e,t){Al.add(e,t)},translate:function(e){return Al.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new sO(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new sO(this.baseURL)}});EO.setup();var AO,MO,DO,NO,PO=Math.min,zO=Math.max,BO=Math.round,RO=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,l=t.w,u=t.h,s=(n||"").split("");return"b"===s[0]&&(o+=u),"r"===s[1]&&(r+=l),"c"===s[0]&&(o+=BO(u/2)),"c"===s[1]&&(r+=BO(l/2)),"b"===s[3]&&(o-=a),"r"===s[4]&&(r-=i),"c"===s[3]&&(o-=BO(a/2)),"c"===s[4]&&(r-=BO(i/2)),IO(r,o,i,a)},IO=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},LO={inflate:function(e,t,n){return IO(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:RO,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=RO(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=zO(e.x,t.x),r=zO(e.y,t.y),o=PO(e.x+e.w,t.x+t.w),i=PO(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:IO(n,r,o-n,i-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,l=t.x+t.w,u=t.y+t.h,s=zO(0,t.x-r),c=zO(0,t.y-o),d=zO(0,i-l),f=zO(0,a-u);return r+=s,o+=c,n&&(i+=s,a+=c,r-=d,o-=f),IO(r,o,(i-=d)-r,(a-=f)-o)},create:IO,fromClientRect:function(e){return IO(e.left,e.top,e.width,e.height)}},FO=(AO={},MO={},{load:function(e,t){var n='Script at URL "'+t+'" failed to load',r='Script at URL "'+t+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==AO[e])return AO[e];var o=new no((function(o,i){var a=function(e,t,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||(r=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))}},a=i(e),l=i(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==o||(o=setTimeout((function(){return l.apply(null,e)}),n))},resolve:a,reject:l}}(o,i);MO[e]=a.resolve,Sl.ScriptLoader.loadScript(t,(function(){return a.start(r)}),(function(){return a.reject(n)}))}));return AO[e]=o,o},add:function(e,t){void 0!==MO[e]&&(MO[e](t),delete MO[e]),AO[e]=no.resolve(t)}}),VO=Tt.each,HO=Tt.extend,jO=function(){};jO.extend=DO=function(e){var t=this.prototype,n=function(){var e,t,n,r=this;if(!NO&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(r,arguments)},r=function(){return this};NO=!0;var o=new this;return NO=!1,e.Mixins&&(VO(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),t.Mixins&&(e.Mixins=t.Mixins.concat(e.Mixins))),e.Methods&&VO(e.Methods.split(","),(function(t){e[t]=r})),e.Properties&&VO(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}})),e.Statics&&VO(e.Statics,(function(e,t){n[t]=e})),e.Defaults&&t.Defaults&&(e.Defaults=HO({},t.Defaults,e.Defaults)),de(e,(function(e,n){"function"==typeof e&&t[n]?o[n]=function(e,n){return function(){var r=this,o=r._super;r._super=t[e];var i=n.apply(r,arguments);return r._super=o,i}}(n,e):o[n]=e})),n.prototype=o,n.constructor=n,n.extend=DO,n};var $O,UO,WO,qO,KO=Math.min,YO=Math.max,GO=Math.round,XO={serialize:function(e){var t=JSON.stringify(e);return c(t)?t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t})):t},parse:function(e){try{return JSON.parse(e)}catch(t){}}},ZO={callbacks:{},count:0,send:function(e){var t=this,n=bl.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},JO=Ae(Ae({},$_),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):ao.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",JO.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Tt.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=JO.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();ao.setTimeout(r,10)}}),QO=Tt.extend,eT=function(){function e(e){this.settings=QO({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=QO(this.settings,e);r.success=function(e,o){void 0===(e=XO.parse(e))&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=XO.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",JO.send(r)},e}();try{var tT="__storage_test__";($O=window.localStorage).setItem(tT,tT),$O.removeItem(tT)}catch(iT){UO={},WO=[],qO={getItem:function(e){return UO[e]||null},setItem:function(e,t){WO.push(e),UO[e]=String(t)},key:function(e){return WO[e]},removeItem:function(e){WO=WO.filter((function(t){return t===e})),delete UO[e]},clear:function(){WO=[],UO={}},length:0},Object.defineProperty(qO,"length",{get:function(){return WO.length},configurable:!1,enumerable:!1}),$O=qO}var nT,rT={geom:{Rect:LO},util:{Promise:no,Delay:ao,Tools:Tt,VK:ff,URI:sO,Class:jO,EventDispatcher:H_,Observable:$_,I18n:Al,XHR:JO,JSON:XO,JSONRequest:eT,JSONP:ZO,LocalStorage:$O,Color:function(e){var t={},n=0,r=0,o=0,i=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=YO(0,KO(t,1)),i=YO(0,KO(i,1)),0!==t){var a=e/60,l=i*t,u=l*(1-Math.abs(a%2-1)),s=i-l;switch(Math.floor(a)){case 0:n=l,r=u,o=0;break;case 1:n=u,r=l,o=0;break;case 2:n=0,r=l,o=u;break;case 3:n=0,r=u,o=l;break;case 4:n=u,r=0,o=l;break;case 5:n=l,r=0,o=u;break;default:n=r=o=0}n=GO(255*(n+s)),r=GO(255*(r+s)),o=GO(255*(o+s))}else n=r=o=GO(255*i)}(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&i(e),t.toRgb=function(){return{r:n,g:r,b:o}},t.toHsv=function(){return function(e,t,n){var r,o;o=0;var i=KO(e/=255,KO(t/=255,n/=255)),a=YO(e,YO(t,n));return i===a?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,o=a,{h:GO(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(a-i))),s:GO(100*r),v:GO(100*o)})}(n,r,o)},t.toHex=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},t.parse=i,t},ImageUploader:function(e){var t=Ey(),n=Py(e,t);return{upload:function(t,r){return void 0===r&&(r=!0),n.upload(t,r?Ny(e):void 0)}}}},dom:{EventUtils:ji,Sizzle:_a,DomQuery:dl,TreeWalker:so,TextSeeker:ru,DOMUtils:bl,ScriptLoader:Sl,RangeUtils:Af,Serializer:zb,StyleSheetLoader:lo,ControlSelection:mf,BookmarkManager:af,Selection:db,Event:ji.Event},html:{Styles:Pi,Entities:xi,Node:Vp,Schema:Di,SaxParser:Yp,DomParser:Ab,Writer:tm,Serializer:nm},Env:Ct,AddOnManager:Ml,Annotator:of,Formatter:Hy,UndoManager:$y,EditorCommands:D_,WindowManager:by,NotificationManager:hy,EditorObservable:Y_,Shortcuts:rO,Editor:hO,FocusManager:gp,EditorManager:EO,DOM:bl.DOM,ScriptLoader:Sl.ScriptLoader,PluginManager:gy,ThemeManager:vy,IconManager:ay,Resource:FO,trim:Tt.trim,isArray:Tt.isArray,is:Tt.is,toArray:Tt.toArray,makeMap:Tt.makeMap,each:Tt.each,map:Tt.map,grep:Tt.grep,inArray:Tt.inArray,extend:Tt.extend,create:Tt.create,walk:Tt.walk,createNS:Tt.createNS,resolve:Tt.resolve,explode:Tt.explode,_addCacheSuffix:Tt._addCacheSuffix,isOpera:Ct.opera,isWebKit:Ct.webkit,isIE:Ct.ie,isGecko:Ct.gecko,isMac:Ct.mac},oT=Tt.extend(EO,rT);nT=oT,window.tinymce=nT,window.tinyMCE=nT,function(e){try{yl.exports=e}catch(t){}}(oT)}();var Cl,kl,Sl,_l,Ol,Tl,El,Al,Ml,Dl,Nl,Pl,zl,Bl,Rl,Il,Ll,Fl,Vl,Hl,jl,$l,Ul,Wl,ql,Kl,Yl,Gl,Xl,Zl,Jl,Ql,eu,tu,nu,ru,ou,iu,au,lu,uu,su,cu,du,fu,pu,mu,hu,gu,vu,bu,yu,wu,xu,Cu,ku,Su,_u,Ou,Tu,Eu,Au,Mu,Du,Nu,Pu,zu,Bu,Ru,Iu,Lu,Fu,Vu,Hu,ju,$u,Uu,Wu,qu,Ku,Yu,Gu,Xu,Zu,Ju,Qu,es,ts,ns,rs,os,is,as,ls,us,ss,cs,ds=xl.exports,fs=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ps=function(e){return-1!==fs.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},ms=function(e,t,n,r,o,i){r.setContent(i()),n.attrs["onUpdate:modelValue"]&&function(e,t,n,r){var o=e.modelEvents?e.modelEvents:null,i=Array.isArray(o)?o.join(" "):o;Mo(r,(function(t,r){n&&"string"==typeof t&&t!==r&&t!==n.getContent({format:e.outputFormat})&&n.setContent(t)})),n.on(i||"change input undo redo",(function(){t.emit("update:modelValue",n.getContent({format:e.outputFormat}))}))}(t,n,r,o),function(e,t,n){Object.keys(t).filter(ps).forEach((function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),(function(e){return o(e,n)})))}))}(e,n.attrs,r)},hs=0,gs=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++hs+String(t)},vs=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},bs=function(){return{listeners:[],scriptId:gs("tiny-script"),scriptLoaded:!1}},ys=(Cl=bs(),{load:function(e,t,n){Cl.scriptLoaded?n():(Cl.listeners.push(n),e.getElementById(Cl.scriptId)||function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),t.head&&t.head.appendChild(o)}(Cl.scriptId,e,t,(function(){Cl.listeners.forEach((function(e){return e()})),Cl.scriptLoaded=!0})))},reinitialize:function(){Cl=bs()}}),ws=function(){var e="undefined"!=typeof window?window:global;return e&&e.tinymce?e.tinymce:null},xs={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},Cs=function(){return(Cs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ks=Qt({props:xs,setup:function(e,t){var n=St(e),r=n.disabled,o=n.modelValue,i=vt(null),a=null,l=e.id||gs("tiny-vue"),u=e.init&&e.init.inline||e.inline,s=!!t.attrs["onUpdate:modelValue"],c=!0,d=e.initialValue?e.initialValue:"",f="",p=function(){var n,r,p,m=(n=c,s?function(){return(null==o?void 0:o.value)?o.value:""}:function(){return n?d:f}),h=Cs(Cs({},e.init),{readonly:e.disabled,selector:"#"+l,plugins:(r=e.init&&e.init.plugins,p=e.plugins,vs(r).concat(vs(p))),toolbar:e.toolbar||e.init&&e.init.toolbar,inline:u,setup:function(n){a=n,n.on("init",(function(r){return ms(r,e,t,n,o,m)})),e.init&&"function"==typeof e.init.setup&&e.init.setup(n)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(i.value)&&(i.value.style.visibility=""),ws().init(h),c=!1};return Mo(r,(function(e){null!==a&&a.setMode(e?"readonly":"design")})),cn((function(){if(null!==ws())p();else if(i.value&&i.value.ownerDocument){var t=e.cloudChannel?e.cloudChannel:"5",n=e.apiKey?e.apiKey:"no-api-key",r=null==e.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js":e.tinymceScriptSrc;ys.load(i.value.ownerDocument,r,p)}})),pn((function(){null!==ws()&&ws().remove(a)})),u||(nn((function(){c||p()})),rn((function(){var e;s||(f=a.getContent()),null===(e=ws())||void 0===e||e.remove(a)}))),function(){return u?(t=Bo,n=l,r=i,o=e.tagName,t(o||"div",{id:n,ref:r})):function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})}(Bo,l,i);var t,n,r,o}}});!function(){var e=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},t=function(e){return function(t){return typeof t===e}},n=function(e){return function(t){return e===t}},r=e("string"),o=e("object"),i=e("array"),a=n(null),l=t("boolean"),u=n(void 0),s=function(e){return null==e},c=function(e){return!s(e)},d=t("function"),f=t("number"),p=function(e,t){if(i(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},m=function(){},h=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},g=function(e){return function(){return e}},v=function(e){return e},b=function(e,t){return e===t};function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var w=function(e){return function(t){return!e(t)}},x=function(e){return function(){throw new Error(e)}},C=g(!1),k=g(!0),S=tinymce.util.Tools.resolve("tinymce.ThemeManager"),_=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function O(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function T(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var E,A,M,D,N=function(){return P},P={fold:function(e,t){return e()},isSome:C,isNone:k,getOr:A=v,getOrThunk:E=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:A,orThunk:E,map:N,each:m,bind:N,exists:C,forall:k,filter:function(){return N()},toArray:function(){return[]},toString:g("none()")},z=function(e){var t=g(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:k,isNone:C,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return z(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:P},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},B={some:z,none:N,from:function(e){return null==e?P:z(e)}},R=Array.prototype.slice,I=Array.prototype.indexOf,L=Array.prototype.push,F=function(e,t){return I.call(e,t)},V=function(e,t){return F(e,t)>-1},H=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},j=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},$=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=R.call(e,r,r+t);n.push(o)}return n},U=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},W=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},q=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},K=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Y=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)}(e,(function(e,r){n=t(n,e,r)})),n},G=function(e,t,n){return W(e,(function(e,r){n=t(n,e,r)})),n},X=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return B.some(i);if(n(i,r))break}return B.none()}(e,t,C)},Z=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return B.some(n)}return B.none()},J=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);L.apply(t,e[n])}return t},Q=function(e,t){return J(U(e,t))},ee=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},te=function(e){var t=R.call(e,0);return t.reverse(),t},ne=function(e,t){return K(e,(function(e){return!V(t,e)}))},re=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},oe=function(e){return[e]},ie=function(e,t){var n=R.call(e,0);return n.sort(t),n},ae=function(e,t){return t>=0&&t<e.length?B.some(e[t]):B.none()},le=function(e){return ae(e,0)},ue=function(e){return ae(e,e.length-1)},se=d(Array.from)?Array.from:function(e){return R.call(e)},ce=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return B.none()},de=function(e){return{isValue:k,isError:C,getOr:g(e),getOrThunk:g(e),getOrDie:g(e),or:function(t){return de(e)},orThunk:function(t){return de(e)},fold:function(t,n){return n(e)},map:function(t){return de(t(e))},mapError:function(t){return de(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return B.some(e)}}},fe=function(e){return{isValue:C,isError:k,getOr:v,getOrThunk:function(e){return e()},getOrDie:function(){return x(String(e))()},or:v,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return fe(e)},mapError:function(t){return fe(t(e))},each:m,bind:function(t){return fe(e)},exists:C,forall:k,toOptional:B.none}},pe={value:de,error:fe,fromOption:function(e,t){return e.fold((function(){return fe(t)}),de)}};(D=M||(M={}))[D.Error=0]="Error",D[D.Value=1]="Value";var me,he=function(e,t,n){return e.stype===M.Error?t(e.serror):n(e.svalue)},ge=function(e){return{stype:M.Value,svalue:e}},ve=function(e){return{stype:M.Error,serror:e}},be=function(e){return e.fold(ve,ge)},ye=function(e){return he(e,pe.error,pe.value)},we=ge,xe=function(e){var t=[],n=[];return W(e,(function(e){he(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},Ce=ve,ke=function(e,t){return e.stype===M.Value?t(e.svalue):e},Se=function(e,t){return e.stype===M.Error?t(e.serror):e},_e=function(e,t){return e.stype===M.Value?{stype:M.Value,svalue:t(e.svalue)}:e},Oe=function(e,t){return e.stype===M.Error?{stype:M.Error,serror:t(e.serror)}:e},Te=he,Ee=function(e,t,n,r){return{tag:"field",key:e,newKey:t,presence:n,prop:r}},Ae=function(e,t,n){switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Me=Object.keys,De=Object.hasOwnProperty,Ne=function(e,t){for(var n=Me(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Pe=function(e,t){return ze(e,(function(e,n){return{k:n,v:t(e,n)}}))},ze=function(e,t){var n={};return Ne(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},Be=function(e,t){var n,r={};return function(e,t,n,r){Ne(e,(function(e,o){(t(e,o)?n:r)(e,o)}))}(e,t,(n=r,function(e,t){n[t]=e}),m),r},Re=function(e,t){var n=[];return Ne(e,(function(e,r){n.push(t(e,r))})),n},Ie=function(e,t){for(var n=Me(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return B.some(a)}return B.none()},Le=function(e){return Re(e,v)},Fe=function(e,t){return Ve(e,t)?B.from(e[t]):B.none()},Ve=function(e,t){return De.call(e,t)},He=function(e,t){return Ve(e,t)&&void 0!==e[t]&&null!==e[t]},je=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Ve(i,a)&&(r[a]=e(r[a],i[a]))}return r}},$e=je((function(e,t){return o(e)&&o(t)?$e(e,t):t})),Ue=je((function(e,t){return t})),We=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},qe=function(e){return{tag:"defaultedThunk",process:e}},Ke=function(e){return qe(g(e))},Ye=function(e){return{tag:"mergeWithThunk",process:e}},Ge=function(e){return h(Ce,J)(e)},Xe=function(e){var t=xe(e);return t.errors.length>0?Ge(t.errors):we(t.values)},Ze=function(e){return o(e)&&Me(e).length>100?" removed due to size":JSON.stringify(e,null,2)},Je=function(e,t){return Ce([{path:e,getErrorInfo:t}])},Qe=function(e){return{extract:function(t,n){return Se(e(n),(function(e){return function(e,t){return Je(e,g(t))}(t,e)}))},toString:g("val")}},et=Qe(we),tt=function(e,t,n,r){return Fe(t,n).fold((function(){return function(e,t,n){return Je(e,(function(){return'Could not find valid *required* value for "'+t+'" in '+Ze(n)}))}(e,n,t)}),r)},nt=function(e,t,n,r){return r(Fe(e,t).getOrThunk((function(){return n(e)})))},rt=function(e,t,n,r,o){var i=function(e){return o.extract(t.concat([r]),e)},a=function(e){return e.fold((function(){return we(B.none())}),(function(e){var n=o.extract(t.concat([r]),e);return _e(n,B.some)}))};switch(e.tag){case"required":return tt(t,n,r,i);case"defaultedThunk":return nt(n,r,e.process,i);case"option":return function(e,t,n){return n(Fe(e,t))}(n,r,a);case"defaultedOptionThunk":return function(e,t,n,r){return r(Fe(e,t).map((function(t){return!0===t?n(e):t})))}(n,r,e.process,a);case"mergeWithThunk":return nt(n,r,g({}),(function(t){var r=$e(e.process(n),t);return i(r)}))}},ot=function(e){return{extract:function(t,n){return e().extract(t,n)},toString:function(){return e().toString()}}},it=function(e){var t=at(e),n=Y(e,(function(e,t){return Ae(t,(function(t){var n;return $e(e,((n={})[t]=!0,n))}),g(e))}),{});return{extract:function(e,r){var o=l(r)?[]:Me(Be(r,c)),i=K(o,(function(e){return!He(n,e)}));return 0===i.length?t.extract(e,r):function(e,t){return Je(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))}(e,i)},toString:t.toString}},at=function(e){return{extract:function(t,n){return function(e,t,n){for(var r={},o=[],i=0,a=n;i<a.length;i++){var l=a[i];Ae(l,(function(n,i,a,l){var u=rt(a,e,t,n,l);Te(u,(function(e){o.push.apply(o,e)}),(function(e){r[i]=e}))}),(function(e,n){r[e]=n(t)}))}return o.length>0?Ce(o):we(r)}(t,n,e)},toString:function(){return"obj{\n"+U(e,(function(e){return Ae(e,(function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))})).join("\n")+"}"}}},lt=function(e){return{extract:function(t,n){var r=U(n,(function(n,r){return e.extract(t.concat(["["+r+"]"]),n)}));return Xe(r)},toString:function(){return"array("+e.toString()+")"}}},ut=function(e){return{extract:function(t,n){for(var r=[],o=0,i=e;o<i.length;o++){var a=i[o].extract(t,n);if(a.stype===M.Value)return a;r.push(a)}return Xe(r)},toString:function(){return"oneOf("+U(e,(function(e){return e.toString()})).join(", ")+")"}}},st=function(e,t){return{extract:function(n,r){var o=Me(r),i=function(t,n){return lt(Qe(e)).extract(t,n)}(n,o);return ke(i,(function(e){var o=U(e,(function(e){return Ee(e,e,{tag:"required",process:{}},t)}));return at(o).extract(n,r)}))},toString:function(){return"setOf("+t.toString()+")"}}},ct=h(lt,at),dt=g(et),ft=function(e,t){return Qe((function(n){var r=typeof n;return e(n)?we(n):Ce("Expected type: "+t+" but got: "+r)}))},pt=ft(f,"number"),mt=ft(r,"string"),ht=ft(l,"boolean"),gt=ft(d,"function"),vt=function(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return vt(e[t])}));default:return!1}},bt=Qe((function(e){return vt(e)?we(e):Ce("Expected value to be acceptable for sending via postMessage")})),yt=function(e,t,n,r){return Fe(n,r).fold((function(){return function(e,t,n){return Je(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Ze(t)}))}(e,n,r)}),(function(n){return n.extract(e.concat(["branch: "+r]),t)}))},wt=function(e,t){return{extract:function(n,r){return Fe(r,e).fold((function(){return function(e,t){return Je(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}(n,e)}),(function(e){return yt(n,r,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+Me(t)}}},xt=function(e){return Qe((function(t){return e(t).fold(Ce,we)}))},Ct=function(e,t){return st((function(t){return be(e(t))}),t)},kt=function(e,t,n){return ye(function(e,t,n){var r=t.extract([e],n);return Oe(r,(function(e){return{input:n,errors:e}}))}(e,t,n))},St=function(e){return e.fold((function(e){throw new Error(Ot(e))}),v)},_t=function(e,t,n){return St(kt(e,t,n))},Ot=function(e){return"Errors: \n"+(t=e.errors,n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:g("... (only showing first ten failures)")}]):t,U(n,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))).join("\n")+"\n\nInput object: "+Ze(e.input);var t,n},Tt=function(e,t){return wt(e,Pe(t,at))},Et=Ee,At=function(e,t){return{tag:"custom",newKey:e,instantiator:t}},Mt=function(e){return xt((function(t){return V(e,t)?pe.value(t):pe.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))},Dt=function(e){return Et(e,e,{tag:"required",process:{}},dt())},Nt=function(e,t){return Et(e,e,{tag:"required",process:{}},t)},Pt=function(e){return Nt(e,pt)},zt=function(e){return Nt(e,mt)},Bt=function(e,t){return Et(e,e,{tag:"required",process:{}},Mt(t))},Rt=function(e){return Nt(e,gt)},It=function(e,t){return Et(e,e,{tag:"required",process:{}},at(t))},Lt=function(e,t){return Et(e,e,{tag:"required",process:{}},ct(t))},Ft=function(e,t){return Et(e,e,{tag:"required",process:{}},lt(t))},Vt=function(e){return Et(e,e,{tag:"option",process:{}},dt())},Ht=function(e,t){return Et(e,e,{tag:"option",process:{}},t)},jt=function(e){return Ht(e,pt)},$t=function(e){return Ht(e,mt)},Ut=function(e){return Ht(e,gt)},Wt=function(e,t){return Ht(e,lt(t))},qt=function(e,t){return Ht(e,at(t))},Kt=function(e,t){return Et(e,e,Ke(t),dt())},Yt=function(e,t,n){return Et(e,e,Ke(t),n)},Gt=function(e,t){return Yt(e,t,pt)},Xt=function(e,t){return Yt(e,t,mt)},Zt=function(e,t,n){return Yt(e,t,Mt(n))},Jt=function(e,t){return Yt(e,t,ht)},Qt=function(e,t){return Yt(e,t,gt)},en=function(e,t,n){return Yt(e,t,lt(n))},tn=function(e,t,n){return Yt(e,t,at(n))},nn=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},rn=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},on={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return rn(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return rn(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return rn(n)},fromDom:rn,fromPoint:function(e,t,n){return B.from(e.dom.elementFromPoint(t,n)).map(rn)}},an=function(){return ln(0,0)},ln=function(e,t){return{major:e,minor:t}},un={nu:ln,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?an():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return ln(r(1),r(2))}(e,n)},unknown:an},sn=function(e,t){var n=String(t).toLowerCase();return X(e,(function(e){return e.search(n)}))},cn=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},dn=function(e,t){return-1!==e.indexOf(t)},fn=function(e,t){return cn(e,t,0)},pn=function(e,t){return cn(e,t,e.length-t.length)},mn=(me=/^\s+|\s+$/g,function(e){return e.replace(me,"")}),hn=function(e){return e.length>0},gn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vn=function(e){return function(t){return dn(t,e)}},bn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return dn(e,"edge/")&&dn(e,"chrome")&&dn(e,"safari")&&dn(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gn],search:function(e){return dn(e,"chrome")&&!dn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return dn(e,"msie")||dn(e,"trident")}},{name:"Opera",versionRegexes:[gn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vn("firefox")},{name:"Safari",versionRegexes:[gn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(dn(e,"safari")||dn(e,"mobile/"))&&dn(e,"applewebkit")}}],yn=[{name:"Windows",search:vn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return dn(e,"iphone")||dn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:vn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vn("linux"),versionRegexes:[]},{name:"Solaris",search:vn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],wn={browsers:g(bn),oses:g(yn)},xn="Edge",Cn="Chrome",kn="Opera",Sn="Firefox",_n="Safari",On=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(xn),isChrome:r(Cn),isIE:r("IE"),isOpera:r(kn),isFirefox:r(Sn),isSafari:r(_n)}},Tn={unknown:function(){return On({current:void 0,version:un.unknown()})},nu:On,edge:g(xn),chrome:g(Cn),ie:g("IE"),opera:g(kn),firefox:g(Sn),safari:g(_n)},En="Windows",An="Android",Mn="Linux",Dn="Solaris",Nn="FreeBSD",Pn="ChromeOS",zn=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(En),isiOS:r("iOS"),isAndroid:r(An),isOSX:r("OSX"),isLinux:r(Mn),isSolaris:r(Dn),isFreeBSD:r(Nn),isChromeOS:r(Pn)}},Bn={unknown:function(){return zn({current:void 0,version:un.unknown()})},nu:zn,windows:g(En),ios:g("iOS"),android:g(An),linux:g(Mn),osx:g("OSX"),solaris:g(Dn),freebsd:g(Nn),chromeos:g(Pn)},Rn=function(e,t,n){var r=wn.browsers(),o=wn.oses(),i=t.bind((function(e){return function(e,t){return ce(t.brands,(function(t){var n=t.brand.toLowerCase();return X(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:un.nu(parseInt(t.version,10),0)}}))}))}(r,e)})).orThunk((function(){return function(e,t){return sn(e,t).map((function(e){var n=un.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e)})).fold(Tn.unknown,Tn.nu),a=function(e,t){return sn(e,t).map((function(e){var n=un.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e).fold(Bn.unknown,Bn.nu),l=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),l=a||r("(pointer:coarse)"),u=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!u,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!s&&!u&&!c;return{isiPad:g(o),isiPhone:g(i),isTablet:g(u),isPhone:g(s),isTouch:g(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:g(c),isDesktop:g(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:l}},In=function(e){return window.matchMedia(e).matches},Ln=We((function(){return Rn(navigator.userAgent,B.from(navigator.userAgentData),In)})),Fn=function(){return Ln()},Vn=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Hn=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},jn=function(e,t){return e.dom===t.dom},$n=function(e,t){return n=e.dom,r=t.dom,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var n,r},Un=function(e,t){return Fn().browser.isIE()?$n(e,t):function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)}(e,t)},Wn=function(e){if(!i(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return W(e,(function(r,o){var a=Me(r);if(1!==a.length)throw new Error("one and only one name per case");var l=a[0],u=r[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!i(u))throw new Error("case arguments must be an array");t.push(l),n[l]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+u.length+" ("+u+"), got "+i);var a=function(e){var r=Me(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!ee(t,(function(e){return V(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[o];return i.apply(null,n)},match:a,log:function(e){console.log(e,{constructors:t,constructor:l,params:n})}}}})),n};Wn([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var qn,Kn=function(e,t){return function(e,t){var n={};return Ne(e,(function(e,r){V(t,r)||(n[r]=e)})),n}(e,t)},Yn=function(e,t){return function(e,t){var n;return(n={})[e]=t,n}(e,t)},Gn=function(e){return function(e){var t={};return W(e,(function(e){t[e.key]=e.value})),t}(e)},Xn=function(e,t){var n,r,o=(n=[],r=[],W(e,(function(e){e.fold((function(e){n.push(e)}),(function(e){r.push(e)}))})),{errors:n,values:r});return o.errors.length>0?function(e){return pe.error(J(e))}(o.errors):function(e,t){return 0===e.length?pe.value(t):pe.value($e(t,Ue.apply(void 0,e)))}(o.values,t)},Zn=function(e){return d(e)?e:C},Jn=function(e,t,n){for(var r=e.dom,o=Zn(n);r.parentNode;){r=r.parentNode;var i=on.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return B.none()},Qn=function(e,t,n){var r=t(e),o=Zn(n);return r.orThunk((function(){return o(e)?B.none():Jn(e,t,o)}))},er=function(e,t){return jn(e.element,t.event.target)},tr={can:k,abort:C,run:m},nr=function(e){if(!He(e,"can")&&!He(e,"abort")&&!He(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return _(_({},tr),e)},rr=function(e){return{can:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return G(e,(function(e,r){return e&&t(r).apply(void 0,n)}),!0)}}(e,(function(e){return e.can})),abort:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return G(e,(function(e,r){return e||t(r).apply(void 0,n)}),!1)}}(e,(function(e){return e.abort})),run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];W(e,(function(e){e.run.apply(void 0,t)}))}}},or=g,ir=or("touchstart"),ar=or("touchmove"),lr=or("touchend"),ur=or("touchcancel"),sr=or("mousedown"),cr=or("mousemove"),dr=or("mouseout"),fr=or("mouseup"),pr=or("mouseover"),mr=or("focusin"),hr=or("focusout"),gr=or("keydown"),vr=or("keyup"),br=or("input"),yr=or("change"),wr=or("click"),xr=or("transitioncancel"),Cr=or("transitionend"),kr=or("transitionstart"),Sr=or("selectstart"),_r=function(e){return g("alloy."+e)},Or={tap:_r("tap")},Tr=_r("focus"),Er=_r("blur.post"),Ar=_r("paste.post"),Mr=_r("receive"),Dr=_r("execute"),Nr=_r("focus.item"),Pr=Or.tap,zr=_r("longpress"),Br=_r("sandbox.close"),Rr=_r("typeahead.cancel"),Ir=_r("system.init"),Lr=_r("system.touchmove"),Fr=_r("system.touchend"),Vr=_r("system.scroll"),Hr=_r("system.resize"),jr=_r("system.attached"),$r=_r("system.detached"),Ur=_r("system.dismissRequested"),Wr=_r("system.repositionRequested"),qr=_r("focusmanager.shifted"),Kr=_r("slotcontainer.visibility"),Yr=_r("change.tab"),Gr=_r("dismiss.tab"),Xr=_r("highlight"),Zr=_r("dehighlight"),Jr=function(e,t){no(e,e.element,t,{})},Qr=function(e,t,n){no(e,e.element,t,n)},eo=function(e){Jr(e,Dr())},to=function(e,t,n){no(e,t,n,{})},no=function(e,t,n,r){var o=_({target:t},r);e.getSystem().triggerEvent(n,t,o)},ro=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event)},oo=function(e){return Gn(e)},io=function(e,t){return{key:e,value:nr({abort:t})}},ao=function(e){return{key:e,value:nr({run:function(e,t){t.event.prevent()}})}},lo=function(e,t){return{key:e,value:nr({run:t})}},uo=function(e,t,n){return{key:e,value:nr({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},so=function(e){return function(t){return{key:e,value:nr({run:function(e,n){er(e,n)&&t(e,n)}})}}},co=function(e,t,n){return function(e,t){return lo(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){ro(t,t.element,e,r)}))}))}(e,t.partUids[n])},fo=function(e,t){return lo(e,(function(e,n){var r=n.event,o=e.getSystem().getByDom(r.target).getOrThunk((function(){return Qn(r.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),C).getOr(e)}));t(e,o,n)}))},po=function(e){return lo(e,(function(e,t){t.cut()}))},mo=function(e){return lo(e,(function(e,t){t.stop()}))},ho=function(e,t){return so(e)(t)},go=so(jr()),vo=so($r()),bo=so(Ir()),yo=(qn=Dr(),function(e){return lo(qn,e)});"undefined"!=typeof window?window:Function("return this;")();var wo,xo,Co=function(e){return e.dom.nodeName.toLowerCase()},ko=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},So=ko(1),_o=ko(3),Oo=ko(9),To=ko(11),Eo=function(e){return on.fromDom(e.dom.ownerDocument)},Ao=function(e){return Oo(e)?e:Eo(e)},Mo=function(e){return on.fromDom(Ao(e).dom.documentElement)},Do=function(e){return on.fromDom(Ao(e).dom.defaultView)},No=function(e){return B.from(e.dom.parentNode).map(on.fromDom)},Po=function(e){return B.from(e.dom.offsetParent).map(on.fromDom)},zo=function(e){return U(e.dom.childNodes,on.fromDom)},Bo=function(e,t){var n=e.dom.childNodes;return B.from(n[t]).map(on.fromDom)},Ro=function(e,t){return{element:e,offset:t}},Io=function(e,t){var n=zo(e);return n.length>0&&t<n.length?Ro(n[t],0):Ro(e,t)},Lo=function(e){return To(e)&&c(e.dom.host)},Fo=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),Vo=g(Fo),Ho=Fo?function(e){return on.fromDom(e.dom.getRootNode())}:Ao,jo=function(e){return Lo(e)?e:on.fromDom(Ao(e).dom.body)},$o=function(e){var t=Ho(e);return Lo(t)?B.some(t):B.none()},Uo=function(e){return on.fromDom(e.dom.host)},Wo=function(e){return c(e.dom.shadowRoot)},qo=function(e,t){No(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Ko=function(e,t){(function(e){return B.from(e.dom.nextSibling).map(on.fromDom)})(e).fold((function(){No(e).each((function(e){Go(e,t)}))}),(function(e){qo(e,t)}))},Yo=function(e,t){(function(e){return Bo(e,0)})(e).fold((function(){Go(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},Go=function(e,t){e.dom.appendChild(t.dom)},Xo=function(e,t){W(t,(function(t){Go(e,t)}))},Zo=function(e){e.dom.textContent="",W(zo(e),(function(e){Jo(e)}))},Jo=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Qo=function(e){var t,n=zo(e);n.length>0&&(t=e,W(n,(function(e){qo(t,e)}))),Jo(e)},ei=function(e){return e.dom.innerHTML},ti=function(e,t){var n,r,o=Eo(e).dom,i=on.fromDom(o.createDocumentFragment()),a=(n=t,(r=(o||document).createElement("div")).innerHTML=n,zo(on.fromDom(r)));Xo(i,a),Zo(e),Go(e,i)},ni=function(e,t,n){if(!(r(n)||l(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ri=function(e,t,n){ni(e.dom,t,n)},oi=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},ii=function(e,t){return B.from(oi(e,t))},ai=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},li=function(e,t){e.dom.removeAttribute(t)},ui=function(e){return function(e,t){return on.fromDom(e.dom.cloneNode(t))}(e,!1)},si=function(e){return Lo(e)?"#shadow-root":function(e){var t=on.fromTag("div"),n=on.fromDom(e.dom.cloneNode(!0));return Go(t,n),ei(t)}(ui(e))},ci=function(e){return si(e)},di=oo([function(e,t){return{key:e,value:nr({can:t})}}(Tr(),(function(e,t){var n=t.event,r=n.originator,o=n.target;return!function(e,t,n){return jn(t,e.element)&&!jn(t,n)}(e,r,o)||(console.warn(Tr()+" did not get interpreted by the desired target. \nOriginator: "+ci(r)+"\nTarget: "+ci(o)+"\nCheck the "+Tr()+" event handlers"),!1)}))]),fi=Object.freeze({__proto__:null,events:di}),pi=0,mi=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++pi+String(t)},hi=g("alloy-id-"),gi=g("data-alloy-id"),vi=hi(),bi=gi(),yi=function(e,t){Object.defineProperty(e.dom,bi,{value:t,writable:!0})},wi=function(e){var t=So(e)?e.dom[bi]:null;return B.from(t)},xi=function(e){return mi(e)},Ci=v,ki=function(e){var t=function(t){return"The component must be in a context to execute: "+t+(e?"\n"+ci(e().element)+" is not in context.":"")},n=function(e){return function(){throw new Error(t(e))}},r=function(e){return function(){console.warn(t(e))}};return{debugInfo:g("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:C}},Si=ki(),_i=function(e){return U(e,(function(e){return pn(e,"/*")?e.substring(0,e.length-"/*".length):e}))},Oi=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:_i(i)}},e},Ti=mi("alloy-premade"),Ei=function(e){return Yn(Ti,e)},Ai=function(e){return function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:_i(i.slice(1))}},e}((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,T([t.getApis(),t],n))}),e)},Mi={init:function(){return Di({readState:g("No State required")})}},Di=function(e){return e},Ni=function(e,t){var n={};return Ne(e,(function(e,r){Ne(e,(function(e,o){var i=Fe(n,o).getOr([]);n[o]=i.concat([t(r,e)])}))})),n},Pi=function(e){return{classes:u(e.classes)?[]:e.classes,attributes:u(e.attributes)?{}:e.attributes,styles:u(e.styles)?{}:e.styles}},zi=function(e){return e.cHandler},Bi=function(e,t){return{name:e,handler:t}},Ri=function(e,t,n){var r=_(_({},n),function(e,t){var n={};return W(e,(function(e){n[e.name()]=e.handlers(t)})),n}(t,e));return Ni(r,Bi)},Ii=function(e){var t=function(e){return d(e)?{can:k,abort:C,run:e}:e}(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},Li=function(e,t,n){var r=t[n];return r?function(e,t,n,r){try{var o=ie(n,(function(n,o){var i=n[t],a=o[t],l=r.indexOf(i),u=r.indexOf(a);if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return l<u?-1:u<l?1:0}));return pe.value(o)}catch(i){return pe.error([i])}}("Event: "+n,"name",e,r).map((function(e){var t=U(e,(function(e){return e.handler}));return rr(t)})):function(e,t){return pe.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(U(t,(function(e){return e.name})),null,2)])}(n,e)},Fi=function(e,t){var n=Re(e,(function(e,n){return(1===e.length?pe.value(e[0].handler):Li(e,t,n)).map((function(r){var o=Ii(r),i=e.length>1?K(t[n],(function(t){return H(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return Yn(n,function(e,t){return{handler:e,purpose:t}}(o,i))}))}));return Xn(n,{})},Vi="alloy.base.behaviour",Hi=at([Et("dom","dom",{tag:"required",process:{}},at([Dt("tag"),Kt("styles",{}),Kt("classes",[]),Kt("attributes",{}),Vt("value"),Vt("innerHtml")])),Dt("components"),Dt("uid"),Kt("events",{}),Kt("apis",{}),Et("eventOrder","eventOrder",(wo={},wo[Dr()]=["disabling",Vi,"toggling","typeaheadevents"],wo[Tr()]=[Vi,"focusing","keying"],wo[Ir()]=[Vi,"disabling","toggling","representing"],wo[br()]=[Vi,"representing","streaming","invalidating"],wo[$r()]=[Vi,"representing","item-events","tooltipping"],wo[sr()]=["focusing",Vi,"item-type-events"],wo[ir()]=["focusing",Vi,"item-type-events"],wo[pr()]=["item-type-events","tooltipping"],wo[Mr()]=["receiving","reflecting","tooltipping"],xo=wo,Ye(g(xo))),dt()),Vt("domModification")]),ji=function(e){return e.events},$i=function(e,t){var n=oi(e,t);return void 0===n||""===n?[]:n.split(" ")},Ui=function(e){return void 0!==e.dom.classList},Wi=function(e,t){return function(e,t,n){var r=$i(e,t).concat([n]);return ri(e,t,r.join(" ")),!0}(e,"class",t)},qi=function(e,t){return function(e,t,n){var r=K($i(e,t),(function(e){return e!==n}));return r.length>0?ri(e,t,r.join(" ")):li(e,t),!1}(e,"class",t)},Ki=function(e,t){Ui(e)?e.dom.classList.add(t):Wi(e,t)},Yi=function(e){0===(Ui(e)?e.dom.classList:function(e){return $i(e,"class")}(e)).length&&li(e,"class")},Gi=function(e,t){Ui(e)?e.dom.classList.remove(t):qi(e,t);Yi(e)},Xi=function(e,t){return Ui(e)&&e.dom.classList.contains(t)},Zi=function(e,t){W(t,(function(t){Ki(e,t)}))},Ji=function(e,t){W(t,(function(t){Gi(e,t)}))},Qi=function(e,t,n){return void 0===n&&(n=b),e.exists((function(e){return n(e,t)}))},ea=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},ta=function(e,t,n){return e.isSome()&&t.isSome()?B.some(n(e.getOrDie(),t.getOrDie())):B.none()},na=function(e,t){return e?B.some(t):B.none()},ra=function(e){return void 0!==e.style&&d(e.style.getPropertyValue)},oa=function(e){var t=_o(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return $o(on.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=oa,r=Uo,function(e){return n(r(e))}))},ia=function(){return aa(on.fromDom(document))},aa=function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return on.fromDom(t)},la=function(e,t,n){if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ra(e)&&e.style.setProperty(t,n)},ua=function(e,t){ra(e)&&e.style.removeProperty(t)},sa=function(e,t,n){var r=e.dom;la(r,t,n)},ca=function(e,t){var n=e.dom;Ne(t,(function(e,t){la(n,t,e)}))},da=function(e,t){var n=e.dom;Ne(t,(function(e,t){e.fold((function(){ua(n,t)}),(function(e){la(n,t,e)}))}))},fa=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||oa(e)?r:pa(n,t)},pa=function(e,t){return ra(e)?e.style.getPropertyValue(t):""},ma=function(e,t){var n=e.dom,r=pa(n,t);return B.from(r).filter((function(e){return e.length>0}))},ha=function(e){var t={},n=e.dom;if(ra(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},ga=function(e,t,n){var r=on.fromTag(e);return sa(r,t,n),ma(r,t).isSome()},va=function(e,t){var n=e.dom;ua(n,t),Qi(ii(e,"style").map(mn),"")&&li(e,"style")},ba=function(e){return e.dom.offsetWidth},ya=function(e){return e.dom.value},wa=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},xa=function(e){var t,n,r,o=on.fromTag(e.tag);t=o,n=e.attributes,r=t.dom,Ne(n,(function(e,t){ni(r,t,e)})),Zi(o,e.classes),ca(o,e.styles),e.innerHtml.each((function(e){return ti(o,e)}));var i=e.domChildren;return Xo(o,i),e.value.each((function(e){wa(o,e)})),e.uid,yi(o,e.uid),o},Ca=function(e,t){return function(e,t){var n=U(t,(function(e){return qt(e.name(),[Dt("config"),Kt("state",Mi)])})),r=kt("component.behaviours",at(n),e.behaviours).fold((function(t){throw new Error(Ot(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),v);return{list:t,data:Pe(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return g(t)}))}}(e,t)},ka=function(e){var t=function(e){var t=Fe(e,"behaviours").getOr({}),n=K(Me(t),(function(e){return void 0!==t[e]}));return U(n,(function(e){return t[e].me}))}(e);return Ca(e,t)},Sa=function(e,t,n){var r,o,i,a=_(_({},(r=e).dom),{uid:r.uid,domChildren:U(r.components,(function(e){return e.element}))}),l=function(e){return e.domModification.fold((function(){return Pi({})}),Pi)}(e),u={"alloy.base.modification":l},s=t.length>0?function(e,t,n,r){var o=_({},t);W(n,(function(t){o[t.name()]=t.exhibit(e,r)}));var i=Ni(o,(function(e,t){return{name:e,modification:t}})),a=function(e){return Y(e,(function(e,t){return _(_({},t.modification),e)}),{})},l=Y(i.classes,(function(e,t){return t.modification.concat(e)}),[]),u=a(i.attributes),s=a(i.styles);return Pi({classes:l,attributes:u,styles:s})}(n,u,t,a):l;return i=s,_(_({},o=a),{attributes:_(_({},o.attributes),i.attributes),styles:_(_({},o.styles),i.styles),classes:o.classes.concat(i.classes)})},_a=function(e,t,n){var r={"alloy.base.behaviour":ji(e)};return function(e,t,n,r){var o=Ri(e,n,r);return Fi(o,t)}(n,e.eventOrder,t,r).getOrDie()},Oa=function(e){var t=function(){return f},n=nn(Si),r=St(function(e){return kt("custom.definition",Hi,e)}(e)),o=ka(e),i=function(e){return e.list}(o),a=function(e){return e.data}(o),l=Sa(r,i,a),u=xa(l),s=_a(r,i,a),c=nn(r.components),f={uid:e.uid,getSystem:n.get,config:function(t){var n=a;return(d(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:function(e){return d(a[e.name()])},spec:e,readState:function(e){return a[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(e){n.set(e)},disconnect:function(){n.set(ki(t))},element:u,syncComponents:function(){var e=zo(u),t=Q(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),oe)}));c.set(t)},components:c.get,events:s};return f},Ta=function(e){var t=Ci(e),n=t.events,r=O(t,["events"]),o=function(e){var t=Fe(e,"components").getOr([]);return U(t,Da)}(r),i=_(_({},r),{events:_(_({},fi),n),components:o});return pe.value(Oa(i))},Ea=function(e){var t=on.fromText(e);return Aa({element:t})},Aa=function(e){var t=_t("external.component",it([Dt("element"),Vt("uid")]),e),n=nn(ki()),r=t.uid.getOrThunk((function(){return xi("external")}));yi(t.element,r);var o={uid:r,getSystem:n.get,config:B.none,hasConfigured:C,connect:function(e){n.set(e)},disconnect:function(){n.set(ki((function(){return o})))},getApis:function(){return{}},element:t.element,spec:e,readState:g("No state"),syncComponents:m,components:g([]),events:{}};return Ei(o)},Ma=xi,Da=function(e){return function(e){return Fe(e,Ti)}(e).getOrThunk((function(){var t=function(e){return Ve(e,"uid")}(e)?e:_({uid:Ma("")},e);return Ta(t).getOrDie()}))},Na=Ei,Pa=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=fa(n,e);return parseFloat(o)||0}return r},r=function(e,t){return G(t,(function(t,n){var r=fa(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;ra(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}},za=Pa("height",(function(e){var t=e.dom;return oa(e)?t.getBoundingClientRect().height:t.offsetHeight})),Ba=function(e){return za.get(e)},Ra=function(e){return za.getOuter(e)},Ia=function(e,t){return{left:e,top:t,translate:function(n,r){return Ia(e+n,t+r)}}},La=Ia,Fa=function(e,t){return void 0!==e?e:void 0!==t?t:0},Va=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return La(n.offsetLeft,n.offsetTop);var i=Fa(null==r?void 0:r.pageYOffset,o.scrollTop),a=Fa(null==r?void 0:r.pageXOffset,o.scrollLeft),l=Fa(o.clientTop,n.clientTop),u=Fa(o.clientLeft,n.clientLeft);return Ha(e).translate(a-u,i-l)},Ha=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?La(n.offsetLeft,n.offsetTop):oa(e)?function(e){var t=e.getBoundingClientRect();return La(t.left,t.top)}(t):La(0,0)},ja=Pa("width",(function(e){return e.dom.offsetWidth})),$a=function(e){return ja.get(e)},Ua=function(e){return ja.getOuter(e)},Wa=function(e){var t=on.fromDom(function(e){if(Vo()&&c(e.target)){var t=on.fromDom(e.target);if(So(t)&&Wo(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return le(n)}}return B.from(e.target)}(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=h(r,n);return function(e,t,n,r,o,i,a){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:a}}(t,e.clientX,e.clientY,n,r,o,e)},qa=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(Wa(n))}}(n,r);return e.dom.addEventListener(t,i,o),{unbind:y(Ka,e,t,i,o)}},Ka=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Ya=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return La(n,r)},Ga=function(e,t,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Xa=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Za=function(e){var t=void 0===e?window:e,n=t.document,r=Ya(on.fromDom(n));return function(e){var t=void 0===e?window:e;return B.from(t.visualViewport)}(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Xa(r.left,r.top,n,o)}),(function(e){return Xa(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},Ja=function(e,t){return e.view(t).fold(g([]),(function(t){var n=e.owner(t),r=Ja(e,n);return[t].concat(r)}))},Qa=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?B.none():B.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(on.fromDom)},owner:function(e){return Eo(e)}}),el=function(e){var t=on.fromDom(document),n=Ya(t);return function(e,t){var n=t.owner(e),r=Ja(t,n);return B.some(r)}(e,Qa).fold(y(Va,e),(function(t){var r=Ha(e),o=Y(t,(function(e,t){var n=Ha(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return La(o.left+r.left+n.left,o.top+r.top+n.top)}))},tl=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},nl=function(e){var t=Va(e),n=Ua(e),r=Ra(e);return tl(t.left,t.top,n,r)},rl=function(e){var t=el(e),n=Ua(e),r=Ra(e);return tl(t.left,t.top,n,r)},ol=function(){return Za(window)};function il(e,t,n,r,o){return e(n,r)?B.some(n):d(o)&&o(n)?B.none():t(n,r,o)}var al,ll,ul=function(e,t,n){for(var r=e.dom,o=d(n)?n:C;r.parentNode;){r=r.parentNode;var i=on.fromDom(r);if(t(i))return B.some(i);if(o(i))break}return B.none()},sl=function(e,t,n){return il((function(e,t){return t(e)}),ul,e,t,n)},cl=function(e,t,n){return sl(e,t,n).isSome()},dl=function(e,t,n){return ul(e,(function(e){return Vn(e,t)}),n)},fl=function(e,t){return function(e,t){return X(e.dom.childNodes,(function(e){return t(on.fromDom(e))})).map(on.fromDom)}(e,(function(e){return Vn(e,t)}))},pl=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Hn(n)?B.none():B.from(n.querySelector(e)).map(on.fromDom)}(t,e)},ml=function(e,t,n){return il((function(e,t){return Vn(e,t)}),dl,e,t,n)},hl=function(){var e=mi("aria-owns");return{id:e,link:function(t){ri(t,"aria-owns",e)},unlink:function(e){li(e,"aria-owns")}}},gl=function(e,t){return function(e){return sl(e,(function(e){if(!So(e))return!1;var t=oi(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1})).bind((function(e){var t=oi(e,"id"),n=Ho(e);return pl(n,'[aria-owns="'+t+'"]')}))}(t).exists((function(t){return vl(e,t)}))},vl=function(e,t){return cl(t,(function(t){return jn(t,e.element)}),C)||gl(e,t)},bl="unknown";(ll=al||(al={}))[ll.STOP=0]="STOP",ll[ll.NORMAL=1]="NORMAL",ll[ll.LOGGING=2]="LOGGING";var yl=nn({}),xl=function(e,t,n){switch(Fe(yl.get(),e).orThunk((function(){var t=Me(yl.get());return ce(t,(function(t){return e.indexOf(t)>-1?B.some(yl.get()[t]):B.none()}))})).getOr(al.NORMAL)){case al.NORMAL:return n(Sl());case al.LOGGING:var r=function(e,t){var n=[],r=(new Date).getTime();return{logEventCut:function(e,t,r){n.push({outcome:"cut",target:t,purpose:r})},logEventStopped:function(e,t,r){n.push({outcome:"stopped",target:t,purpose:r})},logNoParent:function(e,t,r){n.push({outcome:"no-parent",target:t,purpose:r})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,r){n.push({outcome:"response",purpose:r,target:t})},write:function(){var o=(new Date).getTime();V(["mousemove","mouseover","mouseout",Ir()],e)||console.log(e,{event:e,time:o-r,target:t.dom,sequence:U(n,(function(e){return V(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+ci(e.target)+")":e.outcome}))})}}}(e,t),o=n(r);return r.write(),o;case al.STOP:return!0}},Cl=["alloy/data/Fields","alloy/debugging/Debugging"],kl=function(e,t,n){return xl(e,t,n)},Sl=g({logEventCut:m,logEventStopped:m,logNoParent:m,logEventNoHandlers:m,logEventResponse:m,write:m}),_l=g([Dt("menu"),Dt("selectedMenu")]),Ol=g([Dt("item"),Dt("selectedItem")]);g(at(Ol().concat(_l())));var Tl=g(at(Ol())),El=It("initSize",[Dt("numColumns"),Dt("numRows")]),Al=function(){return It("markers",[Dt("backgroundMenu")].concat(_l()).concat(Ol()))},Ml=function(e){return It("markers",U(e,Dt))},Dl=function(e,t,n){return function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return X(t,(function(e){return e.indexOf("alloy")>0&&!H(Cl,(function(t){return e.indexOf(t)>-1}))})).getOr(bl)}}(),Et(t,t,n,xt((function(e){return pe.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},Nl=function(e){return Dl(0,e,Ke(m))},Pl=function(e){return Dl(0,e,Ke(B.none))},zl=function(e){return Dl(0,e,{tag:"required",process:{}})},Bl=function(e){return Dl(0,e,{tag:"required",process:{}})},Rl=function(e,t){return At(e,g(t))},Il=function(e){return At(e,v)},Ll=g(El),Fl=function(e,t,n,r,o,i,a,l){return void 0===l&&(l=!1),{x:e,y:t,bubble:n,direction:r,placement:o,restriction:i,label:a+"-"+o,alwaysFit:l}},Vl=Wn([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Hl=Vl.southeast,jl=Vl.southwest,$l=Vl.northeast,Ul=Vl.northwest,Wl=Vl.south,ql=Vl.north,Kl=Vl.east,Yl=Vl.west,Gl=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},Xl=function(e,t,n){return Math.min(Math.max(e,t),n)},Zl=function(e,t){return re(["left","right","top","bottom"],(function(n){return Fe(t,n).map((function(t){return function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}}(e,t)}))}))},Jl="layout",Ql=function(e){return e.x},eu=function(e,t){return e.x+e.width/2-t.width/2},tu=function(e,t){return e.x+e.width-t.width},nu=function(e,t){return e.y-t.height},ru=function(e){return e.y+e.height},ou=function(e,t){return e.y+e.height/2-t.height/2},iu=function(e,t,n){return Fl(Ql(e),ru(e),n.southeast(),Hl(),"southeast",Zl(e,{left:1,top:3}),Jl)},au=function(e,t,n){return Fl(tu(e,t),ru(e),n.southwest(),jl(),"southwest",Zl(e,{right:0,top:3}),Jl)},lu=function(e,t,n){return Fl(Ql(e),nu(e,t),n.northeast(),$l(),"northeast",Zl(e,{left:1,bottom:2}),Jl)},uu=function(e,t,n){return Fl(tu(e,t),nu(e,t),n.northwest(),Ul(),"northwest",Zl(e,{right:0,bottom:2}),Jl)},su=function(e,t,n){return Fl(eu(e,t),nu(e,t),n.north(),ql(),"north",Zl(e,{bottom:2}),Jl)},cu=function(e,t,n){return Fl(eu(e,t),ru(e),n.south(),Wl(),"south",Zl(e,{top:3}),Jl)},du=function(e,t,n){return Fl(function(e){return e.x+e.width}(e),ou(e,t),n.east(),Kl(),"east",Zl(e,{left:0}),Jl)},fu=function(e,t,n){return Fl(function(e,t){return e.x-t.width}(e,t),ou(e,t),n.west(),Yl(),"west",Zl(e,{right:1}),Jl)},pu=function(){return[iu,au,lu,uu,cu,su,du,fu]},mu=function(){return[au,iu,uu,lu,cu,su,du,fu]},hu=function(){return[lu,uu,iu,au,su,cu]},gu=function(){return[uu,lu,au,iu,su,cu]},vu=function(){return[iu,au,lu,uu,cu,su]},bu=function(){return[au,iu,uu,lu,cu,su]},yu=Object.freeze({__proto__:null,events:function(e){return oo([lo(Mr(),(function(t,n){var r=e.channels,o=Me(r),i=n,a=function(e,t){return t.universal?e:K(e,(function(e){return V(t.channels,e)}))}(o,i);W(a,(function(e){var n=r[e],o=n.schema,a=_t("channel["+e+"] data\nReceiver: "+ci(t.element),o,i.data);n.onReceive(t,a)}))}))])}}),wu=[Nt("channels",Ct(pe.value,it([zl("onReceive"),Kt("schema",dt())])))],xu=function(e,t,n){return bo((function(r,o){n(r,e,t)}))},Cu=function(e,t,n){return function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:_i(a.slice(0,1).concat(a.slice(3)))}},e}((function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:g(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))}),n,t)},ku=function(e){return{key:e,value:void 0}},Su=function(e,t,n,r,o,i,a){var l=function(e){return He(e,n)?e[n]():B.none()},u=Pe(o,(function(e,t){return Cu(n,e,t)})),s=Pe(i,(function(e,t){return Oi(e,t)})),c=_(_(_({},s),u),{revoke:y(ku,n),config:function(t){var r=_t(n+"-config",e,t);return{key:n,value:{config:r,me:c,configAsRaw:We((function(){return _t(n+"-config",e,t)})),initialConfig:t,state:a}}},schema:g(t),exhibit:function(e,t){return ta(l(e),Fe(r,"exhibit"),(function(e,n){return n(t,e.config,e.state)})).getOrThunk((function(){return Pi({})}))},name:g(n),handlers:function(e){return l(e).map((function(e){return Fe(r,"events").getOr((function(){return{}}))(e.config,e.state)})).getOr({})}});return c},_u=function(e){return Gn(e)},Ou=it([Dt("fields"),Dt("name"),Kt("active",{}),Kt("apis",{}),Kt("state",Mi),Kt("extra",{})]),Tu=function(e){var t=_t("Creating behaviour: "+e.name,Ou,e);return function(e,t,n,r,o,i){var a,l,u=it(e),s=qt(t,[(a="config",l=e,Ht(a,it(l)))]);return Su(u,s,t,n,r,o,i)}(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Eu=it([Dt("branchKey"),Dt("branches"),Dt("name"),Kt("active",{}),Kt("apis",{}),Kt("state",Mi),Kt("extra",{})]),Au=function(e){var t=_t("Creating behaviour: "+e.name,Eu,e);return function(e,t,n,r,o,i){var a=e,l=qt(t,[Ht("config",e)]);return Su(a,l,t,n,r,o,i)}(Tt(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Mu=g(void 0),Du=Tu({fields:wu,name:"receiving",active:yu}),Nu=Object.freeze({__proto__:null,exhibit:function(e,t){return Pi({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),Pu=function(e){return e.dom.focus()},zu=function(e){var t=Ho(e).dom;return e.dom===t.activeElement},Bu=function(e){return void 0===e&&(e=on.fromDom(document)),B.from(e.dom.activeElement).map(on.fromDom)},Ru=function(e){return Bu(Ho(e)).filter((function(t){return e.dom.contains(t.dom)}))},Iu=function(e,t){var n=Ho(t),r=Bu(n).bind((function(e){var n,r,o=function(t){return jn(e,t)};return o(t)?B.some(t):(n=o,(r=function(e){for(var t=0;t<e.childNodes.length;t++){var o=on.fromDom(e.childNodes[t]);if(n(o))return B.some(o);var i=r(e.childNodes[t]);if(i.isSome())return i}return B.none()})(t.dom))})),o=e(t);return r.each((function(e){Bu(n).filter((function(t){return jn(t,e)})).fold((function(){Pu(e)}),m)})),o},Lu=function(e,t,n,r,o){var i=function(e){return e+"px"};return{position:e,left:t.map(i),top:n.map(i),right:r.map(i),bottom:o.map(i)}},Fu=function(e,t){da(e,function(e){return _(_({},e),{position:B.some(e.position)})}(t))},Vu=Wn([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Hu=function(e,t,n,r,o,i){var a,l,u,s,c,d,f,p,m,h=t.rect,g=h.x-n,v=h.y-r,b=o-(g+h.width),y=i-(v+h.height),w=B.some(g),x=B.some(v),C=B.some(b),k=B.some(y),S=B.none();return a=t.direction,l=function(){return Lu(e,w,x,S,S)},u=function(){return Lu(e,S,x,C,S)},s=function(){return Lu(e,w,S,S,k)},c=function(){return Lu(e,S,S,C,k)},d=function(){return Lu(e,w,x,S,S)},f=function(){return Lu(e,w,S,S,k)},p=function(){return Lu(e,w,x,S,S)},m=function(){return Lu(e,S,x,C,S)},a.fold(l,u,s,c,d,f,p,m)},ju=function(e,t){return e.fold((function(){var e=t.rect;return Lu("absolute",B.some(e.x),B.some(e.y),B.none(),B.none())}),(function(e,n,r,o){return Hu("absolute",t,e,n,r,o)}),(function(e,n,r,o){return Hu("fixed",t,e,n,r,o)}))},$u=function(e,t){var n=y(el,t),r=e.fold(n,n,(function(){var e=Ya();return el(t).translate(-e.left,-e.top)})),o=Ua(t),i=Ra(t);return tl(r.left,r.top,o,i)},Uu=function(e,t){return t.fold((function(){return e.fold(ol,ol,tl)}),(function(t){return e.fold(t,t,(function(){var n=t(),r=Wu(e,n.x,n.y);return tl(r.left,r.top,n.width,n.height)}))}))},Wu=function(e,t,n){var r=La(t,n);return e.fold(g(r),g(r),(function(){var e=Ya();return r.translate(-e.left,-e.top)}))};Vu.none;var qu,Ku,Yu=Vu.relative,Gu=Vu.fixed,Xu="data-alloy-placement",Zu=function(e){return ii(e,Xu)},Ju=Wn([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Qu=function(e,t,n,r){var o=e.bubble,i=o.offset,a=function(e,t,n){var r=function(r,o){return t[r].map((function(t){var i="top"===r||"bottom"===r,a=i?n.top:n.left,l=("left"===r||"top"===r?Math.max:Math.min)(t,o)+a;return i?Xl(l,e.y,e.bottom):Xl(l,e.x,e.right)})).getOr(o)},o=r("left",e.x),i=r("top",e.y),a=r("right",e.right),l=r("bottom",e.bottom);return tl(o,i,a-o,l-i)}(r,e.restriction,i),l=e.x+i.left,u=e.y+i.top,s=tl(l,u,t,n),c=function(e,t){var n=t.x,r=t.y,o=t.right,i=t.bottom,a=e.x,l=e.y,u=e.right,s=e.bottom,c=e.width,d=e.height;return{originInBounds:a>=n&&a<=o&&l>=r&&l<=i,sizeInBounds:u<=o&&u>=n&&s<=i&&s>=r,visibleW:Math.min(c,a>=n?o-a:u-n),visibleH:Math.min(d,l>=r?i-l:s-r)}}(s,a),d=c.originInBounds,f=c.sizeInBounds,p=c.visibleW,m=c.visibleH,h=d&&f,v=h?s:function(e,t){var n=t.x,r=t.y,o=t.right,i=t.bottom,a=e.x,l=e.y,u=e.width,s=e.height,c=Math.max(n,o-u),d=Math.max(r,i-s),f=Xl(a,n,c),p=Xl(l,r,d),m=Math.min(f+u,o)-f,h=Math.min(p+s,i)-p;return tl(f,p,m,h)}(s,a),b=v.width>0&&v.height>0,y=function(e,t,n){var r,o,i,a=g(t.bottom-n.y),l=g(n.bottom-t.y),u=(r=l,o=l,i=a,e.fold(r,r,i,i,r,i,o,o)),s=g(t.right-n.x),c=g(n.right-t.x);return{maxWidth:function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)}(e,c,c,s),maxHeight:u}}(e.direction,v,r),w=y.maxWidth,x={rect:v,maxHeight:y.maxHeight,maxWidth:w,direction:e.direction,placement:e.placement,classes:{on:o.classesOn,off:o.classesOff},layout:e.label,testY:u};return h||e.alwaysFit?Ju.fit(x):Ju.nofit(x,p,m,b)},es=function(e){var t=nn(B.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(B.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(B.some(e))}}},ts=function(){return es((function(e){return e.unbind()}))},ns=function(){var e=es(m);return _(_({},e),{on:function(t){return e.get().each(t)}})},rs=k,os=function(e,t,n){return function(e,t,n,r){return qa(e,t,n,r,!1)}(e,t,rs,n)},is=function(e,t,n){return function(e,t,n,r){return qa(e,t,n,r,!0)}(e,t,rs,n)},as=Wa,ls=["top","bottom","right","left"],us="data-alloy-transition-timer",ss=function(e,t){return function(e,t){return ee(t,(function(t){return Xi(e,t)}))}(e,t.classes)},cs=function(e,t){var n=function(e){return parseFloat(e).toPrecision(3)};return Ie(t,(function(t,r){var o,i,a,l=e[r].map(n),u=t.map(n);return void 0===a&&(a=b),!ta(o=l,i=u,a).getOr(o.isNone()&&i.isNone())})).isSome()},ds=function(e,t){var n,o=ts(),i=ts(),a=function(t){var n,r=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return jn(t.target,e)&&!hn(r)&&V(ls,t.raw.propertyName)},l=function(r){if(s(r)||a(r)){o.clear(),i.clear();var l=null==r?void 0:r.raw.type;(s(l)||l===Cr())&&(clearTimeout(n),li(e,us),Ji(e,t.classes))}},u=function(){o.set(os(e,Cr(),l)),i.set(os(e,xr(),l))};if("ontransitionstart"in e.dom)var c=os(e,kr(),(function(e){a(e)&&(c.unbind(),u())}));else u();var d=function(e){var t=function(t){var n=fa(e,t),o=r(n)?n.split(/\s*,\s*/):[];return K(o,hn)},n=function(e){if(r(e)&&/^[\d.]+/.test(e)){var t=parseFloat(e);return pn(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),i=t("transition-duration");return G(i,(function(e,t,r){var i=n(o[r])+n(t);return Math.max(e,i)}),0)}(e);requestAnimationFrame((function(){n=setTimeout(l,d+17),ri(e,us,n)}))},fs=function(e,t,n,r,o,i){var a=function(e,t,n){return n.exists((function(n){var r=e.mode;return"all"===r||n[r]!==t[r]}))}(r,o,i);if(a||ss(e,r)){sa(e,"position",n.position);var l=$u(t,e),u=ju(t,_(_({},o),{rect:l})),s=re(ls,(function(e){return u[e]}));cs(n,s)&&(da(e,s),a&&function(e,t){Zi(e,t.classes),ii(e,us).each((function(t){clearTimeout(parseInt(t,10)),li(e,us)})),ds(e,t)}(e,r),ba(e))}else Ji(e,r.classes)},ps=function(e,t,n,r){va(t,"max-height"),va(t,"max-width");var o,i={width:Ua(o=t),height:Ra(o)};return function(e,t,n,r,o,i){var a=r.width,l=r.height,u=function(t,u,s,c,d){var f=t(n,r,o,e,i),p=Qu(f,a,l,i);return p.fold(g(p),(function(e,t,n,r){return(d===r?n>c||t>s:!d&&r)?p:Ju.nofit(u,s,c,d)}))};return G(t,(function(e,t){var n=y(u,t);return e.fold(g(e),n)}),Ju.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:Hl(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(v,v)}(t,r.preference,e,i,n,r.bounds)},ms=function(e,t){!function(e,t){ri(e,Xu,t)}(e,t.placement)},hs=function(e,t){!function(e,t){var n=za.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);sa(e,"max-height",n+"px")}(e,Math.floor(t))},gs=g((function(e,t){hs(e,t),ca(e,{"overflow-x":"hidden","overflow-y":"auto"})})),vs=g((function(e,t){hs(e,t)})),bs=function(e,t,n){return void 0===e[t]?n:e[t]},ys=function(e,t,n,r){var o=ps(e,t,n,r);return function(e,t,n){var r=ju(n.origin,t);n.transition.each((function(o){fs(e,n.origin,r,o,t,n.lastPlacement)})),Fu(e,r)}(t,o,r),ms(t,o),function(e,t){var n=t.classes;Ji(e,n.off),Zi(e,n.on)}(t,o),function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)}(t,o,r),function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)}(t,o,r),{layout:o.layout,placement:o.placement}},ws=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],xs=function(e,t,n,r){void 0===r&&(r=1);var o=e*r,i=t*r,a=function(e){return Fe(n,e).getOr([])},l=function(e,t,n){var r=ne(ws,n);return{offset:La(e,t),classesOn:Q(n,a),classesOff:Q(r,a)}};return{southeast:function(){return l(-e,t,["top","alignLeft"])},southwest:function(){return l(e,t,["top","alignRight"])},south:function(){return l(-e/2,t,["top","alignCentre"])},northeast:function(){return l(-e,-t,["bottom","alignLeft"])},northwest:function(){return l(e,-t,["bottom","alignRight"])},north:function(){return l(-e/2,-t,["bottom","alignCentre"])},east:function(){return l(e,-t/2,["valignCentre","left"])},west:function(){return l(-e,-t/2,["valignCentre","right"])},insetNortheast:function(){return l(o,i,["top","alignLeft","inset"])},insetNorthwest:function(){return l(-o,i,["top","alignRight","inset"])},insetNorth:function(){return l(-o/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return l(o,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return l(-o,-i,["bottom","alignRight","inset"])},insetSouth:function(){return l(-o/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return l(-o,-i/2,["valignCentre","right","inset"])},insetWest:function(){return l(o,-i/2,["valignCentre","left","inset"])}}},Cs=function(){return xs(0,0,{})},ks=v,Ss=function(e,t){return function(n){return"rtl"===_s(n)?t:e}},_s=function(e){return"rtl"===fa(e,"direction")?"rtl":"ltr"};(Ku=qu||(qu={})).TopToBottom="toptobottom",Ku.BottomToTop="bottomtotop";var Os="data-alloy-vertical-dir",Ts=function(e){return cl(e,(function(e){return So(e)&&oi(e,"data-alloy-vertical-dir")===qu.BottomToTop}))},Es=function(){return qt("layouts",[Dt("onLtr"),Dt("onRtl"),Vt("onBottomLtr"),Vt("onBottomRtl")])},As=function(e,t,n,r,o,i,a){var l=a.map(Ts).getOr(!1),u=t.layouts.map((function(t){return t.onLtr(e)})),s=t.layouts.map((function(t){return t.onRtl(e)})),c=l?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(u).getOr(o):u.getOr(n),d=l?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(s).getOr(i):s.getOr(r);return Ss(c,d)(e)},Ms=[Dt("hotspot"),Vt("bubble"),Kt("overrides",{}),Es(),Rl("placement",(function(e,t,n){var r=t.hotspot,o=$u(n,r.element),i=As(e.element,t,vu(),bu(),hu(),gu(),B.some(t.hotspot.element));return B.some(ks({anchorBox:o,bubble:t.bubble.getOr(Cs()),overrides:t.overrides,layouts:i,placer:B.none()}))}))],Ds=[Dt("x"),Dt("y"),Kt("height",0),Kt("width",0),Kt("bubble",Cs()),Kt("overrides",{}),Es(),Rl("placement",(function(e,t,n){var r=Wu(n,t.x,t.y),o=tl(r.left,r.top,t.width,t.height),i=As(e.element,t,pu(),mu(),pu(),mu(),B.none());return B.some(ks({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:B.none()}))}))],Ns=Wn([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Ps=function(e){return e.fold(v,(function(e,t,n){return e.translate(-t,-n)}))},zs=function(e){return e.fold(v,v)},Bs=function(e){return G(e,(function(e,t){return e.translate(t.left,t.top)}),La(0,0))},Rs=function(e){var t=U(e,zs);return Bs(t)},Is=Ns.screen,Ls=Ns.absolute,Fs=function(e,t,n){var r=Eo(e.element),o=Ya(r),i=function(e,t,n){var r=Do(n.root).dom;return B.from(r.frameElement).map(on.fromDom).filter((function(t){var n=Eo(t),r=Eo(e.element);return jn(n,r)})).map(Va)}(e,0,n).getOr(o);return Ls(i,o.left,o.top)},Vs=function(e,t,n,r){var o=Is(La(e,t));return B.some(function(e,t,n){return{point:e,width:t,height:n}}(o,n,r))},Hs=function(e,t,n,r,o){return e.map((function(e){var i,a,l,u,s,c,d,f=[t,e.point],p=(i=function(){return Rs(f)},a=function(){return Rs(f)},l=function(){return function(e){var t=U(e,Ps);return Bs(t)}(f)},r.fold(i,a,l)),m=(u=p.left,s=p.top,c=e.width,d=e.height,{x:u,y:s,width:c,height:d}),h=n.showAbove?hu():vu(),g=n.showAbove?gu():bu(),v=As(o,n,h,g,h,g,B.none());return ks({anchorBox:m,bubble:n.bubble.getOr(Cs()),overrides:n.overrides,layouts:v,placer:B.none()})}))},js=[Dt("node"),Dt("root"),Vt("bubble"),Es(),Kt("overrides",{}),Kt("showAbove",!1),Rl("placement",(function(e,t,n){var r=Fs(e,0,t);return t.node.filter(oa).bind((function(o){var i=o.dom.getBoundingClientRect(),a=Vs(i.left,i.top,i.width,i.height),l=t.node.getOr(e.element);return Hs(a,r,t,n,l)}))}))],$s=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Us=Wn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ws=(Us.before,Us.on,Us.after,function(e){return e.fold(v,v,v)}),qs=Wn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ks={domRange:qs.domRange,relative:qs.relative,exact:qs.exact,exactFromRange:function(e){return qs.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return on.fromDom(e.startContainer)},relative:function(e,t){return Ws(e)},exact:function(e,t,n,r){return e}})}(e);return Do(t)},range:$s},Ys=function(e,t,n){var r,o=e.document.createRange();return r=o,t.fold((function(e){r.setStartBefore(e.dom)}),(function(e,t){r.setStart(e.dom,t)}),(function(e){r.setStartAfter(e.dom)})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}(o,n),o},Gs=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},Xs=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},Zs=Wn([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Js=function(e,t,n){return t(on.fromDom(n.startContainer),n.startOffset,on.fromDom(n.endContainer),n.endOffset)},Qs=function(e,t){return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Zs.rtl(on.fromDom(e.endContainer),e.endOffset,on.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Js(0,Zs.ltr,n)})):Js(0,Zs.ltr,n)}(0,function(e,t){return t.match({domRange:function(e){return{ltr:g(e),rtl:B.none}},relative:function(t,n){return{ltr:We((function(){return Ys(e,t,n)})),rtl:We((function(){return B.some(Ys(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:We((function(){return Gs(e,t,n,r,o)})),rtl:We((function(){return B.some(Gs(e,r,o,t,n))}))}}})}(e,t))},ec=function(e,t){return Qs(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})};Zs.ltr,Zs.rtl;var tc,nc,rc=function(e,t){var n=function(t){return e(t)?B.from(t.dom.nodeValue):B.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r}}}(_o,"text"),oc=function(e){return rc.getOption(e)},ic=["img","br"],ac=function(e){return oc(e).filter((function(e){return 0!==e.trim().length||e.indexOf("")>-1})).isSome()||V(ic,Co(e))},lc=function(e,t){var n=function(e){for(var r=zo(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return B.some(i);var a=n(i);if(a.isSome())return a}return B.none()};return n(e)},uc=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Hn(n)?[]:U(n.querySelectorAll(e),on.fromDom)}(t,e)},sc=function(e,t,n,r){var o=function(e,t,n,r){var o=Eo(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,r),o}(e,t,n,r),i=jn(e,n)&&t===r;return o.collapsed&&!i},cc=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return B.some($s(on.fromDom(t.startContainer),t.startOffset,on.fromDom(n.endContainer),n.endOffset))}return B.none()},dc=function(e){if(null===e.anchorNode||null===e.focusNode)return cc(e);var t=on.fromDom(e.anchorNode),n=on.fromDom(e.focusNode);return sc(t,e.anchorOffset,n,e.focusOffset)?B.some($s(t,e.anchorOffset,n,e.focusOffset)):cc(e)},fc=function(e){return function(e){return B.from(e.getSelection())}(e).filter((function(e){return e.rangeCount>0})).bind(dc)},pc=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?B.some(n).map(Xs):B.none()}(ec(e,t))},mc=function(e,t){return function(e){var t=e.getBoundingClientRect();return t.width>0||t.height>0?B.some(t).map(Xs):B.none()}(ec(e,t))},hc=function(e,t){return{element:e,offset:t}},gc=function(e,t){var n=zo(e);if(0===n.length)return hc(e,t);if(t<n.length)return hc(n[t],0);var r=n[n.length-1],o=_o(r)?function(e){return rc.get(e)}(r).length:zo(r).length;return hc(r,o)},vc=function(e,t){return _o(e)?hc(e,t):gc(e,t)},bc=function(e,t){return t.getSelection.getOrThunk((function(){return function(){return fc(e)}}))().map((function(e){var t=vc(e.start,e.soffset),n=vc(e.finish,e.foffset);return Ks.range(t.element,t.offset,n.element,n.offset)}))},yc=[Vt("getSelection"),Dt("root"),Vt("bubble"),Es(),Kt("overrides",{}),Kt("showAbove",!1),Rl("placement",(function(e,t,n){var r=Do(t.root).dom,o=Fs(e,0,t),i=bc(r,t).bind((function(e){return mc(r,Ks.exactFromRange(e)).orThunk((function(){var t=on.fromText("\ufeff");qo(e.start,t);var n=pc(r,Ks.exact(t,0,t,1));return Jo(t),n})).bind((function(e){return Vs(e.left,e.top,e.width,e.height)}))})),a=bc(r,t).bind((function(e){return So(e.start)?B.some(e.start):(t=e.start,No(t));var t})).getOr(e.element);return Hs(i,o,t,n,a)}))],wc="link-layout",xc=function(e){return e.x+e.width},Cc=function(e,t){return e.x-t.width},kc=function(e,t){return e.y-t.height+e.height},Sc=function(e){return e.y},_c=function(e,t,n){return Fl(xc(e),Sc(e),n.southeast(),Hl(),"southeast",Zl(e,{left:0,top:2}),wc)},Oc=function(e,t,n){return Fl(Cc(e,t),Sc(e),n.southwest(),jl(),"southwest",Zl(e,{right:1,top:2}),wc)},Tc=function(e,t,n){return Fl(xc(e),kc(e,t),n.northeast(),$l(),"northeast",Zl(e,{left:0,bottom:3}),wc)},Ec=function(e,t,n){return Fl(Cc(e,t),kc(e,t),n.northwest(),Ul(),"northwest",Zl(e,{right:1,bottom:3}),wc)},Ac=function(){return[_c,Oc,Tc,Ec]},Mc=function(){return[Oc,_c,Ec,Tc]},Dc=[Dt("item"),Es(),Kt("overrides",{}),Rl("placement",(function(e,t,n){var r=$u(n,t.item.element),o=As(e.element,t,Ac(),Mc(),Ac(),Mc(),B.none());return B.some(ks({anchorBox:r,bubble:Cs(),overrides:t.overrides,layouts:o,placer:B.none()}))}))],Nc=Tt("type",{selection:yc,node:js,hotspot:Ms,submenu:Dc,makeshift:Ds}),Pc=[Ft("classes",mt),Zt("mode","all",["all","layout","placement"])],zc=[Kt("useFixed",C),Vt("getBounds")],Bc=[Nt("anchor",Nc),qt("transition",Pc)],Rc=function(e,t,n,r,o,i,a){return function(e,t,n,r,o,i,a,l){var u=bs(a,"maxHeightFunction",gs()),s=bs(a,"maxWidthFunction",m),c=e.anchorBox,d=e.origin,f={bounds:Uu(d,i),origin:d,preference:r,maxHeightFunction:u,maxWidthFunction:s,lastPlacement:o,transition:l};return ys(c,t,n,f)}(function(e,t){return function(e,t){return{anchorBox:e,origin:t}}(e,t)}(n.anchorBox,t),o.element,n.bubble,n.layouts,i,r,n.overrides,a)},Ic=function(e,t,n,r,o,i){var a=i.map(nl);return Lc(e,t,n,r,o,a)},Lc=function(e,t,n,r,o,i){var a=_t("placement.info",at(Bc),o),l=a.anchor,u=r.element,s=n.get(r.uid);Iu((function(){sa(u,"position","fixed");var o=ma(u,"visibility");sa(u,"visibility","hidden");var c,d=t.useFixed()?(c=document.documentElement,Gu(0,0,c.clientWidth,c.clientHeight)):function(e){var t=Va(e.element),n=e.element.dom.getBoundingClientRect();return Yu(t.left,t.top,n.width,n.height)}(e),f=l.placement,p=i.map(g).or(t.getBounds);f(e,l,d).each((function(t){var o=t.placer.getOr(Rc)(e,d,t,p,r,s,a.transition);n.set(r.uid,o)})),o.fold((function(){va(u,"visibility")}),(function(e){sa(u,"visibility",e)})),ma(u,"left").isNone()&&ma(u,"top").isNone()&&ma(u,"right").isNone()&&ma(u,"bottom").isNone()&&Qi(ma(u,"position"),"fixed")&&va(u,"position")}),u)},Fc=Object.freeze({__proto__:null,position:function(e,t,n,r,o){Ic(e,t,n,r,o,B.none())},positionWithin:Ic,positionWithinBounds:Lc,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"},reset:function(e,t,n,r){var o=r.element;W(["position","left","right","top","bottom"],(function(e){return va(o,e)})),function(e){li(e,Xu)}(o),n.clear(r.uid)}}),Vc=Object.freeze({__proto__:null,init:function(){var e={};return Di({readState:function(){return e},clear:function(t){c(t)?delete e[t]:e={}},set:function(t,n){e[t]=n},get:function(t){return Fe(e,t)}})}}),Hc=Tu({fields:zc,name:"positioning",active:Nu,apis:Fc,state:Vc}),jc=function(e){Jr(e,$r());var t=e.components();W(t,jc)},$c=function(e){var t=e.components();W(t,$c),Jr(e,jr())},Uc=function(e,t){Go(e.element,t.element)},Wc=function(e,t){var n=e.components();!function(e){W(e.components(),(function(e){return Jo(e.element)})),Zo(e.element),e.syncComponents()}(e);var r=ne(n,t);W(r,(function(t){jc(t),e.getSystem().removeFromWorld(t)})),W(t,(function(t){t.getSystem().isConnected()?Uc(e,t):(e.getSystem().addToWorld(t),Uc(e,t),oa(e.element)&&$c(t)),e.syncComponents()}))},qc=function(e,t){Kc(e,t,Go)},Kc=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),oa(e.element)&&$c(t),e.syncComponents()},Yc=function(e){jc(e),Jo(e.element),e.getSystem().removeFromWorld(e)},Gc=function(e){var t=No(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));Yc(e),t.each((function(e){e.syncComponents()}))},Xc=function(e){var t=e.components();W(t,Yc),Zo(e.element),e.syncComponents()},Zc=function(e,t){Jc(e,t,Go)},Jc=function(e,t,n){n(e,t.element);var r=zo(t.element);W(r,(function(e){t.getByDom(e).each($c)}))},Qc=function(e){var t=zo(e.element);W(t,(function(t){e.getByDom(t).each(jc)})),Jo(e.element)},ed=function(e,t,n,r){n.get().each((function(t){Xc(e)}));var o=t.getAttachPoint(e);qc(o,e);var i=e.getSystem().build(r);return qc(e,i),n.set(i),i},td=function(e,t,n,r){var o=ed(e,t,n,r);return t.onOpen(e,o),o},nd=function(e,t,n){n.get().each((function(r){Xc(e),Gc(e),t.onClose(e,r),n.clear()}))},rd=function(e,t,n){return n.isOpen()},od=function(e,t,n){var r=t.getAttachPoint(e);sa(e.element,"position",Hc.getMode(r)),function(e,t,n,r){ma(e.element,t).fold((function(){li(e.element,n)}),(function(t){ri(e.element,n,t)})),sa(e.element,t,r)}(e,"visibility",t.cloakVisibilityAttr,"hidden")},id=function(e,t,n){var r;r=e.element,H(["top","left","right","bottom"],(function(e){return ma(r,e).isSome()}))||va(e.element,"position"),function(e,t,n){ii(e.element,n).fold((function(){return va(e.element,t)}),(function(n){return sa(e.element,t,n)}))}(e,"visibility",t.cloakVisibilityAttr)},ad=Object.freeze({__proto__:null,cloak:od,decloak:id,open:td,openWhileCloaked:function(e,t,n,r,o){od(e,t),td(e,t,n,r),o(),id(e,t)},close:nd,isOpen:rd,isPartOf:function(e,t,n,r){return rd(0,0,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,r){return n.get().map((function(){return ed(e,t,n,r)}))}}),ld=Object.freeze({__proto__:null,events:function(e,t){return oo([lo(Br(),(function(n,r){nd(n,e,t)}))])}}),ud=[Nl("onOpen"),Nl("onClose"),Dt("isPartOf"),Dt("getAttachPoint"),Kt("cloakVisibilityAttr","data-precloak-visibility")],sd=Tu({fields:ud,name:"sandboxing",active:ld,apis:ad,state:Object.freeze({__proto__:null,init:function(){var e=ns(),t=g("not-implemented");return Di({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),cd=g("dismiss.popups"),dd=g("reposition.popups"),fd=g("mouse.released"),pd=it([Kt("isExtraPart",C),qt("fireEventInstead",[Kt("event",Ur())])]),md=function(e){var t,n=_t("Dismissal",pd,e);return(t={})[cd()]={schema:it([Dt("target")]),onReceive:function(e,t){sd.isOpen(e)&&(sd.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold((function(){return sd.close(e)}),(function(t){return Jr(e,t.event)})))}},t},hd=it([qt("fireEventInstead",[Kt("event",Wr())]),Rt("doReposition")]),gd=function(e){var t,n=_t("Reposition",hd,e);return(t={})[dd()]={onReceive:function(e){sd.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return Jr(e,t.event)}))}},t},vd=function(e,t,n){t.store.manager.onLoad(e,t,n)},bd=function(e,t,n){t.store.manager.onUnload(e,t,n)},yd=Object.freeze({__proto__:null,onLoad:vd,onUnload:bd,setValue:function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),wd=Object.freeze({__proto__:null,events:function(e,t){var n=e.resetOnDom?[go((function(n,r){vd(n,e,t)})),vo((function(n,r){bd(n,e,t)}))]:[xu(e,t,vd)];return oo(n)}}),xd=function(){var e=nn(null);return Di({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},Cd=function(){var e=nn({}),t=nn({});return Di({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return Fe(e.get(),n).orThunk((function(){return Fe(t.get(),n)}))},update:function(n){var r=e.get(),o=t.get(),i={},a={};W(n,(function(e){i[e.value]=e,Fe(e,"meta").each((function(t){Fe(t,"text").each((function(t){a[t]=e}))}))})),e.set(_(_({},r),i)),t.set(_(_({},o),a))},clear:function(){e.set({}),t.set({})}})},kd=Object.freeze({__proto__:null,memory:xd,dataset:Cd,manual:function(){return Di({readState:m})},init:function(e){return e.store.manager.state(e)}}),Sd=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},_d=[Vt("initialValue"),Dt("getFallbackEntry"),Dt("getDataKey"),Dt("setValue"),Rl("manager",{setValue:Sd,getValue:function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).getOrThunk((function(){return r.getFallbackEntry(o)}))},onLoad:function(e,t,n){t.store.initialValue.each((function(r){Sd(e,t,n,r)}))},onUnload:function(e,t,n){n.clear()},state:Cd})],Od=[Dt("getValue"),Kt("setValue",m),Vt("initialValue"),Rl("manager",{setValue:function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:m,state:Mi.init})],Td=[Vt("initialValue"),Rl("manager",{setValue:function(e,t,n,r){n.set(r),t.onSetValue(e,r)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:xd})],Ed=[Yt("store",{mode:"memory"},Tt("mode",{memory:Td,manual:Od,dataset:_d})),Nl("onSetValue"),Kt("resetOnDom",!1)],Ad=Tu({fields:Ed,name:"representing",active:wd,apis:yd,extra:{setValueFrom:function(e,t){var n=Ad.getValue(t);Ad.setValue(e,n)}},state:kd}),Md=function(e,t){return tn(e,{},U(t,(function(t){return n=t.name(),r="Cannot configure "+t.name()+" for "+e,Et(n,n,{tag:"option",process:{}},Qe((function(e){return Ce("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([At("dump",v)]))},Dd=function(e){return e.dump},Nd=function(e,t){return _(_({},e.dump),_u(t))},Pd=Md,zd=Nd,Bd="placeholder",Rd=Wn([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Id=function(e){return Ve(e,"uiType")},Ld=function(e,t,n,r){return Id(n)&&n.uiType===Bd?function(e,t,n,r){return e.exists((function(e){return e!==n.owner}))?Rd.single(!0,g(n)):Fe(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+Me(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))}(e,0,n,r):Rd.single(!1,g(n))},Fd=function(e,t,n,r){return Ld(e,0,n,r).fold((function(o,i){var a=Id(n)?i(t,n.config,n.validated):i(t),l=Fe(a,"components").getOr([]),u=Q(l,(function(n){return Fd(e,t,n,r)}));return[_(_({},a),{components:u})]}),(function(e,r){if(Id(n)){var o=r(t,n.config,n.validated);return n.validated.preprocess.getOr(v)(o)}return r(t)}))},Vd=function(e,t,n,r){var o=Pe(r,(function(e,t){return r=e,o=!1,{name:g(n=t),required:function(){return r.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return o},replace:function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+n);return o=!0,r}};var n,r,o})),i=function(e,t,n,r){return Q(n,(function(n){return Fd(e,t,n,r)}))}(e,t,n,o);return Ne(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i},Hd=Rd.single,jd=Rd.multiple,$d=g(Bd),Ud=Wn([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Wd=Kt("factory",{sketch:v}),qd=Kt("schema",[]),Kd=Dt("name"),Yd=Et("pname","pname",qe((function(e){return"<alloy."+mi(e.name)+">"})),dt()),Gd=At("schema",(function(){return[Vt("preprocess")]})),Xd=Kt("defaults",g({})),Zd=Kt("overrides",g({})),Jd=at([Wd,qd,Kd,Yd,Xd,Zd]),Qd=at([Wd,qd,Kd,Xd,Zd]),ef=at([Wd,qd,Kd,Yd,Xd,Zd]),tf=at([Wd,Gd,Kd,Dt("unit"),Yd,Xd,Zd]),nf=function(e){return e.fold(B.some,B.none,B.some,B.some)},rf=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},of=function(e,t){return function(n){var r=_t("Converting part type",t,n);return e(r)}},af=of(Ud.required,Jd),lf=of(Ud.external,Qd),uf=of(Ud.optional,ef),sf=of(Ud.group,tf),cf=g("entirety"),df=Object.freeze({__proto__:null,required:af,external:lf,optional:uf,group:sf,asNamedPart:nf,name:rf,asCommon:function(e){return e.fold(v,v,v,v)},original:cf}),ff=function(e,t,n,r){return $e(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},pf=function(e,t){var n={};return W(t,(function(t){nf(t).each((function(t){var r=mf(e,t.pname);n[t.name]=function(n){var o=_t("Part: "+t.name+" in "+e,at(t.schema),n);return _(_({},r),{config:n,validated:o})}}))})),n},mf=function(e,t){return{uiType:$d(),owner:e,name:t}},hf=function(e,t,n){return{uiType:$d(),owner:e,name:t,config:n,validated:{}}},gf=function(e){return Q(e,(function(e){return e.fold(B.none,B.some,B.none,B.none).map((function(e){return It(e.name,e.schema.concat([Il(cf())]))})).toArray()}))},vf=function(e){return U(e,rf)},bf=function(e,t,n){return function(e,t,n){var r={},o={};return W(n,(function(e){e.fold((function(e){r[e.pname]=Hd(!0,(function(t,n,r){return e.factory.sketch(ff(t,e,n,r))}))}),(function(e){var n=t.parts[e.name];o[e.name]=g(e.factory.sketch(ff(t,e,n[cf()]),n))}),(function(e){r[e.pname]=Hd(!1,(function(t,n,r){return e.factory.sketch(ff(t,e,n,r))}))}),(function(e){r[e.pname]=jd(!0,(function(t,n,r){var o=t[e.name];return U(o,(function(n){return e.factory.sketch($e(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:g(r),externals:g(o)}}(0,t,n)},yf=function(e,t,n){return Vd(B.some(e),t,t.components,n)},wf=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOptional()},xf=function(e,t,n){return wf(e,t,n).getOrDie("Could not find part: "+n)},Cf=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return W(n,(function(e){r[e]=g(i.getByUid(o[e]))})),r},kf=function(e,t){var n=e.getSystem();return Pe(t.partUids,(function(e,t){return g(n.getByUid(e))}))},Sf=function(e){return Me(e.partUids)},_f=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return W(n,(function(e){r[e]=g(i.getByUid(o[e]).getOrDie())})),r},Of=function(e,t){var n=vf(t);return Gn(U(n,(function(t){return{key:t,value:e+"-"+t}})))},Tf=function(e){return Et("partUids","partUids",Ye((function(t){return Of(t.uid,e)})),dt())},Ef=Object.freeze({__proto__:null,generate:pf,generateOne:hf,schemas:gf,names:vf,substitutes:bf,components:yf,defaultUids:Of,defaultUidsSchema:Tf,getAllParts:kf,getAllPartNames:Sf,getPart:wf,getPartOrDie:xf,getParts:Cf,getPartsOrDie:_f}),Af=function(e,t,n,r,o){var i=function(e,t){return(e.length>0?[It("parts",e)]:[]).concat([Dt("uid"),Kt("dom",{}),Kt("components",[]),Il("originalSpec"),Kt("debug.sketcher",{})]).concat(t)}(r,o);return _t(e+" [SpecSchema]",it(i.concat(t)),n)},Mf=function(e,t,n,r,o){var i=Df(o),a=gf(n),l=Tf(n),u=Af(e,t,i,a,[l]),s=bf(0,u,n);return r(u,yf(e,u,s.internals()),i,s.externals())},Df=function(e){return function(e){return Ve(e,"uid")}(e)?e:_(_({},e),{uid:xi("uid")})},Nf=it([Dt("name"),Dt("factory"),Dt("configFields"),Kt("apis",{}),Kt("extraApis",{})]),Pf=it([Dt("name"),Dt("factory"),Dt("configFields"),Dt("partFields"),Kt("apis",{}),Kt("extraApis",{})]),zf=function(e){var t=_t("Sketcher for "+e.name,Nf,e),n=Pe(t.apis,Ai),r=Pe(t.extraApis,(function(e,t){return Oi(e,t)}));return _(_({name:t.name,configFields:t.configFields,sketch:function(e){return function(e,t,n,r){var o=Df(r);return n(Af(e,t,o,[],[]),o)}(t.name,t.configFields,t.factory,e)}},n),r)},Bf=function(e){var t=_t("Sketcher for "+e.name,Pf,e),n=pf(t.name,t.partFields),r=Pe(t.apis,Ai),o=Pe(t.extraApis,(function(e,t){return Oi(e,t)}));return _(_({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:function(e){return Mf(t.name,t.configFields,t.partFields,t.factory,e)},parts:n},r),o)},Rf=function(e){return"input"===Co(e)&&"radio"!==oi(e,"type")||"textarea"===Co(e)},If=Object.freeze({__proto__:null,getCurrent:function(e,t,n){return t.find(e)}}),Lf=[Dt("find")],Ff=Tu({fields:Lf,name:"composing",apis:If}),Vf=["input","button","textarea","select"],Hf=function(e,t,n){(t.disabled()?Kf:Yf)(e,t)},jf=function(e,t){return!0===t.useNative&&V(Vf,Co(e.element))},$f=function(e){ri(e.element,"disabled","disabled")},Uf=function(e){li(e.element,"disabled")},Wf=function(e){ri(e.element,"aria-disabled","true")},qf=function(e){ri(e.element,"aria-disabled","false")},Kf=function(e,t,n){t.disableClass.each((function(t){Ki(e.element,t)})),(jf(e,t)?$f:Wf)(e),t.onDisabled(e)},Yf=function(e,t,n){t.disableClass.each((function(t){Gi(e.element,t)})),(jf(e,t)?Uf:qf)(e),t.onEnabled(e)},Gf=function(e,t){return jf(e,t)?function(e){return ai(e.element,"disabled")}(e):function(e){return"true"===oi(e.element,"aria-disabled")}(e)},Xf=Object.freeze({__proto__:null,enable:Yf,disable:Kf,isDisabled:Gf,onLoad:Hf,set:function(e,t,n,r){(r?Kf:Yf)(e,t)}}),Zf=Object.freeze({__proto__:null,exhibit:function(e,t){return Pi({classes:t.disabled()?t.disableClass.toArray():[]})},events:function(e,t){return oo([io(Dr(),(function(t,n){return Gf(t,e)})),xu(e,t,Hf)])}}),Jf=[Qt("disabled",C),Kt("useNative",!0),Vt("disableClass"),Nl("onDisabled"),Nl("onEnabled")],Qf=Tu({fields:Jf,name:"disabling",active:Zf,apis:Xf}),ep=function(e,t,n,r){var o=uc(e.element,"."+t.highlightClass);W(o,(function(n){H(r,(function(e){return e.element===n}))||(Gi(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),Jr(n,Zr())})))}))},tp=function(e,t,n,r){ep(e,t,0,[r]),np(e,t,n,r)||(Ki(r.element,t.highlightClass),t.onHighlight(e,r),Jr(r,Xr()))},np=function(e,t,n,r){return Xi(r.element,t.highlightClass)},rp=function(e,t,n,r){var o=uc(e.element,"."+t.itemClass);return B.from(o[r]).fold((function(){return pe.error(new Error("No element found with index "+r))}),e.getSystem().getByDom)},op=function(e,t,n){return pl(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},ip=function(e,t,n){var r=uc(e.element,"."+t.itemClass);return(r.length>0?B.some(r[r.length-1]):B.none()).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},ap=function(e,t,n,r){var o=uc(e.element,"."+t.itemClass);return Z(o,(function(e){return Xi(e,t.highlightClass)})).bind((function(t){var n=Gl(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOptional()}))},lp=function(e,t,n){var r=uc(e.element,"."+t.itemClass);return ea(U(r,(function(t){return e.getSystem().getByDom(t).toOptional()})))},up=Object.freeze({__proto__:null,dehighlightAll:function(e,t,n){return ep(e,t,0,[])},dehighlight:function(e,t,n,r){np(e,t,n,r)&&(Gi(r.element,t.highlightClass),t.onDehighlight(e,r),Jr(r,Zr()))},highlight:tp,highlightFirst:function(e,t,n){op(e,t).each((function(r){tp(e,t,n,r)}))},highlightLast:function(e,t,n){ip(e,t).each((function(r){tp(e,t,n,r)}))},highlightAt:function(e,t,n,r){rp(e,t,n,r).fold((function(e){throw e}),(function(r){tp(e,t,n,r)}))},highlightBy:function(e,t,n,r){var o=lp(e,t);X(o,r).each((function(r){tp(e,t,n,r)}))},isHighlighted:np,getHighlighted:function(e,t,n){return pl(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},getFirst:op,getLast:ip,getPrevious:function(e,t,n){return ap(e,t,0,-1)},getNext:function(e,t,n){return ap(e,t,0,1)},getCandidates:lp}),sp=[Dt("highlightClass"),Dt("itemClass"),Nl("onHighlight"),Nl("onDehighlight")],cp=Tu({fields:sp,name:"highlighting",apis:up}),dp=[8],fp=[9],pp=[13],mp=[27],hp=[32],gp=[37],vp=[38],bp=[39],yp=[40],wp=function(e,t,n){var r=te(e.slice(0,t)),o=te(e.slice(t+1));return X(r.concat(o),n)},xp=function(e,t,n){var r=te(e.slice(0,t));return X(r,n)},Cp=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return X(o.concat(r),n)},kp=function(e,t,n){var r=e.slice(t+1);return X(r,n)},Sp=function(e){return function(t){var n=t.raw;return V(e,n.which)}},_p=function(e){return function(t){return ee(e,(function(e){return e(t)}))}},Op=function(e){return!0===e.raw.shiftKey},Tp=function(e){return!0===e.raw.ctrlKey},Ep=w(Op),Ap=function(e,t){return{matches:e,classification:t}},Mp=function(e,t,n){t.exists((function(e){return n.exists((function(t){return jn(t,e)}))}))||Qr(e,qr(),{prevFocus:t,newFocus:n})},Dp=function(){var e=function(e){return Ru(e.element)};return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element);var o=e(t);Mp(t,r,o)}}},Np=function(){var e=function(e){return cp.getHighlighted(e).map((function(e){return e.element}))};return{get:e,set:function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(m,(function(e){cp.highlight(t,e)}));var o=e(t);Mp(t,r,o)}}};(nc=tc||(tc={})).OnFocusMode="onFocus",nc.OnEnterOrSpaceMode="onEnterOrSpace",nc.OnApiMode="onApi";var Pp,zp=function(e,t,n,r,o){var i=function(e,t,n,r,o){var i,a,l=n(e,t,r,o);return(i=l,a=t.event,X(i,(function(e){return e.matches(a)})).map((function(e){return e.classification}))).bind((function(n){return n(e,t,r,o)}))},a={schema:function(){return e.concat([Kt("focusManager",Dp()),Yt("focusInside","onFocus",xt((function(e){return V(["onFocus","onEnterOrSpace","onApi"],e)?pe.value(e):pe.error("Invalid value for focusInside")}))),Rl("handler",a),Rl("state",t),Rl("sendFocusIn",o)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==tc.OnFocusMode?B.none():o(e).map((function(n){return lo(Tr(),(function(r,o){n(r,e,t),o.stop()}))})),l=[lo(gr(),(function(r,a){i(r,a,n,e,t).fold((function(){!function(n,r){var i=Sp(hp.concat(pp))(r.event);e.focusInside===tc.OnEnterOrSpaceMode&&i&&er(n,r)&&o(e).each((function(o){o(n,e,t),r.stop()}))}(r,a)}),(function(e){a.stop()}))})),lo(vr(),(function(n,o){i(n,o,r,e,t).each((function(e){o.stop()}))}))];return oo(a.toArray().concat(l))}};return a},Bp=function(e){var t=[Vt("onEscape"),Vt("onEnter"),Kt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Kt("firstTabstop",0),Kt("useTabstopAt",k),Vt("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return ml(t,e)})).getOr(t);return Ba(n)>0},r=function(e,t,r){(function(e,t){var r=uc(e.element,t.selector),o=K(r,(function(e){return n(t,e)}));return B.from(o[t.firstTabstop])})(e,t).each((function(n){t.focusManager.set(e,n)}))},o=function(e,t,r,o,i){return i(t,r,(function(e){return function(e,t){return n(e,t)&&e.useTabstopAt(t)}(o,e)})).fold((function(){return o.cyclic?B.some(!0):B.none()}),(function(t){return o.focusManager.set(e,t),B.some(!0)}))},i=function(e,t,n,r){var i=uc(e.element,n.selector);return function(e,t){return t.focusManager.get(e).bind((function(e){return ml(e,t.selector)}))}(e,n).bind((function(t){return Z(i,y(jn,t)).bind((function(t){return o(e,i,t,n,r)}))}))},a=g([Ap(_p([Op,Sp(fp)]),(function(e,t,n){var r=n.cyclic?wp:xp;return i(e,0,n,r)})),Ap(Sp(fp),(function(e,t,n){var r=n.cyclic?Cp:kp;return i(e,0,n,r)})),Ap(Sp(mp),(function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))})),Ap(_p([Ep,Sp(pp)]),(function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))}))]),l=g([]);return zp(t,Mi.init,a,l,(function(){return B.some(r)}))},Rp=Bp(At("cyclic",C)),Ip=Bp(At("cyclic",k)),Lp=function(e,t,n){return Rf(n)&&Sp(hp)(t.event)?B.none():function(e,t,n){return to(e,n,Dr()),B.some(!0)}(e,0,n)},Fp=function(e,t){return B.some(!0)},Vp=[Kt("execute",Lp),Kt("useSpace",!1),Kt("useEnter",!0),Kt("useControlEnter",!1),Kt("useDown",!1)],Hp=function(e,t,n){return n.execute(e,t,e.element)},jp=zp(Vp,Mi.init,(function(e,t,n,r){var o=n.useSpace&&!Rf(e.element)?hp:[],i=n.useEnter?pp:[],a=n.useDown?yp:[],l=o.concat(i).concat(a);return[Ap(Sp(l),Hp)].concat(n.useControlEnter?[Ap(_p([Tp,Sp(pp)]),Hp)]:[])}),(function(e,t,n,r){return n.useSpace&&!Rf(e.element)?[Ap(Sp(hp),Fp)]:[]}),(function(){return B.none()})),$p=function(){var e=ns();return Di({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,n){e.set({numRows:t,numColumns:n})},getNumRows:function(){return e.get().map((function(e){return e.numRows}))},getNumColumns:function(){return e.get().map((function(e){return e.numColumns}))}})},Up=Object.freeze({__proto__:null,flatgrid:$p,init:function(e){return e.state(e)}}),Wp=function(e){return function(t,n,r,o){var i=e(t.element);return Gp(i,t,n,r,o)}},qp=function(e,t){var n=Ss(e,t);return Wp(n)},Kp=function(e,t){var n=Ss(t,e);return Wp(n)},Yp=function(e){return function(t,n,r,o){return Gp(e,t,n,r,o)}},Gp=function(e,t,n,r,o){return r.focusManager.get(t).bind((function(n){return e(t.element,n,r,o)})).map((function(e){return r.focusManager.set(t,e),!0}))},Xp=Yp,Zp=Yp,Jp=Yp,Qp=function(e){return!((t=e.dom).offsetWidth<=0&&t.offsetHeight<=0);var t},em=function(e,t,n){var r=uc(e,n);return function(e,t){return Z(e,t).map((function(t){return{index:t,candidates:e}}))}(K(r,Qp),(function(e){return jn(e,t)}))},tm=function(e,t){return Z(e,(function(e){return jn(t,e)}))},nm=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind((function(t){var r=t.row*n+t.column;return r>=0&&r<e.length?B.some(e[r]):B.none()}))},rm=function(e,t,n,r,o){return nm(e,t,r,(function(t,i){var a=t===n-1?e.length-t*r:r,l=Gl(i,o,0,a-1);return B.some({row:t,column:l})}))},om=function(e,t,n,r,o){return nm(e,t,r,(function(t,i){var a=Gl(t,o,0,n-1),l=a===n-1?e.length-a*r:r,u=Xl(i,0,l-1);return B.some({row:a,column:u})}))},im=[Dt("selector"),Kt("execute",Lp),Pl("onEscape"),Kt("captureTab",!1),Ll()],am=function(e,t,n){pl(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},lm=function(e){return function(t,n,r,o){return em(t,n,r.selector).bind((function(t){return e(t.candidates,t.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},um=function(e,t,n){return n.captureTab?B.some(!0):B.none()},sm=lm((function(e,t,n,r){return rm(e,t,n,r,-1)})),cm=lm((function(e,t,n,r){return rm(e,t,n,r,1)})),dm=lm((function(e,t,n,r){return om(e,t,n,r,-1)})),fm=lm((function(e,t,n,r){return om(e,t,n,r,1)})),pm=g([Ap(Sp(gp),qp(sm,cm)),Ap(Sp(bp),Kp(sm,cm)),Ap(Sp(vp),Xp(dm)),Ap(Sp(yp),Zp(fm)),Ap(_p([Op,Sp(fp)]),um),Ap(_p([Ep,Sp(fp)]),um),Ap(Sp(mp),(function(e,t,n){return n.onEscape(e,t)})),Ap(Sp(hp.concat(pp)),(function(e,t,n,r){return function(e,t){return t.focusManager.get(e).bind((function(e){return ml(e,t.selector)}))}(e,n).bind((function(r){return n.execute(e,t,r)}))}))]),mm=g([Ap(Sp(hp),Fp)]),hm=zp(im,$p,pm,mm,(function(){return B.some(am)})),gm=function(e,t,n,r){var o=function(e,t,n){var i,a=Gl(t,r,0,n.length-1);return a===e?B.none():(i=n[a],"button"===Co(i)&&"disabled"===oi(i,"disabled")?o(e,a,n):B.from(n[a]))};return em(e,n,t).bind((function(e){var t=e.index,n=e.candidates;return o(t,t,n)}))},vm=[Dt("selector"),Kt("getInitial",B.none),Kt("execute",Lp),Pl("onEscape"),Kt("executeOnMove",!1),Kt("allowVertical",!0)],bm=function(e,t,n){return function(e,t){return t.focusManager.get(e).bind((function(e){return ml(e,t.selector)}))}(e,n).bind((function(r){return n.execute(e,t,r)}))},ym=function(e,t,n){t.getInitial(e).orThunk((function(){return pl(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))},wm=function(e,t,n){return gm(e,n.selector,t,-1)},xm=function(e,t,n){return gm(e,n.selector,t,1)},Cm=function(e){return function(t,n,r,o){return e(t,n,r,o).bind((function(){return r.executeOnMove?bm(t,n,r):B.some(!0)}))}},km=function(e,t,n){return n.onEscape(e,t)},Sm=g([Ap(Sp(hp),Fp)]),_m=zp(vm,Mi.init,(function(e,t,n,r){var o=gp.concat(n.allowVertical?vp:[]),i=bp.concat(n.allowVertical?yp:[]);return[Ap(Sp(o),Cm(qp(wm,xm))),Ap(Sp(i),Cm(Kp(wm,xm))),Ap(Sp(pp),bm),Ap(Sp(hp),bm),Ap(Sp(mp),km)]}),Sm,(function(){return B.some(ym)})),Om=function(e,t,n){return B.from(e[t]).bind((function(e){return B.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))},Tm=function(e,t,n,r){var o=e[t].length,i=Gl(n,r,0,o-1);return Om(e,t,i)},Em=function(e,t,n,r){var o=Gl(n,r,0,e.length-1),i=e[o].length,a=Xl(t,0,i-1);return Om(e,o,a)},Am=function(e,t,n,r){var o=e[t].length,i=Xl(n+r,0,o-1);return Om(e,t,i)},Mm=function(e,t,n,r){var o=Xl(n+r,0,e.length-1),i=e[o].length,a=Xl(t,0,i-1);return Om(e,o,a)},Dm=[It("selectors",[Dt("row"),Dt("cell")]),Kt("cycles",!0),Kt("previousSelector",B.none),Kt("execute",Lp)],Nm=function(e,t,n){t.previousSelector(e).orThunk((function(){var n=t.selectors;return pl(e.element,n.cell)})).each((function(n){t.focusManager.set(e,n)}))},Pm=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return ml(r,o.selectors.row).bind((function(e){var t=uc(e,o.selectors.cell);return tm(t,r).bind((function(t){var r=uc(n,o.selectors.row);return tm(r,e).bind((function(e){var n=function(e,t){return U(e,(function(e){return uc(e,t.selectors.cell)}))}(r,o);return i(n,e,t).map((function(e){return e.cell}))}))}))}))}},zm=Pm((function(e,t,n){return Tm(e,t,n,-1)}),(function(e,t,n){return Am(e,t,n,-1)})),Bm=Pm((function(e,t,n){return Tm(e,t,n,1)}),(function(e,t,n){return Am(e,t,n,1)})),Rm=Pm((function(e,t,n){return Em(e,n,t,-1)}),(function(e,t,n){return Mm(e,n,t,-1)})),Im=Pm((function(e,t,n){return Em(e,n,t,1)}),(function(e,t,n){return Mm(e,n,t,1)})),Lm=g([Ap(Sp(gp),qp(zm,Bm)),Ap(Sp(bp),Kp(zm,Bm)),Ap(Sp(vp),Xp(Rm)),Ap(Sp(yp),Zp(Im)),Ap(Sp(hp.concat(pp)),(function(e,t,n){return Ru(e.element).bind((function(r){return n.execute(e,t,r)}))}))]),Fm=g([Ap(Sp(hp),Fp)]),Vm=zp(Dm,Mi.init,Lm,Fm,(function(){return B.some(Nm)})),Hm=[Dt("selector"),Kt("execute",Lp),Kt("moveOnTab",!1)],jm=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))},$m=function(e,t,n){pl(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},Um=function(e,t,n){return gm(e,n.selector,t,-1)},Wm=function(e,t,n){return gm(e,n.selector,t,1)},qm=g([Ap(Sp(vp),Jp(Um)),Ap(Sp(yp),Jp(Wm)),Ap(_p([Op,Sp(fp)]),(function(e,t,n,r){return n.moveOnTab?Jp(Um)(e,t,n,r):B.none()})),Ap(_p([Ep,Sp(fp)]),(function(e,t,n,r){return n.moveOnTab?Jp(Wm)(e,t,n,r):B.none()})),Ap(Sp(pp),jm),Ap(Sp(hp),jm)]),Km=g([Ap(Sp(hp),Fp)]),Ym=zp(Hm,Mi.init,qm,Km,(function(){return B.some($m)})),Gm=[Pl("onSpace"),Pl("onEnter"),Pl("onShiftEnter"),Pl("onLeft"),Pl("onRight"),Pl("onTab"),Pl("onShiftTab"),Pl("onUp"),Pl("onDown"),Pl("onEscape"),Kt("stopSpaceKeyup",!1),Vt("focusIn")],Xm=zp(Gm,Mi.init,(function(e,t,n){return[Ap(Sp(hp),n.onSpace),Ap(_p([Ep,Sp(pp)]),n.onEnter),Ap(_p([Op,Sp(pp)]),n.onShiftEnter),Ap(_p([Op,Sp(fp)]),n.onShiftTab),Ap(_p([Ep,Sp(fp)]),n.onTab),Ap(Sp(vp),n.onUp),Ap(Sp(yp),n.onDown),Ap(Sp(gp),n.onLeft),Ap(Sp(bp),n.onRight),Ap(Sp(hp),n.onSpace),Ap(Sp(mp),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[Ap(Sp(hp),Fp)]:[]}),(function(e){return e.focusIn})),Zm=Rp.schema(),Jm=Ip.schema(),Qm=_m.schema(),eh=hm.schema(),th=Vm.schema(),nh=jp.schema(),rh=Ym.schema(),oh=Xm.schema(),ih=Au({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Zm,cyclic:Jm,flow:Qm,flatgrid:eh,matrix:th,execution:nh,menu:rh,special:oh}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(r){r(e,t,n)}))},setGridSize:function(e,t,n,r,o){!function(e){return He(e,"setGridSize")}(n)?console.error("Layout does not support setGridSize"):n.setGridSize(r,o)}},state:Up}),ah=function(e,t,n,r){var o=e.getSystem().build(r);Kc(e,o,n)},lh=function(e,t,n,r){var o=uh(e);X(o,(function(e){return jn(r.element,e.element)})).each(Gc)},uh=function(e,t){return e.components()},sh=function(e,t,n,r,o){var i=uh(e);return B.from(i[r]).map((function(t){return lh(e,0,0,t),o.each((function(t){ah(e,0,(function(e,t){var n,o;o=t,Bo(n=e,r).fold((function(){Go(n,o)}),(function(e){qo(e,o)}))}),t)})),t}))},ch=Tu({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(e,t,n,r){ah(e,0,Go,r)},prepend:function(e,t,n,r){ah(e,0,Yo,r)},remove:lh,replaceAt:sh,replaceBy:function(e,t,n,r,o){var i=uh(e);return Z(i,r).bind((function(t){return sh(e,0,0,t,o)}))},set:function(e,t,n,r){Iu((function(){var t=U(r,e.getSystem().build);Wc(e,t)}),e.element)},contents:uh})}),dh=function(e,t){return{key:e,value:{config:{},me:function(e,t){var n=oo(t);return Tu({fields:[Dt("enabled")],name:e,active:{events:g(n)}})}(e,t),configAsRaw:g({}),initialConfig:{},state:Mi}}},fh=function(e,t){t.ignore||(Pu(e.element),t.onFocus(e))},ph=Object.freeze({__proto__:null,focus:fh,blur:function(e,t){t.ignore||e.element.dom.blur()},isFocused:function(e){return zu(e.element)}}),mh=Object.freeze({__proto__:null,exhibit:function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Pi(n)},events:function(e){return oo([lo(Tr(),(function(t,n){fh(t,e),n.stop()}))].concat(e.stopMousedown?[lo(sr(),(function(e,t){t.event.prevent()}))]:[]))}}),hh=[Nl("onFocus"),Kt("stopMousedown",!1),Kt("ignore",!1)],gh=Tu({fields:hh,name:"focusing",active:mh,apis:ph}),vh=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},bh=function(e,t,n){t.toggleClass.each((function(t){n.get()?Ki(e.element,t):Gi(e.element,t)}))},yh=function(e,t,n){Ch(e,t,n,!n.get())},wh=function(e,t,n){n.set(!0),bh(e,t,n),vh(e,t,n)},xh=function(e,t,n){n.set(!1),bh(e,t,n),vh(e,t,n)},Ch=function(e,t,n,r){(r?wh:xh)(e,t,n)},kh=function(e,t,n){Ch(e,t,n,t.selected)},Sh=Object.freeze({__proto__:null,onLoad:kh,toggle:yh,isOn:function(e,t,n){return n.get()},on:wh,off:xh,set:Ch}),_h=Object.freeze({__proto__:null,exhibit:function(){return Pi({})},events:function(e,t){var n,r,o,i=(n=e,r=t,o=yh,yo((function(e){o(e,n,r)}))),a=xu(e,t,kh);return oo(J([e.toggleOnExecute?[i]:[],[a]]))}}),Oh=function(e,t,n){ri(e.element,"aria-expanded",n)},Th=[Kt("selected",!1),Vt("toggleClass"),Kt("toggleOnExecute",!0),Yt("aria",{mode:"none"},Tt("mode",{pressed:[Kt("syncWithExpanded",!1),Rl("update",(function(e,t,n){ri(e.element,"aria-pressed",n),t.syncWithExpanded&&Oh(e,t,n)}))],checked:[Rl("update",(function(e,t,n){ri(e.element,"aria-checked",n)}))],expanded:[Rl("update",Oh)],selected:[Rl("update",(function(e,t,n){ri(e.element,"aria-selected",n)}))],none:[Rl("update",m)]}))],Eh=Tu({fields:Th,name:"toggling",active:_h,apis:Sh,state:(Pp=!1,{init:function(){var e=nn(Pp);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(Pp)},readState:function(){return e.get()}}}})}),Ah=function(){var e=function(e,t){t.stop(),eo(e)};return[lo(wr(),e),lo(Pr(),e),po(ir()),po(sr())]},Mh=function(e){return oo(J([e.map((function(e){return yo((function(t,n){e(t),n.stop()}))})).toArray(),Ah()]))},Dh="alloy.item-hover",Nh="alloy.item-focus",Ph=function(e){(Ru(e.element).isNone()||gh.isFocused(e))&&(gh.isFocused(e)||gh.focus(e),Qr(e,Dh,{item:e}))},zh=function(e){Qr(e,Nh,{item:e})},Bh=g(Dh),Rh=g(Nh),Ih=[Dt("data"),Dt("components"),Dt("dom"),Kt("hasSubmenu",!1),Vt("toggling"),Pd("itemBehaviours",[Eh,gh,ih,Ad]),Kt("ignoreFocus",!1),Kt("domModification",{}),Rl("builder",(function(e){return{dom:e.dom,domModification:_(_({},e.domModification),{attributes:_(_(_({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:zd(e.itemBehaviours,[e.toggling.fold(Eh.revoke,(function(e){return Eh.config(_({aria:{mode:"checked"}},e))})),gh.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){zh(e)}}),ih.config({mode:"execution"}),Ad.config({store:{mode:"memory",initialValue:e.data}}),dh("item-type-events",T(T([],Ah()),[lo(pr(),Ph),lo(Nr(),gh.focus)]))]),components:e.components,eventOrder:e.eventOrder}})),Kt("eventOrder",{})],Lh=[Dt("dom"),Dt("components"),Rl("builder",(function(e){return{dom:e.dom,components:e.components,events:oo([mo(Nr())])}}))],Fh=g("item-widget"),Vh=g([af({name:"widget",overrides:function(e){return{behaviours:_u([Ad.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:m}})])}}})]),Hh=[Dt("uid"),Dt("data"),Dt("components"),Dt("dom"),Kt("autofocus",!1),Kt("ignoreFocus",!1),Pd("widgetBehaviours",[Ad,gh,ih]),Kt("domModification",{}),Tf(Vh()),Rl("builder",(function(e){var t=bf(Fh(),e,Vh()),n=yf(Fh(),e,t.internals()),r=function(t){return wf(t,e,"widget").map((function(e){return ih.focusIn(e),e}))},o=function(t,n){return Rf(n.event.target)?B.none():e.autofocus?(n.setSource(t.element),B.none()):B.none()};return{dom:e.dom,components:n,domModification:e.domModification,events:oo([yo((function(e,t){r(e).each((function(e){t.stop()}))})),lo(pr(),Ph),lo(Nr(),(function(t,n){e.autofocus?r(t):gh.focus(t)}))]),behaviours:zd(e.widgetBehaviours,[Ad.config({store:{mode:"memory",initialValue:e.data}}),gh.config({ignore:e.ignoreFocus,onFocus:function(e){zh(e)}}),ih.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Mu(),onLeft:o,onRight:o,onEscape:function(t,n){return gh.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),B.none()):B.none():(gh.focus(t),B.some(!0))}})])}}))],jh=Tt("type",{widget:Hh,item:Ih,separator:Lh}),$h=g([sf({factory:{sketch:function(e){var t=_t("menu.spec item",jh,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return Ve(t,"uid")?t:_(_({},t),{uid:xi("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Uh=g([Dt("value"),Dt("items"),Dt("dom"),Dt("components"),Kt("eventOrder",{}),Md("menuBehaviours",[cp,Ad,Ff,ih]),Yt("movement",{mode:"menu",moveOnTab:!0},Tt("mode",{grid:[Ll(),Rl("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[Rl("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),Dt("rowSelector")],menu:[Kt("moveOnTab",!0),Rl("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),Nt("markers",Tl()),Kt("fakeFocus",!1),Kt("focusManager",Dp()),Nl("onHighlight")]),Wh=g("alloy.menu-focus"),qh=Bf({name:"Menu",configFields:Uh(),partFields:$h(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Nd(e.menuBehaviours,[cp.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Ad.config({store:{mode:"memory",initialValue:e.value}}),Ff.config({find:B.some}),ih.config(e.movement.config(e,e.movement))]),events:oo([lo(Rh(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){cp.highlight(e,n),t.stop(),Qr(e,Wh(),{menu:e,item:n})}))})),lo(Bh(),(function(e,t){var n=t.event.item;cp.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),Kh=function(e,t,n,r){return Fe(n,r).bind((function(r){return Fe(e,r).bind((function(r){var o=Kh(e,t,n,r);return B.some([r].concat(o))}))})).getOr([])},Yh=function(e,t){var n={};Ne(e,(function(e,t){W(e,(function(e){n[e]=t}))}));var r=t,o=ze(t,(function(e,t){return{k:e,v:t}})),i=Pe(o,(function(e,t){return[t].concat(Kh(n,r,o,t))}));return Pe(n,(function(e){return Fe(i,e).getOr([e])}))},Gh=function(e){return"prepared"===e.type?B.some(e.menu):B.none()},Xh={init:function(){var e=nn({}),t=nn({}),n=nn({}),r=ns(),o=nn({}),i=function(t,n,r){return a(t).bind((function(o){return function(t){return Ie(e.get(),(function(e,n){return e===t}))}(t).bind((function(e){return n(e).map((function(e){return{triggeredMenu:o,triggeringItem:e,triggeringPath:r}}))}))}))},a=function(e){return l(e).bind(Gh)},l=function(e){return Fe(t.get(),e)},u=function(t){return Fe(e.get(),t)};return{setMenuBuilt:function(e,n){var r;t.set(_(_({},t.get()),((r={})[e]={type:"prepared",menu:n},r)))},setContents:function(i,a,l,u){r.set(i),e.set(l),t.set(a),o.set(u);var s=Yh(u,l);n.set(s)},expand:function(t){return Fe(e.get(),t).map((function(e){var r=Fe(n.get(),t).getOr([]);return[e].concat(r)}))},refresh:function(e){return Fe(n.get(),e)},collapse:function(e){return Fe(n.get(),e).bind((function(e){return e.length>1?B.some(e.slice(1)):B.none()}))},lookupMenu:l,lookupItem:u,otherMenus:function(e){var t=o.get();return ne(Me(t),e)},getPrimary:function(){return r.get().bind(a)},getMenus:function(){return t.get()},clear:function(){e.set({}),t.set({}),n.set({}),r.clear()},isClear:function(){return r.get().isNone()},getTriggeringPath:function(e,t){var o=K(u(e).toArray(),(function(e){return a(e).isSome()}));return Fe(n.get(),e).bind((function(e){var n=te(o.concat(e));return function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return B.none();t.push(r.getOrDie())}return B.some(t)}(Q(n,(function(e,o){return i(e,t,n.slice(0,o+1)).fold((function(){return Qi(r.get(),e)?[]:[B.none()]}),(function(e){return[B.some(e)]}))})))}))}}},extractPreparedMenu:Gh},Zh=g("collapse-item"),Jh=zf({name:"TieredMenu",configFields:[Bl("onExecute"),Bl("onEscape"),zl("onOpenMenu"),zl("onOpenSubmenu"),Nl("onRepositionMenu"),Nl("onCollapseMenu"),Kt("highlightImmediately",!0),It("data",[Dt("primary"),Dt("menus"),Dt("expansions")]),Kt("fakeFocus",!1),Nl("onHighlight"),Nl("onHover"),Al(),Dt("dom"),Kt("navigateOnHover",!0),Kt("stayInDom",!1),Md("tmenuBehaviours",[ih,cp,Ff,ch]),Kt("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){var n,r,o=ns(),i=Xh.init(),a=function(t){var n=function(t,n,r){return Pe(r,(function(r,o){var i=function(){return qh.sketch(_(_({},r),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Np():Dp()}))};return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(t,e.data.primary,e.data.menus),r=u();return i.setContents(e.data.primary,n,e.data.expansions,r),i.getPrimary()},l=function(e){return Ad.getValue(e).value},u=function(t){return Pe(e.data.menus,(function(e,t){return Q(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},s=function(e,t){cp.highlight(e,t),cp.getHighlighted(t).orThunk((function(){return cp.getFirst(t)})).each((function(t){to(e,t.element,Nr())}))},c=function(e,t){return ea(U(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?B.some(e.menu):B.none()}))})))},d=function(t,n,r){var o=c(n,n.otherMenus(r));W(o,(function(n){Ji(n.element,[e.markers.backgroundMenu]),e.stayInDom||ch.remove(t,n)}))},f=function(t,n){var r=function(t){return o.get().getOrThunk((function(){var n={},r=uc(t.element,"."+e.markers.item),i=K(r,(function(e){return"true"===oi(e,"aria-haspopup")}));return W(i,(function(e){t.getSystem().getByDom(e).each((function(e){var t=l(e);n[t]=e}))})),o.set(n),n}))}(t);Ne(r,(function(e,t){var r=V(n,t);ri(e.element,"aria-expanded",r)}))},p=function(t,n,r){return B.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return B.none();var i=o.menu,a=c(n,r.slice(1));return W(a,(function(t){Ki(t.element,e.markers.backgroundMenu)})),oa(i.element)||ch.append(t,Na(i)),Ji(i.element,[e.markers.backgroundMenu]),s(t,i),d(t,n,r),B.some(i)}))}))};(r=n||(n={}))[r.HighlightSubmenu=0]="HighlightSubmenu",r[r.HighlightParent=1]="HighlightParent";var h=function(t,r,o){if(void 0===o&&(o=n.HighlightSubmenu),r.hasConfigured(Qf)&&Qf.isDisabled(r))return B.some(r);var a=l(r);return i.expand(a).bind((function(a){return f(t,a),B.from(a[0]).bind((function(l){return i.lookupMenu(l).bind((function(u){var s=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}return n.menu}(t,l,u);return oa(s.element)||ch.append(t,Na(s)),e.onOpenSubmenu(t,r,s,te(a)),o===n.HighlightSubmenu?(cp.highlightFirst(s),p(t,i,a)):(cp.dehighlightAll(s),B.some(r))}))}))}))},g=function(t,n){var r=l(n);return i.collapse(r).bind((function(r){return f(t,r),p(t,i,r).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))},v=function(t){return function(n,r){return ml(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(k)}))}))}},b=oo([lo(Wh(),(function(e,t){var n=t.event.item;i.lookupItem(l(n)).each((function(){var n=t.event.menu;cp.highlight(e,n);var r=l(t.event.item);i.refresh(r).each((function(t){return d(e,i,t)}))}))})),yo((function(t,r){var o=r.event.target;t.getSystem().getByDom(o).each((function(r){0===l(r).indexOf("collapse-item")&&g(t,r),h(t,r,n.HighlightSubmenu).fold((function(){e.onExecute(t,r)}),m)}))})),go((function(t,n){a(t).each((function(n){ch.append(t,Na(n)),e.onOpenMenu(t,n),e.highlightImmediately&&s(t,n)}))}))].concat(e.navigateOnHover?[lo(Bh(),(function(t,r){var o=r.event.item;!function(e,t){var n=l(t);i.refresh(n).bind((function(t){return f(e,t),p(e,i,t)}))}(t,o),h(t,o,n.HighlightParent),e.onHover(t,o)}))]:[])),y=function(e){return cp.getHighlighted(e).bind(cp.getHighlighted)},w={collapseMenu:function(e){y(e).each((function(t){g(e,t)}))},highlightPrimary:function(e){i.getPrimary().each((function(t){s(e,t)}))},repositionMenus:function(t){i.getPrimary().bind((function(e){return y(t).bind((function(e){var t=l(e),n=Le(i.getMenus()),r=ea(U(n,Xh.extractPreparedMenu));return i.getTriggeringPath(t,(function(e){return function(e,t,n){return ce(t,(function(e){if(!e.getSystem().isConnected())return B.none();var t=cp.getCandidates(e);return X(t,(function(e){return l(e)===n}))}))}(0,r,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))})).fold((function(){(function(e){return B.from(e.components()[0]).filter((function(e){return"menu"===oi(e.element,"role")}))})(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Nd(e.tmenuBehaviours,[ih.config({mode:"special",onRight:v((function(e,t){return Rf(t.element)?B.none():h(e,t,n.HighlightSubmenu)})),onLeft:v((function(e,t){return Rf(t.element)?B.none():g(e,t)})),onEscape:v((function(t,n){return g(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){i.getPrimary().each((function(t){to(e,t.element,Nr())}))}}),cp.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Ff.config({find:function(e){return cp.getHighlighted(e)}}),ch.config({})]),eventOrder:e.eventOrder,apis:w,events:b}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:Yn(e,t),expansions:{}}},collapseItem:function(e){return{value:mi(Zh()),meta:{text:e}}}}}),Qh=zf({name:"InlineView",configFields:[Dt("lazySink"),Nl("onShow"),Nl("onHide"),Ut("onEscape"),Md("inlineBehaviours",[sd,Ad,Du]),qt("fireDismissalEventInstead",[Kt("event",Ur())]),qt("fireRepositionEventInstead",[Kt("event",Wr())]),Kt("getRelated",B.none),Kt("isExtraPart",C),Kt("eventOrder",B.none)],factory:function(e,t){var n=function(e,t,n,o){r(e,t,n,(function(){return o.map((function(e){return nl(e)}))}))},r=function(t,n,r,o){var i=e.lazySink(t).getOrDie();sd.openWhileCloaked(t,n,(function(){return Hc.positionWithinBounds(i,t,r,o())})),Ad.setValue(t,B.some({mode:"position",config:r,getBounds:o}))},o=function(t,n,r,o){var i=function(e,t,n,r,o){var i=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return vu()},onRtl:function(){return bu()}}}:{},l=function(e){return function(e){return 2===e.length}(e)?a:{}};return Jh.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return sd.close(t),e.onEscape.map((function(e){return e(t)})),B.some(!0)},onExecute:function(){return B.some(!0)},onOpenMenu:function(e,t){Hc.positionWithinBounds(i().getOrDie(),t,n,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();Hc.position(o,n,{anchor:_({type:"submenu",item:t},l(r))})},onRepositionMenu:function(e,t,r){var a=i().getOrDie();Hc.positionWithinBounds(a,t,n,o()),W(r,(function(e){var t=l(e.triggeringPath);Hc.position(a,e.triggeredMenu,{anchor:_({type:"submenu",item:e.triggeringItem},t)})}))}})}(e,t,n,r,o);sd.open(t,i),Ad.setValue(t,B.some({mode:"menu",menu:i}))},i=function(t){sd.isOpen(t)&&Ad.getValue(t).each((function(n){switch(n.mode){case"menu":sd.getState(t).each(Jh.repositionMenus);break;case"position":var r=e.lazySink(t).getOrDie();Hc.positionWithinBounds(r,t,n.config,n.getBounds())}}))},a={setContent:function(e,t){sd.setContent(e,t)},showAt:function(e,t,r){n(e,t,r,B.none())},showWithin:n,showWithinBounds:r,showMenuAt:function(e,t,n){o(e,t,n,B.none)},showMenuWithinBounds:o,hide:function(e){sd.isOpen(e)&&(Ad.setValue(e,B.none()),sd.close(e))},getContent:function(e){return sd.getState(e)},reposition:i,isOpen:sd.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Nd(e.inlineBehaviours,[sd.config({isPartOf:function(t,n,r){return vl(n,r)||function(t,n){return e.getRelated(t).exists((function(e){return vl(e,n)}))}(t,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),Ad.config({store:{mode:"memory",initialValue:B.none()}}),Du.config({channels:_(_({},md(_({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),gd(_(_({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:i})))})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),eg="layout-inset",tg=function(e){return e.x},ng=function(e,t){return e.x+e.width/2-t.width/2},rg=function(e,t){return e.x+e.width-t.width},og=function(e){return e.y},ig=function(e,t){return e.y+e.height-t.height},ag=function(e,t){return e.y+e.height/2-t.height/2},lg=function(e,t,n){return Fl(rg(e,t),ig(e,t),n.insetSouthwest(),Ul(),"southwest",Zl(e,{right:0,bottom:3}),eg)},ug=function(e,t,n){return Fl(tg(e),ig(e,t),n.insetSoutheast(),$l(),"southeast",Zl(e,{left:1,bottom:3}),eg)},sg=function(e,t,n){return Fl(rg(e,t),og(e),n.insetNorthwest(),jl(),"northwest",Zl(e,{right:0,top:2}),eg)},cg=function(e,t,n){return Fl(tg(e),og(e),n.insetNortheast(),Hl(),"northeast",Zl(e,{left:1,top:2}),eg)},dg=function(e,t,n){return Fl(ng(e,t),og(e),n.insetNorth(),Wl(),"north",Zl(e,{top:2}),eg)},fg=function(e,t,n){return Fl(ng(e,t),ig(e,t),n.insetSouth(),ql(),"south",Zl(e,{bottom:3}),eg)},pg=function(e,t,n){return Fl(rg(e,t),ag(e,t),n.insetEast(),Yl(),"east",Zl(e,{right:0}),eg)},mg=function(e,t,n){return Fl(tg(e),ag(e,t),n.insetWest(),Kl(),"west",Zl(e,{left:1}),eg)},hg=function(e){switch(e){case"north":return dg;case"northeast":return cg;case"northwest":return sg;case"south":return fg;case"southeast":return ug;case"southwest":return lg;case"east":return pg;case"west":return mg}},gg=function(e,t,n,r,o){return Zu(r).map(hg).getOr(dg)(e,t,n,r,o)},vg=function(e){switch(e){case"north":return fg;case"northeast":return ug;case"northwest":return lg;case"south":return dg;case"southeast":return cg;case"southwest":return sg;case"east":return mg;case"west":return pg}},bg=function(e,t,n,r,o){return Zu(r).map(vg).getOr(dg)(e,t,n,r,o)},yg=tinymce.util.Tools.resolve("tinymce.util.Delay"),wg=zf({name:"Button",factory:function(e){var t=Mh(e.action),n=e.dom.tag,r=function(t){return Fe(e.dom,"attributes").bind((function(e){return Fe(e,t)}))};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:zd(e.buttonBehaviours,[gh.config({}),ih.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map((function(e){return{role:e}})).getOr({});return _({type:e},t)}return{role:r("role").getOr("button")}}()},eventOrder:e.eventOrder}},configFields:[Kt("uid",void 0),Dt("dom"),Kt("components",[]),Pd("buttonBehaviours",[gh,ih]),Vt("action"),Vt("role"),Kt("eventOrder",{})]}),xg=function(e){var t=function(e){return void 0!==e.uid}(e)&&He(e,"uid")?e.uid:xi("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOptional()},asSpec:function(){return _(_({},e),{uid:t})}}},Cg=tinymce.util.Tools.resolve("tinymce.util.I18n"),kg={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Sg="temporary-placeholder",_g=function(e){return function(){return Fe(e,Sg).getOr("!not found!")}},Og=function(e,t){var n,r,o=e.toLowerCase();if(Cg.isRtl()){var i=pn(n=o,r="-rtl")?n:function(e,t){return e+t}(n,r);return Ve(t,i)?i:o}return o},Tg=function(e,t){return Fe(t,Og(e,t))},Eg=function(e,t){var n=t();return Tg(e,n).getOrThunk(_g(n))},Ag=function(){return dh("add-focusable",[go((function(e){fl(e.element,"svg").each((function(e){return ri(e,"focusable","false")}))}))])},Mg=function(e,t,n,r){var o,i,a=function(e){return!!Cg.isRtl()&&Ve(kg,e)}(t)?["tox-icon--flip"]:[],l=Fe(n,Og(t,n)).or(r).getOrThunk(_g(n));return{dom:{tag:e.tag,attributes:null!==(o=e.attributes)&&void 0!==o?o:{},classes:e.classes.concat(a),innerHtml:l},behaviours:_u(T(T([],null!==(i=e.behaviours)&&void 0!==i?i:[]),[Ag()]))}},Dg=function(e,t,n,r){return void 0===r&&(r=B.none()),Mg(t,e,n(),r)},Ng={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Pg=zf({name:"Notification",factory:function(e){var t,n,r,o,i,a=xg({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:_u([ch.config({})])}),l=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},u=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},s=xg({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:_u([ch.config({})])}),c={updateProgress:function(e,t){e.getSystem().isConnected()&&s.getOpt(e).each((function(e){ch.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(t)]},u(t)])}))},updateText:function(e,t){if(e.getSystem().isConnected()){var n=a.get(e);ch.set(n,[Ea(t)])}}},d=J([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return B.from(Ng[e])})).toArray()]),f=xg(wg.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Dg("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:function(t){e.onAction(t)}})),p=[(t=d,n={tag:"div",classes:["tox-notification__icon"]},r=e.iconProvider,o=r(),i=X(t,(function(e){return Ve(o,Og(e,o))})),Mg(n,i.getOr(Sg),o,B.none())),{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:_u([ch.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:_u([gh.config({}),dh("notification-events",[lo(mr(),(function(e){f.getOpt(e).each(gh.focus)}))])]),components:p.concat(e.progress?[s.asSpec()]:[]).concat(e.closeButton?[f.asSpec()]:[]),apis:c}},configFields:[Vt("level"),Dt("progress"),Dt("icon"),Dt("onAction"),Dt("text"),Dt("iconProvider"),Dt("translationProvider"),Jt("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function zg(e,t,n){var r=t.backstage.shared;return{open:function(e,t){var o=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),i=function(){t(),Qh.hide(l)},a=Da(Pg.sketch({text:e.text,level:V(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:B.from(e.icon),closeButton:!o,onAction:i,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),l=Da(Qh.sketch(_({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{}},r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(l),e.timeout>0&&yg.setTimeout((function(){i()}),e.timeout),{close:i,moveTo:function(e,t){Qh.showAt(l,Na(a),{anchor:{type:"makeshift",x:e,y:t}})},moveRel:function(e,t){if("banner"!==t){var n=function(e){switch(e){case"bc-bc":return fg;case"tc-tc":return dg;case"tc-bc":return su;case"bc-tc":default:return cu}}(t),o={type:"node",root:ia(),node:B.some(on.fromDom(e)),layouts:{onRtl:function(){return[n]},onLtr:function(){return[n]}}};Qh.showAt(l,Na(a),{anchor:o})}else Qh.showAt(l,Na(a),{anchor:r.anchors.banner()})},text:function(e){Pg.updateText(a,e)},settings:e,getEl:function(){return a.element.dom},progressBar:{value:function(e){Pg.updateProgress(a,e)}}}},close:function(e){e.close()},reposition:function(e){!function(e){W(e,(function(e){return e.moveTo(0,0)}))}(e),function(e){e.length>0&&(le(e).each((function(e){return e.moveRel(null,"banner")})),W(e,(function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")})))}(e)},getArgs:function(e){return e.settings}}}var Bg,Rg,Ig=function(e,t){var n=null,r=function(){a(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r(),n=setTimeout((function(){n=null,e.apply(null,o)}),t)}}},Lg=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Fg=function(e,t,n,r,o){var i=Lg(e,(function(t){return function(e,t){return e.isBlock(t)||V(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}(e,t)}));return B.from(i.backwards(t,n,r,o))},Vg=function(e,t){return Hg(on.fromDom(e.selection.getNode())).getOrThunk((function(){var n,r=on.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return Go(r,on.fromDom(t.extractContents())),t.insertNode(r.dom),No(r).each((function(e){return e.dom.normalize()})),(n=r,lc(n,ac)).map((function(t){e.selection.setCursorLocation(t.dom,function(e){return"img"===Co(e)?1:oc(e).fold((function(){return zo(e).length}),(function(e){return e.length}))}(t))})),r}))},Hg=function(e){return ml(e,"[data-mce-autocompleter]")},jg=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},$g=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},Ug=function(e,t){return e.substring(t.length)},Wg=function(e,t,n,r){if(void 0===r&&(r=0),!(o=t).collapsed||3!==o.startContainer.nodeType)return B.none();var o,i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Fg(e,t.startContainer,t.startOffset,(function(e,t,r){return function(e,t,n){var r;for(r=t-1;r>=0;r--){var o=e.charAt(r);if($g(o))return B.none();if(o===n)break}return B.some(r)}(r,t,n).getOr(t)}),i).bind((function(e){var o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return B.none();var i=jg(o);return 0!==i.lastIndexOf(n)||Ug(i,n).length<r?B.none():B.some({text:Ug(i,n),range:o,triggerChar:n})}))},qg=function(e,t,n,r){return void 0===r&&(r=0),Hg(on.fromDom(t.startContainer)).fold((function(){return Wg(e,t,n,r)}),(function(t){var r=e.createRng();r.selectNode(t.dom);var o=jg(r);return B.some({range:r,text:Ug(o,n),triggerChar:n})}))},Kg=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){Qr(e,gr(),{raw:t})};t.on("keydown",(function(t){var r=function(){return e.getView().bind(cp.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(eo),t.preventDefault()):40===t.which?(r().fold((function(){e.getView().each(cp.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&Hg(on.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},Yg=tinymce.util.Tools.resolve("tinymce.util.Promise"),Gg=function(e,t){return{container:e,offset:t}},Xg=function(e){if(function(e){return 3===e.nodeType}(e))return Gg(e,e.data.length);var t=e.childNodes;return t.length>0?Xg(t[t.length-1]):Gg(e,t.length)},Zg=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Zg(n[t],0):n.length>0&&function(e){return 1===e.nodeType}(e)&&n.length===t?Xg(n[n.length-1]):Gg(e,t)},Jg=function(e){return function(t){var n=Zg(t.startContainer,t.startOffset);return!function(e,t){return Fg(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!$g(t)})).isSome()}(e,n)}},Qg=function(e,t){var n=t(),r=e.selection.getRng();return function(e,t,n){return ce(n.triggerChars,(function(n){return qg(e,t,n)}))}(e.dom,r,n).bind((function(n){return ev(e,t,n)}))},ev=function(e,t,n,r){void 0===r&&(r={});var o=t(),i=e.selection.getRng().startContainer.nodeValue,a=K(o.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Jg(e.dom)}))(n.range,i,n.text)}));if(0===a.length)return B.none();var l=Yg.all(U(a,(function(e){return e.fetch(n.text,e.maxResults,r).then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})));return B.some({lookupData:l,context:n})},tv=at([zt("type"),$t("text")]),nv=at([Kt("type","autocompleteitem"),Kt("active",!1),Kt("disabled",!1),Kt("meta",{}),zt("value"),$t("text"),$t("icon")]),rv=at([zt("type"),zt("ch"),Gt("minChars",1),Kt("columns",1),Gt("maxResults",10),Ut("matches"),Rt("fetch"),Rt("onAction"),en("highlightOn",[],mt)]),ov=[Jt("disabled",!1),$t("tooltip"),$t("icon"),$t("text"),Qt("onSetup",(function(){return m}))],iv=at([zt("type"),Rt("onAction")].concat(ov)),av=function(e){return kt("toolbarbutton",iv,e)},lv=[Jt("active",!1)].concat(ov),uv=at(lv.concat([zt("type"),Rt("onAction")])),sv=function(e){return kt("ToggleButton",uv,e)},cv=[Qt("predicate",C),Zt("scope","node",["node","editor"]),Zt("position","selection",["node","selection","line"])],dv=ov.concat([Kt("type","contextformbutton"),Kt("primary",!1),Rt("onAction"),At("original",v)]),fv=lv.concat([Kt("type","contextformbutton"),Kt("primary",!1),Rt("onAction"),At("original",v)]),pv=ov.concat([Kt("type","contextformbutton")]),mv=lv.concat([Kt("type","contextformtogglebutton")]),hv=Tt("type",{contextformbutton:dv,contextformtogglebutton:fv}),gv=at([Kt("type","contextform"),Qt("initValue",g("")),$t("label"),Ft("commands",hv),Ht("launch",Tt("type",{contextformbutton:pv,contextformtogglebutton:mv}))].concat(cv)),vv=at([Kt("type","contexttoolbar"),zt("items")].concat(cv)),bv=function(e){var t,n,r=e.ui.registry.getAll().popups,o=Pe(r,(function(e){return(t=e,kt("Autocompleter",rv,t)).fold((function(e){throw new Error(Ot(e))}),v);var t})),i=(t=Re(o,(function(e){return e.ch})),n={},W(t,(function(e){n[e]={}})),Me(n)),a=Le(o);return{dataset:o,triggerChars:i,lookupByChar:function(e){return K(a,(function(t){return t.ch===e}))}}};(Rg=Bg||(Bg={}))[Rg.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",Rg[Rg.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var yv,wv,xv=Bg,Cv="tox-menu-nav__js",kv="tox-collection__item",Sv="tox-swatch",_v={normal:Cv,color:Sv},Ov="tox-collection__item--enabled",Tv="tox-collection__item-icon",Ev="tox-collection__item-label",Av="tox-collection__item-caret",Mv="tox-collection__item--active",Dv="tox-collection__item-container",Nv="tox-collection__item-container--row",Pv=function(e){return Fe(_v,e).getOr(Cv)},zv=function(e){return"color"===e?"tox-swatches":"tox-menu"},Bv=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:zv(e),tieredMenu:"tox-tiered-menu"}},Rv=function(e){var t=Bv(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Pv(e)}},Iv=function(e,t,n){var r=Bv(n);return{tag:"div",classes:J([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},Lv=[qh.parts.items({})],Fv=function(e,t,n){var r=Bv(n);return{dom:{tag:"div",classes:J([[r.tieredMenu]])},markers:Rv(n)}},Vv=function(e,t){return function(n){var r=$(n,t);return U(r,(function(t){return{dom:e,components:t}}))}},Hv=function(e,t){var n=[],r=[];return W(e,(function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],Ve(e.dom,"innerHtml")&&r.push(e)):r.push(e)})),r.length>0&&n.push(r),U(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},jv=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[qh.parts.items({preprocess:function(n){return"auto"!==e&&e>1?Vv({tag:"div",classes:["tox-collection__group"]},e)(n):Hv(n,(function(e,n){return"separator"===t[n].type}))}})]}},$v=function(e){return H(e,(function(e){return"icon"in e&&void 0!==e.icon}))},Uv=function(e){return console.error(Ot(e)),console.log(e),B.none()},Wv=function(e,t,n,r,o){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[qh.parts.items({preprocess:function(e){return Hv(e,(function(e,t){return"separator"===i[t].type}))}})]});return{value:e,dom:a.dom,components:a.components,items:n}},qv=function(e,t,n,r,o){var i;return"color"===o?{value:e,dom:(i=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[qh.parts.items({preprocess:"auto"!==e?Vv({tag:"div",classes:["tox-swatches__row"]},e):v})]}]}}(r)).dom,components:i.components,items:n}:"normal"===o&&"auto"===r?{value:e,dom:(i=jv(r,n)).dom,components:i.components,items:n}:"normal"===o&&1===r?{value:e,dom:(i=jv(1,n)).dom,components:i.components,items:n}:"normal"===o?{value:e,dom:(i=jv(r,n)).dom,components:i.components,items:n}:"listpreview"===o&&"auto"!==r?{value:e,dom:(i=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[qh.parts.items({preprocess:Vv({tag:"div",classes:["tox-collection__group"]},e)})]}}(r)).dom,components:i.components,items:n}:{value:e,dom:Iv(t,r,o),components:Lv,items:n}},Kv=[zt("type"),zt("src"),$t("alt"),en("classes",[],mt)],Yv=at(Kv),Gv=[zt("type"),zt("text"),$t("name"),en("classes",["tox-collection__item-label"],mt)],Xv=at(Gv),Zv=ot((function(){return wt("type",{cardimage:Yv,cardtext:Xv,cardcontainer:Jv})})),Jv=at([zt("type"),Xt("direction","horizontal"),Xt("align","left"),Xt("valign","middle"),Ft("items",Zv)]),Qv=[Jt("disabled",!1),$t("text"),$t("shortcut"),Et("value","value",qe((function(){return mi("menuitem-value")})),dt()),Kt("meta",{})],eb=at([zt("type"),$t("label"),Ft("items",Zv),Qt("onSetup",(function(){return m})),Qt("onAction",m)].concat(Qv)),tb=at([zt("type"),Jt("active",!1),$t("icon")].concat(Qv)),nb=[zt("type"),zt("fancytype"),Qt("onAction",m)],rb=[Kt("initData",{})].concat(nb),ob=[tn("initData",{},[Jt("allowCustomColors",!0),Wt("colors",dt())])].concat(nb),ib=Tt("fancytype",{inserttable:rb,colorswatch:ob}),ab=at([zt("type"),Qt("onSetup",(function(){return m})),Qt("onAction",m),$t("icon")].concat(Qv)),lb=at([zt("type"),Rt("getSubmenuItems"),Qt("onSetup",(function(){return m})),$t("icon")].concat(Qv)),ub=at([zt("type"),$t("icon"),Jt("active",!1),Qt("onSetup",(function(){return m})),Rt("onAction")].concat(Qv)),sb=function(e,t,n){var r=uc(e.element,"."+n);if(r.length>0){var o=Z(r,(function(e){var n=e.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>t})).getOr(r.length);return B.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return B.none()},cb=function(e,t){return _u([dh(e,t)])},db=function(e){return cb(mi("unnamed-events"),e)},fb=mi("tooltip.exclusive"),pb=mi("tooltip.show"),mb=mi("tooltip.hide"),hb=function(e,t,n){e.getSystem().broadcastOn([fb],{})},gb=Object.freeze({__proto__:null,hideAllExclusive:hb,setComponents:function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&ch.set(e,r)}))}}),vb=Object.freeze({__proto__:null,events:function(e,t){var n=function(n){t.getTooltip().each((function(r){Gc(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()};return oo(J([[lo(pb,(function(n){t.resetTimer((function(){!function(n){if(!t.isShowing()){hb(n);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:oo("normal"===e.mode?[lo(pr(),(function(e){Jr(n,pb)})),lo(dr(),(function(e){Jr(n,mb)}))]:[]),behaviours:_u([ch.config({})])});t.setTooltip(o),qc(r,o),e.onShow(n,o),Hc.position(r,o,{anchor:e.anchor(n)})}}(n)}),e.delay)})),lo(mb,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),lo(Mr(),(function(e,t){var r=t;r.universal||V(r.channels,fb)&&n(e)})),vo((function(e){n(e)}))],"normal"===e.mode?[lo(mr(),(function(e){Jr(e,pb)})),lo(Er(),(function(e){Jr(e,mb)})),lo(pr(),(function(e){Jr(e,pb)})),lo(dr(),(function(e){Jr(e,mb)}))]:[lo(Xr(),(function(e,t){Jr(e,pb)})),lo(Zr(),(function(e){Jr(e,mb)}))]]))}}),bb=[Dt("lazySink"),Dt("tooltipDom"),Kt("exclusive",!0),Kt("tooltipComponents",[]),Kt("delay",300),Zt("mode","normal",["normal","follow-highlight"]),Kt("anchor",(function(e){return{type:"hotspot",hotspot:e,layouts:{onLtr:g([cu,su,iu,lu,au,uu]),onRtl:g([cu,su,iu,lu,au,uu])}}})),Nl("onHide"),Nl("onShow")],yb=Tu({fields:bb,name:"tooltipping",active:vb,state:Object.freeze({__proto__:null,init:function(){var e=ns(),t=ns(),n=function(){e.on(clearTimeout)},r=g("not-implemented");return Di({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:function(t,r){n(),e.set(setTimeout(t,r))},readState:r})}}),apis:gb}),wb=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),xb=tinymce.util.Tools.resolve("tinymce.EditorManager"),Cb=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},kb=function(e){return e.getParam("width",wb.DOM.getStyle(e.getElement(),"width"))},Sb=function(e){return B.from(e.getParam("min_width")).filter(f)},_b=function(e){return B.from(e.getParam("min_height")).filter(f)},Ob=function(e){return B.from(e.getParam("max_width")).filter(f)},Tb=function(e){return B.from(e.getParam("max_height")).filter(f)},Eb=function(e){return!1!==e.getParam("menubar",!0,"boolean")},Ab=function(e){var t=e.getParam("toolbar",!0),n=!0===t,o=r(t),a=i(t)&&t.length>0;return!Db(e)&&(a||o||n)},Mb=function(e){var t=j(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")})),n=K(t,(function(e){return"string"==typeof e}));return n.length>0?B.some(n):B.none()},Db=function(e){return Mb(e).fold((function(){return e.getParam("toolbar",[],"string[]").length>0}),k)};(wv=yv||(yv={})).default="wrap",wv.floating="floating",wv.sliding="sliding",wv.scrolling="scrolling";var Nb,Pb,zb=function(e){return e.getParam("toolbar_mode","","string")};(Pb=Nb||(Nb={})).auto="auto",Pb.top="top",Pb.bottom="bottom";var Bb,Rb,Ib=function(e){return e.getParam("toolbar_location",Nb.auto,"string")},Lb=function(e){return Ib(e)===Nb.bottom},Fb=function(e){if(!e.inline)return B.none();var t=function(e){return e.getParam("fixed_toolbar_container","","string")}(e);if(t.length>0)return pl(ia(),t);var n=function(e){return e.getParam("fixed_toolbar_container_target")}(e);return c(n)?B.some(on.fromDom(n)):B.none()},Vb=function(e){return e.inline&&Fb(e).isSome()},Hb=function(e){return Fb(e).getOrThunk((function(){return jo(Ho(on.fromDom(e.getElement())))}))},jb=function(e){return e.inline&&!Eb(e)&&!Ab(e)&&!Db(e)},$b=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!Vb(e)&&!jb(e)},Ub=function(e){var t=e.getParam("menu");return t?Pe(t,(function(e){return _(_({},e),{items:e.items})})):{}},Wb=function(e){return e.getParam("menubar")},qb=function(e){return e.getParam("anchor_top","#top")},Kb=function(e){return e.getParam("anchor_bottom","#bottom")},Yb="silver.readonly",Gb=at([(Bb="readonly",Nt(Bb,ht))]),Xb=function(e,t){var n=e.outerContainer.element;t&&(e.mothership.broadcastOn([cd()],{target:n}),e.uiMothership.broadcastOn([cd()],{target:n})),e.mothership.broadcastOn([Yb],{readonly:t}),e.uiMothership.broadcastOn([Yb],{readonly:t})},Zb=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&Xb(t,!0)})),e.on("SwitchMode",(function(){return Xb(t,e.mode.isReadOnly())})),function(e){return e.getParam("readonly",!1,"boolean")}(e)&&e.setMode("readonly")},Jb=function(){var e;return Du.config({channels:(e={},e[Yb]={schema:Gb,onReceive:function(e,t){Qf.set(e,t.readonly)}},e)})},Qb=function(e){return Qf.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},ey=function(e){return Qf.config({disabled:e})},ty=function(e){return Qf.config({disabled:e,disableClass:"tox-tbtn--disabled"})},ny=function(e){return Qf.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},ry=function(e,t){var n=e.getApi(t);return function(e){e(n)}},oy=function(e,t){return go((function(n){ry(e,n)((function(n){var r=e.onSetup(n);d(r)&&t.set(r)}))}))},iy=function(e,t){return vo((function(n){return ry(e,n)(t.get())}))},ay=function(e,t){return yo((function(n,r){ry(e,n)(e.onAction),e.triggersSubmenu||t!==xv.CLOSE_ON_EXECUTE||(Jr(n,Br()),r.stop())}))},ly=((Rb={})[Dr()]=["disabling","alloy.base.behaviour","toggling","item-events"],Rb),uy=ea,sy=function(e,t,n,r){var o=nn(m);return{type:"item",dom:t.dom,components:uy(t.optComponents),data:e.data,eventOrder:ly,hasSubmenu:e.triggersSubmenu,itemBehaviours:_u([dh("item-events",[ay(e,n),oy(e,o),iy(e,o)]),Qb((function(){return e.disabled||r.isDisabled()})),Jb(),ch.config({})].concat(e.itemBehaviours))}},cy=function(e){return{value:e.value,meta:_({text:e.text.getOr("")},e.meta)}},dy=tinymce.util.Tools.resolve("tinymce.Env"),fy=function(e){var t=dy.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=e.split("+"),r=U(n,(function(e){var n=e.toLowerCase().trim();return Ve(t,n)?t[n]:e}));return dy.mac?r.join(""):r.join("+")},py=function(e,t,n){return void 0===n&&(n=[Tv]),Dg(e,{tag:"div",classes:n},t)},my=function(e){return{dom:{tag:"div",classes:[Ev]},components:[Ea(Cg.translate(e))]}},hy=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},gy=function(e,t){return{dom:{tag:"div",classes:[Ev]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ea(Cg.translate(t))]}]}},vy=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:fy(e)}}},by=function(e){return py("checkmark",e,["tox-collection__item-checkmark"])},yy=function(e,t,n){var r,o,i=e.ariaLabel,a=e.value,l=e.iconContent.map((function(e){return function(e,t,n){var r=t();return Tg(e,r).or(n).getOrThunk(_g(r))}(e,t.icons,n)}));return{dom:(r=l.getOr(""),o={tag:"div",attributes:i.map((function(e){return{title:t.translate(e)}})).getOr({}),classes:["tox-swatch"]},_(_({},o),"custom"===a?{tag:"button",classes:T(T([],o.classes),["tox-swatches__picker-btn"]),innerHtml:r}:"remove"===a?{classes:T(T([],o.classes),["tox-swatch--remove"]),innerHtml:r}:{attributes:_(_({},o.attributes),{"data-mce-color":a}),styles:{"background-color":a}})),optComponents:[]}},wy=function(e){var t=e.map((function(e){return{attributes:{title:Cg.translate(e)}}})).getOr({});return _({tag:"div",classes:[Cv,kv]},t)},xy=function(e,t,n,r){return void 0===r&&(r=B.none()),"color"===e.presets?yy(e,t,r):function(e,t,n,r){var o={tag:"div",classes:[Tv]},i=n?e.iconContent.map((function(e){return Dg(e,o,t.icons,r)})).orThunk((function(){return B.some({dom:o})})):B.none(),a=e.checkMark,l=B.from(e.meta).fold((function(){return my}),(function(e){return Ve(e,"style")?y(gy,e.style):my})),u=e.htmlContent.fold((function(){return e.textContent.map(l)}),(function(e){return B.some(hy(e,[Ev]))}));return{dom:wy(e.ariaLabel),optComponents:[i,u,e.shortcutContent.map(vy),a,e.caret]}}(e,t,n,r)},Cy=function(e,t){return Fe(e,"tooltipWorker").map((function(e){return[yb.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{type:"submenu",item:e,overrides:{maxHeightFunction:vs}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){yb.setComponents(t,[Aa({element:on.fromDom(e)})])}))}})]})).getOr([])},ky=function(e,t){var n=function(e){return wb.DOM.encode(e)}(Cg.translate(e));if(t.length>0){var r=new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),"gi");return n.replace(r,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return n},Sy=function(e,t){return U(e,(function(e){switch(e.type){case"cardcontainer":return a=e,l=Sy(e.items,t),u="vertical"===a.direction?"tox-collection__item-container--column":Nv,s="left"===a.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",{dom:{tag:"div",classes:[Dv,u,s,function(){switch(a.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:l};case"cardimage":return r=e.src,o=e.classes,i=e.alt,{dom:{tag:"img",classes:o,attributes:{src:r,alt:i.getOr("")}}};case"cardtext":var n=e.name.exists((function(e){return V(t.cardText.highlightOn,e)}))?B.from(t.cardText.matchText).getOr(""):"";return hy(ky(e.text,n),e.classes)}var r,o,i,a,l,u,s}))},_y=pf(Fh(),Vh()),Oy=function(e){return{value:e}},Ty=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ey=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ay=function(e){return Ty.test(e)||Ey.test(e)},My=function(e){return(t=e,n="#",fn(t,n)?function(e,t){return e.substring(t)}(t,n.length):t).toUpperCase();var t,n},Dy=function(e){var t=function(e){return{value:e.value.replace(Ty,(function(e,t,n,r){return t+t+n+n+r+r}))}}(e),n=Ey.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},Ny=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Py=function(e){var t=Ny(e.red)+Ny(e.green)+Ny(e.blue);return Oy(t)},zy=Math.min,By=Math.max,Ry=Math.round,Iy=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Ly=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Fy=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},Vy=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},Hy=function(e){var t,n,r,o=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=By(0,zy(i,1)),a=By(0,zy(a,1)),0===i)return t=n=r=Ry(255*a),Fy(t,n,r,1);var l=o/60,u=a*i,s=u*(1-Math.abs(l%2-1)),c=a-u;switch(Math.floor(l)){case 0:t=u,n=s,r=0;break;case 1:t=s,n=u,r=0;break;case 2:t=0,n=u,r=s;break;case 3:t=0,n=s,r=u;break;case 4:t=s,n=0,r=u;break;case 5:t=u,n=0,r=s;break;default:t=n=r=0}return t=Ry(255*(t+c)),n=Ry(255*(n+c)),r=Ry(255*(r+c)),Fy(t,n,r,1)},jy=function(e){var t=Dy(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return Fy(n,r,o,1)},$y=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),l=parseFloat(r);return Fy(o,i,a,l)},Uy=function(e){if("transparent"===e)return B.some(Fy(0,0,0,0));var t=Iy.exec(e);if(null!==t)return B.some($y(t[1],t[2],t[3],"1"));var n=Ly.exec(e);return null!==n?B.some($y(n[1],n[2],n[3],n[4])):B.none()},Wy=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},qy=Fy(255,0,0,1),Ky=function(e,t){return e.fire("ResizeContent",t)},Yy=function(e,t,n){return{hue:e,saturation:t,value:n}},Gy=function(e){var t,n=0,r=0,o=e.red/255,i=e.green/255,a=e.blue/255,l=Math.min(o,Math.min(i,a)),u=Math.max(o,Math.max(i,a));return l===u?Yy(0,0,100*(r=l)):(n=60*((n=o===l?3:a===l?1:5)-(o===l?i-a:a===l?o-i:a-o)/(u-l)),t=(u-l)/u,r=u,Yy(Math.round(n),Math.round(100*t),Math.round(100*r)))},Xy=function(e){return Py(Hy(e))},Zy=function(e){return(t=e,Ay(t)?B.some({value:My(t)}):B.none()).orThunk((function(){return Uy(e).map(Py)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1,t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],a=r[2],l=r[3];return Py(Fy(o,i,a,l))}));var t},Jy=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Qy="tinymce-custom-colors";var ew,tw,nw="choiceitem",rw=[{type:nw,text:"Light Green",value:"#BFEDD2"},{type:nw,text:"Light Yellow",value:"#FBEEB8"},{type:nw,text:"Light Red",value:"#F8CAC6"},{type:nw,text:"Light Purple",value:"#ECCAFA"},{type:nw,text:"Light Blue",value:"#C2E0F4"},{type:nw,text:"Green",value:"#2DC26B"},{type:nw,text:"Yellow",value:"#F1C40F"},{type:nw,text:"Red",value:"#E03E2D"},{type:nw,text:"Purple",value:"#B96AD9"},{type:nw,text:"Blue",value:"#3598DB"},{type:nw,text:"Dark Turquoise",value:"#169179"},{type:nw,text:"Orange",value:"#E67E23"},{type:nw,text:"Dark Red",value:"#BA372A"},{type:nw,text:"Dark Purple",value:"#843FA1"},{type:nw,text:"Dark Blue",value:"#236FA1"},{type:nw,text:"Light Gray",value:"#ECF0F1"},{type:nw,text:"Medium Gray",value:"#CED4D9"},{type:nw,text:"Gray",value:"#95A5A6"},{type:nw,text:"Dark Gray",value:"#7E8C8D"},{type:nw,text:"Navy Blue",value:"#34495E"},{type:nw,text:"Black",value:"#000000"},{type:nw,text:"White",value:"#ffffff"}],ow=function(e){void 0===e&&(e=10);var t,n=Jy.getItem(Qy),o=r(n)?JSON.parse(n):[],i=e-(t=o).length<0?t.slice(0,e):t,a=function(e){i.splice(e,1)};return{add:function(t){(function(e,t){var n=F(e,t);return-1===n?B.none():B.some(n)})(i,t).each(a),i.unshift(t),i.length>e&&i.pop(),Jy.setItem(Qy,JSON.stringify(i))},state:function(){return i.slice(0)}}}(10),iw=function(e){return!1!==e.getParam("custom_colors")},aw=function(e){var t=function(e){return e.getParam("color_map")}(e);return void 0!==t?function(e){for(var t=[],n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+Zy(e[n]).value,type:"choiceitem"});return t}(t):rw},lw=function(e){ow.add(e)},uw=function(e){return function(e,t){return e.getParam("color_cols",t,"number")}(e,function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))}(aw(e).length))},sw=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},cw=function(e,t,n,r){"custom"===n?gw(e)((function(n){n.each((function(n){lw(n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),"#000000"):"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},dw=function(e,t){return e.concat(U(ow.state(),(function(e){return{type:nw,text:e,value:e}})).concat(sw(t)))},fw=function(e,t){return function(n){n(dw(e,t))}},pw=function(e,t,n){var r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(r,n)},mw=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return B.from(function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)})),n}(e,n)).bind((function(e){return Uy(e).map((function(e){var n=Py(e).value;return dn(t.toLowerCase(),n)}))})).getOr(!1)},columns:uw(e),fetch:fw(aw(e),iw(e)),onAction:function(t){null!==o.get()&&cw(e,n,o.get(),m)},onItemAction:function(r,i){cw(e,n,i,(function(n){o.set(n),function(e,t){e.fire("TextColorChange",t)}(e,{name:t,color:n})}))},onSetup:function(n){null!==o.get()&&pw(n,t,o.get());var r=function(e){e.name===t&&pw(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},hw=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){cw(e,n,t.value,m)}}]}})},gw=function(e){return function(t,n){var r=!1,o={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:function(e,t){"hex-valid"===t.name&&(r=t.value)},onSubmit:function(n){var o=n.getData().colorpicker;r?(t(B.from(o)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",o]))},onClose:m,onCancel:function(){t(B.none())}})}},vw=function(e,t,n,r,o,i,a,l){var u=$v(t),s=bw(t,n,r,"color"!==o?"normal":"color",i,a,l);return qv(e,u,s,r,o)},bw=function(e,t,n,r,o,i,a){return ea(U(e,(function(l){return"choiceitem"===l.type?(u=l,kt("choicemenuitem",tb,u)).fold(Uv,(function(u){return B.some(function(e,t,n,r,o,i,a,l){void 0===l&&(l=!0);var u=xy({presets:n,textContent:t?e.text:B.none(),htmlContent:B.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:B.none(),checkMark:t?B.some(by(a.icons)):B.none(),caret:B.none(),value:e.value},a,l);return $e(sy({data:cy(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Eh.set(e,t)},isActive:function(){return Eh.isOn(e)},isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)}}},onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),m},triggersSubmenu:!1,itemBehaviours:[]},u,i,a),{toggling:{toggleClass:Ov,toggleOnExecute:!1,selected:e.active}})}(u,1===n,r,t,i(l.value),o,a,$v(e)))})):B.none();var u})))},yw=function(e,t){var n=Rv(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},ww=function(e,t){var n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((function(){return dw(t.colorinput.getColors(),n)}),(function(e){return e.concat(sw(n))}))},xw=mi("cell-over"),Cw=mi("cell-execute"),kw=function(e,t,n){var r,o=function(n){return Qr(n,Cw,{row:e,col:t})},i=function(e,t){t.stop(),o(e)};return Da({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:_u([dh("insert-table-picker-cell",[lo(pr(),gh.focus),lo(Dr(),o),lo(wr(),i),lo(Pr(),i)]),Eh.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),gh.config({onFocus:function(n){return Qr(n,xw,{row:e,col:t})}})])})},Sw=function(e){return Q(e,(function(e){return U(e,Na)}))},_w=function(e,t){return Ea(t+1+"x"+(e+1))},Ow={inserttable:function(e){var t=mi("size-label"),n=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(kw(o,a,e));r.push(i)}return r}(t,10,10),r=xg({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[Ea("0x0")],behaviours:_u([ch.config({})])});return{type:"widget",data:{value:mi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_y.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Sw(n).concat(r.asSpec()),behaviours:_u([dh("insert-table-picker",[fo(xw,(function(e,t,o){var i=o.event.row,a=o.event.col;!function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Eh.set(e[i][a],i<=t&&a<=n)}(n,i,a,10,10),ch.set(r.get(e),[_w(i,a)])})),fo(Cw,(function(t,n,r){e.onAction({numRows:r.event.row+1,numColumns:r.event.col+1}),Jr(t,Br())}))]),ih.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){var n=ww(e,t),r=t.colorinput.getColorCols(),o="color",i=vw(mi("menu-value"),n,(function(t){e.onAction({value:t})}),r,o,xv.CLOSE_ON_EXECUTE,C,t.shared.providers),a=_(_({},i),{markers:Rv(o),movement:yw(r,o)});return{type:"widget",data:{value:mi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_y.widget(qh.sketch(a))]}}},Tw=function(e,t,n,r,o,i,a,l){void 0===l&&(l=!0);var u=xy({presets:r,textContent:B.none(),htmlContent:n?e.text.map((function(e){return ky(e,t)})):B.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:e.value},a.providers,l,e.icon);return sy({data:cy(e),disabled:e.disabled,getApi:g({}),onAction:function(t){return o(e.value,e.meta)},onSetup:g(m),triggersSubmenu:!1,itemBehaviours:Cy(e.meta,a)},u,i,a.providers)},Ew=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:_({tag:"div",classes:[kv,"tox-collection__group-heading"]},t),components:[]}},Aw=function(e,t,n,r){void 0===r&&(r=!0);var o=xy({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,caret:B.none(),checkMark:B.none(),shortcutContent:e.shortcut},n,r);return sy({data:cy(e),getApi:function(e){return{isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n)},Mw=function(e,t,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var i,a=o?(i=n.icons,py("chevron-down",i,[Av])):function(e){return py("chevron-right",e,[Av])}(n.icons),l=xy({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,caret:B.some(a),checkMark:B.none(),shortcutContent:e.shortcut},n,r);return sy({data:cy(e),getApi:function(e){return{isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)}}},disabled:e.disabled,onAction:m,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},l,t,n)},Dw=function(e,t,n,r){void 0===r&&(r=!0);var o=xy({iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,checkMark:B.some(by(n.icons)),caret:B.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return $e(sy({data:cy(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Eh.set(e,t)},isActive:function(){return Eh.isOn(e)},isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n),{toggling:{toggleClass:Ov,toggleOnExecute:!1,selected:e.active}})},Nw=function(e,t){return Fe(Ow,e.fancytype).map((function(n){return n(e,t)}))},Pw=function(e,t,n,r){var o={dom:wy(e.label),optComponents:[B.some({dom:{tag:"div",classes:[Dv,Nv]},components:Sy(e.items,r)})]};return sy({data:cy(_({text:B.none()},e)),disabled:e.disabled,getApi:function(e){return{isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){Qf.set(e,t),W(uc(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(Qf)&&Qf.set(e,t)}))}))}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(r.itemBehaviours).getOr([])},o,t,n.providers)};(tw=ew||(ew={}))[tw.ContentFocus=0]="ContentFocus",tw[tw.UiFocus=1]="UiFocus";var zw,Bw,Rw=function(e,t,n,r,o){var i,a=n.shared.providers,l=function(e){return o?_(_({},e),{shortcut:B.none(),icon:e.text.isSome()?B.none():e.icon}):e};switch(e.type){case"menuitem":return(i=e,kt("menuitem",ab,i)).fold(Uv,(function(e){return B.some(Aw(l(e),t,a,r))}));case"nestedmenuitem":return function(e){return kt("nestedmenuitem",lb,e)}(e).fold(Uv,(function(e){return B.some(Mw(l(e),t,a,r,o))}));case"togglemenuitem":return function(e){return kt("togglemenuitem",ub,e)}(e).fold(Uv,(function(e){return B.some(Dw(l(e),t,a,r))}));case"separator":return function(e){return kt("separatormenuitem",tv,e)}(e).fold(Uv,(function(e){return B.some(Ew(e))}));case"fancymenuitem":return function(e){return kt("fancymenuitem",ib,e)}(e).fold(Uv,(function(e){return Nw(l(e),n)}));default:return console.error("Unknown item in general menu",e),B.none()}},Iw=function(e,t,n,r,o,i,a){var l=1===r,u=!l||$v(e);return ea(U(e,(function(e){switch(e.type){case"separator":return(r=e,kt("Autocompleter.Separator",tv,r)).fold(Uv,(function(e){return B.some(Ew(e))}));case"cardmenuitem":return function(e){return kt("cardmenuitem",eb,e)}(e).fold(Uv,(function(e){return B.some(Pw(_(_({},e),{onAction:function(t){e.onAction(t),n(e.value,e.meta)}}),o,i,{itemBehaviours:Cy(e.meta,i),cardText:{matchText:t,highlightOn:a}}))}));case"autocompleteitem":default:return function(e){return kt("Autocompleter.Item",nv,e)}(e).fold(Uv,(function(e){return B.some(Tw(e,t,l,"normal",n,o,i,u))}))}var r})))},Lw=function(e,t,n,r,o){var i=$v(t),a=ea(U(t,(function(e){var t=function(e){return Rw(e,n,r,function(e){return o?!Ve(e,"text"):i}(e),o)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(_(_({},e),{disabled:!0})):t(e)})));return(o?Wv:qv)(e,i,a,1,"normal")},Fw=function(e){return Jh.singleData(e.value,e)},Vw=function(e,t){var n=ns(),r=nn(!1),o=Da(Qh.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:_u([dh("dismissAutocompleter",[lo(Ur(),(function(){return l()}))])]),lazySink:t.getSink})),i=function(){return n.get().isSome()},a=function(){i()&&Qh.hide(o)},l=function(){if(i()){var t=n.get().map((function(e){return e.element}));Hg(t.getOr(on.fromDom(e.selection.getNode()))).each(Qo),a(),n.clear(),r.set(!1)}},u=We((function(){return bv(e)})),s=function(t,n,r,i){t.matchLength=n.text.length;var a=ce(r,(function(e){return B.from(e.columns)})).getOr(1);Qh.showAt(o,qh.sketch(function(e,t,n,r){var o=n===ew.ContentFocus?Np():Dp(),i=yw(t,r),a=Rv(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===ew.ContentFocus,focusManager:o,menuBehaviours:db("auto"!==t?[]:[go((function(e,t){sb(e,4,a.item).each((function(t){var n=t.numColumns,r=t.numRows;ih.setGridSize(e,r,n)}))}))])}}(qv("autocompleter-value",!0,i,a,"normal"),a,ew.ContentFocus,"normal")),{anchor:{type:"node",root:on.fromDom(e.getBody()),node:B.from(t.element)}}),Qh.getContent(o).each(cp.highlightFirst)},c=function(o){(function(t){return n.get().map((function(n){return qg(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return ev(e,u,n,t)}))})).getOrThunk((function(){return Qg(e,u)}))})(o).fold(l,(function(o){!function(t){if(!i()){var o=Vg(e,t.range);n.set({triggerChar:t.triggerChar,element:o,matchLength:t.text.length}),r.set(!1)}}(o.context),o.lookupData.then((function(i){n.get().map((function(n){var u,d,f,p=o.context;if(n.triggerChar===p.triggerChar){var m=(u=p.triggerChar,f=ce(d=i,(function(e){return B.from(e.columns)})).getOr(1),Q(d,(function(n){var o=n.items;return Iw(o,n.matchText,(function(t,o){var i=e.selection.getRng();qg(e.dom,i,u).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(e){var i=e.range,u={hide:function(){l()},reload:function(e){a(),c(e)}};r.set(!0),n.onAction(u,i,t,o),r.set(!1)}))}),f,xv.BUBBLE_TO_SANDBOX,t,n.highlightOn)})));m.length>0?s(n,p,i,m):p.text.length-n.matchLength>=10?l():a()}}))}))}))},d={onKeypress:Ig((function(e){27!==e.which&&c()}),50),cancelIfNecessary:l,isMenuOpen:function(){return Qh.isOpen(o)},isActive:i,isProcessingAction:r.get,getView:function(){return Qh.getContent(o)}};!1===e.hasPlugin("rtc")&&Kg(d,e)},Hw=function(e,t,n){return ml(e,t,n).isSome()},jw=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},schedule:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n=setTimeout((function(){e.apply(null,r),n=null}),t)}}},$w=function(e){var t=e.raw;return void 0===t.touches||1!==t.touches.length?B.none():B.some(t.touches[0])},Uw=function(e){var t=ns(),n=nn(!1),r=jw((function(t){e.triggerEvent(zr(),t),n.set(!0)}),400),o=Gn([{key:ir(),value:function(e){return $w(e).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target};r.schedule(e),n.set(!1),t.set(i)})),B.none()}},{key:ar(),value:function(e){return r.cancel(),$w(e).each((function(e){t.on((function(n){(function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(e,n)&&t.clear()}))})),B.none()}},{key:lr(),value:function(o){r.cancel();return t.get().filter((function(e){return jn(e.target,o.target)})).map((function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(Pr(),o)}))}}]);return{fireIfReady:function(e,t){return Fe(o,t).bind((function(t){return t(e)}))}}},Ww=function(){return Fn().browser.isFirefox()},qw=it([Rt("triggerEvent"),Kt("stopBackspace",!0)]),Kw=function(e,t){var n=_t("Getting GUI events settings",qw,t),r=Uw(n),o=U(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return os(e,t,(function(e){r.fireIfReady(e,t).each((function(t){t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()}))})),i=ns(),a=os(e,"paste",(function(e){r.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((function(){n.triggerEvent(Ar(),e)}),0))})),l=os(e,"keydown",(function(e){n.triggerEvent("keydown",e)?e.kill():!0===n.stopBackspace&&function(e){return e.raw.which===dp[0]&&!V(["input","textarea"],Co(e.target))&&!Hw(e.target,'[contenteditable="true"]')}(e)&&e.prevent()})),u=function(e,t){return Ww()?is(e,"focus",t):os(e,"focusin",t)}(e,(function(e){n.triggerEvent("focusin",e)&&e.kill()})),s=ns(),c=function(e,t){return Ww()?is(e,"blur",t):os(e,"focusout",t)}(e,(function(e){n.triggerEvent("focusout",e)&&e.kill(),s.set(setTimeout((function(){n.triggerEvent(Er(),e)}),0))}));return{unbind:function(){W(o,(function(e){e.unbind()})),l.unbind(),u.unbind(),c.unbind(),a.unbind(),i.on(clearTimeout),s.on(clearTimeout)}}},Yw=function(e,t){var n=Fe(e,"target").getOr(t);return nn(n)},Gw=Wn([{stopped:[]},{resume:["element"]},{complete:[]}]),Xw=function(e,t,n,r,o,i){var a=e(t,r),l=function(e,t){var n=nn(!1),r=nn(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}}(n,o);return a.fold((function(){return i.logEventNoHandlers(t,r),Gw.complete()}),(function(e){var n=e.descHandler;return zi(n)(l),l.isStopped()?(i.logEventStopped(t,e.element,n.purpose),Gw.stopped()):l.isCut()?(i.logEventCut(t,e.element,n.purpose),Gw.complete()):No(e.element).fold((function(){return i.logNoParent(t,e.element,n.purpose),Gw.complete()}),(function(r){return i.logEventResponse(t,e.element,n.purpose),Gw.resume(r)}))}))},Zw=function(e,t,n,r,o,i){return Xw(e,t,n,r,o,i).fold(k,(function(r){return Zw(e,t,n,r,o,i)}),C)},Jw=function(e,t,n){var r,o,i=(r=t,o=nn(!1),{stop:function(){o.set(!0)},cut:m,isStopped:o.get,isCut:C,event:r,setSource:x("Cannot set source of a broadcasted event"),getSource:x("Cannot get source of a broadcasted event")});return W(e,(function(e){var t=e.descHandler;zi(t)(i)})),i.isStopped()},Qw=function(e,t,n,r,o){var i=Yw(n,r);return Zw(e,t,n,r,i,o)},ex=function(){var e={};return{registerId:function(t,n,r){Ne(r,(function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=function(e,t){return n=y.apply(void 0,[e.handler].concat(t)),r=e.purpose,{cHandler:n,purpose:r};var n,r}(r,t),e[o]=i}))},unregisterId:function(t){Ne(e,(function(e,n){Ve(e,t)&&delete e[t]}))},filterByType:function(t){return Fe(e,t).map((function(e){return Re(e,(function(e,t){return function(e,t){return{id:e,descHandler:t}}(t,e)}))})).getOr([])},find:function(t,n,r){var o=Fe(e,n);return Qn(r,(function(e){return function(e,t){return wi(t).fold((function(){return B.none()}),(function(n){return e.bind((function(e){return Fe(e,n)})).map((function(e){return function(e,t){return{element:e,descHandler:t}}(t,e)}))}))}(o,e)}),t)}}},tx=function(){var e=ex(),t={},n=function(e){var t=e.element;return wi(t).getOrThunk((function(){return function(e,t){var n=mi(vi+e);return yi(t,n),n}("uid-",e.element)}))},r=function(n){wi(n.element).each((function(n){delete t[n],e.unregisterId(n)}))};return{find:function(t,n,r){return e.find(t,n,r)},filter:function(t){return e.filterByType(t)},register:function(o){var i=n(o);He(t,i)&&function(e,n){var o=t[n];if(o!==e)throw new Error('The tagId "'+n+'" is already used by: '+ci(o.element)+"\nCannot use it for: "+ci(e.element)+"\nThe conflicting element is"+(oa(o.element)?" ":" not ")+"already in the DOM");r(e)}(o,i);var a=[o];e.registerId(a,i,o.events),t[i]=o},unregister:r,getById:function(e){return Fe(t,e)}}},nx=zf({name:"Container",factory:function(e){var t=e.dom,n=t.attributes,r=O(t,["attributes"]);return{uid:e.uid,dom:_({tag:"div",attributes:_({role:"presentation"},n)},r),components:e.components,behaviours:Dd(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[Kt("components",[]),Md("containerBehaviours",[]),Kt("events",{}),Kt("domModification",{}),Kt("eventOrder",{})]}),rx=function(e){var t=function(t){return No(e.element).fold(k,(function(e){return jn(t,e)}))},n=tx(),r=function(e,r){return n.find(t,e,r)},o=Kw(e.element,{triggerEvent:function(e,t){return kl(e,t.target,(function(n){return function(e,t,n,r){return Qw(e,t,n,n.target,r)}(r,e,t,n)}))}}),i={debugInfo:g("real"),triggerEvent:function(e,t,n){kl(e,t,(function(o){return Qw(r,e,n,t,o)}))},triggerFocus:function(e,t){wi(e).fold((function(){Pu(e)}),(function(n){kl(Tr(),e,(function(n){return function(e,t,n,r,o){var i=Yw(n,r);Xw(e,t,n,r,i,o)}(r,Tr(),{originator:t,kill:m,prevent:m,target:e},e,n),!1}))}))},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return h(e)},getByDom:function(e){return v(e)},build:Da,addToGui:function(e){u(e)},removeFromGui:function(e){s(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){l(e)},broadcast:function(e){d(e)},broadcastOn:function(e,t){f(e,t)},broadcastEvent:function(e,t){p(e,t)},isConnected:k},a=function(e){e.connect(i),_o(e.element)||(n.register(e),W(e.components(),a),i.triggerEvent(Ir(),e.element,{target:e.element}))},l=function(e){_o(e.element)||(W(e.components(),l),n.unregister(e)),e.disconnect()},u=function(t){qc(e,t)},s=function(e){Gc(e)},c=function(e){var t=n.filter(Mr());W(t,(function(t){var n=t.descHandler;zi(n)(e)}))},d=function(e){c({universal:!0,data:e})},f=function(e,t){c({universal:!1,channels:e,data:t})},p=function(e,t){var r=n.filter(e);return Jw(r,t)},h=function(e){return n.getById(e).fold((function(){return pe.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),pe.value)},v=function(e){var t=wi(e).getOr("not found");return h(t)};return a(e),{root:e,element:e.element,destroy:function(){o.unbind(),Jo(e.element)},add:u,remove:s,getByUid:h,getByDom:v,addToWorld:a,removeFromWorld:l,broadcast:d,broadcastOn:f,broadcastEvent:p}},ox=g([Kt("prefix","form-field"),Md("fieldBehaviours",[Ff,Ad])]),ix=g([uf({schema:[Dt("dom")],name:"label"}),uf({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Dt("text")],name:"aria-descriptor"}),af({factory:{sketch:function(e){var t=Kn(e,["factory"]);return e.factory.sketch(t)}},schema:[Dt("factory")],name:"field"})]),ax=Bf({name:"FormField",configFields:ox(),partFields:ix(),factory:function(e,t,n,r){var o=Nd(e.fieldBehaviours,[Ff.config({find:function(t){return wf(t,e,"field")}}),Ad.config({store:{mode:"manual",getValue:function(e){return Ff.getCurrent(e).bind(Ad.getValue)},setValue:function(e,t){Ff.getCurrent(e).each((function(e){Ad.setValue(e,t)}))}}})]),i=oo([go((function(t,n){var r=Cf(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=mi(e.prefix);r.label().each((function(e){ri(e.element,"for",n),ri(t.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=mi(e.prefix);ri(n.element,"id",r),ri(t.element,"aria-describedby",r)}))}))}))]),a={getField:function(t){return wf(t,e,"field")},getLabel:function(t){return wf(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:a}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),lx=Object.freeze({__proto__:null,exhibit:function(e,t){return Pi({attributes:Gn([{key:t.tabAttr,value:"true"}])})}}),ux=[Kt("tabAttr","data-alloy-tabstop")],sx=Tu({fields:ux,name:"tabstopping",active:lx}),cx=tinymce.util.Tools.resolve("tinymce.html.Entities"),dx=function(e,t,n,r){var o=fx(e,t,n,r);return ax.sketch(o)},fx=function(e,t,n,r){return{dom:px(n),components:e.toArray().concat([t]),fieldBehaviours:_u(r)}},px=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},mx=function(e,t){return ax.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},hx=mi("form-component-change"),gx=mi("form-close"),vx=mi("form-cancel"),bx=mi("form-action"),yx=mi("form-submit"),wx=mi("form-block"),xx=mi("form-unblock"),Cx=mi("form-tabchange"),kx=mi("form-resize"),Sx=function(e,t){var n,r,o,i=e.label.map((function(e){return mx(e,t)})),a=function(e){return function(t,n){ml(n.event.target,"[data-collection-item-value]").each((function(r){e(t,n,r,oi(r,"data-collection-item-value"))}))}},l=a((function(n,r,o,i){r.stop(),t.isDisabled()||Qr(n,bx,{name:e.name,value:i})})),u=[lo(pr(),a((function(e,t,n){Pu(n)}))),lo(wr(),l),lo(Pr(),l),lo(mr(),a((function(e,t,n){pl(e.element,"."+Mv).each((function(e){Gi(e,Mv)})),Ki(n,Mv)}))),lo(hr(),a((function(e){pl(e.element,"."+Mv).each((function(e){Gi(e,Mv)}))}))),yo(a((function(t,n,r,o){Qr(t,bx,{name:e.name,value:o})})))],s=function(e,t){return U(uc(e.element,".tox-collection__item"),t)},c=ax.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:v},behaviours:_u([Qf.config({disabled:t.isDisabled,onDisabled:function(e){s(e,(function(e){Ki(e,"tox-collection__item--state-disabled"),ri(e,"aria-disabled",!0)}))},onEnabled:function(e){s(e,(function(e){Gi(e,"tox-collection__item--state-disabled"),li(e,"aria-disabled")}))}}),Jb(),ch.config({}),Ad.config({store:{mode:"memory",initialValue:[]},onSetValue:function(n,r){!function(n,r){var o=U(r,(function(n){var r=Cg.translate(n.text),o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "},l=r.replace(/\_| \- |\-/g,(function(e){return a[e]}));return'<div class="tox-collection__item'+(t.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+cx.encodeAllRaw(n.value)+'" title="'+l+'" aria-label="'+l+'">'+i+o+"</div>"})),i="auto"!==e.columns&&e.columns>1?$(o,e.columns):[o],a=U(i,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));ti(n.element,a.join(""))}(n,r),"auto"===e.columns&&sb(n,5,"tox-collection__item").each((function(e){var t=e.numRows,r=e.numColumns;ih.setGridSize(n,t,r)})),Jr(n,kx)}}),sx.config({}),ih.config((r=e.columns,o="normal",1===r?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===r?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===o?".tox-swatches__row":".tox-collection__group",cell:"color"===o?".tox-swatch":"."+kv}})),dh("collection-events",u)]),eventOrder:(n={},n[Dr()]=["disabling","alloy.base.behaviour","collection-events"],n)});return dx(i,c,["tox-form__group--collection"],[])},_x=g([Vt("data"),Kt("inputAttributes",{}),Kt("inputStyles",{}),Kt("tag","input"),Kt("inputClasses",[]),Nl("onSetValue"),Kt("styles",{}),Kt("eventOrder",{}),Md("inputBehaviours",[Ad,gh]),Kt("selectOnFocus",!0)]),Ox=function(e){return _u([gh.config({onFocus:e.selectOnFocus?function(e){var t=e.element,n=ya(t);t.dom.setSelectionRange(0,n.length)}:m})])},Tx=function(e){return _(_({},Ox(e)),Nd(e.inputBehaviours,[Ad.config({store:_(_({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return ya(e.element)},setValue:function(e,t){ya(e.element)!==t&&wa(e.element,t)}}),onSetValue:e.onSetValue})]))},Ex=function(e){return{tag:e.tag,attributes:_({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},Ax=zf({name:"Input",configFields:_x(),factory:function(e,t){return{uid:e.uid,dom:Ex(e),components:[],behaviours:Tx(e),eventOrder:e.eventOrder}}}),Mx={},Dx={exports:Mx};zw=Mx,Bw=Dx,function(e){"object"==typeof zw&&void 0!==Bw?Bw.exports=e():("undefined"!=typeof window?window:void 0!==wl?wl:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}((function(){return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var u=!1;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:l}catch(e){o=l}}();var s,c=[],d=!1,f=-1;function p(){d&&s&&(d=!1,s.length?c=s.concat(c):f=-1,c.length&&m())}function m(){if(!d){var e=u(p);d=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(n){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||d||u(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r=setTimeout;function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void u(t.promise,o)}l(t.promise,r)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void d((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(a){u(e,a)}var r,o}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(r){if(n)return;n=!0,u(t,r)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new c(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(u){n(u)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,l={},u=0;function s(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return l[t]=!0,o((function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}));var Nx,Px,zx=Dx.exports.boltExport,Bx=function(e){var t=B.none(),n=[],r=function(e){o()?a(e):n.push(e)},o=function(){return t.isSome()},i=function(e){W(e,a)},a=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){o()||(t=B.some(e),i(n),n=[])})),{get:r,map:function(e){return Bx((function(t){r((function(n){t(e(n))}))}))},isReady:o}},Rx={nu:Bx,pure:function(e){return Bx((function(t){t(e)}))}},Ix=function(e){setTimeout((function(){throw e}),0)},Lx=function(e){var t=function(t){e().then(t,Ix)};return{map:function(t){return Lx((function(){return e().then(t)}))},bind:function(t){return Lx((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return Lx((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return Rx.nu(t)},toCached:function(){var t=null;return Lx((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},Fx=function(e){return Lx((function(){return new zx(e)}))},Vx=function(e){return Lx((function(){return zx.resolve(e)}))},Hx=["input","textarea"],jx=function(e){var t=Co(e);return V(Hx,t)},$x=function(e,t){var n=t.getRoot(e).getOr(e.element);Gi(n,t.invalidClass),t.notify.each((function(t){jx(e.element)&&ri(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){ti(e,t.validHtml)})),t.onValid(e)}))},Ux=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element);Ki(o,t.invalidClass),t.notify.each((function(t){jx(e.element)&&ri(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){ti(e,r)})),t.onInvalid(e,r)}))},Wx=function(e,t,n){return t.validator.fold((function(){return Vx(pe.value(!0))}),(function(t){return t.validate(e)}))},qx=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),Wx(e,t).map((function(n){return e.getSystem().isConnected()?n.fold((function(n){return Ux(e,t,0,n),pe.error(n)}),(function(n){return $x(e,t),pe.value(n)})):pe.error("No longer in system")}))},Kx=Object.freeze({__proto__:null,markValid:$x,markInvalid:Ux,query:Wx,run:qx,isInvalid:function(e,t){var n=t.getRoot(e).getOr(e.element);return Xi(n,t.invalidClass)}}),Yx=Object.freeze({__proto__:null,events:function(e,t){return e.validator.map((function(t){return oo([lo(t.onEvent,(function(t){qx(t,e).get(v)}))].concat(t.validateOnLoad?[go((function(t){qx(t,e).get(m)}))]:[]))})).getOr({})}}),Gx=[Dt("invalidClass"),Kt("getRoot",B.none),qt("notify",[Kt("aria","alert"),Kt("getContainer",B.none),Kt("validHtml",""),Nl("onValid"),Nl("onInvalid"),Nl("onValidate")]),qt("validator",[Dt("validate"),Kt("onEvent","input"),Kt("validateOnLoad",!0)])],Xx=Tu({fields:Gx,name:"invalidating",active:Yx,apis:Kx,extra:{validation:function(e){return function(t){var n=Ad.getValue(t);return Vx(e(n))}}}}),Zx=Object.freeze({__proto__:null,getCoupled:function(e,t,n,r){return n.getOrCreate(e,t,r)}}),Jx=[Nt("others",Ct(pe.value,dt()))],Qx=Tu({fields:Jx,name:"coupling",apis:Zx,state:Object.freeze({__proto__:null,init:function(){var e={},t=g({});return Di({readState:t,getOrCreate:function(t,n,r){var o=Me(n.others);if(o)return Fe(e,r).getOrThunk((function(){var o=Fe(n.others,r).getOrDie("No information found for coupled component: "+r)(t),i=t.getSystem().build(o);return e[r]=i,i}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}})}})}),eC=g("sink"),tC=g(uf({name:eC(),overrides:g({dom:{tag:"div"},behaviours:_u([Hc.config({useFixed:k})]),events:oo([po(gr()),po(sr()),po(wr())])})}));(Px=Nx||(Nx={}))[Px.HighlightFirst=0]="HighlightFirst",Px[Px.HighlightNone=1]="HighlightNone";var nC,rC,oC,iC,aC=function(e,t){var n=e.getHotspot(t).getOr(t),r="hotspot",o=e.getAnchorOverrides();return e.layouts.fold((function(){return{type:r,hotspot:n,overrides:o}}),(function(e){return{type:r,hotspot:n,overrides:o,layouts:e}}))},lC=function(e,t,n,r,o,i,a){return function(e,t,n,r,o,i,a){var l=function(e,t,n){return(0,e.fetch)(n).map(t)}(e,t,r),u=dC(r,e);return l.map((function(e){return e.bind((function(e){return B.from(Jh.sketch(_(_({},i.menu()),{uid:xi(""),data:e,highlightImmediately:a===Nx.HighlightFirst,onOpenMenu:function(e,t){var r=u().getOrDie();Hc.position(r,t,{anchor:n}),sd.decloak(o)},onOpenSubmenu:function(e,t,n){var r=u().getOrDie();Hc.position(r,n,{anchor:{type:"submenu",item:t}}),sd.decloak(o)},onRepositionMenu:function(e,t,r){var o=u().getOrDie();Hc.position(o,t,{anchor:n}),W(r,(function(e){Hc.position(o,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:function(){return gh.focus(r),sd.close(o),B.some(!0)}})))}))}))}(e,t,aC(e,n),n,r,o,a).map((function(e){return e.fold((function(){sd.isOpen(r)&&sd.close(r)}),(function(e){sd.cloak(r),sd.open(r,e),i(r)})),r}))},uC=function(e,t,n,r,o,i,a){return sd.close(r),Vx(r)},sC=function(e,t,n,r,o,i){var a=Qx.getCoupled(n,"sandbox");return(sd.isOpen(a)?uC:lC)(e,t,n,a,r,o,i)},cC=function(e,t,n){var r,o,i=Ff.getCurrent(t).getOr(t),a=$a(e.element);n?sa(i.element,"min-width",a+"px"):(r=i.element,o=a,ja.set(r,o))},dC=function(e,t){return e.getSystem().getByUid(t.uid+"-"+eC()).map((function(e){return function(){return pe.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return pe.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},fC=function(e){sd.getState(e).each((function(e){Jh.repositionMenus(e)}))},pC=function(e,t,n){var r=hl(),o=dC(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:zd(e.sandboxBehaviours,[Ad.config({store:{mode:"memory",initialValue:t}}),sd.config({onOpen:function(o,i){var a=aC(e,t);r.link(t.element),e.matchWidth&&cC(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},onClose:function(e,o){r.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},isPartOf:function(e,n,r){return vl(n,r)||vl(t,r)},getAttachPoint:function(){return o().getOrDie()}}),Ff.config({find:function(e){return sd.getState(e).bind((function(e){return Ff.getCurrent(e)}))}}),Du.config({channels:_(_({},md({isExtraPart:C})),gd({doReposition:fC}))})])}},mC=function(e){var t=Qx.getCoupled(e,"sandbox");fC(t)},hC=function(){return[Kt("sandboxClasses",[]),Pd("sandboxBehaviours",[Ff,Du,sd,Ad])]},gC=g([Dt("dom"),Dt("fetch"),Nl("onOpen"),Pl("onExecute"),Kt("getHotspot",B.some),Kt("getAnchorOverrides",g({})),Es(),Md("dropdownBehaviours",[Eh,Qx,ih,gh]),Dt("toggleClass"),Kt("eventOrder",{}),Vt("lazySink"),Kt("matchWidth",!1),Kt("useMinWidth",!1),Vt("role")].concat(hC())),vC=g([lf({schema:[Al()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),tC()]),bC=Bf({name:"Dropdown",configFields:gC(),partFields:vC(),factory:function(e,t,n,r){var o,i,a=function(e){sd.getState(e).each((function(e){Jh.highlightPrimary(e)}))},l={expand:function(t){Eh.isOn(t)||sC(e,v,t,r,m,Nx.HighlightNone).get(m)},open:function(t){Eh.isOn(t)||sC(e,v,t,r,m,Nx.HighlightFirst).get(m)},isOpen:Eh.isOn,close:function(t){Eh.isOn(t)&&sC(e,v,t,r,m,Nx.HighlightFirst).get(m)},repositionMenus:function(e){Eh.isOn(e)&&mC(e)}},u=function(e,t){return eo(e),B.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Nd(e.dropdownBehaviours,[Eh.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Qx.config({others:{sandbox:function(t){return pC(e,t,{onOpen:function(){return Eh.on(t)},onClose:function(){return Eh.off(t)}})}}}),ih.config({mode:"special",onSpace:u,onEnter:u,onDown:function(e,t){if(bC.isOpen(e)){var n=Qx.getCoupled(e,"sandbox");a(n)}else bC.open(e);return B.some(!0)},onEscape:function(e,t){return bC.isOpen(e)?(bC.close(e),B.some(!0)):B.none()}}),gh.config({})]),events:Mh(B.some((function(t){sC(e,v,t,r,a,Nx.HighlightFirst).get(m)}))),eventOrder:_(_({},e.eventOrder),(o={},o[Dr()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:l,domModification:{attributes:_(_({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:(i="type",Fe(e.dom,"attributes").bind((function(e){return Fe(e,i)}))).getOr("button")}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),yC=Object.freeze({__proto__:null,events:function(){return oo([io(Sr(),k)])},exhibit:function(){return Pi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),wC=Tu({fields:[],name:"unselecting",active:yC}),xC=mi("color-input-change"),CC=mi("color-swatch-change"),kC=mi("color-picker-cancel"),SC=function(e,t,n){var r=ax.parts.field({factory:Ax,inputClasses:["tox-textfield"],onSetValue:function(e){return Xx.run(e).get(m)},inputBehaviours:_u([Qf.config({disabled:t.providers.isDisabled}),Jb(),sx.config({}),Xx.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return No(e.element)},notify:{onValid:function(e){var t=Ad.getValue(e);Qr(e,xC,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=Ad.getValue(e);if(0===t.length)return Vx(pe.value(!0));var n=on.fromTag("span");sa(n,"background-color",t);var r=ma(n,"background-color").fold((function(){return pe.error("blah")}),(function(e){return pe.value(t)}));return Vx(r)}}})]),selectOnFocus:!1}),o=e.label.map((function(e){return mx(e,t.providers)})),i=function(e,t){Qr(e,CC,{value:t})},a=xg(function(e,t){return bC.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:_u([ey(t.providers.isDisabled),Jb(),wC.config({}),sx.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return Fx((function(t){return e.fetch(t)})).map((function(r){return B.from(Fw($e(vw(mi("menu-value"),r,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,xv.CLOSE_ON_EXECUTE,C,t.providers),{movement:yw(e.columns,e.presets)})))}))},parts:{menu:Fv(0,0,e.presets)}})}({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[au,iu,cu]},onLtr:function(){return[iu,au,cu]}},components:[],fetch:fw(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(e,t){a.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return Jr(e,kC)}),(function(t){i(e,t),lw(t)}))}),"#ffffff"):i(e,"remove"===t?"":t)}))}},t));return ax.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,a.asSpec()]}]),fieldBehaviours:_u([dh("form-field-events",[lo(xC,(function(t,n){a.getOpt(t).each((function(e){sa(e.element,"background-color",n.event.color)})),Qr(t,hx,{name:e.name})})),lo(CC,(function(e,t){ax.getField(e).each((function(n){Ad.setValue(n,t.event.value),Ff.getCurrent(e).each(gh.focus)}))})),lo(kC,(function(e,t){ax.getField(e).each((function(t){Ff.getCurrent(e).each(gh.focus)}))}))])])})},_C=uf({schema:[Dt("dom")],name:"label"}),OC=function(e){return uf({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:oo([uo(ir(),(function(t,n,r){return e(t,r)}),[t]),uo(sr(),(function(t,n,r){return e(t,r)}),[t]),uo(cr(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})},TC=OC("top-left"),EC=OC("top"),AC=OC("top-right"),MC=OC("right"),DC=OC("bottom-right"),NC=OC("bottom"),PC=OC("bottom-left"),zC=OC("left"),BC=af({name:"thumb",defaults:g({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:oo([co(ir(),e,"spectrum"),co(ar(),e,"spectrum"),co(lr(),e,"spectrum"),co(sr(),e,"spectrum"),co(cr(),e,"spectrum"),co(fr(),e,"spectrum")])}}}),RC=af({schema:[At("mouseIsDown",(function(){return nn(!1)}))],name:"spectrum",overrides:function(e){var t=e.model.manager,n=function(n,r){return t.getValueFromEvent(r).map((function(r){return t.setValueFrom(n,e,r)}))};return{behaviours:_u([ih.config({mode:"special",onLeft:function(n){return t.onLeft(n,e)},onRight:function(n){return t.onRight(n,e)},onUp:function(n){return t.onUp(n,e)},onDown:function(n){return t.onDown(n,e)}}),gh.config({})]),events:oo([lo(ir(),n),lo(ar(),n),lo(sr(),n),lo(cr(),(function(t,r){e.mouseIsDown.get()&&n(t,r)}))])}}}),IC=[_C,zC,MC,EC,NC,TC,AC,PC,DC,BC,RC],LC=g("slider.change.value"),FC=function(e){var t=e.event.raw;if(function(e){return-1!==e.type.indexOf("touch")}(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?B.some(n.touches[0]).map((function(e){return La(e.clientX,e.clientY)})):B.none()}var r=t;return void 0!==r.clientX?B.some(r).map((function(e){return La(e.clientX,e.clientY)})):B.none()},VC=function(e){return e.model.minX},HC=function(e){return e.model.minY},jC=function(e){return e.model.minX-1},$C=function(e){return e.model.minY-1},UC=function(e){return e.model.maxX},WC=function(e){return e.model.maxY},qC=function(e){return e.model.maxX+1},KC=function(e){return e.model.maxY+1},YC=function(e,t,n){return t(e)-n(e)},GC=function(e){return YC(e,UC,VC)},XC=function(e){return YC(e,WC,HC)},ZC=function(e){return GC(e)/2},JC=function(e){return XC(e)/2},QC=function(e){return e.stepSize},ek=function(e){return e.snapToGrid},tk=function(e){return e.snapStart},nk=function(e){return e.rounded},rk=function(e,t){return void 0!==e[t+"-edge"]},ok=function(e){return rk(e,"left")},ik=function(e){return rk(e,"right")},ak=function(e){return rk(e,"top")},lk=function(e){return rk(e,"bottom")},uk=function(e){return e.model.value.get()},sk=function(e){return{x:e}},ck=function(e){return{y:e}},dk=function(e,t){return{x:e,y:t}},fk=function(e,t){Qr(e,LC(),{value:t})},pk=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},mk=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},hk=function(e,t,n){return Math.max(t,Math.min(n,e))},gk=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,l=e.snapStart,u=e.rounded,s=e.hasMinEdge,c=e.hasMaxEdge,d=e.minBound,f=e.maxBound,p=e.screenRange,m=s?t-1:t,h=c?n+1:n;if(o<d)return m;if(o>f)return h;var g=function(e,t,n){return Math.min(n,Math.max(e,t))-t}(o,d,f),v=hk(g/p*r+t,m,h);return a&&v>=t&&v<=n?function(e,t,n,r,o){return o.fold((function(){var o=e-t,i=Math.round(o/r)*r;return hk(t+i,t-1,n+1)}),(function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),l=Math.floor((n-t)/r),u=t+Math.min(l,a+i)*r;return Math.max(t,u)}))}(v,t,n,i,l):u?Math.round(v):v},vk=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,l=e.maxBound,u=e.maxOffset,s=e.centerMinEdge,c=e.centerMaxEdge;return o<t?i?0:s:o>n?a?l:c:(o-t)/r*u},bk="top",yk="right",wk="bottom",xk="left",Ck=function(e){return e.element.dom.getBoundingClientRect()},kk=function(e,t){return e[t]},Sk=function(e){var t=Ck(e);return kk(t,xk)},_k=function(e){var t=Ck(e);return kk(t,yk)},Ok=function(e){var t=Ck(e);return kk(t,bk)},Tk=function(e){var t=Ck(e);return kk(t,wk)},Ek=function(e){var t=Ck(e);return kk(t,"width")},Ak=function(e){var t=Ck(e);return kk(t,"height")},Mk=function(e,t,n){return(e+t)/2-n},Dk=function(e,t){var n=Ck(e),r=Ck(t),o=kk(n,xk),i=kk(n,yk),a=kk(r,xk);return Mk(o,i,a)},Nk=function(e,t){var n=Ck(e),r=Ck(t),o=kk(n,bk),i=kk(n,wk),a=kk(r,bk);return Mk(o,i,a)},Pk=function(e,t){Qr(e,LC(),{value:t})},zk=function(e){return{x:e}},Bk=function(e,t,n){var r={min:VC(t),max:UC(t),range:GC(t),value:n,step:QC(t),snap:ek(t),snapStart:tk(t),rounded:nk(t),hasMinEdge:ok(t),hasMaxEdge:ik(t),minBound:Sk(e),maxBound:_k(e),screenRange:Ek(e)};return gk(r)},Rk=function(e){return function(t,n){return function(e,t,n){var r=(e>0?mk:pk)(uk(n).x,VC(n),UC(n),QC(n));return Pk(t,zk(r)),B.some(r)}(e,t,n).map(k)}},Ik=function(e,t,n,r,o,i){var a=function(e,t,n,r,o){var i=Ek(e),a=r.bind((function(t){return B.some(Dk(t,e))})).getOr(0),l=o.bind((function(t){return B.some(Dk(t,e))})).getOr(i),u={min:VC(t),max:UC(t),range:GC(t),value:n,hasMinEdge:ok(t),hasMaxEdge:ik(t),minBound:Sk(e),minOffset:0,maxBound:_k(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:l};return vk(u)}(t,i,n,r,o);return Sk(t)-Sk(e)+a},Lk=Rk(-1),Fk=Rk(1),Vk=B.none,Hk=B.none,jk={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some((function(e,t){fk(e,sk(qC(t)))})),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some((function(e,t){fk(e,sk(jC(t)))}))},$k=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var r=Bk(e,t,n),o=zk(r);return Pk(e,o),r},setToMin:function(e,t){var n=VC(t);Pk(e,zk(n))},setToMax:function(e,t){var n=UC(t);Pk(e,zk(n))},findValueOfOffset:Bk,getValueFromEvent:function(e){return FC(e).map((function(e){return e.left}))},findPositionOfValue:Ik,setPositionFromValue:function(e,t,n,r){var o=uk(n),i=Ik(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n),a=$a(t.element)/2;sa(t.element,"left",i-a+"px")},onLeft:Lk,onRight:Fk,onUp:Vk,onDown:Hk,edgeActions:jk}),Uk=function(e,t){Qr(e,LC(),{value:t})},Wk=function(e){return{y:e}},qk=function(e,t,n){var r={min:HC(t),max:WC(t),range:XC(t),value:n,step:QC(t),snap:ek(t),snapStart:tk(t),rounded:nk(t),hasMinEdge:ak(t),hasMaxEdge:lk(t),minBound:Ok(e),maxBound:Tk(e),screenRange:Ak(e)};return gk(r)},Kk=function(e){return function(t,n){return function(e,t,n){var r=(e>0?mk:pk)(uk(n).y,HC(n),WC(n),QC(n));return Uk(t,Wk(r)),B.some(r)}(e,t,n).map(k)}},Yk=function(e,t,n,r,o,i){var a=function(e,t,n,r,o){var i=Ak(e),a=r.bind((function(t){return B.some(Nk(t,e))})).getOr(0),l=o.bind((function(t){return B.some(Nk(t,e))})).getOr(i),u={min:HC(t),max:WC(t),range:XC(t),value:n,hasMinEdge:ak(t),hasMaxEdge:lk(t),minBound:Ok(e),minOffset:0,maxBound:Tk(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:l};return vk(u)}(t,i,n,r,o);return Ok(t)-Ok(e)+a},Gk=B.none,Xk=B.none,Zk=Kk(-1),Jk=Kk(1),Qk={"top-left":B.none(),top:B.some((function(e,t){fk(e,ck($C(t)))})),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some((function(e,t){fk(e,ck(KC(t)))})),"bottom-left":B.none(),left:B.none()},eS=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var r=qk(e,t,n),o=Wk(r);return Uk(e,o),r},setToMin:function(e,t){var n=HC(t);Uk(e,Wk(n))},setToMax:function(e,t){var n=WC(t);Uk(e,Wk(n))},findValueOfOffset:qk,getValueFromEvent:function(e){return FC(e).map((function(e){return e.top}))},findPositionOfValue:Yk,setPositionFromValue:function(e,t,n,r){var o=uk(n),i=Yk(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),a=Ba(t.element)/2;sa(t.element,"top",i-a+"px")},onLeft:Gk,onRight:Xk,onUp:Zk,onDown:Jk,edgeActions:Qk}),tS=function(e,t){Qr(e,LC(),{value:t})},nS=function(e,t){return{x:e,y:t}},rS=function(e,t){return function(n,r){return function(e,t,n,r){var o=e>0?mk:pk,i=t?uk(r).x:o(uk(r).x,VC(r),UC(r),QC(r)),a=t?o(uk(r).y,HC(r),WC(r),QC(r)):uk(r).y;return tS(n,nS(i,a)),B.some(i)}(e,t,n,r).map(k)}},oS=rS(-1,!1),iS=rS(1,!1),aS=rS(-1,!0),lS=rS(1,!0),uS={"top-left":B.some((function(e,t){fk(e,dk(jC(t),$C(t)))})),top:B.some((function(e,t){fk(e,dk(ZC(t),$C(t)))})),"top-right":B.some((function(e,t){fk(e,dk(qC(t),$C(t)))})),right:B.some((function(e,t){fk(e,dk(qC(t),JC(t)))})),"bottom-right":B.some((function(e,t){fk(e,dk(qC(t),KC(t)))})),bottom:B.some((function(e,t){fk(e,dk(ZC(t),KC(t)))})),"bottom-left":B.some((function(e,t){fk(e,dk(jC(t),KC(t)))})),left:B.some((function(e,t){fk(e,dk(jC(t),JC(t)))}))},sS=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var r=Bk(e,t,n.left),o=qk(e,t,n.top),i=nS(r,o);return tS(e,i),i},setToMin:function(e,t){var n=VC(t),r=HC(t);tS(e,nS(n,r))},setToMax:function(e,t){var n=UC(t),r=WC(t);tS(e,nS(n,r))},getValueFromEvent:function(e){return FC(e)},setPositionFromValue:function(e,t,n,r){var o=uk(n),i=Ik(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n),a=Yk(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),l=$a(t.element)/2,u=Ba(t.element)/2;sa(t.element,"left",i-l+"px"),sa(t.element,"top",a-u+"px")},onLeft:oS,onRight:iS,onUp:aS,onDown:lS,edgeActions:uS}),cS=Bf({name:"Slider",configFields:[Kt("stepSize",1),Kt("onChange",m),Kt("onChoose",m),Kt("onInit",m),Kt("onDragStart",m),Kt("onDragEnd",m),Kt("snapToGrid",!1),Kt("rounded",!0),Vt("snapStart"),Nt("model",Tt("mode",{x:[Kt("minX",0),Kt("maxX",100),At("value",(function(e){return nn(e.mode.minX)})),Dt("getInitialValue"),Rl("manager",$k)],y:[Kt("minY",0),Kt("maxY",100),At("value",(function(e){return nn(e.mode.minY)})),Dt("getInitialValue"),Rl("manager",eS)],xy:[Kt("minX",0),Kt("maxX",100),Kt("minY",0),Kt("maxY",100),At("value",(function(e){return nn({x:e.mode.minX,y:e.mode.minY})})),Dt("getInitialValue"),Rl("manager",sS)]})),Md("sliderBehaviours",[ih,Ad]),At("mouseIsDown",(function(){return nn(!1)}))],partFields:IC,factory:function(e,t,n,r){var o,i=function(t){return xf(t,e,"thumb")},a=function(t){return xf(t,e,"spectrum")},l=function(t){return wf(t,e,"left-edge")},u=function(t){return wf(t,e,"right-edge")},s=function(t){return wf(t,e,"top-edge")},c=function(t){return wf(t,e,"bottom-edge")},d=e.model,f=d.manager,p=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:l,getRightEdge:u,getTopEdge:s,getBottomEdge:c,getSpectrum:a})},m=function(e,t){d.value.set(t);var n=i(e);p(e,n)},h=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&wf(t,e,"thumb").each((function(n){var r=d.value.get();e.onChoose(t,n,r)}))},g=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},v=function(t,n){n.stop(),e.onDragEnd(t,i(t)),h(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Nd(e.sliderBehaviours,[ih.config({mode:"special",focusIn:function(t){return wf(t,e,"spectrum").map(ih.focusIn).map(k)}}),Ad.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),Du.config({channels:(o={},o[fd()]={onReceive:h},o)})]),events:oo([lo(LC(),(function(t,n){!function(t,n){m(t,n);var r=i(t);e.onChange(t,r,n),B.some(!0)}(t,n.event.value)})),go((function(t,n){var r=d.getInitialValue();d.value.set(r);var o=i(t);p(t,o);var l=a(t);e.onInit(t,o,l,d.value.get())})),lo(ir(),g),lo(lr(),v),lo(sr(),g),lo(fr(),v)]),apis:{resetToMin:function(t){f.setToMin(t,e)},resetToMax:function(t){f.setToMax(t,e)},setValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),dS=mi("rgb-hex-update"),fS=mi("slider-update"),pS=mi("palette-update"),mS="form",hS=[Md("formBehaviours",[Ad])],gS=function(e){return"<alloy.field."+e+">"},vS=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Nd(e.formBehaviours,[Ad.config({store:{mode:"manual",getValue:function(t){var n=kf(t,e);return Pe(n,(function(e,t){return e().bind((function(e){var n,r,o=Ff.getCurrent(e);return n=o,r=new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+ci(e.element)),n.fold((function(){return pe.error(r)}),pe.value)})).map(Ad.getValue)}))},setValue:function(t,n){Ne(n,(function(n,r){wf(t,e,r).each((function(e){Ff.getCurrent(e).each((function(e){Ad.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return wf(t,e,n).bind(Ff.getCurrent)}}}},bS={getField:Ai((function(e,t,n){return e.getField(t,n)})),sketch:function(e){var t,n={field:function(e,n){return t.push(e),hf(mS,gS(e),n)},record:g(t=[])},r=e(n),o=n.record(),i=U(o,(function(e){return af({name:e,pname:gS(e)})}));return Mf(mS,hS,i,vS,r)}},yS=mi("valid-input"),wS=mi("invalid-input"),xS=mi("validating-input"),CS="colorcustom.rgb.",kS=function(e,t,n,r){var o=function(n,r){return Xx.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Qr(e,xS,{type:n})},onValid:function(e){Qr(e,yS,{type:n,value:Ad.getValue(e)})},onInvalid:function(e){Qr(e,wS,{type:n,value:Ad.getValue(e)})}},validator:{validate:function(t){var n=Ad.getValue(t),o=r(n)?pe.value(!0):pe.error(e("aria.input.invalid"));return Vx(o)},validateOnLoad:!1}})},i=function(n,r,i,a,l){var u=e("colorcustom.rgb.range"),s=[ax.parts.label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),ax.parts.field({data:l,factory:Ax,inputAttributes:_({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:_u([o(r,n),sx.config({})]),onSetValue:function(e){Xx.isInvalid(e)&&Xx.run(e).get(m)}})],c="hex"!==r?[ax.parts["aria-descriptor"]({text:u})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:s.concat(c)}},a=function(e,t){var n=t.red,r=t.green,o=t.blue;Ad.setValue(e,{red:n,green:r,blue:o})},l=xg({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),u=function(e,t){l.getOpt(e).each((function(e){sa(e.element,"background-color","#"+t.value)}))};return zf({factory:function(){var o={red:nn(B.some(255)),green:nn(B.some(255)),blue:nn(B.some(255)),hex:nn(B.some("ffffff"))},s=function(e){return o[e].get()},c=function(e,t){o[e].set(t)},d=function(e){var t=e.red,n=e.green,r=e.blue;c("red",B.some(t)),c("green",B.some(n)),c("blue",B.some(r))},f=function(e,t){var n=t.event;"hex"!==n.type?c(n.type,B.none()):r(e)},p=function(e,t,n){var r=parseInt(n,10);c(t,B.some(r)),s("red").bind((function(e){return s("green").bind((function(t){return s("blue").map((function(n){return Fy(e,t,n,1)}))}))})).each((function(t){var n=function(e,t){var n=Py(t);return bS.getField(e,"hex").each((function(t){gh.isFocused(t)||Ad.setValue(e,{hex:n.value})})),n}(e,t);Qr(e,dS,{hex:n}),u(e,n)}))},m=function(e,t){var r=t.event;!function(e){return"hex"===e.type}(r)?p(e,r.type,r.value):function(e,t){n(e);var r=Oy(t);c("hex",B.some(t));var o=jy(r);a(e,o),d(o),Qr(e,dS,{hex:r}),u(e,r)}(e,r.value)},h=function(t){return{label:e(CS+t+".label"),description:e(CS+t+".description")}},g=h("red"),v=h("green"),b=h("blue"),y=h("hex");return $e(bS.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",ax.sketch(i(Vy,"red",g.label,g.description,255))),n.field("green",ax.sketch(i(Vy,"green",v.label,v.description,255))),n.field("blue",ax.sketch(i(Vy,"blue",b.label,b.description,255))),n.field("hex",ax.sketch(i(Ay,"hex",y.label,y.description,"ffffff"))),l.asSpec()],formBehaviours:_u([Xx.config({invalidClass:t("form-invalid")}),dh("rgb-form-events",[lo(yS,m),lo(wS,f),lo(xS,f)])])}})),{apis:{updateHex:function(e,t){Ad.setValue(e,{hex:t.value}),function(e,t){var n=jy(t);a(e,n),d(n)}(e,t),u(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},SS=function(e,t){var n=cS.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=cS.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");if(null!==o){o.fillStyle=t,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}};return zf({factory:function(e){var i=g({x:0,y:0}),a=_u([Ff.config({find:B.some}),gh.config({})]);return cS.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:function(e,t,n){Qr(e,pS,{value:n})},onInit:function(e,t,n,r){o(n.element.dom,Wy(qy))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,n){!function(e,t){var n=e.components()[0].element.dom,r=Yy(t,100,100),i=Hy(r);o(n,Wy(i))}(t,n)},setThumb:function(e,t,n){!function(e,t){var n=Gy(jy(t));cS.setValue(e,{x:n.saturation,y:100-n.value})}(t,n)}},extraApis:{}})},_S=function(e,t){return zf({name:"ColourPicker",configFields:[Dt("dom"),Kt("onValidHex",m),Kt("onInvalidHex",m)],factory:function(n){var r,o=kS(e,t,n.onValidHex,n.onInvalidHex),i=SS(0,t),a=function(e){return 100-e/360*100},l={paletteRgba:nn(qy),paletteHue:nn(0)},u=xg(function(e,t){var n=cS.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=cS.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return cS.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:g({y:0})},components:[n,r],sliderBehaviours:_u([gh.config({})]),onChange:function(e,t,n){Qr(e,fS,{value:n})}})}(0,t)),s=xg(i.sketch({})),c=xg(o.sketch({})),d=function(e,t,n){s.getOpt(e).each((function(e){i.setHue(e,n)}))},f=function(e,t){c.getOpt(e).each((function(e){o.updateHex(e,t)}))},p=function(e,t,n){u.getOpt(e).each((function(e){cS.setValue(e,{y:a(n)})}))},m=function(e,t){s.getOpt(e).each((function(e){i.setThumb(e,t)}))},h=function(e,t,n,r){!function(e,t){var n=jy(e);l.paletteRgba.set(n),l.paletteHue.set(t)}(t,n),W(r,(function(r){r(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[s.asSpec(),u.asSpec(),c.asSpec()],behaviours:_u([dh("colour-picker-events",[lo(dS,(r=[d,p,m],function(e,t){var n=t.event.hex,o=function(e){return Gy(jy(e))}(n);h(e,n,o.hue,r)})),lo(pS,function(){var e=[f];return function(t,n){var r=n.event.value,o=l.paletteHue.get(),i=Yy(o,r.x,100-r.y),a=Xy(i);h(t,a,o,e)}}()),lo(fS,function(){var e=[d,f];return function(t,n){var r=function(e){return(100-e)/100*360}(n.event.value.y),o=l.paletteRgba.get(),i=Gy(o),a=Yy(r,i.saturation,i.value),u=Xy(a);h(t,u,r,e)}}())]),Ff.config({find:function(e){return c.getOpt(e)}}),ih.config({mode:"acyclic"})])}}})},OS=function(){return Ff.config({find:B.some})},TS=function(e){return Ff.config({find:e.getOpt})},ES=function(e){return Ff.config({find:function(t){return Bo(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})},AS={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},MS=function(e){return function(e){return AS[e]}(e)},DS=tinymce.util.Tools.resolve("tinymce.Resource"),NS=tinymce.util.Tools.resolve("tinymce.util.Tools"),PS=at([Kt("preprocess",v),Kt("postprocess",v)]),zS=function(e,t,n){return Ad.config($e({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))},BS=function(e,t,n){return zS(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))},RS=function(e,t){var n=_t("RepresentingConfigs.memento processors",PS,t);return Ad.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=Ad.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),i=e.get(t);Ad.setValue(i,o)}}})},IS=zS,LS=function(e){return BS(e,ei,ti)},FS=function(e){return Ad.config({store:{mode:"memory",initialValue:e}})},VS=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){W(e,(function(e){e(t,n)}))}},o=function(e,t){if(!Qf.isDisabled(e)){var n=t.event.raw;a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event.raw.target;a(e,n.files)},a=function(n,r){Ad.setValue(n,function(e,t){var n=NS.explode(t.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"));return K(se(e),(function(e){return H(n,(function(t){return pn(e.name.toLowerCase(),"."+t.toLowerCase())}))}))}(r,t)),Qr(n,hx,{name:e.name})},l=xg({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:_u([dh("input-file-events",[po(wr()),po(Pr())])])}),u=e.label.map((function(e){return mx(e,t)})),s=ax.parts.field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:_u([FS([]),OS(),Qf.config({}),Eh.config({toggleClass:"dragenter",toggleOnExecute:!1}),dh("dropzone-events",[lo("dragenter",r([n,Eh.toggle])),lo("dragleave",r([n,Eh.toggle])),lo("dragover",n),lo("drop",r([n,o])),lo(yr(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},wg.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[l.asSpec()],action:function(e){l.get(e).element.dom.click()},buttonBehaviours:_u([sx.config({}),ey(t.isDisabled),Jb()])})]}]}}}});return dx(u,s,["tox-form__group--stretched"],[])},HS=mi("alloy-fake-before-tabstop"),jS=mi("alloy-fake-after-tabstop"),$S=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:_u([gh.config({ignore:!0}),sx.config({})])}},US=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[$S([HS]),e,$S([jS])],behaviours:_u([ES(1)])}},WS=function(e,t){Qr(e,gr(),{raw:{which:9,shiftKey:t}})},qS=function(e,t){var n=t.element;Xi(n,HS)?WS(e,!0):Xi(n,jS)&&WS(e,!1)},KS=function(e){return Hw(e,["."+HS,"."+jS].join(","),C)},YS=!(Fn().browser.isIE()||Fn().browser.isEdge()),GS=function(e,t){var n=YS&&e.sandboxed,r=_(_({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=function(e){var t=nn("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)ri(n.element,"srcdoc",r);else{ri(n.element,"src","javascript:''");var o=n.element.dom.contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}}(n),i=e.label.map((function(e){return mx(e,t)})),a=ax.parts.field({factory:{sketch:function(e){return US({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:_u([sx.config({}),gh.config({}),IS(B.none(),o.getValue,o.setValue)])})}}});return dx(i,a,["tox-form__group--stretched"],[])},XS=function(e,t){return QS(document.createElement("canvas"),e,t)},ZS=function(e){var t=XS(e.width,e.height);return JS(t).drawImage(e,0,0),t},JS=function(e){return e.getContext("2d")},QS=function(e,t,n){return e.width=t,e.height=n,e},e_=function(e){return e.naturalWidth||e.width},t_=function(e){return e.naturalHeight||e.height},n_=window.Promise?window.Promise:function(){var e=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,r(a,this),r(l,this))},t=window,n=e.immediateFn||"function"==typeof t.setImmediate&&t.setImmediate||function(e){return setTimeout(e,1)},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(t,n)}},o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void c(r(t,e),r(a,this),r(l,this))}this._state=!0,this._value=e,u.call(this)}catch(n){l.call(this,n)}}function l(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];i.call(this,n)}this._deferreds=[]}function s(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}var c=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(o){if(r)return;r=!0,n(o)}};return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){i.call(r,new s(t,n,e,o))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&o(t[0])?t[0]:t);return new e((function(e,t){if(0===r.length)return e([]);for(var n=r.length,o=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,(function(e){o(i,e)}),t)}r[i]=a,0==--n&&e(r)}catch(u){t(u)}},i=0;i<r.length;i++)o(i,r[i])}))},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,o=t;r<o.length;r++){o[r].then(e,n)}}))},e}(),r_=function(e){return new n_((function(t,n){(function(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return B.none();for(var r=n[1],o=t[1],i=1024,a=atob(o),l=a.length,u=Math.ceil(l/i),s=new Array(u),c=0;c<u;++c){for(var d=c*i,f=Math.min(d+i,l),p=new Array(f-d),m=d,h=0;m<f;++h,++m)p[h]=a[m].charCodeAt(0);s[c]=new Uint8Array(p)}return B.some(new Blob(s,{type:r}))})(e).fold((function(){n("uri is not base64: "+e)}),t)}))},o_=function(e,t,n){return t=t||"image/png",d(HTMLCanvasElement.prototype.toBlob)?new n_((function(r,o){e.toBlob((function(e){e?r(e):o()}),t,n)})):r_(e.toDataURL(t,n))},i_=function(e){return function(e){return new n_((function(t,n){var r=URL.createObjectURL(e),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",l)},a=function(){i(),t(o)},l=function(){i(),n("Unable to load data of type "+e.type+": "+r)};o.addEventListener("load",a),o.addEventListener("error",l),o.src=r,o.complete&&setTimeout(a,0)}))}(e).then((function(e){a_(e);var t=XS(e_(e),t_(e));return JS(t).drawImage(e,0,0),t}))},a_=function(e){URL.revokeObjectURL(e.src)},l_=function(e,t,n){var r=t.type,o=g(r),i=g(n),a=function(t,n){return e.then((function(e){return function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}(e,t,n)}))};return{getType:o,toBlob:function(){return n_.resolve(t)},toDataURL:i,toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return o_(e,t,n)}))},toAdjustedDataURL:a,toAdjustedBase64:function(e,t){return a(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(ZS)}}},u_=function(e){return function(e){return new n_((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}(e).then((function(t){return l_(i_(e),e,t)}))},s_=function(e,t){return o_(e,t).then((function(t){return l_(n_.resolve(e),t,e.toDataURL())}))},c_=function(e,t,n){var r="string"==typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r},d_=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],f_=function(e,t){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=t[a+5*i];for(a=0;a<5;a++){n=0;for(var l=0;l<5;l++)n+=e[a+5*l]*r[l];o[a+5*i]=n}}return o},p_=function(e,t){return e.toCanvas().then((function(n){return m_(n,e.getType(),t)}))},m_=function(e,t,n){var r=JS(e),o=function(e,t){for(var n,r,o,i,a=e.data,l=t[0],u=t[1],s=t[2],c=t[3],d=t[4],f=t[5],p=t[6],m=t[7],h=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],k=t[16],S=t[17],_=t[18],O=t[19],T=0;T<a.length;T+=4)n=a[T],r=a[T+1],o=a[T+2],i=a[T+3],a[T]=n*l+r*u+o*s+i*c+d,a[T+1]=n*f+r*p+o*m+i*h+g,a[T+2]=n*v+r*b+o*y+i*w+x,a[T+3]=n*C+r*k+o*S+i*_+O;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),s_(e,t)},h_=function(e,t,n){var r=JS(e),o=r.getImageData(0,0,e.width,e.height),i=r.getImageData(0,0,e.width,e.height);return i=function(e,t,n){for(var r=function(e,t,n){return e>n?e=n:e<t&&(e=t),e},o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,l=t.data,u=e.width,s=e.height,c=0;c<s;c++)for(var d=0;d<u;d++){for(var f=0,p=0,m=0,h=0;h<o;h++)for(var g=0;g<o;g++){var v=r(d+g-i,0,u-1),b=4*(r(c+h-i,0,s-1)*u+v),y=n[h*o+g];f+=a[b]*y,p+=a[b+1]*y,m+=a[b+2]*y}var w=4*(c*u+d);l[w]=r(f,0,255),l[w+1]=r(p,0,255),l[w+2]=r(m,0,255)}return t}(o,i,n),r.putImageData(i,0,0),s_(e,t)},g_=function(e){return function(t,n){return p_(t,e([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}},v_=(nC=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1],function(e){return p_(e,nC)}),b_=g_((function(e,t){return t=c_(255*t,-255,255),f_(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])})),y_=g_((function(e,t){var n;return t=c_(t,-1,1),n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?d_[t]:d_[Math.floor(t)]*(1-n)+d_[Math.floor(t)+1]*n)+127,f_(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),w_=function(e,t,n,r){return p_(e,function(e,t,n,r){return t=c_(t,0,2),n=c_(n,0,2),r=c_(r,0,2),f_(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t,n,r))},x_=(rC=[0,-1,0,-1,5,-1,0,-1,0],function(e){return function(e,t){return e.toCanvas().then((function(n){return h_(n,e.getType(),t)}))}(e,rC)}),C_=(oC=function(e,t){return 255*Math.pow(e/255,1-t)},function(e,t){return e.toCanvas().then((function(n){return function(e,t,n){for(var r=JS(e),o=new Array(256),i=0;i<o.length;i++)o[i]=oC(i,n);var a=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(r.getImageData(0,0,e.width,e.height),o);return r.putImageData(a,0,0),s_(e,t)}(n,e.getType(),t)}))}),k_=function(e,t,n){var r=e_(e),o=t_(e),i=t/r,a=n/o,l=!1;(i<.5||i>2)&&(i=i<.5?.5:2,l=!0),(a<.5||a>2)&&(a=a<.5?.5:2,l=!0);var u=S_(e,i,a);return l?u.then((function(e){return k_(e,t,n)})):u},S_=function(e,t,n){return new n_((function(r){var o=e_(e),i=t_(e),a=Math.floor(o*t),l=Math.floor(i*n),u=XS(a,l);JS(u).drawImage(e,0,0,o,i,0,0,a,l),r(u)}))},__=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t),r=Math.round(e*n);return Math.ceil(r/n)},O_=function(e,t,n){var r=(n<0?360+n:n)*Math.PI/180,o=e.width,i=e.height,a=Math.sin(r),l=Math.cos(r),u=__(Math.abs(o*l)+Math.abs(i*a)),s=__(Math.abs(o*a)+Math.abs(i*l)),c=XS(u,s),d=JS(c);return d.translate(u/2,s/2),d.rotate(r),d.drawImage(e,-o/2,-i/2),s_(c,t)},T_=function(e,t,n){var r=XS(e.width,e.height),o=JS(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),s_(r,t)},E_=function(e,t,n,r,o,i){var a=XS(o,i);return JS(a).drawImage(e,-n,-r),s_(a,t)},A_=function(e){return v_(e)},M_=function(e){return x_(e)},D_=function(e,t){return C_(e,t)},N_=function(e,t){return b_(e,t)},P_=function(e,t){return y_(e,t)},z_=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return T_(n,e.getType(),t)}))}(e,t)},B_=function(e,t,n,r,o){return function(e,t,n,r,o){return e.toCanvas().then((function(i){return E_(i,e.getType(),t,n,r,o)}))}(e,t,n,r,o)},R_=function(e,t,n){return function(e,t,n){return e.toCanvas().then((function(r){return k_(r,t,n).then((function(t){return s_(t,e.getType())}))}))}(e,t,n)},I_=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return O_(n,e.getType(),t)}))}(e,t)},L_=function(e,t,n){return Dg(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t)},F_=function(e,t){return L_(e,t,[])},V_=function(e,t){return L_(e,t,[ch.config({})])},H_=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:_u([ch.config({})])}},j_=mi("toolbar.button.execute"),$_=((iC={})[Dr()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],iC),U_=mi("update-menu-text"),W_=mi("update-menu-icon"),q_=function(e,t,n){var r=nn(m),o=e.text.map((function(e){return xg(H_(e,t,n.providers))})),i=e.icon.map((function(e){return xg(V_(e,n.providers.icons))})),a=function(e,t){var n=Ad.getValue(e);return gh.focus(n),Qr(n,"keydown",{raw:t.event.raw}),bC.close(n),B.some(!0)},l=e.role.fold((function(){return{}}),(function(e){return{role:e}})),u=e.tooltip.fold((function(){return{}}),(function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}})),s=Dg("chevron-down",{tag:"div",classes:[t+"__select-chevron"]},n.providers.icons);return xg(bC.sketch(_(_(_({},e.uid?{uid:e.uid}:{}),l),{dom:{tag:"button",classes:[t,t+"--select"].concat(U(e.classes,(function(e){return t+"--"+e}))),attributes:_({},u)},components:uy([i.map((function(e){return e.asSpec()})),o.map((function(e){return e.asSpec()})),B.some(s)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:_u(T(T([],e.dropdownBehaviours),[ey((function(){return e.disabled||n.providers.isDisabled()})),Jb(),wC.config({}),ch.config({}),dh("dropdown-events",[oy(e,r),iy(e,r)]),dh("menubutton-update-display-text",[lo(U_,(function(e,t){o.bind((function(t){return t.getOpt(e)})).each((function(e){ch.set(e,[Ea(n.providers.translate(t.event.text))])}))})),lo(W_,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){ch.set(e,[V_(t.event.icon,n.providers.icons)])}))}))])])),eventOrder:$e($_,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:_u([ih.config({mode:"special",onLeft:a,onRight:a})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:Fv(0,e.columns,e.presets)},fetch:function(t){return Fx(y(e.fetch,t))}}))).asSpec()},K_=function(e){return"separator"===e.type},Y_={type:"separator"},G_=function(e,t){var n=G(e,(function(e,n){return function(e){return r(e)}(n)?""===n?e:"|"===n?e.length>0&&!K_(e[e.length-1])?e.concat([Y_]):e:Ve(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&K_(n[n.length-1])&&n.pop(),n},X_=function(e,t){return function(e){return Ve(e,"getSubmenuItems")}(e)?function(e,t){var n=e.getSubmenuItems(),r=Z_(n,t);return{item:e,menus:$e(r.menus,Yn(e.value,r.items)),expansions:$e(r.expansions,Yn(e.value,e.value))}}(e,t):{item:e,menus:{},expansions:{}}},Z_=function(e,t){var n=G_(r(e)?e.split(" "):e,t);return Y(n,(function(e,n){var r=function(e){if(K_(e))return e;var t=Fe(e,"value").getOrThunk((function(){return mi("generated-menu-item")}));return $e({value:t},e)}(n),o=X_(r,t);return{menus:$e(e.menus,o.menus),items:[o.item].concat(e.items),expansions:$e(e.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},J_=function(e,t,n,r){var o=mi("primary-menu"),i=Z_(e,n.shared.providers.menuItems());if(0===i.items.length)return B.none();var a=Lw(o,i.items,t,n,r),l=Pe(i.menus,(function(e,r){return Lw(r,e,t,n,!1)})),u=$e(l,Yn(o,a));return B.from(Jh.tieredData(o,u,i.expansions))},Q_=function(e){return{isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)},setActive:function(t){var n=e.element;t?(Ki(n,"tox-tbtn--enabled"),ri(n,"aria-pressed",!0)):(Gi(n,"tox-tbtn--enabled"),li(n,"aria-pressed"))},isActive:function(){return Xi(e.element,"tox-tbtn--enabled")}}},eO=function(e,t,n,r){return q_({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t,r){e.fetch((function(e){r(J_(e,xv.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:Q_,columns:1,presets:"normal",classes:[],dropdownBehaviours:[sx.config({})]},t,n.shared)},tO=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive();r.setActive(o),e.storage.set(o),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){Pu(t.element),Qr(t,bx,{name:e.name,value:e.storage.get()})}))}))}},o=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(U(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return _(_({type:e.type,active:!1},t),{onAction:r(e),onSetup:o(e)})})))}},nO=function(e,t,n,r,o,i){void 0===n&&(n=[]);var a=t.fold((function(){return{}}),(function(e){return{action:e}})),l=_({buttonBehaviours:_u([ey((function(){return e.disabled||i.isDisabled()})),Jb(),sx.config({}),dh("button press",[ao("click"),ao("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),u=$e(l,{dom:r});return $e(u,{components:o})},rO=function(e,t,n,r){void 0===r&&(r=[]);var o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({})},i=e.icon.map((function(e){return F_(e,n.icons)})),a=uy([i]);return nO(e,t,r,o,a,n)},oO=function(e,t,n,r){void 0===r&&(r=[]);var o=rO(e,B.some(t),n,r);return wg.sketch(o)},iO=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(e.text),a=e.icon?e.icon.map((function(e){return F_(e,n.icons)})):B.none(),l=a.isSome()?uy([a]):[],u=a.isSome()?{}:{innerHtml:i},s=T(T(T(T([],e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"]),a.isSome()?["tox-button--icon"]:[]),e.borderless?["tox-button--naked"]:[]),o),c=_(_({tag:"button",classes:s},u),{attributes:{title:i}});return nO(e,t,r,c,l,n)},aO=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=iO(e,B.some(t),n,r,o);return wg.sketch(i)},lO=function(e,t){return function(n){"custom"===t?Qr(n,bx,{name:e,value:{}}):"submit"===t?Jr(n,yx):"cancel"===t?Jr(n,vx):console.error("Unknown button type: ",t)}},uO=function(e,t,n){if(function(e,t){return"menu"===t}(0,t)){var r=e,o=_(_({},e),{onSetup:function(t){return t.setDisabled(e.disabled),m},fetch:tO(r.items,(function(){return i}),n)}),i=xg(eO(o,"tox-tbtn",n,B.none()));return i.asSpec()}if(function(e,t){return"custom"===t||"cancel"===t||"submit"===t}(0,t)){var a=lO(e.name,t),l=_(_({},e),{borderless:!1});return aO(l,a,n.shared.providers,[])}console.error("Unknown footer button type: ",t)},sO=function(e,t){var n,r,o=lO(e.name,"custom");return n=B.none(),r=ax.parts.field(_({factory:wg},iO(e,B.some(o),t,[FS(""),OS()]))),dx(n,r,[],[])},cO=g([Kt("field1Name","field1"),Kt("field2Name","field2"),zl("onLockedChange"),Ml(["lockClass"]),Kt("locked",!1),Pd("coupledFieldBehaviours",[Ff,Ad])]),dO=function(e,t){return af({factory:ax,name:e,overrides:function(e){return{fieldBehaviours:_u([dh("coupled-input-behaviour",[lo(br(),(function(n){(function(e,t,n){return wf(e,t,n).bind(Ff.getCurrent)})(n,e,t).each((function(t){wf(n,e,"lock").each((function(r){Eh.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})},fO=g([dO("field1","field2"),dO("field2","field1"),af({factory:wg,schema:[Dt("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:_u([Eh.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),pO=Bf({name:"FormCoupledInputs",configFields:cO(),partFields:fO(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:zd(e.coupledFieldBehaviours,[Ff.config({find:B.some}),Ad.config({store:{mode:"manual",getValue:function(t){var n,r=_f(t,e,["field1","field2"]);return(n={})[e.field1Name]=Ad.getValue(r.field1()),n[e.field2Name]=Ad.getValue(r.field2()),n},setValue:function(t,n){var r=_f(t,e,["field1","field2"]);He(n,e.field1Name)&&Ad.setValue(r.field1(),n[e.field1Name]),He(n,e.field2Name)&&Ad.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return wf(t,e,"field1")},getField2:function(t){return wf(t,e,"field2")},getLock:function(t){return wf(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),mO=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){var n=parseFloat(t[1]),r=t[2];return pe.value({value:n,unit:r})}return pe.error(e)},hO=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Ve(n,e)};return e.unit===t?B.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?B.some(e.value):B.some(e.value/n[e.unit]*n[t]):B.none()},gO=function(e){return B.none()},vO=function(e,t){var n=mO(e).toOptional(),r=mO(t).toOptional();return ta(n,r,(function(e,t){return hO(e,t.unit).map((function(e){return t.value/e})).map((function(e){return n=e,r=t.unit,function(e){return hO(e,r).map((function(e){return{value:e*n,unit:r}}))};var n,r})).getOr(gO)})).getOr(gO)},bO=function(e,t){var n=gO,r=mi("ratio-event"),o=function(e){return Dg(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons)},i=pO.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:_u([Qf.config({disabled:function(){return e.disabled||t.isDisabled()}}),Jb(),sx.config({})])}),a=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},l=function(n){return ax.parts.field({factory:Ax,inputClasses:["tox-textfield"],inputBehaviours:_u([Qf.config({disabled:function(){return e.disabled||t.isDisabled()}}),Jb(),sx.config({}),dh("size-input-events",[lo(mr(),(function(e,t){Qr(e,r,{isField1:n})})),lo(yr(),(function(t,n){Qr(t,hx,{name:e.name})}))])]),selectOnFocus:!1})},u=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},s=pO.parts.field1(a([ax.parts.label(u("Width")),l(!0)])),c=pO.parts.field2(a([ax.parts.label(u("Height")),l(!1)]));return pO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,c,a([u("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){mO(Ad.getValue(e)).each((function(e){n(e).each((function(e){Ad.setValue(t,function(e){var t,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},r=e.value.toFixed((t=e.unit)in n?n[t]:1);return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit}(e))}))}))},coupledFieldBehaviours:_u([Qf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){pO.getField1(e).bind(ax.getField).each(Qf.disable),pO.getField2(e).bind(ax.getField).each(Qf.disable),pO.getLock(e).each(Qf.disable)},onEnabled:function(e){pO.getField1(e).bind(ax.getField).each(Qf.enable),pO.getField2(e).bind(ax.getField).each(Qf.enable),pO.getLock(e).each(Qf.enable)}}),Jb(),dh("size-input-events2",[lo(r,(function(e,t){var r=t.event.isField1,o=r?pO.getField1(e):pO.getField2(e),i=r?pO.getField2(e):pO.getField1(e),a=o.map(Ad.getValue).getOr(""),l=i.map(Ad.getValue).getOr("");n=vO(a,l)}))])])})},yO={undo:g(mi("undo")),redo:g(mi("redo")),zoom:g(mi("zoom")),back:g(mi("back")),apply:g(mi("apply")),swap:g(mi("swap")),transform:g(mi("transform")),tempTransform:g(mi("temp-transform")),transformApply:g(mi("transform-apply"))},wO=g("save-state"),xO=g("disable"),CO=g("enable"),kO={formActionEvent:bx,saveState:wO,disable:xO,enable:CO},SO=function(e,t){var n=function(e,n,r,o){return xg(aO({name:e,text:e,disabled:r,primary:o,icon:B.none(),borderless:!1},n,t))},r=function(e,n,r,o){return xg(oO({name:e,icon:B.some(e),tooltip:B.some(n),disabled:o,primary:!1,borderless:!1},r,t))},o=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(Qf)&&Qf.disable(n)}))},i=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(Qf)&&Qf.enable(n)}))},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},l=m,u=function(e,t,n){Qr(e,t,n)},s=function(e){return Jr(e,kO.disable())},c=function(e){return Jr(e,kO.enable())},d=function(e,t){s(e),u(e,yO.transform(),{transform:t}),c(e)},f=function(e){return function(){ee.getOpt(e).each((function(e){ch.set(e,[J])}))}},p=function(e,t){s(e),u(e,yO.transformApply(),{transform:t,swap:f(e)}),c(e)},h=function(){return n("Back",(function(e){return u(e,yO.back(),{swap:f(e)})}),!1,!1)},v=function(){return xg({dom:{tag:"div",classes:["tox-spacer"]},behaviours:_u([Qf.config({})])})},b=function(){return n("Apply",(function(e){return u(e,yO.apply(),{swap:f(e)})}),!0,!0)},y=[h(),v(),n("Apply",(function(t){p(t,(function(t){var n=e.getRect();return B_(t,n.x,n.y,n.w,n.h)})),e.hideCrop()}),!1,!0)],w=nx.sketch({dom:a,components:y.map((function(e){return e.asSpec()})),containerBehaviours:_u([dh("image-tools-crop-buttons-events",[lo(kO.disable(),(function(e,t){o(y,e)})),lo(kO.enable(),(function(e,t){i(y,e)}))])])}),x=xg(bO({name:"size",label:B.none(),constrain:!0,disabled:!1},t)),C=[h(),v(),x,v(),n("Apply",(function(e){x.getOpt(e).each((function(t){var n=Ad.getValue(t),r=function(e,t){return function(n){return R_(n,e,t)}}(parseInt(n.width,10),parseInt(n.height,10));p(e,r)}))}),!1,!0)],k=nx.sketch({dom:a,components:C.map((function(e){return e.asSpec()})),containerBehaviours:_u([dh("image-tools-resize-buttons-events",[lo(kO.disable(),(function(e,t){o(C,e)})),lo(kO.enable(),(function(e,t){i(C,e)}))])])}),S=function(e,t){return function(n){return e(n,t)}},_=S(z_,"h"),O=S(z_,"v"),T=S(I_,-90),E=S(I_,90),A=function(e,t){!function(e,t){s(e),u(e,yO.tempTransform(),{transform:t}),c(e)}(e,t)},M=[h(),v(),r("flip-horizontally","Flip horizontally",(function(e){A(e,_)}),!1),r("flip-vertically","Flip vertically",(function(e){A(e,O)}),!1),r("rotate-left","Rotate counterclockwise",(function(e){A(e,T)}),!1),r("rotate-right","Rotate clockwise",(function(e){A(e,E)}),!1),v(),b()],D=nx.sketch({dom:a,components:M.map((function(e){return e.asSpec()})),containerBehaviours:_u([dh("image-tools-fliprotate-buttons-events",[lo(kO.disable(),(function(e,t){o(M,e)})),lo(kO.enable(),(function(e,t){i(M,e)}))])])}),N=function(e,n,r,o,i){var a=cS.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),l=cS.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),u=cS.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return xg(cS.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:g({x:o})},components:[a,l,u],sliderBehaviours:_u([gh.config({})]),onChoose:n}))},P=function(e,t,n,r,o){return N(e,(function(e,n,r){var o=S(t,r.x/100);d(e,o)}),n,r,o)},z=function(e,t,n,r,l){var u=function(e,t,n,r,o){return[h(),P(e,t,n,r,o),b()]}(e,t,n,r,l);return nx.sketch({dom:a,components:u.map((function(e){return e.asSpec()})),containerBehaviours:_u([dh("image-tools-filter-panel-buttons-events",[lo(kO.disable(),(function(e,t){o(u,e)})),lo(kO.enable(),(function(e,t){i(u,e)}))])])})},R=[h(),v(),b()],I=nx.sketch({dom:a,components:R.map((function(e){return e.asSpec()}))}),L=z("Brightness",N_,-100,0,100),F=z("Contrast",P_,-100,0,100),V=z("Gamma",D_,-100,0,100),H=function(e,t,n){return function(r){return function(e,t,n,r){return w_(e,t,n,r)}(r,e,t,n)}},j=function(e){return N(e,(function(e,t,n){var r=$.getOpt(e),o=W.getOpt(e),i=U.getOpt(e);r.each((function(t){o.each((function(n){i.each((function(r){var o=Ad.getValue(t).x/100,i=Ad.getValue(r).x/100,a=Ad.getValue(n).x/100,l=H(o,i,a);d(e,l)}))}))}))}),0,100,200)},$=j("R"),U=j("G"),W=j("B"),q=[h(),$,U,W,b()],K=nx.sketch({dom:a,components:q.map((function(e){return e.asSpec()}))}),Y=function(e,t,n){return function(r){u(r,yO.swap(),{transform:t,swap:function(){ee.getOpt(r).each((function(t){ch.set(t,[e]),n(t)}))}})}},G=B.some(M_),X=B.some(A_),Z=[r("crop","Crop",Y(w,B.none(),(function(t){e.showCrop()})),!1),r("resize","Resize",Y(k,B.none(),(function(t){x.getOpt(t).each((function(t){var n=e.getMeasurements(),r=n.width,o=n.height;Ad.setValue(t,{width:r,height:o})}))})),!1),r("orientation","Orientation",Y(D,B.none(),l),!1),r("brightness","Brightness",Y(L,B.none(),l),!1),r("sharpen","Sharpen",Y(I,G,l),!1),r("contrast","Contrast",Y(F,B.none(),l),!1),r("color-levels","Color levels",Y(K,B.none(),l),!1),r("gamma","Gamma",Y(V,B.none(),l),!1),r("invert","Invert",Y(I,X,l),!1)],J=nx.sketch({dom:a,components:Z.map((function(e){return e.asSpec()}))}),Q=nx.sketch({dom:{tag:"div"},components:[J],containerBehaviours:_u([ch.config({})])}),ee=xg(Q);return{memContainer:ee,getApplyButton:function(e){return ee.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))}}},_O=tinymce.util.Tools.resolve("tinymce.geom.Rect"),OO=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),TO=tinymce.util.Tools.resolve("tinymce.util.Observable"),EO=tinymce.util.Tools.resolve("tinymce.util.VK"),AO=function(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]};function MO(e,t){var n,r,o,i,a=t.document||document,l=a.getElementById(t.handle||e),u=function(e){if(AO(e),e.button!==r)return s(e);e.deltaX=e.screenX-o,e.deltaY=e.screenY-i,e.preventDefault(),t.drag(e)},s=function(e){AO(e),OO(a).off("mousemove touchmove",u).off("mouseup touchend",s),n.remove(),t.stop&&t.stop(e)};return OO(l).on("mousedown touchstart",(function(e){var c,d=function(e){var t=Math.max,n=e.documentElement,r=e.body,o=t(n.scrollWidth,r.scrollWidth),i=t(n.clientWidth,r.clientWidth),a=t(n.offsetWidth,r.offsetWidth),l=t(n.scrollHeight,r.scrollHeight),u=t(n.clientHeight,r.clientHeight);return{width:o<a?i:o,height:l<t(n.offsetHeight,r.offsetHeight)?u:l}}(a);AO(e),e.preventDefault(),r=e.button;var f=l;o=e.screenX,i=e.screenY,c=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,n=OO("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:c}).appendTo(a.body),OO(a).on("mousemove touchmove",u).on("mouseup touchend",s),t.start(e)})),{destroy:function(){OO(l).off()}}}var DO=0,NO=function(e,t,n,r,o){var i,a="tox-crid-"+DO++,l=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],u=["top","right","bottom","left"],s=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},c=function(t,r,o,i){var a,l,u,c,d;a=r.x,l=r.y,u=r.w,c=r.h,a+=o*t.deltaX,l+=i*t.deltaY,(u+=o*t.deltaW)<20&&(u=20),(c+=i*t.deltaH)<20&&(c=20),d=e=_O.clamp({x:a,y:l,w:u,h:c},n,"move"===t.name),d=s(n,d),m.fire("updateRect",{rect:d}),p(d)},d=function(e){var n=function(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),OO("#"+a+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})};NS.each(l,(function(t){OO("#"+a+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)},f=function(t){d(e=t)},p=function(e){var t,r;f((t=n,{x:(r=e).x+t.x,y:r.y+t.y,w:r.w,h:r.h}))};OO('<div id="'+a+'" class="tox-croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),NS.each(u,(function(e){OO("#"+a,r).append('<div id="'+a+"-"+e+'"class="tox-croprect-block" style="display: none" data-mce-bogus="all">')})),NS.each(l,(function(e){OO("#"+a,r).append('<div id="'+a+"-"+e.name+'" class="tox-croprect-handle tox-croprect-handle-'+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')})),i=NS.map(l,(function(t){var n;return MO(a,{document:r.ownerDocument,handle:a+"-"+t.name,start:function(){n=e},drag:function(e){c(t,n,e.deltaX,e.deltaY)}})})),d(e),OO(r).on("focusin focusout",(function(e){OO(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")})),OO(r).on("keydown",(function(t){var n;NS.each(l,(function(e){if(t.target.id===a+"-"+e.name)return n=e,!1}));var r=function(e,t,r,o,i){e.stopPropagation(),e.preventDefault(),c(n,r,o,i)};switch(t.keyCode){case EO.LEFT:r(t,0,e,-10,0);break;case EO.RIGHT:r(t,0,e,10,0);break;case EO.UP:r(t,0,e,0,-10);break;case EO.DOWN:r(t,0,e,0,10);break;case EO.ENTER:case EO.SPACEBAR:t.preventDefault(),o()}}));var m=NS.extend({toggleVisibility:function(e){var t=NS.map(l,(function(e){return"#"+a+"-"+e.name})).concat(NS.map(u,(function(e){return"#"+a+"-"+e}))).join(",");e?OO(t,r).show():OO(t,r).hide()},setClampRect:function(t){n=t,d(e)},setRect:f,getInnerRect:function(){return s(n,e)},setInnerRect:p,setViewPortRect:function(n){t=n,d(e)},destroy:function(){NS.each(i,(function(e){e.destroy()})),i=[]}},TO);return m},PO=function(e){var t=xg({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=nn(1),r=ns(),o=nn({x:0,y:0,w:1,h:1}),i=nn({x:0,y:0,w:1,h:1}),a=function(e,i){s.getOpt(e).each((function(e){var a=n.get(),l=$a(e.element),u=Ba(e.element),s=i.dom.naturalWidth*a,c=i.dom.naturalHeight*a,d=Math.max(0,l/2-s/2),f=Math.max(0,u/2-c/2),p={left:d.toString()+"px",top:f.toString()+"px",width:s.toString()+"px",height:c.toString()+"px",position:"absolute"};ca(i,p),t.getOpt(e).each((function(e){ca(e.element,p)})),r.on((function(e){var t=o.get();e.setRect({x:t.x*a+d,y:t.y*a+f,w:t.w*a,h:t.h*a}),e.setClampRect({x:d,y:f,w:s,h:c}),e.setViewPortRect({x:0,y:0,w:l,h:u})}))}))},l=function(e,t){var r,l=on.fromTag("img");return ri(l,"src",t),(r=l.dom,new Yg((function(e){var t=function(){r.removeEventListener("load",t),e(r)};r.complete?e(r):r.addEventListener("load",t)}))).then((function(){e.getSystem().isConnected()&&s.getOpt(e).map((function(e){var t=Aa({element:l});ch.replaceAt(e,1,B.some(t));var r=i.get(),u={x:0,y:0,w:l.dom.naturalWidth,h:l.dom.naturalHeight};i.set(u);var c=_O.inflate(u,-20,-20);o.set(c),r.w===u.w&&r.h===u.h||function(e,t){s.getOpt(e).each((function(e){var r=$a(e.element),o=Ba(e.element),i=t.dom.naturalWidth,a=t.dom.naturalHeight,l=Math.min(r/i,o/a);l>=1?n.set(1):n.set(l)}))}(e,l),a(e,l)}))}))},u=nx.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:_u([dh("image-panel-crop-events",[go((function(e){s.getOpt(e).each((function(e){var t=e.element.dom,i=NO({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,m);i.toggleVisibility(!1),i.on("updateRect",(function(e){var t=e.rect,r=n.get(),i={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(i)})),r.set(i)}))}))])])}],containerBehaviours:_u([ch.config({}),dh("image-panel-events",[go((function(t){l(t,e)}))])])}),s=xg(u);return{memContainer:s,updateSrc:l,zoom:function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),s.getOpt(e).each((function(e){var t=e.components()[1].element;a(e,t)}))},showCrop:function(){r.on((function(e){e.toggleVisibility(!0)}))},hideCrop:function(){r.on((function(e){e.toggleVisibility(!1)}))},getRect:function(){return o.get()},getMeasurements:function(){var e=i.get();return{width:e.w,height:e.h}}}},zO=function(e,t,n,r,o){return oO({name:e,icon:B.some(t),disabled:n,tooltip:B.some(e),primary:!1,borderless:!1},r,o)},BO=function(e,t){t?Qf.enable(e):Qf.disable(e)};var RO,IO,LO,FO=function(e){var t,n,r,o,i=nn(e),a=ns(),l=(n=-1,{data:t=[],add:function(e){var r=t.splice(++n);return t.push(e),{state:e,removed:r}},undo:function(){if(r())return t[--n]},redo:function(){if(o())return t[++n]},canUndo:r=function(){return n>0},canRedo:o=function(){return-1!==n&&n<t.length-1}});l.add(e);var u=function(e){i.set(e)},s=function(e){return{blob:e,url:URL.createObjectURL(e)}},c=function(e){URL.revokeObjectURL(e.url)},d=function(){a.on(c),a.clear()},f=function(e){var t=s(e);u(t);var n,r=l.add(t).removed;return n=r,NS.each(n,c),t.url};return{getBlobState:function(){return i.get()},setBlobState:u,addBlobState:f,getTempState:function(){return a.get().getOrThunk(i.get)},updateTempState:function(e){var t=s(e);return d(),a.set(t),t.url},addTempState:function(e){var t=s(e);return a.set(t),t.url},applyTempState:function(e){return a.get().fold(m,(function(t){f(t.blob),e()}))},destroyTempState:d,undo:function(){var e=l.undo();return u(e),e.url},redo:function(){var e=l.redo();return u(e),e.url},getHistoryStates:function(){return{undoEnabled:l.canUndo(),redoEnabled:l.canRedo()}}}},VO=function(e,t){var n=FO(e.currentState),r=function(e){var t=n.getHistoryStates();f.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Qr(e,kO.formActionEvent,{name:kO.saveState(),value:t.undoEnabled})},o=function(e){return e.toBlob()},i=function(e){Qr(e,kO.formActionEvent,{name:kO.disable(),value:{}})},a=function(e){p.getApplyButton(e).each((function(e){Qf.enable(e)})),Qr(e,kO.formActionEvent,{name:kO.enable(),value:{}})},l=function(e,t){return i(e),d.updateSrc(e,t)},u=function(e,t,n,u,s){i(e),function(e){return u_(e)}(t).then(n).then(o).then(u).then((function(t){return l(e,t)})).then((function(){r(e),s(),a(e)})).catch((function(t){console.log(t),e.getSystem().isConnected()&&a(e)}))},s=function(e,t,r){var o=n.getBlobState().blob;u(e,o,t,(function(e){return n.updateTempState(e)}),r)},c=function(e){var t=n.getBlobState().url;return n.destroyTempState(),r(e),t},d=PO(e.currentState.url),f=function(e){var t=xg(zO("Undo","undo",!0,(function(e){Qr(e,yO.undo(),{direction:1})}),e)),n=xg(zO("Redo","redo",!0,(function(e){Qr(e,yO.redo(),{direction:1})}),e));return{container:nx.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[t.asSpec(),n.asSpec(),zO("Zoom in","zoom-in",!1,(function(e){Qr(e,yO.zoom(),{direction:1})}),e),zO("Zoom out","zoom-out",!1,(function(e){Qr(e,yO.zoom(),{direction:-1})}),e)]}),updateButtonUndoStates:function(e,r,o){t.getOpt(e).each((function(e){BO(e,r)})),n.getOpt(e).each((function(e){BO(e,o)}))}}}(t),p=SO(d,t);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[p.memContainer.asSpec(),d.memContainer.asSpec(),f.container],behaviours:_u([Ad.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),dh("image-tools-events",[lo(yO.undo(),(function(e,t){var o=n.undo();l(e,o).then((function(t){a(e),r(e)}))})),lo(yO.redo(),(function(e,t){var o=n.redo();l(e,o).then((function(t){a(e),r(e)}))})),lo(yO.zoom(),(function(e,t){var n=t.event.direction;d.zoom(e,n)})),lo(yO.back(),(function(e,t){!function(e){var t=c(e);l(e,t).then((function(t){a(e)}))}(e),(0,t.event.swap)(),d.hideCrop()})),lo(yO.apply(),(function(e,t){n.applyTempState((function(){c(e),(0,t.event.swap)()}))})),lo(yO.transform(),(function(e,t){return s(e,t.event.transform,m)})),lo(yO.tempTransform(),(function(e,t){return function(e,t){var r=n.getTempState().blob;u(e,r,t,(function(e){return n.addTempState(e)}),m)}(e,t.event.transform)})),lo(yO.transformApply(),(function(e,t){return function(e,t,r){var o=n.getBlobState().blob;u(e,o,t,(function(t){var r=n.addBlobState(t);return c(e),r}),r)}(e,t.event.transform,t.event.swap)})),lo(yO.swap(),(function(e,t){!function(e){f.updateButtonUndoStates(e,!1,!1)}(e);var n=t.event.transform,r=t.event.swap;n.fold((function(){r()}),(function(t){s(e,t,r)}))}))]),OS()])}},HO=function(e){return!Ve(e,"items")},jO="data-value",$O=function(e,t,n,r){return U(n,(function(n){return HO(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Ad.setValue(e,n.value),Qr(e,hx,{name:t}),gh.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return $O(e,t,n.items,r)}}}))},UO=function(e,t){return ce(e,(function(e){return HO(e)?na(e.value===t,e):UO(e.items,t)}))},WO=zf({name:"HtmlSelect",configFields:[Dt("options"),Md("selectBehaviours",[gh,Ad]),Kt("selectClasses",[]),Kt("selectAttributes",{}),Vt("data")],factory:function(e,t){var n=U(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),r=e.data.map((function(e){return Yn("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Nd(e.selectBehaviours,[gh.config({}),Ad.config({store:_({mode:"manual",getValue:function(e){return ya(e.element)},setValue:function(t,n){X(e.options,(function(e){return e.value===n})).isSome()&&wa(t.element,n)}},r)})])}}}),qO=function(e,t){var n=e.label.map((function(e){return mx(e,t)})),r=[Qf.config({disabled:function(){return e.disabled||t.isDisabled()}}),Jb(),ih.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return Jr(e,yx),B.some(!0)}}),dh("textfield-change",[lo(br(),(function(t,n){Qr(t,hx,{name:e.name})})),lo(Ar(),(function(t,n){Qr(t,hx,{name:e.name})}))]),sx.config({})],o=e.validation.map((function(e){return Xx.config({getRoot:function(e){return No(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=Ad.getValue(t),r=e.validator(n);return Vx(!0===r?pe.value(n):pe.error(r))},validateOnLoad:e.validateOnLoad}})})).toArray(),i=e.placeholder.fold(g({}),(function(e){return{placeholder:t.translate(e)}})),a=e.inputMode.fold(g({}),(function(e){return{inputmode:e}})),l=_(_({},i),a),u=ax.parts.field({tag:!0===e.multiline?"textarea":"input",inputAttributes:l,inputClasses:[e.classname],inputBehaviours:_u(J([r,o])),selectOnFocus:!1,factory:Ax}),s=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[Qf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){ax.getField(e).each(Qf.disable)},onEnabled:function(e){ax.getField(e).each(Qf.enable)}}),Jb()];return dx(n,u,s,c)},KO=Object.freeze({__proto__:null,events:function(e,t){var n=e.stream.streams.setup(e,t);return oo([lo(e.event,n),vo((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[lo(e,(function(){return t.cancel()}))]})).getOr([])))}}),YO=function(e){var t=nn(null);return Di({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},GO=Object.freeze({__proto__:null,throttle:YO,init:function(e){return e.stream.streams.state(e)}}),XO=[Nt("stream",Tt("mode",{throttle:[Dt("delay"),Kt("stopEvent",!0),Rl("streams",{setup:function(e,t){var n=e.stream,r=Ig(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},state:YO})]})),Kt("event","input"),Vt("cancelEvent"),zl("onStream")],ZO=Tu({fields:XO,name:"streaming",active:KO,state:GO}),JO=function(e,t,n){var r=Ad.getValue(n);Ad.setValue(t,r),eT(t)},QO=function(e,t){var n=e.element,r=ya(n),o=n.dom;"number"!==oi(n,"type")&&t(o,r)},eT=function(e){QO(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},tT=function(e,t,n){if(e.selectsOver){var r=Ad.getValue(t),o=e.getDisplayText(r),i=Ad.getValue(n);return 0===e.getDisplayText(i).indexOf(o)?B.some((function(){JO(0,t,n),function(e,t){QO(e,(function(e,n){return e.setSelectionRange(t,n.length)}))}(t,o.length)})):B.none()}return B.none()},nT=g("alloy.typeahead.itemexecute"),rT=g([Vt("lazySink"),Dt("fetch"),Kt("minChars",5),Kt("responseTime",1e3),Nl("onOpen"),Kt("getHotspot",B.some),Kt("getAnchorOverrides",g({})),Kt("layouts",B.none()),Kt("eventOrder",{}),tn("model",{},[Kt("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),Kt("selectsOver",!0),Kt("populateFromBrowse",!0)]),Nl("onSetValue"),Pl("onExecute"),Nl("onItemExecute"),Kt("inputClasses",[]),Kt("inputAttributes",{}),Kt("inputStyles",{}),Kt("matchWidth",!0),Kt("useMinWidth",!1),Kt("dismissOnBlur",!0),Ml(["openClass"]),Vt("initialData"),Md("typeaheadBehaviours",[gh,Ad,ZO,ih,Eh,Qx]),At("previewing",(function(){return nn(!0)}))].concat(_x()).concat(hC())),oT=g([lf({schema:[Al()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){tT(e.model,r,n).fold((function(){return cp.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&JO(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return Qr(e,nT(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&JO(e.model,t,n)}))}}}})]),iT=Bf({name:"Typeahead",configFields:rT(),partFields:oT(),factory:function(e,t,n,r){var o=function(t,n,o){e.previewing.set(!1);var i=Qx.getCoupled(t,"sandbox");if(sd.isOpen(i))Ff.getCurrent(i).each((function(e){cp.getHighlighted(e).fold((function(){o(e)}),(function(){ro(i,e.element,"keydown",n)}))}));else{lC(e,a(t),t,i,r,(function(e){Ff.getCurrent(e).each(o)}),Nx.HighlightFirst).get(m)}},i=Ox(e),a=function(e){return function(t){return t.map((function(t){var n=Le(t.menus),r=Q(n,(function(e){return K(e.items,(function(e){return"item"===e.type}))}));return Ad.getState(e).update(U(r,(function(e){return e.data}))),t}))}},l=[gh.config({}),Ad.config({onSetValue:e.onSetValue,store:_({mode:"dataset",getDataKey:function(e){return ya(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){wa(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return Yn("initialValue",e)})).getOr({}))}),ZO.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var o=Qx.getCoupled(t,"sandbox");if(gh.isFocused(t)&&ya(t.element).length>=e.minChars){var i=Ff.getCurrent(o).bind((function(e){return cp.getHighlighted(e).map(Ad.getValue)}));e.previewing.set(!0);lC(e,a(t),t,o,r,(function(t){Ff.getCurrent(o).each((function(t){i.fold((function(){e.model.selectsOver&&cp.highlightFirst(t)}),(function(e){cp.highlightBy(t,(function(t){return Ad.getValue(t).value===e.value})),cp.getHighlighted(t).orThunk((function(){return cp.highlightFirst(t),B.none()}))}))}))}),Nx.HighlightFirst).get(m)}},cancelEvent:Rr()}),ih.config({mode:"special",onDown:function(e,t){return o(e,t,cp.highlightFirst),B.some(!0)},onEscape:function(e){var t=Qx.getCoupled(e,"sandbox");return sd.isOpen(t)?(sd.close(t),B.some(!0)):B.none()},onUp:function(e,t){return o(e,t,cp.highlightLast),B.some(!0)},onEnter:function(t){var n=Qx.getCoupled(t,"sandbox"),r=sd.isOpen(n);if(r&&!e.previewing.get())return Ff.getCurrent(n).bind((function(e){return cp.getHighlighted(e)})).map((function(e){return Qr(t,nT(),{item:e}),!0}));var o=Ad.getValue(t);return Jr(t,Rr()),e.onExecute(n,t,o),r&&sd.close(n),B.some(!0)}}),Eh.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Qx.config({others:{sandbox:function(t){return pC(e,t,{onOpen:function(){return Eh.on(t)},onClose:function(){return Eh.off(t)}})}}}),dh("typeaheadevents",[yo((function(t){var n=m;sC(e,a(t),t,r,n,Nx.HighlightFirst).get(m)})),lo(nT(),(function(t,n){var r=Qx.getCoupled(t,"sandbox");JO(e.model,t,n.event.item),Jr(t,Rr()),e.onItemExecute(t,r,n.event.item,Ad.getValue(t)),sd.close(r),eT(t)}))].concat(e.dismissOnBlur?[lo(Er(),(function(e){var t=Qx.getCoupled(e,"sandbox");Ru(t.element).isNone()&&sd.close(t)}))]:[]))];return{uid:e.uid,dom:Ex($e(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:_(_({},i),Nd(e.typeaheadBehaviours,l)),eventOrder:e.eventOrder}}}),aT=function(e){return _(_({},e),{toCached:function(){return aT(e.toCached())},bindFuture:function(t){return aT(e.bind((function(e){return e.fold((function(e){return Vx(pe.error(e))}),(function(e){return t(e)}))})))},bindResult:function(t){return aT(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return aT(e.map((function(e){return e.map(t)})))},mapError:function(t){return aT(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(t,n){return aT(Fx((function(r){var o=!1,i=setTimeout((function(){o=!0,r(pe.error(n()))}),t);e.get((function(e){o||(clearTimeout(i),r(e))}))})))}})},lT=function(e){return aT(Fx(e))},uT=lT,sT={type:"separator"},cT=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:m}},dT=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:m}},fT=function(e,t){return function(e){return U(e,cT)}(function(e,t){return K(t,(function(t){return t.type===e}))}(e,t))},pT=function(e){return fT("header",e.targets)},mT=function(e){return fT("anchor",e.targets)},hT=function(e){return B.from(e.anchorTop).map((function(e){return dT("<top>",e)})).toArray()},gT=function(e){return B.from(e.anchorBottom).map((function(e){return dT("<bottom>",e)})).toArray()},vT=function(e,t){var n=e.toLowerCase();return K(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return dn(t.toLowerCase(),n)||dn(e.value.toLowerCase(),n)}))},bT=function(e,t,n){var r=Ad.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold((function(){return[]}),(function(t){var r,i=vT(o,function(e){return U(e,(function(e){return dT(e,e)}))}(n.getHistory(e)));return"file"===e?(r=[i,vT(o,pT(t)),vT(o,J([hT(t),mT(t),gT(t)]))],G(r,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(sT,t)}),[])):i}))},yT=mi("aria-invalid"),wT=function(e){return function(t,n,r){return Fe(n,"name").fold((function(){return e(n,r)}),(function(o){return t.field(o,e(n,r))}))}},xT={bar:wT((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:U(e.items,t.interpreter)}}(e,t.shared)})),collection:wT((function(e,t){return Sx(e,t.shared.providers)})),alertbanner:wT((function(e,t){return function(e,t){return nx.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[wg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Eg(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Qr(t,bx,{name:"alert-banner",value:e.url})},buttonBehaviours:_u([Ag()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})}(e,t.shared.providers)})),input:wT((function(e,t){return function(e,t){return qO({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:B.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),textarea:wT((function(e,t){return function(e,t){return qO({name:e.name,multiline:!0,label:e.label,inputMode:B.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:B.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),label:wT((function(e,t){return function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},r=U(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:_u([OS(),ch.config({}),LS(B.none()),ih.config({mode:"acyclic"})])}}(e,t.shared)})),iframe:(RO=function(e,t){return GS(e,t.shared.providers)},function(e,t,n){var r=$e(t,{source:"dynamic"});return wT(RO)(e,r,n)}),button:wT((function(e,t){return sO(e,t.shared.providers)})),checkbox:wT((function(e,t){return function(e,t){var n=Ad.config({store:{mode:"manual",getValue:function(e){return e.element.dom.checked},setValue:function(e,t){e.element.dom.checked=t}}}),r=function(e){return e.element.dom.click(),B.some(!0)},o=ax.parts.field({factory:{sketch:v},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:_u([OS(),Qf.config({disabled:function(){return e.disabled||t.isDisabled()}}),sx.config({}),gh.config({}),n,ih.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),dh("checkbox-events",[lo(yr(),(function(t,n){Qr(t,hx,{name:e.name})}))])])}),i=ax.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:_u([wC.config({})])}),a=function(e){return Dg("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)},l=xg({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return ax.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,l.asSpec(),i],fieldBehaviours:_u([Qf.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){ax.getField(e).each(Qf.disable)},onEnabled:function(e){ax.getField(e).each(Qf.enable)}}),Jb()])})}(e,t.shared.providers)})),colorinput:wT((function(e,t){return SC(e,t.shared,t.colorinput)})),colorpicker:wT((function(e){var t=function(e){return"tox-"+e},n=_S(MS,t),r=xg(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(e){Qr(e,bx,{name:"hex-valid",value:!0})},onInvalidHex:function(e){Qr(e,bx,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[r.asSpec()],behaviours:_u([Ad.config({store:{mode:"manual",getValue:function(e){var t=r.get(e);return Ff.getCurrent(t).bind((function(e){return Ad.getValue(e).hex})).map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t),o=r.get(e);Ff.getCurrent(o).fold((function(){console.log("Can not find form")}),(function(e){Ad.setValue(e,{hex:B.from(n[1]).getOr("")}),bS.getField(e,"hex").each((function(e){Jr(e,br())}))}))}}}),OS()])}})),dropzone:wT((function(e,t){return VS(e,t.shared.providers)})),grid:wT((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:U(e.items,t.interpreter)}}(e,t.shared)})),listbox:wT((function(e,t){return function(e,t){var n=t.shared.providers,r=le(e.items).filter(HO),o=e.label.map((function(e){return mx(e,n)})),i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[ax.parts.field({dom:{},factory:{sketch:function(n){return q_({uid:n.uid,text:r.map((function(e){return e.text})),icon:B.none(),tooltip:e.label,role:B.none(),fetch:function(n,r){var o=$O(n,e.name,e.items,Ad.getValue(n));r(J_(o,xv.CLOSE_ON_EXECUTE,t,!1))},onSetup:g(m),getApi:g({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[sx.config({}),Ad.config({store:{mode:"manual",initialValue:r.map((function(e){return e.value})).getOr(""),getValue:function(e){return oi(e.element,jO)},setValue:function(t,n){UO(e.items,n).each((function(e){ri(t.element,jO,e.value),Qr(t,U_,{text:e.text})}))}}})]},"tox-listbox",t.shared)}}})]};return ax.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:J([o.toArray(),[i]]),fieldBehaviours:_u([Qf.config({disabled:g(e.disabled),onDisabled:function(e){ax.getField(e).each(Qf.disable)},onEnabled:function(e){ax.getField(e).each(Qf.enable)}})])})}(e,t)})),selectbox:wT((function(e,t){return function(e,t){var n=U(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),r=e.label.map((function(e){return mx(e,t)})),o=ax.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:WO,selectBehaviours:_u([Qf.config({disabled:function(){return e.disabled||t.isDisabled()}}),sx.config({}),dh("selectbox-change",[lo(yr(),(function(t,n){Qr(t,hx,{name:e.name})}))])])}),i=e.size>1?B.none():B.some(Dg("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:J([[o],i.toArray()])};return ax.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:J([r.toArray(),[a]]),fieldBehaviours:_u([Qf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){ax.getField(e).each(Qf.disable)},onEnabled:function(e){ax.getField(e).each(Qf.enable)}}),Jb()])})}(e,t.shared.providers)})),sizeinput:wT((function(e,t){return bO(e,t.shared.providers)})),urlinput:wT((function(e,t){return function(e,t,n){var r,o=t.shared.providers,i=function(t){var r=Ad.getValue(t);n.addToHistory(r.value,e.filetype)},a=ax.parts.field({factory:iT,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":yT,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=bT(e.filetype,r,n),i=J_(o,xv.BUBBLE_TO_SANDBOX,t,!1);return Vx(i)},getHotspot:function(e){return f.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(Xx)&&Xx.run(e).get(m)},typeaheadBehaviours:_u(J([n.getValidationHandler().map((function(t){return Xx.config({getRoot:function(e){return No(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){u.getOpt(e).each((function(e){ri(e.element,"title",o.translate(t))}))}},validator:{validate:function(n){var r=Ad.getValue(n);return uT((function(n){t({type:e.filetype,url:r.value},(function(e){if("invalid"===e.status){var t=pe.error(e.message);n(t)}else{var r=pe.value(e.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[Qf.config({disabled:function(){return e.disabled||o.isDisabled()}}),sx.config({}),dh("urlinput-events",J(["file"===e.filetype?[lo(br(),(function(t){Qr(t,hx,{name:e.name})}))]:[],[lo(yr(),(function(t){Qr(t,hx,{name:e.name}),i(t)})),lo(Ar(),(function(t){Qr(t,hx,{name:e.name}),i(t)}))]]))]])),eventOrder:(r={},r[br()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Fv(0,0,"normal")},onExecute:function(e,t,n){Qr(t,yx,{})},onItemExecute:function(t,n,r,o){i(t),Qr(t,hx,{name:e.name})}}),l=e.label.map((function(e){return mx(e,o)})),u=xg(function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),Dg(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:_({title:o.translate(r),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))},o.icons)}("invalid",B.some(yT),"warning")),s=xg({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[u.asSpec()]}),c=n.getUrlPicker(e.filetype),d=mi("browser.url.event"),f=xg({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,s.asSpec()],behaviours:_u([Qf.config({disabled:function(){return e.disabled||o.isDisabled()}})])}),p=xg(aO({name:e.name,icon:B.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return Jr(e,d)}),o,[],["tox-browse-url"]));return ax.sketch({dom:px([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:J([[f.asSpec()],c.map((function(){return p.asSpec()})).toArray()])}]),fieldBehaviours:_u([Qf.config({disabled:function(){return e.disabled||o.isDisabled()},onDisabled:function(e){ax.getField(e).each(Qf.disable),p.getOpt(e).each(Qf.disable)},onEnabled:function(e){ax.getField(e).each(Qf.enable),p.getOpt(e).each(Qf.enable)}}),Jb(),dh("url-input-events",[lo(d,(function(t){Ff.getCurrent(t).each((function(n){var r=Ad.getValue(n),o=_({fieldname:e.name},r);c.each((function(r){r(o).get((function(r){Ad.setValue(n,r),Qr(t,hx,{name:e.name})}))}))}))}))])])})}(e,t,t.urlinput)})),customeditor:wT((function(e){var t=ns(),n=xg({dom:{tag:e.tag}}),r=ns();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:_u([dh("custom-editor-events",[go((function(o){n.getOpt(o).each((function(n){(!function(e){return Ve(e,"init")}(e)?DS.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)})):e.init(n.element.dom)).then((function(e){r.on((function(t){e.setValue(t)})),r.clear(),t.set(e)}))}))}))]),Ad.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(n)}),(function(e){return e.setValue(n)}))}}}),OS()]),components:[n.asSpec()]}})),htmlpanel:wT((function(e){return"presentation"===e.presets?nx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):nx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:_u([sx.config({}),gh.config({})])})})),imagetools:wT((function(e,t){return VO(e,t.shared.providers)})),table:wT((function(e,t){return function(e,t){var n,r,o=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},i=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},a=function(e){return{dom:{tag:"tr"},components:U(e,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:U(r,o)}]}),(n=e.cells,{dom:{tag:"tbody"},components:U(n,a)})],behaviours:_u([sx.config({}),gh.config({})])}}(e,t.shared.providers)})),panel:wT((function(e,t){return function(e,t){return{dom:{tag:"div",classes:e.classes},components:U(e.items,t.shared.interpreter)}}(e,t)}))},CT={field:function(e,t){return t}},kT=function(e,t,n){var r=$e(n,{shared:{interpreter:function(t){return ST(e,t,r)}}});return ST(e,t,r)},ST=function(e,t,n){return Fe(xT,t.type).fold((function(){return console.error('Unknown factory type "'+t.type+'", defaulting to container: ',t),t}),(function(r){return r(e,t,n)}))},_T={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},OT=function(e,t,n){var r={maxHeightFunction:vs()};return function(){return n()?{type:"node",root:jo(e()),node:B.from(e()),bubble:xs(12,12,_T),layouts:{onRtl:function(){return[cg]},onLtr:function(){return[sg]}},overrides:r}:{type:"hotspot",hotspot:t(),bubble:xs(-12,12,_T),layouts:{onRtl:function(){return[iu]},onLtr:function(){return[au]}},overrides:r}}},TT=function(e,t,n){return function(){return n()?{type:"node",root:jo(e()),node:B.from(e()),layouts:{onRtl:function(){return[dg]},onLtr:function(){return[dg]}}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[cu]},onLtr:function(){return[cu]}}}}},ET=function(e,t){return function(){return{type:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return B.some(Ks.range(on.fromDom(t.startContainer),t.startOffset,on.fromDom(t.endContainer),t.endOffset))}}}},AT=function(e){return function(t){return{type:"node",root:e(),node:t}}},MT=function(e,t,n){var r=Vb(e),o=function(){return on.fromDom(e.getBody())},i=function(){return on.fromDom(e.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:OT(i,t,a),banner:TT(i,t,a),cursor:ET(e,o),node:AT(o)}},DT=function(e){return function(t,n){gw(e)(t,n)}},NT=function(e){return function(){return iw(e)}},PT=function(e){return function(){return aw(e)}},zT=function(e){return function(){return uw(e)}},BT=function(e){return{colorPicker:DT(e),hasCustomColors:NT(e),getColors:PT(e),getColorCols:zT(e)}},RT=function(e){return function(){return function(e){return e.getParam("draggable_modal",!1,"boolean")}(e)}},IT=function(e){return{isDraggableModal:RT(e)}},LT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],FT=function(e){return G(e,(function(e,t){if(Ve(t,"items")){var n=FT(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(function(e){return Ve(e,"inline")}(t)||function(e){return Ve(e,"block")}(t)||function(e){return Ve(e,"selector")}(t)){var o="custom-"+(r(t.name)?t.name:t.title.toLowerCase());return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return _(_({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},VT=function(e){return function(e){return B.from(e.getParam("style_formats")).filter(i)}(e).map((function(t){var n=function(e,t){var n=FT(t),r=function(t){W(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?r(n.customFormats):e.on("init",(function(){r(n.customFormats)})),n.formats}(e,t);return function(e){return e.getParam("style_formats_merge",!1,"boolean")}(e)?LT.concat(n):n})).getOr(LT)},HT=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return $e(e,r)},jT=function(e,t,n,o){var i=function(t){return U(t,(function(t){var a=Me(t);if(He(t,"items")){var l=i(t.items);return $e(function(e){return $e(e,{type:"submenu"})}(t),{getStyleItems:g(l)})}return He(t,"format")?function(e){return HT(e,n,o)}(t):1===a.length&&V(a,"title")?$e(t,{type:"separator"}):function(t){var i=r(t.name)?t.name:mi(t.title),a="custom-"+i,l={type:"formatter",format:a,isSelected:n(a),getStylePreview:o(a)},u=$e(t,l);return e.formatter.register(i,u),u}(t)}))};return i(t)},$T=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?B.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):B.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?Q(t,r):[e.format]},o=nn([]),i=nn([]),a=nn([]),l=nn([]),u=nn(!1);e.on("PreInit",(function(a){var l=VT(e),u=jT(e,l,t,n);o.set(u),i.set(Q(u,r))})),e.on("addStyleModifications",(function(o){var i=jT(e,o.items,t,n);a.set(i),u.set(o.replace),l.set(Q(i,r))}));return{getData:function(){var e=u.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=u.get()?[]:i.get(),t=l.get();return e.concat(t)}}},UT=NS.trim,WT=function(e){return function(t){if(function(e){return c(e)&&1===e.nodeType}(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},qT=WT("true"),KT=WT("false"),YT=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},GT=function(e){return e.innerText||e.textContent},XT=function(e){return function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)}(e)&&JT(e)},ZT=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},JT=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return qT(e)}return!1}(e)&&!KT(e)},QT=function(e){return ZT(e)&&JT(e)},eE=function(e){var t=function(e){return e.id?e.id:mi("h")}(e);return YT("header",GT(e),"#"+t,function(e){return ZT(e)?parseInt(e.nodeName.substr(1),10):0}(e),(function(){e.id=t}))},tE=function(e){var t=e.id||e.name,n=GT(e);return YT("anchor",n||"#"+t,"#"+t,0,m)},nE=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,U(uc(on.fromDom(n),t),(function(e){return e.dom}))},rE=function(e){return UT(e.title).length>0},oE=function(e){var t=nE(e);return K(function(e){return U(K(e,QT),eE)}(t).concat(function(e){return U(K(e,XT),tE)}(t)),rE)},iE="tinymce-url-history",aE=function(e){return r(e)&&/^https?/.test(e)},lE=function(e){return o(e)&&Ie(e,(function(e){return!(i(t=e)&&t.length<=5&&ee(t,aE));var t})).isNone()},uE=function(){var e,t=Jy.getItem(iE);if(null===t)return{};try{e=JSON.parse(t)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+iE+" was not valid JSON",n),{};throw n}return lE(e)?e:(console.log("Local storage "+iE+" was not valid format",e),{})},sE=function(e){var t=uE();return Fe(t,e).getOr([])},cE=function(e,t){if(aE(e)){var n=uE(),r=Fe(n,t).getOr([]),o=K(r,(function(t){return t!==e}));n[t]=[e].concat(o).slice(0,5),function(e){if(!lE(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));Jy.setItem(iE,JSON.stringify(e))}(n)}},dE=function(e){return!!e},fE=function(e){return Pe(NS.makeMap(e,/[, ]/),dE)},pE=function(e){return B.from(function(e){return e.getParam("file_picker_callback")}(e)).filter(d)},mE=function(e,t){var n=function(e){var t=B.some(function(e){return e.getParam("file_picker_types")}(e)).filter(dE),n=B.some(function(e){return e.getParam("file_browser_callback_types")}(e)).filter(dE),r=t.or(n).map(fE);return pE(e).fold(C,(function(e){return r.fold(k,(function(e){return Me(e).length>0&&e}))}))}(e);return l(n)?n?pE(e):B.none():n[t]?pE(e):B.none()},hE=function(e){return B.from(e).filter(r).getOrUndefined()},gE=function(e){return{getHistory:sE,addToHistory:cE,getLinkInformation:function(){return function(e){return function(e){return!1===e.getParam("typeahead_urls")}(e)?B.none():B.some({targets:oE(e.getBody()),anchorTop:hE(qb(e)),anchorBottom:hE(Kb(e))})}(e)},getValidationHandler:function(){return function(e){return B.from(function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t}(e))}(e)},getUrlPicker:function(t){return function(e,t){return mE(e,t).map((function(n){return function(i){return Fx((function(a){var l=_({filetype:t,fieldname:i.fieldname},B.from(i.meta).getOr({}));n.call(e,(function(e,t){if(!r(e))throw new Error("Expected value to be string");if(void 0!==t&&!o(t))throw new Error("Expected meta to be a object");a({value:e,meta:t})}),i.value,l)}))}}))}(e,t)}}},vE=function(e,t,n){var r=nn(!1),o=function(e){var t=nn(Lb(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}}(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Cg.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return function(e,t){return ST(CT,e,t)}(e,i)},anchors:MT(t,n,o.isPositionedAtTop),header:o,getSink:function(){return pe.value(e)}},urlinput:gE(t),styleselect:$T(t),colorinput:BT(t),dialog:IT(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return i},bE=Ef,yE=df,wE=g([Kt("shell",!1),Dt("makeItem"),Kt("setupItem",m),Pd("listBehaviours",[ch])]),xE=uf({name:"items",overrides:function(){return{behaviours:_u([ch.config({})])}}}),CE=g([xE]),kE=g("CustomList"),SE=Bf({name:kE(),configFields:wE(),partFields:CE(),factory:function(e,t,n,r){var o=e.shell?{behaviours:[ch.config({})],components:[]}:{behaviours:[],components:t},i=function(t){return e.shell?B.some(t):wf(t,e,"items")};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:Nd(e.listBehaviours,o.behaviours),apis:{setItems:function(t,n){i(t).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=ch.contents(r),i=n.length,a=i-o.length,l=a>0?j(a,(function(){return e.makeItem()})):[],u=o.slice(i);W(u,(function(e){return ch.remove(r,e)})),W(l,(function(e){return ch.append(r,e)}));var s=ch.contents(r);W(s,(function(r,o){e.setupItem(t,r,n[o],o)}))}))}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),_E=g([Dt("dom"),Kt("shell",!0),Md("toolbarBehaviours",[ch])]),OE=g([uf({name:"groups",overrides:function(){return{behaviours:_u([ch.config({})])}}})]),TE=Bf({name:"Toolbar",configFields:_E(),partFields:OE(),factory:function(e,t,n,r){var o=function(t){return e.shell?B.some(t):wf(t,e,"groups")},i=e.shell?{behaviours:[ch.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Nd(e.toolbarBehaviours,i.behaviours),apis:{setGroups:function(e,t){o(e).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){ch.set(e,t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),EE=m,AE=C,ME=g([]),DE=Object.freeze({__proto__:null,setup:EE,isDocked:AE,getBehaviours:ME}),NE=function(e){return(Qi(ma(e,"position"),"fixed")?B.none():Po(e)).orThunk((function(){var t=on.fromTag("span");return No(e).bind((function(e){Go(e,t);var n=Po(t);return Jo(t),n}))}))},PE=function(e){return NE(e).map(Va).getOrThunk((function(){return La(0,0)}))},zE=Wn([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),BE=function(e,t){var n=e.element;Ki(n,t.transitionClass),Gi(n,t.fadeOutClass),Ki(n,t.fadeInClass),t.onShow(e)},RE=function(e,t){var n=e.element;Ki(n,t.transitionClass),Gi(n,t.fadeInClass),Ki(n,t.fadeOutClass),t.onHide(e)},IE=function(e,t,n){return ee(e,(function(e){switch(e){case"bottom":return function(e,t){return e.bottom<=t.bottom}(t,n);case"top":return function(e,t){return e.y>=t.y}(t,n)}}))},LE=function(e,t){return t.getInitialPos().map((function(t){return tl(t.bounds.x,t.bounds.y,$a(e),Ba(e))}))},FE=function(e,t,n){return n.getInitialPos().bind((function(r){switch(n.clearInitialPos(),r.position){case"static":return B.some(zE.static());case"absolute":var o=NE(e).map(nl).getOrThunk((function(){return nl(ia())}));return B.some(zE.absolute(Lu("absolute",Fe(r.style,"left").map((function(e){return t.x-o.x})),Fe(r.style,"top").map((function(e){return t.y-o.y})),Fe(r.style,"right").map((function(e){return o.right-t.right})),Fe(r.style,"bottom").map((function(e){return o.bottom-t.bottom})))));default:return B.none()}}))},VE=function(e,t,n){var r=nl(e);if(IE(n.getModes(),r,t))return B.none();!function(e,t,n){n.setInitialPos({style:ha(e),position:fa(e,"position")||"static",bounds:t})}(e,r,n);var o=ol(),i=r.x-o.x,a=t.y-o.y,l=o.bottom-t.bottom,u=r.y<=t.y;return B.some(zE.fixed(Lu("fixed",B.some(i),u?B.some(a):B.none(),B.none(),u?B.none():B.some(l))))},HE=function(e,t,n){var r=e.element;return Qi(ma(r,"position"),"fixed")?function(e,t,n){return LE(e,n).filter((function(e){return IE(n.getModes(),e,t)})).bind((function(t){return FE(e,t,n)}))}(r,t,n):VE(r,t,n)},jE=function(e,t){W(["left","right","top","bottom","position"],(function(t){return va(e.element,t)})),t.onUndocked(e)},$E=function(e,t,n){Fu(e.element,n),("fixed"===n.position?t.onDocked:t.onUndocked)(e)},UE=function(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(i){var a=function(e,t){return e.y<t.bottom&&e.bottom>t.y}(i,r);a!==n.isVisible()&&(n.setVisible(a),o&&!a?(Zi(e.element,[t.fadeOutClass]),t.onHide(e)):(a?BE:RE)(e,t))}))}))},WE=function(e,t,n){var r=e.element;n.setDocked(!1),function(e,t){var n=e.element;return LE(n,t).bind((function(e){return FE(n,e,t)}))}(e,n).each((function(n){n.fold((function(){return jE(e,t)}),(function(n){return $E(e,t,n)}),m)})),n.setVisible(!0),t.contextual.each((function(t){Ji(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),qE(e,t,n)},qE=function(e,t,n){e.getSystem().isConnected()&&function(e,t,n){var r=t.lazyViewport(e),o=n.isDocked();o&&UE(e,t,n,r),HE(e,r,n).each((function(i){n.setDocked(!o),i.fold((function(){return jE(e,t)}),(function(n){return $E(e,t,n)}),(function(o){UE(e,t,n,r,!0),$E(e,t,o)}))}))}(e,t,n)},KE=function(e,t,n){n.isDocked()&&WE(e,t,n)},YE=Object.freeze({__proto__:null,refresh:qE,reset:KE,isDocked:function(e,t,n){return n.isDocked()},getModes:function(e,t,n){return n.getModes()},setModes:function(e,t,n,r){return n.setModes(r)}}),GE=Object.freeze({__proto__:null,events:function(e,t){return oo([ho(Cr(),(function(n,r){e.contextual.each((function(e){Xi(n.element,e.transitionClass)&&(Ji(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n));r.stop()}))})),lo(Vr(),(function(n,r){qE(n,e,t)})),lo(Hr(),(function(n,r){KE(n,e,t)}))])}}),XE=[qt("contextual",[zt("fadeInClass"),zt("fadeOutClass"),zt("transitionClass"),Rt("lazyContext"),Nl("onShow"),Nl("onShown"),Nl("onHide"),Nl("onHidden")]),Qt("lazyViewport",ol),en("modes",["top","bottom"],mt),Nl("onDocked"),Nl("onUndocked")],ZE=Tu({fields:XE,name:"docking",active:GE,apis:YE,state:Object.freeze({__proto__:null,init:function(e){var t=nn(!1),n=nn(!0),r=ns(),o=nn(e.modes);return Di({isDocked:t.get,setDocked:t.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}})}})}),JE=g(mi("toolbar-height-change")),QE={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},eA="tox-tinymce--toolbar-sticky-on",tA="tox-tinymce--toolbar-sticky-off",nA=function(e,t){return V(ZE.getModes(e),t)},rA=function(e){var t=e.element;No(t).each((function(n){var r,o="padding-"+ZE.getModes(e)[0];if(ZE.isDocked(e)){var i=$a(n);sa(t,"width",i+"px"),sa(n,o,Ra(r=t)+(parseInt(fa(r,"margin-top"),10)||0)+(parseInt(fa(r,"margin-bottom"),10)||0)+"px")}else va(t,"width"),va(n,o)}))},oA=function(e,t){t?(Gi(e,QE.fadeOutClass),Zi(e,[QE.transitionClass,QE.fadeInClass])):(Gi(e,QE.fadeInClass),Zi(e,[QE.fadeOutClass,QE.transitionClass]))},iA=function(e,t){var n=on.fromDom(e.getContainer());t?(Ki(n,eA),Gi(n,tA)):(Ki(n,tA),Gi(n,eA))},aA=function(e,t){var n,r=ns(),o=t.getSink,i=function(e){o().each((function(t){return e(t.element)}))},a=function(t){e.inline||rA(t),iA(e,ZE.isDocked(t)),t.getSystem().broadcastOn([dd()],{}),o().each((function(e){return e.getSystem().broadcastOn([dd()],{})}))},l=e.inline?[]:[Du.config({channels:(n={},n[JE()]={onReceive:rA},n)})];return T([gh.config({}),ZE.config({contextual:_({lazyContext:function(t){var n=Ra(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=nl(on.fromDom(r)),i=o.height-n,a=o.y+(nA(t,"top")?0:n);return B.some(tl(o.x,a,o.width,i))},onShow:function(){i((function(e){return oA(e,!0)}))},onShown:function(e){i((function(e){return Ji(e,[QE.transitionClass,QE.fadeInClass])})),r.get().each((function(t){var n,o,i;n=e.element,i=Eo(o=t),Bu(i).filter((function(e){return!jn(o,e)})).filter((function(e){return jn(e,on.fromDom(i.dom.body))||Un(n,e)})).each((function(){return Pu(o)})),r.clear()}))},onHide:function(e){(function(e,t){return Ru(e).orThunk((function(){return t().toOptional().bind((function(e){return Ru(e.element)}))}))})(e.element,o).fold(r.clear,r.set),i((function(e){return oA(e,!1)}))},onHidden:function(){i((function(e){return Ji(e,[QE.transitionClass])}))}},QE),lazyViewport:function(t){var n=ol(),r=function(e){return e.getParam("toolbar_sticky_offset",0,"number")}(e),o=n.y+(nA(t,"top")?r:0),i=n.height-(nA(t,"bottom")?r:0);return tl(n.x,o,n.width,i)},modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a})],l)},lA=Object.freeze({__proto__:null,setup:function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(ZE.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(rA)})),e.on("SkinLoaded",(function(){n().each((function(e){ZE.isDocked(e)?ZE.reset(e):ZE.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(ZE.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){ZE.refresh(t);var n=t.element;Qp(n)&&function(e,t){var n=Eo(t),r=n.dom.defaultView.innerHeight,o=Ya(n),i=on.fromDom(e.elm),a=rl(i),l=Ba(i),u=a.y,s=u+l,c=Va(t),d=Ba(t),f=c.top,p=f+d,m=Math.abs(f-o.top)<2,h=Math.abs(p-(o.top+r))<2;if(m&&u<p)Ga(o.left,u-d,n);else if(h&&s>f){var g=u-r+l+d;Ga(o.left,g,n)}}(e,n)}))})),e.on("PostRender",(function(){iA(e,!1)}))},isDocked:function(e){return e().map(ZE.isDocked).getOr(!1)},getBehaviours:aA}),uA=at([zt("type"),Nt("items",ut([ct([zt("name"),Ft("items",mt)]),mt]))].concat(ov)),sA=[$t("text"),$t("tooltip"),$t("icon"),Rt("fetch"),Qt("onSetup",(function(){return m}))],cA=at(T([zt("type")],sA)),dA=function(e){return kt("menubutton",cA,e)},fA=at([zt("type"),$t("tooltip"),$t("icon"),$t("text"),Ut("select"),Rt("fetch"),Qt("onSetup",(function(){return m})),Zt("presets","normal",["normal","color","listpreview"]),Kt("columns",1),Rt("onAction"),Rt("onItemAction")]),pA=zf({factory:function(e,t){var n={focus:ih.focusIn,setMenus:function(e,n){var r=U(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=dA(n).mapError((function(e){return Ot(e)})).getOrDie();return eO(r,"tox-mbtn",t.backstage,B.some("menuitem"))}));ch.set(e,r)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:_u([ch.config({}),dh("menubar-events",[go((function(t){e.onSetup(t)})),lo(pr(),(function(e,t){pl(e.element,".tox-mbtn--active").each((function(n){ml(t.event.target,".tox-mbtn").each((function(t){jn(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){bC.expand(e),bC.close(n),gh.focus(e)}))}))}))}))})),lo(qr(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){bC.isOpen(n)&&(bC.expand(e),bC.close(n))}))}))}))]),ih.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),B.some(!0)}}),sx.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Dt("dom"),Dt("uid"),Dt("onEscape"),Dt("backstage"),Kt("onSetup",m)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),mA=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))},hA=function(e){return e.dimension.property},gA=function(e,t){return e.dimension.getDimension(t)},vA=function(e,t){var n=mA(e,t);Ji(n,[t.shrinkingClass,t.growingClass])},bA=function(e,t){Gi(e.element,t.openClass),Ki(e.element,t.closedClass),sa(e.element,hA(t),"0px"),ba(e.element)},yA=function(e,t){Gi(e.element,t.closedClass),Ki(e.element,t.openClass),va(e.element,hA(t))},wA=function(e,t,n,r){n.setCollapsed(),sa(e.element,hA(t),gA(t,e.element)),ba(e.element),vA(e,t),bA(e,t),t.onStartShrink(e),t.onShrunk(e)},xA=function(e,t,n,r){var o=r.getOrThunk((function(){return gA(t,e.element)}));n.setCollapsed(),sa(e.element,hA(t),o),ba(e.element);var i=mA(e,t);Gi(i,t.growingClass),Ki(i,t.shrinkingClass),bA(e,t),t.onStartShrink(e)},CA=function(e,t,n){var r=gA(t,e.element);("0px"===r?wA:xA)(e,t,n,B.some(r))},kA=function(e,t,n){var r=mA(e,t),o=Xi(r,t.shrinkingClass),i=gA(t,e.element);yA(e,t);var a=gA(t,e.element);(o?function(){sa(e.element,hA(t),i),ba(e.element)}:function(){bA(e,t)})(),Gi(r,t.shrinkingClass),Ki(r,t.growingClass),yA(e,t),sa(e.element,hA(t),a),n.setExpanded(),t.onStartGrow(e)},SA=function(e,t,n){var r=mA(e,t);return!0===Xi(r,t.growingClass)},_A=function(e,t,n){var r=mA(e,t);return!0===Xi(r,t.shrinkingClass)},OA=Object.freeze({__proto__:null,refresh:function(e,t,n){if(n.isExpanded()){va(e.element,hA(t));var r=gA(t,e.element);sa(e.element,hA(t),r)}},grow:function(e,t,n){n.isExpanded()||kA(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&CA(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&wA(e,t,n)},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:SA,isShrinking:_A,isTransitioning:function(e,t,n){return SA(e,t)||_A(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?CA:kA)(e,t,n)},disableTransitions:vA}),TA=Object.freeze({__proto__:null,exhibit:function(e,t,n){var r=t.expanded;return Pi(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Yn(t.dimension.property,"0px")})},events:function(e,t){return oo([ho(Cr(),(function(n,r){r.event.raw.propertyName===e.dimension.property&&(vA(n,e),t.isExpanded()&&va(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),EA=[Dt("closedClass"),Dt("openClass"),Dt("shrinkingClass"),Dt("growingClass"),Vt("getAnimationRoot"),Nl("onShrunk"),Nl("onStartShrink"),Nl("onGrown"),Nl("onStartGrow"),Kt("expanded",!1),Nt("dimension",Tt("property",{width:[Rl("property","width"),Rl("getDimension",(function(e){return $a(e)+"px"}))],height:[Rl("property","height"),Rl("getDimension",(function(e){return Ba(e)+"px"}))]}))],AA=Tu({fields:EA,name:"sliding",active:TA,apis:OA,state:Object.freeze({__proto__:null,init:function(e){var t=nn(e.expanded);return Di({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:y(t.set,!1),setExpanded:y(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})}),MA="container",DA=[Md("slotBehaviours",[])],NA=function(e){return"<alloy.field."+e+">"},PA=function(e,t){var n,r=function(t){return Sf(e)},o=function(t,n){return function(r,o){return wf(r,e,o).map((function(e){return t(e,o)})).getOr(n)}},i=function(e,t){return"true"!==oi(e.element,"aria-hidden")},a=o(i,!1),l=o((function(e,t){if(i(e)){var n=e.element;sa(n,"display","none"),ri(n,"aria-hidden","true"),Qr(e,Kr(),{name:t,visible:!1})}})),u=(n=l,function(e,t){W(t,(function(t){return n(e,t)}))}),s=o((function(e,t){if(!i(e)){var n=e.element;va(n,"display"),li(n,"aria-hidden"),Qr(e,Kr(),{name:t,visible:!0})}})),c={getSlotNames:r,getSlot:function(t,n){return wf(t,e,n)},isShowing:a,hideSlot:l,hideAllSlots:function(e){return u(e,r())},showSlot:s};return{uid:e.uid,dom:e.dom,components:t,behaviours:Dd(e.slotBehaviours),apis:c}},zA=Pe({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return Ai(e)})),BA=_(_({},zA),{sketch:function(e){var t,n={slot:function(e,n){return t.push(e),hf(MA,NA(e),n)},record:g(t=[])},r=e(n),o=n.record(),i=U(o,(function(e){return af({name:e,pname:NA(e)})}));return Mf(MA,DA,i,PA,r)}}),RA=at([$t("icon"),$t("tooltip"),Qt("onShow",m),Qt("onHide",m),Qt("onSetup",(function(){return m}))]),IA=function(e){return{element:function(){return e.element.dom}}},LA=function(e,t){var n=U(Me(t),(function(e){var n=t[e],r=St(function(e){return kt("sidebar",RA,e)}(n));return{name:e,getApi:IA,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return U(n,(function(t){var r=nn(m);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:db([oy(t,r),iy(t,r),lo(Kr(),(function(e,t){var r=t.event;X(n,(function(e){return e.name===r.name})).each((function(t){(r.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},FA=function(e){return BA.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:LA(t,e),slotBehaviours:db([go((function(e){return BA.hideAllSlots(e)}))])}}))},VA=function(e){return Ff.getCurrent(e).bind((function(e){return AA.isGrowing(e)||AA.hasGrown(e)?Ff.getCurrent(e).bind((function(e){return X(BA.getSlotNames(e),(function(t){return BA.isShowing(e,t)}))})):B.none()}))},HA=mi("FixSizeEvent"),jA=mi("AutoSizeEvent"),$A=Object.freeze({__proto__:null,block:function(e,t,n,r){ri(e.element,"aria-busy",!0);var o=t.getRoot(e).getOr(e),i=_u([ih.config({mode:"special",onTab:function(){return B.some(!0)},onShiftTab:function(){return B.some(!0)}}),gh.config({})]),a=r(o,i),l=o.getSystem().build(a);ch.append(o,Na(l)),l.hasConfigured(ih)&&t.focus&&ih.focusIn(l),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return ch.remove(o,l)}))},unblock:function(e,t,n){li(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),UA=[Qt("getRoot",B.none),Jt("focus",!0),Nl("onBlock"),Nl("onUnblock")],WA=Tu({fields:UA,name:"blocking",apis:$A,state:Object.freeze({__proto__:null,init:function(){var e=es((function(e){return e.destroy()}));return Di({readState:e.isSet,blockWith:function(t){e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),qA=function(e){var t=on.fromHtml(e),n=zo(t),r=function(e){var t=void 0!==e.dom.attributes?e.dom.attributes:[];return G(t,(function(e,t){var n;return"class"===t.name?e:_(_({},e),((n={})[t.name]=t.value,n))}),{})}(t),o=function(e){return Array.prototype.slice.call(e.dom.classList,0)}(t),i=0===n.length?{}:{innerHtml:ei(t)};return _({tag:Co(t),classes:o,attributes:r},i)},KA=function(e){return Ff.getCurrent(e).each((function(e){return Pu(e.element)}))},YA=function(e,t,n,r){var o=t.element;if(function(e,t){var n="tabindex",r="data-mce-tabindex";B.from(e.iframeElement).map(on.fromDom).each((function(e){t?(ii(e,n).each((function(t){return ri(e,r,t)})),ri(e,n,-1)):(li(e,n),ii(e,r).each((function(t){ri(e,n,t),li(e,r)})))}))}(e,n),n)WA.block(t,function(e){return function(t,n){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:qA('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}}(r)),va(o,"display"),li(o,"aria-hidden"),e.hasFocus()&&KA(t);else{var i=Ff.getCurrent(t).exists((function(e){return zu(e.element)}));WA.unblock(t),sa(o,"display","none"),ri(o,"aria-hidden","true"),i&&e.focus()}},GA=function(e,t,n){var r=nn(!1),o=ns(),i=function(n){var o;!r.get()||function(e){return"focusin"===e.type}(o=n)&&(o.composed?le(o.composedPath()):B.from(o.target)).map(on.fromDom).filter(So).exists((function(e){return Xi(e,"mce-pastebin")}))||(n.preventDefault(),KA(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(function(){e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(function(e){"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));var a=function(o){o!==r.get()&&(r.set(o),YA(e,t(),o,n.providers),e.fire("AfterProgressState",{state:o}))};e.on("ProgressState",(function(t){if(o.on(yg.clearTimeout),f(t.time)){var n=yg.setEditorTimeout(e,(function(){return a(t.state)}),t.time);o.set(n)}else a(t.state),o.clear()}))},XA=function(e,t,n){return{within:e,extra:t,withinWidth:n}},ZA=function(e,t,n){var r,o=(r=function(e,t){var r=n(e);return B.some({element:e,start:t,finish:t+r,width:r})},G(e,(function(e,t){return r(t,e.len).fold(g(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),{len:0,list:[]}).list),i=K(o,(function(e){return e.finish<=t})),a=Y(i,(function(e,t){return e+t.width}),0);return{within:i,extra:o.slice(i.length),withinWidth:a}},JA=function(e){return U(e,(function(e){return e.element}))},QA=function(e,t,n,r){var o=function(e,t,n){var r=ZA(t,e,n);return 0===r.extra.length?B.some(r):B.none()}(e,t,n).getOrThunk((function(){return ZA(t,e-n(r),n)})),i=o.within,a=o.extra,l=o.withinWidth;return 1===a.length&&a[0].width<=n(r)?function(e,t,n){var r=JA(e.concat(t));return XA(r,[],n)}(i,a,l):a.length>=1?function(e,t,n,r){var o=JA(e).concat([n]);return XA(o,JA(t),r)}(i,a,r,l):function(e,t,n){return XA(JA(e),[],n)}(i,0,l)},eM=function(e,t){var n=U(t,(function(e){return Na(e)}));TE.setGroups(e,n)},tM=function(e,t,n){var r=t.builtGroups.get();if(0!==r.length){var o=xf(e,t,"primary"),i=Qx.getCoupled(e,"overflowGroup");sa(o.element,"visibility","hidden");var a=r.concat([i]),l=ce(a,(function(e){return Ru(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}));n([]),eM(o,a);var u=$a(o.element),s=QA(u,t.builtGroups.get(),(function(e){return $a(e.element)}),i);0===s.extra.length?(ch.remove(o,i),n([])):(eM(o,s.within),n(s.extra)),va(o.element,"visibility"),ba(o.element),l.each(gh.focus)}},nM=g([Md("splitToolbarBehaviours",[Qx]),At("builtGroups",(function(){return nn([])}))]),rM=g([Ml(["overflowToggledClass"]),Ut("getOverflowBounds"),Dt("lazySink"),At("overflowGroups",(function(){return nn([])}))].concat(nM())),oM=g([af({factory:TE,schema:_E(),name:"primary"}),lf({schema:_E(),name:"overflow"}),lf({name:"overflow-button"}),lf({name:"overflow-group"})]),iM=g((function(e,t){!function(e,t){var n=ja.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);sa(e,"max-width",n+"px")}(e,Math.floor(t))})),aM=g([Ml(["toggledClass"]),Dt("lazySink"),Rt("fetch"),Ut("getBounds"),qt("fireDismissalEventInstead",[Kt("event",Ur())]),Es()]),lM=g([lf({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:_u([Eh.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),lf({factory:TE,schema:_E(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:_u([ih.config({mode:"cyclic",onEscape:function(t){return wf(t,e,"button").each(gh.focus),B.none()}})])}}})]),uM=function(e,t){var n=Qx.getCoupled(e,"toolbarSandbox");sd.isOpen(n)?sd.close(n):sd.open(n,t.toolbar())},sM=function(e,t,n,r){var o=n.getBounds.map((function(e){return e()})),i=n.lazySink(e).getOrDie();Hc.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:iM()}}},o)},cM=function(e,t,n,r,o){TE.setGroups(t,o),sM(e,t,n,r),Eh.on(e)},dM=Bf({name:"FloatingToolbarButton",factory:function(e,t,n,r){return _(_({},wg.sketch(_(_({},r.button()),{action:function(e){uM(e,r)},buttonBehaviours:zd({dump:r.button().buttonBehaviours},[Qx.config({others:{toolbarSandbox:function(t){return function(e,t,n){var r=hl();return{dom:{tag:"div",attributes:{id:r.id}},behaviours:_u([ih.config({mode:"special",onEscape:function(e){return sd.close(e),B.some(!0)}}),sd.config({onOpen:function(o,i){n.fetch().get((function(o){cM(e,i,n,t.layouts,o),r.link(e.element),ih.focusIn(i)}))},onClose:function(){Eh.off(e),gh.focus(e),r.unlink(e.element)},isPartOf:function(t,n,r){return vl(n,r)||vl(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),Du.config({channels:_(_({},md(_({isExtraPart:C},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),gd({doReposition:function(){sd.getState(Qx.getCoupled(e,"toolbarSandbox")).each((function(r){sM(e,r,n,t.layouts)}))}}))})])}}(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){sd.getState(Qx.getCoupled(t,"toolbarSandbox")).each((function(o){cM(t,o,e,n.layouts,r)}))},reposition:function(t){sd.getState(Qx.getCoupled(t,"toolbarSandbox")).each((function(r){sM(t,r,e,n.layouts)}))},toggle:function(e){uM(e,r)},getToolbar:function(e){return sd.getState(Qx.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return sd.isOpen(Qx.getCoupled(e,"toolbarSandbox"))}}})},configFields:aM(),partFields:lM(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),fM=g([Dt("items"),Ml(["itemSelector"]),Md("tgroupBehaviours",[ih])]),pM=g([sf({name:"items",unit:"item"})]),mM=Bf({name:"ToolbarGroup",configFields:fM(),partFields:pM(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Nd(e.tgroupBehaviours,[ih.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),hM=function(e){return U(e,(function(e){return Na(e)}))},gM=function(e,t,n){tM(e,n,(function(r){n.overflowGroups.set(r),t.getOpt(e).each((function(e){dM.setGroups(e,hM(r))}))}))},vM=Bf({name:"SplitFloatingToolbar",configFields:rM(),partFields:oM(),factory:function(e,t,n,r){var o=xg(dM.sketch({fetch:function(){return Fx((function(t){t(hM(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[au,iu]},onRtl:function(){return[iu,au]},onBottomLtr:function(){return[uu,lu]},onBottomRtl:function(){return[lu,uu]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Nd(e.splitToolbarBehaviours,[Qx.config({others:{overflowGroup:function(){return mM.sketch(_(_({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(U(n,t.getSystem().build)),gM(t,o,e)},refresh:function(t){return gM(t,o,e)},toggle:function(e){o.getOpt(e).each((function(e){dM.toggle(e)}))},isOpen:function(e){return o.getOpt(e).map(dM.isOpen).getOr(!1)},reposition:function(e){o.getOpt(e).each((function(e){dM.reposition(e)}))},getOverflow:function(e){return o.getOpt(e).bind(dM.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),bM=g([Ml(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Nl("onOpened"),Nl("onClosed")].concat(nM())),yM=g([af({factory:TE,schema:_E(),name:"primary"}),af({factory:TE,schema:_E(),name:"overflow",overrides:function(e){return{toolbarBehaviours:_u([AA.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){wf(t,e,"overflow-button").each((function(e){Eh.off(e),gh.focus(e)})),e.onClosed(t)},onGrown:function(t){ih.focusIn(t),e.onOpened(t)},onStartGrow:function(t){wf(t,e,"overflow-button").each(Eh.on)}}),ih.config({mode:"acyclic",onEscape:function(t){return wf(t,e,"overflow-button").each(gh.focus),B.some(!0)}})])}}}),lf({name:"overflow-button",overrides:function(e){return{buttonBehaviours:_u([Eh.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),lf({name:"overflow-group"})]),wM=function(e,t){wf(e,t,"overflow-button").bind((function(){return wf(e,t,"overflow")})).each((function(n){xM(e,t),AA.toggleGrow(n)}))},xM=function(e,t){wf(e,t,"overflow").each((function(n){tM(e,t,(function(e){var t=U(e,(function(e){return Na(e)}));TE.setGroups(n,t)})),wf(e,t,"overflow-button").each((function(e){AA.hasGrown(n)&&Eh.on(e)})),AA.refresh(n)}))},CM=Bf({name:"SplitSlidingToolbar",configFields:bM(),partFields:yM(),factory:function(e,t,n,r){var o="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:Nd(e.splitToolbarBehaviours,[Qx.config({others:{overflowGroup:function(e){return mM.sketch(_(_({},r["overflow-group"]()),{items:[wg.sketch(_(_({},r["overflow-button"]()),{action:function(t){Jr(e,o)}}))]}))}}}),dh("toolbar-toggle-events",[lo(o,(function(t){wM(t,e)}))])]),apis:{setGroups:function(t,n){!function(t,n){var r=U(n,t.getSystem().build);e.builtGroups.set(r)}(t,n),xM(t,e)},refresh:function(t){return xM(t,e)},toggle:function(t){return wM(t,e)},isOpen:function(t){return function(e,t){return wf(e,t,"overflow").map(AA.hasGrown).getOr(!1)}(t,e)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),kM=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:_({tag:"div",classes:["tox-toolbar__group"]},t),components:[mM.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:_u([sx.config({}),gh.config({})])}},SM=function(e){return mM.sketch(kM(e))},_M=function(e,t){var n=go((function(t){var n=U(e.initGroups,SM);TE.setGroups(t,n)}));return _u([ny(e.providers.isDisabled),Jb(),ih.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),dh("toolbar-events",[n])])},OM=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":kM({title:B.none(),items:[]}),"overflow-button":rO({name:"more",icon:B.some("more-drawer"),disabled:!1,tooltip:B.some("More..."),primary:!1,borderless:!1},B.none(),e.providers)},splitToolbarBehaviours:_M(e,t)}},TM=function(e){var t=OM(e),n=vM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return vM.sketch(_(_({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,n=rl(t),r=Mo(t),o=rl(r),i=Math.max(r.dom.scrollHeight,o.height);return tl(n.x+4,o.y,n.width-8,i)},parts:_(_({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},EM=function(e){var t=CM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=CM.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=OM(e);return CM.sketch(_(_({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([JE()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([JE()],{type:"closed"})}}))},AM=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return TE.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===yv.scrolling?["tox-toolbar--scrolling"]:[])},components:[TE.parts.groups({})],toolbarBehaviours:_M(e,t)})},MM=yE.optional({factory:pA,name:"menubar",schema:[Dt("backstage")]}),DM=yE.optional({factory:{sketch:function(e){return SE.sketch({uid:e.uid,dom:e.dom,listBehaviours:_u([ih.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return AM({type:e.type,uid:mi("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),B.some(!0)}})},setupItem:function(e,t,n,r){TE.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[Dt("dom"),Dt("onEscape")]}),NM=yE.optional({factory:{sketch:function(e){return function(e){return e.type===yv.sliding?EM:e.type===yv.floating?TM:AM}(e)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),B.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[Dt("dom"),Dt("onEscape"),Dt("getSink")]}),PM=yE.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?aA:ME;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:_u(n(t,e.sharedBackstage))}}},name:"header",schema:[Dt("dom")]}),zM=yE.optional({name:"socket",schema:[Dt("dom")]}),BM=yE.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:_u([sx.config({}),gh.config({}),AA.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){Ff.getCurrent(e).each(BA.hideAllSlots),Jr(e,jA)},onGrown:function(e){Jr(e,jA)},onStartGrow:function(e){Qr(e,HA,{width:ma(e.element,"width").getOr("")})},onStartShrink:function(e){Qr(e,HA,{width:$a(e.element)+"px"})}}),ch.config({}),Ff.config({find:function(e){var t=ch.contents(e);return le(t)}})])}],behaviours:_u([ES(0),dh("sidebar-sliding-events",[lo(HA,(function(e,t){sa(e.element,"width",t.event.width)})),lo(jA,(function(e,t){va(e.element,"width")}))])])}}},name:"sidebar",schema:[Dt("dom")]}),RM=yE.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:_u([ch.config({}),WA.config({focus:!1}),Ff.config({find:function(e){return le(e.components())}})]),components:[]}}},name:"throbber",schema:[Dt("dom")]}),IM=Bf({name:"OuterContainer",factory:function(e,t,n){var r={getSocket:function(t){return bE.getPart(t,e,"socket")},setSidebar:function(t,n){bE.getPart(t,e,"sidebar").each((function(e){return function(e,t){Ff.getCurrent(e).each((function(e){return ch.set(e,[FA(t)])}))}(e,n)}))},toggleSidebar:function(t,n){bE.getPart(t,e,"sidebar").each((function(e){return function(e,t){Ff.getCurrent(e).each((function(e){Ff.getCurrent(e).each((function(n){AA.hasGrown(e)?BA.isShowing(n,t)?AA.shrink(e):(BA.hideAllSlots(n),BA.showSlot(n,t)):(BA.hideAllSlots(n),BA.showSlot(n,t),AA.grow(e))}))}))}(e,n)}))},whichSidebar:function(t){return bE.getPart(t,e,"sidebar").bind(VA).getOrNull()},getHeader:function(t){return bE.getPart(t,e,"header")},getToolbar:function(t){return bE.getPart(t,e,"toolbar")},setToolbar:function(t,n){bE.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){bE.getPart(t,e,"multiple-toolbar").each((function(e){SE.setItems(e,n)}))},refreshToolbar:function(t){bE.getPart(t,e,"toolbar").each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){bE.getPart(t,e,"toolbar").each((function(e){var t,n;t=e.getApis().toggle,n=function(t){return t(e)},null!=t?B.some(n(t)):B.none()}))},isToolbarDrawerToggled:function(t){return bE.getPart(t,e,"toolbar").bind((function(e){return B.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return bE.getPart(t,e,"throbber")},focusToolbar:function(t){bE.getPart(t,e,"toolbar").orThunk((function(){return bE.getPart(t,e,"multiple-toolbar")})).each((function(e){ih.focusIn(e)}))},setMenubar:function(t,n){bE.getPart(t,e,"menubar").each((function(e){pA.setMenus(e,n)}))},focusMenubar:function(t){bE.getPart(t,e,"menubar").each((function(e){pA.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},configFields:[Dt("dom"),Dt("behaviours")],partFields:[PM,MM,NM,DM,zM,BM,RM],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=U(n,(function(e){return SM(e)}));e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=U(n,(function(e){return U(e,SM)}));e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),LM={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},FM=function(e){return"string"==typeof e?e.split(" "):e},VM=function(e,t){var n=_(_({},LM),t.menus),r=Me(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?FM("file edit view insert format tools table help"):FM(!1===t.menubar?"":t.menubar),i=K(o,(function(e){var n=Ve(LM,e);return r?n||Fe(t.menus,e).exists((function(e){return Ve(e,"items")})):n})),a=U(i,(function(r){var o=n[r];return function(e,t,n){var r=function(e){return e.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:e.title,getItems:function(){return Q(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||H(r,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}}({title:o.title,items:FM(o.items)},t,e)}));return K(a,(function(e){return e.getItems().length>0&&H(e.getItems(),(function(e){return"separator"!==e.type}))}))},HM=function(e){var t=function(){e._skinLoaded=!0,function(e){e.fire("SkinLoaded")}(e)};return function(){e.initialized?t():e.on("init",t)}},jM=function(e,t,n){return new Yg((function(r,o){n.load(t,r,o),e.on("remove",(function(){return n.unload(t)}))}))},$M=function(e,t){return jM(e,t+"/skin.min.css",e.ui.styleSheetLoader)},UM=function(e,t){var n;return(n=on.fromDom(e.getElement()),$o(n).isSome())?jM(e,t+"/skin.shadowdom.min.css",wb.DOM.styleSheetLoader):Yg.resolve()},WM=function(e,t){var n=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var r=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):xb.baseURL+"/skins/ui/"+r}return n}(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!1===function(e){return!1===e.getParam("skin")}(t)&&r(n)?Yg.all([$M(t,n),UM(t,n)]).then(HM(t),function(e,t){return function(){return function(e,t){return e.fire("SkinLoadError",t)}(e,{message:t})}}(t,"Skin could not be loaded")):HM(t)()},qM=y(WM,!1),KM=y(WM,!0),YM=function(e,t){return function(n){var r=ts(),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive);r.set(o)};return e.initialized?o():e.once("init",o),function(){e.off("init",o),r.clear()}}},GM=function(e,t,n){return function(r){var o=function(){return n(r)},i=function(){n(r),e.on(t,o)};return e.initialized?i():e.once("init",i),function(){e.off("init",i),e.off(t,o)}}},XM=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},ZM=function(e,t){return function(){return e.execCommand(t)}},JM=function(e,t,n){var r=function(e,r,i,a){var l=t.shared.providers.translate(e.title);if("separator"===e.type)return B.some({type:"separator",text:l});if("submenu"===e.type){var u=Q(e.getStyleItems(),(function(e){return o(e,r,a)}));return 0===r&&u.length<=0?B.none():B.some({type:"nestedmenuitem",text:l,disabled:u.length<=0,getSubmenuItems:function(){return Q(e.getStyleItems(),(function(e){return o(e,r,a)}))}})}return B.some(_({type:"togglemenuitem",text:l,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},o=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return Q(e,(function(e){return o(e,r,t)}))};return{validateItems:i,getFetch:function(e,t){return function(n,r){var o=t(),a=i(o);r(J_(a,xv.CLOSE_ON_EXECUTE,e,!1))}}}},QM=function(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return U(r.data,(function(e){return HT(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:JM(0,t,n),getStyleItems:o}},eD=function(e,t,n){var r=QM(0,t,n),o=r.items,i=r.getStyleItems,a=GM(e,"NodeChange",(function(e){var t=e.getComponent();n.updateText(t)}));return q_({text:n.icon.isSome()?B.none():n.text,icon:n.icon,tooltip:B.from(n.tooltip),role:B.none(),fetch:o.getFetch(t,i),onSetup:a,getApi:function(e){return{getComponent:g(e)}},columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};(LO=IO||(IO={}))[LO.SemiColon=0]="SemiColon",LO[LO.Space=1]="Space";var tD,nD,rD,oD,iD,aD,lD=function(e,t,n,r){return{type:"basic",data:function(e){return U(e,(function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}}))}(function(e,t){return t===IO.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")}(e.getParam(t,n,"string"),r))}},uD=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],sD=function(e){var t={type:"basic",data:uD};return{tooltip:"Align",text:B.none(),icon:B.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:B.none,getPreviewFor:function(e){return B.none},onAction:function(t){return function(){return X(uD,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}},updateText:function(t){var n=X(uD,(function(t){return e.formatter.match(t.format)})).fold(g("left"),(function(e){return e.title.toLowerCase()}));Qr(t,W_,{icon:"align-"+n})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},cD=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],dD=function(e){var t=e.split(/\s*,\s*/);return U(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},fD=function(e){var t="System Font",n=function(){var n=function(e){return e?dD(e)[0]:""},o=e.queryCommandValue("FontName"),i=r.data,a=o?o.toLowerCase():"";return{matchOpt:X(i,(function(e){var t=e.format;return t.toLowerCase()===a||n(t).toLowerCase()===n(a).toLowerCase()})).orThunk((function(){return na(function(e){var t;return 0===e.indexOf("-apple-system")&&(t=dD(e.toLowerCase()),ee(cD,(function(e){return t.indexOf(e.toLowerCase())>-1})))}(a),{title:t,format:a})})),font:o}},r=lD(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",IO.SemiColon);return{tooltip:"Fonts",text:B.some(t),icon:B.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getCurrentValue:function(){return n().matchOpt},getPreviewFor:function(e){return function(){return B.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},updateText:function(e){var t=n(),r=t.matchOpt,o=t.font,i=r.fold(g(o),(function(e){return e.title}));Qr(e,U_,{text:i})},dataset:r,shouldHide:!1,isInvalid:C}},pD={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},mD={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},hD=function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(72*parseInt(e,10)/96,t||0)+"pt":Fe(mD,e).getOr(e)},gD=function(e){var t=function(){var t=B.none(),n=r.data,o=e.queryCommandValue("FontSize");if(o)for(var i=function(e){var r=hD(o,e),i=function(e){return Fe(pD,e).getOr("")}(r);t=X(n,(function(e){return e.format===o||e.format===r||e.format===i}))},a=3;t.isNone()&&a>=0;a--)i(a);return{matchOpt:t,size:o}},n=g(B.none),r=lD(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",IO.Space);return{tooltip:"Font sizes",text:B.some("12pt"),icon:B.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getPreviewFor:n,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},updateText:function(e){var n=t(),r=n.matchOpt,o=n.size,i=r.fold(g(o),(function(e){return e.title}));Qr(e,U_,{text:i})},dataset:r,shouldHide:!1,isInvalid:C}},vD=function(e,t){var n=t(),r=U(n,(function(e){return e.format}));return B.from(e.formatter.closest(r)).bind((function(e){return X(n,(function(t){return t.format===e}))})).orThunk((function(){return na(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))},bD=function(e){var t="Paragraph",n=lD(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",IO.SemiColon);return{tooltip:"Blocks",text:B.some(t),icon:B.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:B.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return B.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},onAction:XM(e),updateText:function(r){var o=vD(e,(function(){return n.data})).fold(g(t),(function(e){return e.title}));Qr(r,U_,{text:o})},dataset:n,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},yD=function(e,t){var n="Paragraph";return{tooltip:"Formats",text:B.some(n),icon:B.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:B.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?B.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):B.none()}},onAction:XM(e),updateText:function(t){var r=function(e){var t=e.items;return void 0!==t&&t.length>0?Q(t,r):[{title:e.title,format:e.format}]},o=Q(VT(e),r),i=vD(e,g(o)).fold(g(n),(function(e){return e.title}));Qr(t,U_,{text:i})},shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},wD=Object.freeze({__proto__:null,events:function(e,t){var n=function(n,r){e.updateState.each((function(e){var o=e(n,r);t.set(o)})),e.renderComponents.each((function(e){var o=e(r,t.get()),i=U(o,n.getSystem().build);Wc(n,i)}))};return oo([lo(Mr(),(function(t,r){var o=r;if(!o.universal){var i=e.channel;V(o.channels,i)&&n(t,o.data)}})),go((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])}}),xD=Object.freeze({__proto__:null,getState:function(e,t,n){return n}}),CD=[Dt("channel"),Vt("renderComponents"),Vt("updateState"),Vt("initialData")],kD=Object.freeze({__proto__:null,init:function(){var e=nn(B.none());return{readState:function(){return e.get().getOr("none")},get:e.get,set:e.set,clear:function(){return e.set(B.none())}}}}),SD=Tu({fields:CD,name:"reflecting",active:wD,apis:xD,state:kD}),_D=g([Dt("toggleClass"),Dt("fetch"),zl("onExecute"),Kt("getHotspot",B.some),Kt("getAnchorOverrides",g({})),Es(),zl("onItemExecute"),Vt("lazySink"),Dt("dom"),Nl("onOpen"),Md("splitDropdownBehaviours",[Qx,ih,gh]),Kt("matchWidth",!1),Kt("useMinWidth",!1),Kt("eventOrder",{}),Vt("role")].concat(hC())),OD=af({factory:wg,schema:[Dt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:_u([gh.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(eo)},buttonBehaviours:_u([Eh.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),TD=af({factory:wg,schema:[Dt("dom")],name:"button",defaults:function(){return{buttonBehaviours:_u([gh.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),ED=g([OD,TD,uf({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Dt("text")],name:"aria-descriptor"}),lf({schema:[Al()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),tC()]),AD=Bf({name:"SplitDropdown",configFields:_D(),partFields:ED(),factory:function(e,t,n,r){var o,i=function(e){Ff.getCurrent(e).each((function(e){cp.highlightFirst(e),ih.focusIn(e)}))},a=function(t){sC(e,v,t,r,i,Nx.HighlightFirst).get(m)},l=function(t){var n=xf(t,e,"button");return eo(n),B.some(!0)},u=_(_({},oo([go((function(t,n){wf(t,e,"aria-descriptor").each((function(e){var n=mi("aria");ri(e.element,"id",n),ri(t.element,"aria-describedby",n)}))}))])),Mh(B.some(a))),s={repositionMenus:function(e){Eh.isOn(e)&&mC(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:s,eventOrder:_(_({},e.eventOrder),(o={},o[Dr()]=["disabling","toggling","alloy.base.behaviour"],o)),events:u,behaviours:Nd(e.splitDropdownBehaviours,[Qx.config({others:{sandbox:function(t){var n=xf(t,e,"arrow");return pC(e,t,{onOpen:function(){Eh.on(n),Eh.on(t)},onClose:function(){Eh.off(n),Eh.off(t)}})}}}),ih.config({mode:"special",onSpace:l,onEnter:l,onDown:function(e){return a(e),B.some(!0)}}),gh.config({}),Eh.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),MD=function(e){return{isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)}}},DD=function(e){return{setActive:function(t){Eh.set(e,t)},isActive:function(){return Eh.isOn(e)},isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)}}},ND=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},PD=mi("focus-button"),zD=function(e,t,n,r,o,i){var a;return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:ND(n,i)},components:uy([e.map((function(e){return F_(e,i.icons)})),t.map((function(e){return H_(e,"tox-tbtn",i)}))]),eventOrder:(a={},a[sr()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:_u([ny(i.isDisabled),Jb(),dh("common-button-display-events",[lo(sr(),(function(e,t){t.event.prevent(),Jr(e,PD)}))])].concat(r.map((function(n){return SD.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return uy([e.icon.map((function(e){return F_(e,i.icons)})),e.text.map((function(e){return H_(e,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},BD=function(e,t,n){var r,o=nn(m),i=zD(e.icon,e.text,e.tooltip,B.none(),B.none(),n);return wg.sketch({dom:i.dom,components:i.components,eventOrder:$_,buttonBehaviours:_u([dh("toolbar-button-events",[(r={onAction:e.onAction,getApi:t.getApi},yo((function(e,t){ry(r,e)((function(t){Qr(e,j_,{buttonApi:t}),r.onAction(t)}))}))),oy(t,o),iy(t,o)]),ny((function(){return e.disabled||n.isDisabled()})),Jb()].concat(t.toolbarButtonBehaviours))})},RD=function(e,t,n){return BD(e,{toolbarButtonBehaviours:[].concat(n.length>0?[dh("toolbarButtonWith",n)]:[]),getApi:MD,onSetup:e.onSetup},t)},ID=function(e,t,n){return $e(BD(e,{toolbarButtonBehaviours:[ch.config({}),Eh.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[dh("toolbarToggleButtonWith",n)]:[]),getApi:DD,onSetup:e.onSetup},t))},LD=function(e,t,n){return function(r){return Fx((function(e){return t.fetch(e)})).map((function(o){return B.from(Fw($e(vw(mi("menu-value"),o,(function(n){t.onItemAction(e(r),n)}),t.columns,t.presets,xv.CLOSE_ON_EXECUTE,t.select.getOr(C),n),{movement:yw(t.columns,t.presets),menuBehaviours:db("auto"!==t.columns?[]:[go((function(e,n){sb(e,4,Pv(t.presets)).each((function(t){var n=t.numRows,r=t.numColumns;ih.setGridSize(e,n,r)}))}))])})))}))}},FD=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],VD=function(e,t){return function(n,r,o){var i=e(n).mapError((function(e){return Ot(e)})).getOrDie();return t(i,r,o)}},HD={button:VD(av,(function(e,t){return n=e,r=t.backstage.shared.providers,RD(n,r,[]);var n,r})),togglebutton:VD(sv,(function(e,t){return n=e,r=t.backstage.shared.providers,ID(n,r,[]);var n,r})),menubutton:VD(dA,(function(e,t){return eO(e,"tox-tbtn",t.backstage,B.none())})),splitbutton:VD((function(e){return kt("SplitButton",fA,e)}),(function(e,t){return n=e,r=t.backstage.shared,i=mi("channel-update-split-dropdown-display"),a=function(e){return{isDisabled:function(){return Qf.isDisabled(e)},setDisabled:function(t){return Qf.set(e,t)},setIconFill:function(t,n){pl(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){ri(e,"fill",n)}))},setIconStroke:function(t,n){pl(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){ri(e,"stroke",n)}))},setActive:function(t){ri(e.element,"aria-pressed",t),pl(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Eh.set(e,t)}))}))},isActive:function(){return pl(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(Eh.isOn)}))}}},l=nn(m),u={getApi:a,onSetup:n.onSetup},AD.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:_({"aria-pressed":!1},ND(n.tooltip,r.providers))},onExecute:function(e){n.onAction(a(e))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:_u([ty(r.providers.isDisabled),Jb(),dh("split-dropdown-events",[lo(PD,gh.focus),oy(u,l),iy(u,l)]),wC.config({})]),eventOrder:(o={},o[jr()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:LD(a,n,r.providers),parts:{menu:Fv(0,n.columns,n.presets)},components:[AD.parts.button(zD(n.icon,n.text,B.none(),B.some(i),B.some([Eh.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),AD.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Eg("chevron-down",r.providers.icons)},buttonBehaviours:_u([ty(r.providers.isDisabled),Jb(),Ag()])}),AD.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]});var n,r,o,i,a,l,u})),grouptoolbarbutton:VD((function(e){return kt("GroupToolbarButton",uA,e)}),(function(e,t,n){var r,o=n.ui.registry.getAll().buttons,i=((r={})[Os]=t.backstage.shared.header.isPositionedAtTop()?qu.TopToBottom:qu.BottomToTop,r);switch(zb(n)){case yv.floating:return function(e,t,n,r){var o=t.shared;return dM.sketch({lazySink:o.getSink,fetch:function(){return Fx((function(t){t(U(n(e.items),SM))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:zD(e.icon,e.text,e.tooltip,B.none(),B.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}(e,t.backstage,(function(e){return WD(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,B.none())}),i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return function(e,t){var n=_({type:"advanced"},t.styleselect);return eD(e,t,yD(e,n))}(e,t.backstage)},fontsizeSelectButton:function(e,t){return function(e,t){return eD(e,t,gD(e))}(e,t.backstage)},fontSelectButton:function(e,t){return function(e,t){return eD(e,t,fD(e))}(e,t.backstage)},formatButton:function(e,t){return function(e,t){return eD(e,t,bD(e))}(e,t.backstage)},alignMenuButton:function(e,t){return function(e,t){return eD(e,t,sD(e))}(e,t.backstage)}},jD={styleselect:HD.styleSelectButton,fontsizeselect:HD.fontsizeSelectButton,fontselect:HD.fontSelectButton,formatselect:HD.formatButton,align:HD.alignMenuButton},$D=function(e){var t,n=e.toolbar,o=e.buttons;return!1===n?[]:void 0===n||!0===n?function(e){var t=U(FD,(function(t){var n=K(t.items,(function(t){return Ve(e,t)||Ve(jD,t)}));return{name:t.name,items:n}}));return K(t,(function(e){return e.items.length>0}))}(o):r(n)?(t=n.split("|"),U(t,(function(e){return{items:e.trim().split(" ")}}))):function(e){return p(e,(function(e){return Ve(e,"name")&&Ve(e,"items")}))}(n)?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},UD=function(e,t,n,r,o,i){return Fe(t,n.toLowerCase()).orThunk((function(){return i.bind((function(e){return ce(e,(function(e){return Fe(t,e+n.toLowerCase())}))}))})).fold((function(){return Fe(jD,n.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return B.none()}))}),(function(t){return"grouptoolbarbutton"!==t.type||r?function(e,t,n){return Fe(HD,e.type).fold((function(){return console.error("skipping button defined by",e),B.none()}),(function(r){return B.some(r(e,t,n))}))}(t,o,e):(console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),B.none())}))},WD=function(e,t,n,r){var o=$D(t),i=U(o,(function(o){var i=Q(o.items,(function(o){return 0===o.trim().length?[]:UD(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()}));return{title:B.from(e.translate(o.name)),items:i}}));return K(i,(function(e){return e.items.length>0}))},qD=function(e,t,n,o){var i=t.outerContainer,a=n.toolbar,l=n.buttons;if(p(a,r)){var u=a.map((function(t){var r={toolbar:t,buttons:l,allowToolbarGroups:n.allowToolbarGroups};return WD(e,r,{backstage:o},B.none())}));IM.setToolbars(i,u)}else IM.setToolbar(i,WD(e,n,{backstage:o},B.none()))},KD=Fn(),YD=KD.os.isiOS()&&KD.os.version.major<=12,GD=Object.freeze({__proto__:null,render:function(e,t,n,r,o){var i=nn(0),l=t.outerContainer;qM(e);var u,s,c=on.fromDom(o.targetNode),d=jo(Ho(c));u=c,s=t.mothership,Jc(u,s,Ko),Zc(d,t.uiMothership),e.on("PostRender",(function(){qD(e,t,n,r),i.set(e.getWin().innerWidth),IM.setMenubar(l,VM(e,n)),IM.setSidebar(l,n.sidebar),function(e,t){var n=e.dom,r=e.getWin(),o=e.getDoc().documentElement,i=nn(La(r.innerWidth,r.innerHeight)),a=nn(La(o.offsetWidth,o.offsetHeight)),l=function(){var t=i.get();t.left===r.innerWidth&&t.top===r.innerHeight||(i.set(La(r.innerWidth,r.innerHeight)),Ky(e))},u=function(){var t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(La(t.offsetWidth,t.offsetHeight)),Ky(e))},s=function(t){return function(e,t){return e.fire("ScrollContent",t)}(e,t)};n.bind(r,"resize",l),n.bind(r,"scroll",s);var c=is(on.fromDom(e.getBody()),"load",u),d=t.uiMothership.element;e.on("hide",(function(){sa(d,"display","none")})),e.on("show",(function(){va(d,"display")})),e.on("NodeChange",u),e.on("remove",(function(){c.unbind(),n.unbind(r,"resize",l),n.unbind(r,"scroll",s),r=null}))}(e,t)}));var f,p,m,h=IM.getSocket(l).getOrDie("Could not find expected socket element");if(YD){ca(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var g=(f=function(){e.fire("ScrollContent")},p=20,m=null,{cancel:function(){a(m)||(clearTimeout(m),m=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a(m)&&(m=setTimeout((function(){m=null,f.apply(null,e)}),p))}}),v=os(h.element,"scroll",g.throttle);e.on("remove",v.unbind)}Zb(e,t),e.addCommand("ToggleSidebar",(function(t,n){IM.toggleSidebar(l,n),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return IM.whichSidebar(l)}));var b=zb(e);b!==yv.sliding&&b!==yv.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var n=e.getWin().innerWidth;n!==i.get()&&(IM.refreshToolbar(t.outerContainer),i.set(n))}));var y={enable:function(){Xb(t,!1)},disable:function(){Xb(t,!0)},isDisabled:function(){return Qf.isDisabled(l)}};return{iframeContainer:h.element.dom,editorContainer:l.element.dom,api:y}}}),XD=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?B.some(parseInt(""+e,10)):B.none()},ZD=function(e){return f(e)?e+"px":e},JD=function(e,t,n){var r=t.filter((function(t){return e<t})),o=n.filter((function(t){return e>t}));return r.or(o).getOr(e)},QD=function(e){return function(e){var t=Cb(e),n=_b(e),r=Tb(e);return XD(t).map((function(e){return JD(e,n,r)}))}(e).getOr(Cb(e))},eN=function(e){var t=kb(e),n=Sb(e),r=Ob(e);return XD(t).map((function(e){return JD(e,n,r)}))},tN=function(e,t,n,r,o){var i=n.uiMothership,a=n.outerContainer,l=wb.DOM,u=Vb(e),s=$b(e),c=Ob(e).or(eN(e)),d=r.shared.header,f=d.isPositionedAtTop,p=zb(e),m=p===yv.sliding||p===yv.floating,h=nn(!1),v=function(){return h.get()&&!e.removed},b=function(e){return m?e.fold(g(0),(function(e){return e.components().length>1?Ba(e.components()[1].element):0})):0},y=function(){i.broadcastOn([dd()],{})},w=function(e){if(void 0===e&&(e=!1),v()){var n,r,i,l,d;if(u||(n=c.getOrThunk((function(){var e=XD(fa(ia(),"margin-left")).getOr(0);return $a(ia())-Va(t).left+e})),sa(o.get().element,"max-width",n+"px")),m&&IM.refreshToolbar(a),u||(r=IM.getToolbar(a),i=b(r),l=nl(t),d=f()?Math.max(l.y-Ba(o.get().element)+i,0):l.bottom,ca(a.element,{position:"absolute",top:Math.round(d)+"px",left:Math.round(l.x)+"px"})),s){var p=o.get();e?ZE.reset(p):ZE.refresh(p)}y()}},x=function(n){if(void 0===n&&(n=!0),!u&&s&&v()){var r=d.getDockingMode(),i=function(n){switch(Ib(e)){case Nb.auto:var r=IM.getToolbar(a),o=b(r),i=Ba(n.element)-o,l=nl(t);if(l.y>i)return"top";var u=Mo(t),s=Math.max(u.dom.scrollHeight,Ba(u));return l.bottom<s-i||ol().bottom<l.bottom-i?"bottom":"top";case Nb.bottom:return"bottom";case Nb.top:default:return"top"}}(o.get());i!==r&&(!function(e){var t=o.get();ZE.setModes(t,[e]),d.setDockingMode(e);var n=f()?qu.TopToBottom:qu.BottomToTop;ri(t.element,Os,n)}(i),n&&w(!0))}};return{isVisible:v,isPositionedAtTop:f,show:function(){h.set(!0),sa(a.element,"display","flex"),l.addClass(e.getBody(),"mce-edit-focus"),va(i.element,"display"),x(!1),w()},hide:function(){h.set(!1),n.outerContainer&&(sa(a.element,"display","none"),l.removeClass(e.getBody(),"mce-edit-focus")),sa(i.element,"display","none")},update:w,updateMode:x,repositionPopups:y}},nN=function(e,t){var n=nl(e);return{pos:t?n.y:n.bottom,bounds:n}},rN=Object.freeze({__proto__:null,render:function(e,t,n,r,o){var i=t.mothership,a=t.uiMothership,l=t.outerContainer,u=nn(null),s=on.fromDom(o.targetNode),c=tN(e,s,t,r,u),d=function(e){return e.getParam("toolbar_persist",!1,"boolean")}(e);KM(e);var f=function(){if(u.get())c.show();else{u.set(IM.getHeader(l).getOrDie());var o=Hb(e);Zc(o,i),Zc(o,a),qD(e,t,n,r),IM.setMenubar(l,VM(e,n)),c.show(),function(e,t,n,r){var o=nn(nN(t,n.isPositionedAtTop())),i=function(r){var i=nN(t,n.isPositionedAtTop()),a=i.pos,l=i.bounds,u=o.get(),s=u.pos,c=u.bounds,d=l.height!==c.height||l.width!==c.width;o.set({pos:a,bounds:l}),d&&Ky(e,r),n.isVisible()&&(s!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};r||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){yg.requestAnimationFrame((function(){return i(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var a=ts();a.set(is(on.fromDom(e.getBody()),"load",i)),e.on("remove",(function(){a.clear()}))}(e,s,c,d),e.nodeChanged()}},p=function(){return yg.setEditorTimeout(e,f,0)};e.on("show",f),e.on("hide",c.hide),d||(e.on("focus",p),e.on("blur",c.hide)),e.on("init",(function(){(e.hasFocus()||d)&&p()})),Zb(e,t);var m={show:function(){c.show()},hide:function(){c.hide()},enable:function(){Xb(t,!1)},disable:function(){Xb(t,!0)},isDisabled:function(){return Qf.isDisabled(l)}};return{editorContainer:l.element.dom,api:m}}}),oN="contexttoolbar-hide",iN=function(e,t){return lo(j_,(function(n,r){var o=function(e){return{hide:function(){return Jr(e,Br())},getValue:function(){return Ad.getValue(e)}}}(e.get(n));t.onAction(o,r.event.buttonApi)}))},aN=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?function(e,t,n){var r=t.original;r.primary;var o=O(r,["primary"]),i=St(sv(_(_({},o),{type:"togglebutton",onAction:m})));return ID(i,n.backstage.shared.providers,[iN(e,t)])}(e,t,r):function(e,t,n){var r=t.original;r.primary;var o=O(r,["primary"]),i=St(av(_(_({},o),{type:"button",onAction:m})));return RD(i,n.backstage.shared.providers,[iN(e,t)])}(e,t,r)},lN=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),r=xg(Ax.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:_u([ih.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map((function(e){return eo(e),!0}))},onLeft:function(e,t){return t.cut(),B.none()},onRight:function(e,t){return t.cut(),B.none()}})])})),o=function(e,t,n){var r=U(t,(function(t){return xg(aN(e,t,n))}));return{asSpecs:function(){return U(r,(function(e){return e.asSpec()}))},findPrimary:function(e){return ce(t,(function(t,n){return t.primary?B.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(w(Qf.isDisabled)):B.none()}))}}}(r,e.commands,t);return[{title:B.none(),items:[r.asSpec()]},{title:B.none(),items:o.asSpecs()}]},uN=lN,sN=function(e,t,n){return void 0===n&&(n=.01),t.bottom-e.y>=n&&e.bottom-t.y>=n},cN=function(e){var t=function(e){var t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){var n=Io(on.fromDom(e.startContainer),e.startOffset).element;return(_o(n)?No(n):B.some(n)).filter(So).map((function(e){return e.dom.getBoundingClientRect()})).getOr(t)}return t}(e.selection.getRng());if(e.inline){var n=Ya();return tl(n.left+t.left,n.top+t.top,t.width,t.height)}var r=rl(on.fromDom(e.getBody()));return tl(r.x+t.left,r.y+t.top,t.width,t.height)},dN=function(e,t,n,r){void 0===r&&(r=0);var o=Za(window),i=nl(on.fromDom(e.getContentAreaContainer())),a=Eb(e)||Ab(e)||Db(e),l=function(e,t,n){var r=Math.max(e.x+n,t.x);return{x:r,width:Math.min(e.right-n,t.right)-r}}(i,o,r),u=l.x,s=l.width;if(e.inline&&!a)return tl(u,o.y,s,o.height);var c=function(e,t,n,r,o,i){var a=on.fromDom(e.getContainer()),l=pl(a,".tox-editor-header").getOr(a),u=nl(l),s=u.y>=t.bottom,c=r&&!s;if(e.inline&&c)return{y:Math.max(u.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!c)return{y:n.y,bottom:Math.min(u.y-i,n.bottom)};var d="line"===o?nl(a):t;return c?{y:Math.max(u.bottom+i,n.y),bottom:Math.min(d.bottom-i,n.bottom)}:{y:Math.max(d.y+i,n.y),bottom:Math.min(u.y-i,n.bottom)}}(e,i,o,t.header.isPositionedAtTop(),n,r),d=c.y,f=c.bottom;return tl(u,d,s,f-d)},fN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},pN={maxHeightFunction:vs(),maxWidthFunction:iM()},mN=function(e){return"node"===e},hN=function(e,t,n,r,o){var i=cN(e),a=r.lastElement().exists((function(e){return jn(n,e)}));return function(e,t){var n=e.selection.getRng(),r=Io(on.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&jn(r.element,t)}(e,n)?a?gg:dg:a?function(e,t,n){var r=ma(e,"position");sa(e,"position",t);var o=n(e);return r.each((function(t){return sa(e,"position",t)})),o}(t,r.getMode(),(function(){return sN(i,nl(t))&&!r.isReposition()?bg:gg})):("fixed"===r.getMode()?o.y+Ya().top:o.y)+(Ba(t)+12)<=i.y?dg:fg},gN=function(e,t,n,r){var o=function(t){return function(r,o,i,a,l){var u=hN(e,a,t,n,l),s=_(_({},r),{y:l.y,height:l.height});return _(_({},u(s,o,i,a,l)),{alwaysFit:!0})}},i=function(e){return mN(r)?[o(e)]:[]};return t?{onLtr:function(e){return[cu,iu,au,lu,uu,su].concat(i(e))},onRtl:function(e){return[cu,au,iu,uu,lu,su].concat(i(e))}}:{onLtr:function(e){return[su,cu,lu,iu,uu,au].concat(i(e))},onRtl:function(e){return[su,cu,uu,au,lu,iu].concat(i(e))}}},vN=function(e,t){var n=K(t,(function(t){return t.predicate(e.dom)})),r=q(n,(function(e){return"contexttoolbar"===e.type}));return{contextToolbars:r.pass,contextForms:r.fail}},bN=function(e,t,n){var r=vN(e,t);if(r.contextForms.length>0)return B.some({elem:e,toolbars:[r.contextForms[0]]});var o=vN(e,n);if(o.contextForms.length>0)return B.some({elem:e,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=function(e){if(e.length<=1)return e;var t=function(t){return H(e,(function(e){return e.position===t}))},n=function(t){return K(e,(function(e){return e.position===t}))},r=t("selection"),o=t("node");if(r||o){if(o&&r){var i=n("node"),a=U(n("selection"),(function(e){return _(_({},e),{position:"node"})}));return i.concat(a)}return n(r?"selection":"node")}return n("line")}(r.contextToolbars.concat(o.contextToolbars));return B.some({elem:e,toolbars:i})}return B.none()},yN=function(e,t,n){return e(t)?B.none():Jn(t,(function(e){if(So(e)){var t=vN(e,n.inNodeScope),r=t.contextToolbars,o=t.contextForms,i=o.length>0?o:function(e){if(e.length<=1)return e;var t=function(t){return X(e,(function(e){return e.position===t}))};return t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position})).fold((function(){return[]}),(function(t){return K(e,(function(e){return e.position===t}))}))}(r);return i.length>0?B.some({elem:e,toolbars:i}):B.none()}return B.none()}),e)},wN=function(e,t){var n={},r=[],o=[],i={},a={},l=function(e,l){var u=St(kt("ContextForm",gv,l));n[e]=u,u.launch.map((function(n){i["form:"+e]=_(_({},l.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(u)}})})),"editor"===u.scope?o.push(u):r.push(u),a[e]=u},u=function(e,t){var n;(n=t,kt("ContextToolbar",vv,n)).each((function(n){"editor"===t.scope?o.push(n):r.push(n),a[e]=n}))},s=Me(e);return W(s,(function(t){var n=e[t];"contextform"===n.type?l(t,n):"contexttoolbar"===n.type&&u(t,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},xN=mi("forward-slide"),CN=mi("backward-slide"),kN=mi("change-slide-event"),SN="tox-pop--resizing",_N="tox-pop--transition",ON=function(e,t,n,r){var o,i,a=r.backstage,l=a.shared,u=Fn().deviceType.isTouch,s=ns(),c=ns(),d=ns(),f=Da((o={sink:n,onEscape:function(){return e.focus(),B.some(!0)}},i=nn([]),Qh.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){i.set([]),Qh.getContent(e).each((function(e){va(e.element,"visibility")})),Gi(e.element,SN),va(e.element,"width")},inlineBehaviours:_u([dh("context-toolbar-events",[ho(Cr(),(function(e,t){"width"===t.event.raw.propertyName&&(Gi(e.element,SN),va(e.element,"width"))})),lo(kN,(function(e,t){var n=e.element;va(n,"width");var r=$a(n);Qh.setContent(e,t.event.contents),Ki(n,SN);var o=$a(n);sa(n,"width",r+"px"),Qh.getContent(e).each((function(e){t.event.focus.bind((function(e){return Pu(e),Ru(n)})).orThunk((function(){return ih.focusIn(e),Bu(Ho(n))}))})),yg.setTimeout((function(){sa(e.element,"width",o+"px")}),0)})),lo(xN,(function(e,t){Qh.getContent(e).each((function(t){i.set(i.get().concat([{bar:t,focus:Bu(Ho(e.element))}]))})),Qr(e,kN,{contents:t.event.forwardContents,focus:B.none()})})),lo(CN,(function(e,t){ue(i.get()).each((function(t){i.set(i.get().slice(0,i.get().length-1)),Qr(e,kN,{contents:Na(t.bar),focus:t.focus})}))}))]),ih.config({mode:"special",onEscape:function(e){return ue(i.get()).fold((function(){return o.onEscape()}),(function(t){return Jr(e,CN),B.some(!0)}))}})]),lazySink:function(){return pe.value(o.sink)}}))),p=function(){var t=d.get().getOr("node"),n=mN(t)?1:0;return dN(e,l,t,n)},h=function(){return!(e.removed||u()&&a.isContextMenuOpen())},g=function(){if(h()){var t=p(),n=Qi(d.get(),"node")?function(e,t){return t.filter(oa).map(rl).getOrThunk((function(){return cN(e)}))}(e,s.get()):cN(e);return t.height<=0||!sN(n,t)}return!0},v=function(){s.clear(),c.clear(),d.clear(),Qh.hide(f)},b=function(){if(Qh.isOpen(f)){var e=f.element;va(e,"display"),g()?sa(e,"display","none"):(c.set(0),Qh.reposition(f))}},y=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:_u([ih.config({mode:"acyclic"}),dh("pop-dialog-wrap-events",[go((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return ih.focusIn(t)}))})),vo((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},w=We((function(){return wN(t,(function(e){var t=x([e]);Qr(f,xN,{forwardContents:y(t)})}))})),x=function(t){var n=e.ui.registry.getAll().buttons,o=w(),i=_(_({},n),o.formNavigators),a=zb(e)===yv.scrolling?yv.scrolling:yv.default,u=J(U(t,(function(t){return"contexttoolbar"===t.type?function(t,n){return WD(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r,B.some(["form:"]))}(i,t):function(e,t){return uN(e,t)}(t,l.providers)})));return AM({type:a,uid:mi("context-toolbar"),initGroups:u,onEscape:B.none,cyclicKeying:!0,providers:l.providers})},C=function(t,r){var o="node"===t?l.anchors.node(r):l.anchors.cursor(),i=function(e,t,n,r){return"line"===t?{bubble:xs(12,0,fN),layouts:{onLtr:function(){return[du]},onRtl:function(){return[fu]}},overrides:pN}:{bubble:xs(0,12,fN,1/12),layouts:gN(e,n,r,t),overrides:pN}}(e,t,u(),{lastElement:s.get,isReposition:function(){return Qi(c.get(),0)},getMode:function(){return Hc.getMode(n)}});return $e(o,i)},k=function(e,t){if(S.cancel(),h()){var r=x(e),o=e[0].position,i=C(o,t);d.set(o),c.set(1);var a=f.element;va(a,"display"),function(e){return Qi(ta(e,s.get(),jn),!0)}(t)||(Gi(a,_N),Hc.reset(n,f)),Qh.showWithinBounds(f,y(r),{anchor:i,transition:{classes:[_N],mode:"placement"}},(function(){return B.some(p())})),t.fold(s.clear,s.set),g()&&sa(a,"display","none")}},S=Ig((function(){e.hasFocus()&&!e.removed&&(Xi(f.element,_N)?S.throttle():function(e,t){var n,r=on.fromDom(t.getBody()),o=function(e){return jn(e,r)},i=on.fromDom(t.selection.getNode());return o(n=i)||Un(r,n)?bN(i,e.inNodeScope,e.inEditorScope).orThunk((function(){return yN(o,i,e)})):B.none()}(w(),e).fold(v,(function(e){k(e.toolbars,B.some(e.elem))})))}),17);e.on("init",(function(){e.on("remove",v),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",b),e.on("click keyup focus SetContent",S.throttle),e.on(oN,v),e.on("contexttoolbar-show",(function(t){var n=w();Fe(n.lookupTable,t.toolbarKey).each((function(n){k([n],na(t.target!==e,t.target)),Qh.getContent(f).each(ih.focusIn)}))})),e.on("focusout",(function(t){yg.setEditorTimeout(e,(function(){Ru(n.element).isNone()&&Ru(f.element).isNone()&&v()}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&v()})),e.on("AfterProgressState",(function(t){t.state?v():e.hasFocus()&&S.throttle()})),e.on("NodeChange",(function(e){Ru(f.element).fold(S.throttle,m)}))}))},TN={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},EN=(nD="[eE][+-]?[0-9]+",oD=["Infinity","[0-9]+\\."+(rD=function(e){return"(?:"+e+")?"})(tD="[0-9]+")+rD(nD),"\\.[0-9]+"+rD(nD),tD+rD(nD)].join("|"),new RegExp("^([+-]?(?:"+oD+"))(.*)$")),AN=function(e,t){return B.from(EN.exec(e)).bind((function(e){var n=Number(e[1]),r=e[2];return function(e,t){return H(t,(function(t){return H(TN[t],(function(t){return e===t}))}))}(r,t)?B.some({value:n,unit:r}):B.none()}))},MN=function(e,t){var n=function(){var n=t.getOptions(e),r=t.getCurrent(e).map(t.hash),o=ns();return U(n,(function(n){return{type:"togglemenuitem",text:t.display(n),onSetup:function(i){var a=function(e){e&&(o.on((function(e){return e.setActive(!1)})),o.set(i)),i.setActive(e)};a(Qi(r,t.hash(n)));var l=t.watcher(e,n,a);return function(){o.clear(),l()}},onAction:function(){return t.setCurrent(e,n)}}}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:function(e){return e(n())},onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},DN={name:"lineheight",text:"Line height",icon:"line-height",getOptions:function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},hash:function(e){return function(e,t){return AN(e,t).map((function(e){return e.value+e.unit}))}(e,["fixed","relative","empty"]).getOr(e)},display:v,watcher:function(e,t,n){return e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind},getCurrent:function(e){return B.from(e.queryCommandValue("LineHeight"))},setCurrent:function(e,t){return e.execCommand("LineHeight",!1,t)}},NN=function(e){MN(e,DN),function(e){return B.from(function(e){return e.getParam("content_langs",void 0,"array")}(e)).map((function(t){return{name:"language",text:"Language",icon:"language",getOptions:g(t),hash:function(e){return u(e.customCode)?e.code:e.code+"/"+e.customCode},display:function(e){return e.title},watcher:function(e,t,n){return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:t.customCode}).unbind},getCurrent:function(e){var t=on.fromDom(e.selection.getNode());return Qn(t,(function(e){return B.some(e).filter(So).bind((function(e){return ii(e,"lang").map((function(t){return{code:t,customCode:ii(e,"data-mce-lang").getOrUndefined(),title:""}}))}))}))},setCurrent:function(e,t){return e.execCommand("Lang",!1,t)},onToolbarSetup:function(t){var n=ts();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}}}))}(e).each((function(t){return MN(e,t)}))},PN=function(e,t){!function(e,t){var n=QM(0,t,sD(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=QM(0,t,fD(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=_({type:"advanced"},t.styleselect),r=QM(0,t,yD(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}(e,t),function(e,t){var n=QM(0,t,bD(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=QM(0,t,gD(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t)},zN=function(e){return GM(e,"NodeChange",(function(t){t.setDisabled(!e.queryCommandState("outdent"))}))},BN=function(e){!function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:zN(e),onAction:ZM(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:ZM(e,"indent")})}(e)},RN=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},IN=function(e){!function(e){NS.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:YM(e,t.name),onAction:RN(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:YM(e,n),onAction:RN(e,n)})}}(e),function(e){NS.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ZM(e,t.action)})}))}(e),function(e){NS.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ZM(e,t.action),onSetup:YM(e,t.name)})}))}(e)},LN=function(e){IN(e),function(e){NS.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:ZM(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:RN(e,"code")})}(e)},FN=function(e,t){return GM(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setDisabled(e.mode.isReadOnly()||!e.undoManager[t]())}))},VN=function(e){!function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:FN(e,"hasUndo"),onAction:ZM(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:FN(e,"hasRedo"),onAction:ZM(e,"redo")})}(e),function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:FN(e,"hasUndo"),onAction:ZM(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:FN(e,"hasRedo"),onAction:ZM(e,"redo")})}(e)},HN=function(e){return GM(e,"VisualAid",(function(t){t.setActive(e.hasVisual)}))},jN=function(e){!function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ZM(e,"mceToggleVisualAid")})}(e),function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:HN(e),onAction:ZM(e,"mceToggleVisualAid")})}(e)},$N=function(e,t){!function(e){W([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ZM(e,t.cmd),onSetup:YM(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:ZM(e,"JustifyNone")})}(e),LN(e),PN(e,t),VN(e),function(e){!function(e){e.addCommand("mceApplyTextcolor",(function(t,n){!function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))}(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){!function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))}(e,t)}))}(e);var t=nn(null),n=nn(null);mw(e,"forecolor","forecolor","Text color",t),mw(e,"backcolor","hilitecolor","Background color",n),hw(e,"forecolor","forecolor","Text color"),hw(e,"backcolor","hilitecolor","Background color")}(e),jN(e),BN(e),NN(e)},UN=function(e,t){return{type:"makeshift",x:e,y:t}},WN=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},qN=function(e,t){var n=wb.DOM.getPos(e);return function(e,t,n){return UN(e.x+t,e.y+n)}(t,n.x,n.y)},KN=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?function(e){if(WN(e)){var t=e.touches[0];return UN(t.pageX,t.pageY)}return UN(e.pageX,e.pageY)}(t):qN(e.getContentAreaContainer(),function(e){if(WN(e)){var t=e.touches[0];return UN(t.clientX,t.clientY)}return UN(e.clientX,e.clientY)}(t)):YN(e)},YN=function(e){return{type:"selection",root:on.fromDom(e.selection.getNode())}},GN=function(e,t,n){switch(n){case"node":return function(e){return{type:"node",node:B.some(on.fromDom(e.selection.getNode())),root:on.fromDom(e.getBody())}}(e);case"point":return KN(e,t);case"selection":return YN(e)}},XN=function(e,t,n,r,o,i){var a=n(),l=GN(e,t,i);J_(a,xv.CLOSE_ON_EXECUTE,r,!1).map((function(e){t.preventDefault(),Qh.showMenuAt(o,{anchor:l},{menu:{markers:Rv("normal")},data:e})}))},ZN={onLtr:function(){return[cu,iu,au,lu,uu,su,dg,fg,cg,ug,sg,lg]},onRtl:function(){return[cu,au,iu,uu,lu,su,dg,fg,sg,lg,cg,ug]}},JN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},QN=function(e,t,n,r,o,i,a){var l=function(e,t,n){var r=GN(e,t,n);return _({bubble:xs(0,"point"===n?12:0,JN),layouts:ZN,overrides:{maxWidthFunction:iM(),maxHeightFunction:vs()}},r)}(e,t,i);J_(n,xv.CLOSE_ON_EXECUTE,r,!0).map((function(n){t.preventDefault(),Qh.showMenuWithinBounds(o,{anchor:l},{menu:{markers:Rv("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return B.some(dN(e,r.shared,"node"===i?"node":"selection"))})),e.fire(oN)}))},eP=function(e,t,n,r,o,i){var a=Fn(),l=a.os.isiOS(),u=a.os.isOSX(),s=a.os.isAndroid(),c=a.deviceType.isTouch(),d=function(){var a=n();QN(e,t,a,r,o,i,!(s||l||u&&c))};if((u||l)&&"node"!==i){var f=function(){!function(e){var t=e.selection.getRng(),n=function(){yg.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),i()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var o=function(){return i()};e.once("longpresscancel",o);var i=function(){e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",r)}}(e),d()};!function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],o=n.getRng();return pc(e.getWin(),Ks.domRange(o)).exists((function(e){return e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY}))}(e,t)?(e.once("selectionchange",f),e.once("touchend",(function(){return e.off("selectionchange",f)}))):f()}else d()},tP=function(e){return"string"==typeof e?e.split(/[ ,]/):e},nP=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},rP=function(e){return function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return B.from(e.getParam(t)).map(tP).getOrThunk((function(){return K(tP(n),(function(e){return Ve(r,e)}))}))}(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},oP=function(e){return r(e)?"|"===e:"separator"===e.type},iP={type:"separator"},aP=function(e){var t,n=function(e){return{text:e.text,icon:e.icon,disabled:e.disabled,shortcut:e.shortcut}};if(r(e))return e;switch(e.type){case"separator":return iP;case"submenu":return _(_({type:"nestedmenuitem"},n(e)),{getSubmenuItems:function(){var t=e.getSubmenuItems();return r(t)?t:U(t,aP)}});default:return _(_({type:"menuitem"},n(e)),{onAction:(t=e.onAction,function(){return t()})})}},lP=function(e,t){if(0===t.length)return e;var n=ue(e).filter((function(e){return!oP(e)})).fold((function(){return[]}),(function(e){return[iP]}));return e.concat(n).concat(t).concat([iP])},uP=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},sP=function(e,t){return uP(e,t)?e.selection.getStart(!0):t.target},cP=function(e,t,n){var o=Fn().deviceType.isTouch,i=Da(Qh.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:_u([dh("dismissContextMenu",[lo(Ur(),(function(t,n){sd.close(t),e.focus()}))])])})),a=function(e){return Qh.hide(i)},l=function(t){if(nP(e)&&t.preventDefault(),!function(e,t){return t.ctrlKey&&!nP(e)}(e,t)&&!function(e){return!1===e.getParam("contextmenu")}(e)){var a=function(e,t){var n=function(e){return e.getParam("contextmenu_avoid_overlap","","string")}(e),r=uP(e,t)?"selection":"point";if(hn(n)){var o=sP(e,t);return Hw(on.fromDom(o),n)?"node":r}return r}(e,t);(o()?eP:XN)(e,t,(function(){var n=sP(e,t),o=e.ui.registry.getAll(),i=rP(e);return function(e,t,n){var o=G(t,(function(t,o){return Fe(e,o.toLowerCase()).map((function(e){var o=e.update(n);if(r(o))return lP(t,o.split(" "));if(o.length>0){var i=U(o,aP);return lP(t,i)}return t})).getOrThunk((function(){return t.concat([o])}))}),[]);return o.length>0&&oP(o[o.length-1])&&o.pop(),o}(o.contextMenus,i,n)}),n,i,a)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",l)}))},dP=Wn([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),fP=function(e){return function(t){return t.translate(-e.left,-e.top)}},pP=function(e){return function(t){return t.translate(e.left,e.top)}},mP=function(e){return function(t,n){return G(e,(function(e,t){return t(e)}),La(t,n))}},hP=function(e,t,n){return e.fold(mP([pP(n),fP(t)]),mP([fP(t)]),mP([]))},gP=function(e,t,n){return e.fold(mP([pP(n)]),mP([]),mP([pP(t)]))},vP=function(e,t,n){return e.fold(mP([]),mP([fP(n)]),mP([pP(t),fP(n)]))},bP=function(e,t,n){var r=e.fold((function(e,t){return{position:B.some("absolute"),left:B.some(e+"px"),top:B.some(t+"px")}}),(function(e,t){return{position:B.some("absolute"),left:B.some(e-n.left+"px"),top:B.some(t-n.top+"px")}}),(function(e,t){return{position:B.some("fixed"),left:B.some(e+"px"),top:B.some(t+"px")}}));return _({right:B.none(),bottom:B.none()},r)},yP=function(e,t,n,r){var o=function(e,o){return function(i,a){var l=e(t,n,r);return o(i.getOr(l.left),a.getOr(l.top))}};return e.fold(o(vP,wP),o(gP,xP),o(hP,CP))},wP=dP.offset,xP=dP.absolute,CP=dP.fixed,kP=function(e,t){var n=oi(e,t);return u(n)?NaN:parseInt(n,10)},SP=function(e,t,n,r){return function(e,t){var n=e.element,r=kP(n,t.leftAttr),o=kP(n,t.topAttr);return isNaN(r)||isNaN(o)?B.none():B.some(La(r,o))}(e,t).fold((function(){return n}),(function(e){return CP(e.left+r.left,e.top+r.top)}))},_P=function(e,t,n,r,o,i){var a=SP(e,t,n,r),l=t.mustSnap?EP(e,t,a,o,i):AP(e,t,a,o,i),u=hP(a,o,i);return function(e,t,n){var r=e.element;ri(r,t.leftAttr,n.left+"px"),ri(r,t.topAttr,n.top+"px")}(e,t,u),l.fold((function(){return{coord:CP(u.left,u.top),extra:B.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))},OP=function(e,t){!function(e,t){var n=e.element;li(n,t.leftAttr),li(n,t.topAttr)}(e,t)},TP=function(e,t,n,r){return ce(e,(function(e){var o=e.sensor;return function(e,t,n,r,o,i){var a=gP(e,o,i),l=gP(t,o,i);return Math.abs(a.left-l.left)<=n&&Math.abs(a.top-l.top)<=r}(t,o,e.range.left,e.range.top,n,r)?B.some({output:yP(e.output,t,n,r),extra:e.extra}):B.none()}))},EP=function(e,t,n,r,o){var i=t.getSnapPoints(e);return TP(i,n,r,o).orThunk((function(){return G(i,(function(e,t){var i=t.sensor,a=function(e,t,n,r,o,i){var a=gP(e,o,i),l=gP(t,o,i),u=Math.abs(a.left-l.left),s=Math.abs(a.top-l.top);return La(u,s)}(n,i,t.range.left,t.range.top,r,o);return e.deltas.fold((function(){return{deltas:B.some(a),snap:B.some(t)}}),(function(n){return(a.left+a.top)/2<=(n.left+n.top)/2?{deltas:B.some(a),snap:B.some(t)}:e}))}),{deltas:B.none(),snap:B.none()}).snap.map((function(e){return{output:yP(e.output,n,r,o),extra:e.extra}}))}))},AP=function(e,t,n,r,o){var i=t.getSnapPoints(e);return TP(i,n,r,o)},MP=Object.freeze({__proto__:null,snapTo:function(e,t,n,r){var o=t.getTarget(e.element);if(t.repositionTarget){var i=Eo(e.element),a=Ya(i),l=PE(o),u=function(e,t,n){return{coord:yP(e.output,e.output,t,n),extra:e.extra}}(r,a,l),s=bP(u.coord,0,l);da(o,s)}}}),DP="data-initial-z-index",NP=function(e,t){e.getSystem().addToGui(t),function(e){No(e.element).filter(So).each((function(t){ma(t,"z-index").each((function(e){ri(t,DP,e)})),sa(t,"z-index",fa(e.element,"z-index"))}))}(t)},PP=function(e){!function(e){No(e.element).filter(So).each((function(e){ii(e,DP).fold((function(){return va(e,"z-index")}),(function(t){return sa(e,"z-index",t)})),li(e,DP)}))}(e),e.getSystem().removeFromGui(e)},zP=function(e,t,n){return e.getSystem().build(nx.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},BP=qt("snaps",[Dt("getSnapPoints"),Nl("onSensor"),Dt("leftAttr"),Dt("topAttr"),Kt("lazyViewport",ol),Kt("mustSnap",!1)]),RP=[Kt("useFixed",C),Dt("blockerClass"),Kt("getTarget",v),Kt("onDrag",m),Kt("repositionTarget",!0),Kt("onDrop",m),Qt("getBounds",ol),BP],IP=function(e){return(t=ma(e,"left"),n=ma(e,"top"),r=ma(e,"position"),o=function(e,t,n){return("fixed"===n?CP:wP)(parseInt(e,10),parseInt(t,10))},t.isSome()&&n.isSome()&&r.isSome()?B.some(o(t.getOrDie(),n.getOrDie(),r.getOrDie())):B.none()).getOrThunk((function(){var t=Va(e);return xP(t.left,t.top)}));var t,n,r,o},LP=function(e,t,n,r,o,i,a){return function(e,t,n,r,o){var i=o.bounds,a=gP(t,n,r),l=Xl(a.left,i.x,i.x+i.width-o.width),u=Xl(a.top,i.y,i.y+i.height-o.height),s=xP(l,u);return t.fold((function(){var e=vP(s,n,r);return wP(e.left,e.top)}),g(s),(function(){var e=hP(s,n,r);return CP(e.left,e.top)}))}(0,t.fold((function(){var e,t,a,l=(e=n,t=i.left,a=i.top,e.fold((function(e,n){return wP(e+t,n+a)}),(function(e,n){return xP(e+t,n+a)}),(function(e,n){return CP(e+t,n+a)}))),u=hP(l,r,o);return CP(u.left,u.top)}),(function(t){var a=_P(e,t,n,i,r,o);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord})),r,o,a)},FP=function(e,t){return{bounds:e.getBounds(),height:Ra(t.element),width:Ua(t.element)}},VP=function(e,t,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk((function(){return FP(t,e)}));i.each((function(n){!function(e,t,n,r){var o=t.getTarget(e.element);if(t.repositionTarget){var i=Eo(e.element),a=Ya(i),l=PE(o),u=IP(o),s=LP(e,t.snaps,u,a,l,r,n),c=bP(s,0,l);da(o,c)}t.onDrag(e,o,r)}(e,t,a,n)}))},HP=function(e,t,n,r){t.each(PP),n.snaps.each((function(t){OP(e,t)}));var o=n.getTarget(e.element);r.reset(),n.onDrop(e,o)},jP=function(e){return function(t,n){var r=function(e){n.setStartData(FP(t,e))};return oo(T([lo(Vr(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r)))}},$P=Object.freeze({__proto__:null,getData:function(e){return B.from(La(e.x,e.y))},getDelta:function(e,t){return La(t.left-e.left,t.top-e.top)}}),UP=function(e,t,n){return[lo(sr(),(function(r,o){if(0===o.event.raw.button){o.stop();var i=function(){return HP(r,B.some(u),e,t)},a=jw(i,200),l={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),VP(r,e,t,$P,n)}},u=zP(r,e.blockerClass,function(e){return oo([lo(sr(),e.forceDrop),lo(fr(),e.drop),lo(cr(),(function(t,n){e.move(n.event)})),lo(dr(),e.delayDrop)])}(l));n(r),NP(r,u)}}))]},WP=T(T([],RP),[Rl("dragger",{handlers:jP(UP)})]),qP=Object.freeze({__proto__:null,getData:function(e){var t=e.raw.touches;return 1===t.length?function(e){var t=e[0];return B.some(La(t.clientX,t.clientY))}(t):B.none()},getDelta:function(e,t){return La(t.left-e.left,t.top-e.top)}}),KP=function(e,t,n){var r=ns(),o=function(n){HP(n,r.get(),e,t),r.clear()};return[lo(ir(),(function(i,a){a.stop();var l=function(){return o(i)},u={drop:l,delayDrop:m,forceDrop:l,move:function(n){VP(i,e,t,qP,n)}},s=zP(i,e.blockerClass,function(e){return oo([lo(ir(),e.forceDrop),lo(lr(),e.drop),lo(ur(),e.drop),lo(ar(),(function(t,n){e.move(n.event)}))])}(u));r.set(s);n(i),NP(i,s)})),lo(ar(),(function(n,r){r.stop(),VP(n,e,t,qP,r.event)})),lo(lr(),(function(e,t){t.stop(),o(e)})),lo(ur(),o)]},YP=WP,GP=T(T([],RP),[Rl("dragger",{handlers:jP(KP)})]),XP=T(T([],RP),[Rl("dragger",{handlers:jP((function(e,t,n){return T(T([],UP(e,t,n)),KP(e,t,n))}))})]),ZP=Au({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:YP,touch:GP,mouseOrTouch:XP}),name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:B.from(e.extra)}}},state:Object.freeze({__proto__:null,init:function(){var e=B.none(),t=B.none(),n=g({});return Di({readState:n,reset:function(){e=B.none(),t=B.none()},update:function(t,n){return t.getData(n).bind((function(n){return function(t,n){var r=e.map((function(e){return t.getDelta(e,n)}));return e=B.some(n),r}(t,n)}))},getStartData:function(){return t},setStartData:function(e){t=B.some(e)}})}}),apis:MP}),JP=function(e,t,n,r,o,i){return e.fold((function(){return ZP.snap({sensor:xP(n-20,r-20),range:La(o,i),output:xP(B.some(n),B.some(r)),extra:{td:t}})}),(function(e){var o=n-20,i=r-20,a=e.element.dom.getBoundingClientRect();return ZP.snap({sensor:xP(o,i),range:La(40,40),output:xP(B.some(n-a.width/2),B.some(r-a.height/2)),extra:{td:t}})}))},QP=function(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,r){var o=r.td;(function(e,t){return e.exists((function(e){return jn(e,t)}))})(t.get(),o)||(t.set(o),n(o))},mustSnap:!0}},ez=function(e){return xg(wg.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:_u([ZP.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),wC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},tz=function(e,t){var n=nn([]),r=nn([]),o=nn(!1),i=ns(),a=ns(),l=function(e){var n=rl(e);return JP(d.getOpt(t),e,n.x,n.y,n.width,n.height)},u=function(e){var n=rl(e);return JP(f.getOpt(t),e,n.right,n.bottom,n.width,n.height)},s=QP((function(){return U(n.get(),(function(e){return l(e)}))}),i,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),c=QP((function(){return U(r.get(),(function(e){return u(e)}))}),a,(function(t){i.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),d=ez(s),f=ez(c),p=Da(d.asSpec()),m=Da(f.asSpec()),h=function(t,n,r,o){var i=r(n);ZP.snapTo(t,i);!function(t,n,r,o){var i=n.dom.getBoundingClientRect();va(t.element,"display");var a=Do(on.fromDom(e.getBody())).dom.innerHeight,l=r(i),u=o(i,a);(l||u)&&sa(t.element,"display","none")}(t,n,(function(e){return e[o]<0}),(function(e,t){return e[o]>t}))},g=function(e){return h(p,e,l,"top")},v=function(e){return h(m,e,u,"bottom")};Fn().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){o.get()||(qc(t,p),qc(t,m),o.set(!0)),i.set(e.start),a.set(e.finish),e.otherCells.each((function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(g),a.get().each(v)})),e.on("TableSelectionClear",(function(){o.get()&&(Gc(p),Gc(m),o.set(!1)),i.clear(),a.clear()})))},nz=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},rz=function(e,t,n){t.delimiter||(t.delimiter="");return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:_u([ih.config({mode:"flow",selector:"div[role=button]"}),Qf.config({disabled:n.isDisabled}),Jb(),sx.config({}),ch.config({}),dh("elementPathEvents",[go((function(r,o){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return ih.focusIn(r)})),e.on("NodeChange",(function(o){var i,a,l=function(t){for(var n=[],r=t.length;r-- >0;){var o=t[r];if(1===o.nodeType&&!nz(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n}(o.parents);l.length>0?ch.set(r,(i=U(l||[],(function(t,r){return wg.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:_u([ey(n.isDisabled),Jb()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}},G(i.slice(1),(function(e,t){var n=e;return n.push(a),n.push(t),n}),[i[0]]))):ch.set(r,[])}))}))])]),components:[]}};(aD=iD||(iD={}))[aD.None=0]="None",aD[aD.Both=1]="Both",aD[aD.Vertical=2]="Vertical";var oz,iz,az=function(e,t,n){var r=on.fromDom(e.getContainer()),o=function(e,t,n,r,o){var i={};return i.height=JD(r+t.top,_b(e),Tb(e)),n===iD.Both&&(i.width=JD(o+t.left,Sb(e),Ob(e))),i}(e,t,n,Ba(r),$a(r));Ne(o,(function(e,t){return sa(r,t,ZD(e))})),function(e){e.fire("ResizeEditor")}(e)},lz=function(e,t,n,r){var o=La(20*n,20*r);return az(e,o,t),B.some(!0)},uz=function(e,t){var n=function(e){var t=!e.hasPlugin("autoresize"),n=e.getParam("resize",t);return!1===n?iD.None:"both"===n?iD.Both:iD.Vertical}(e);return n===iD.None?B.none():B.some(Dg("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[ZP.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){return az(e,o,n)},blockerClass:"tox-blocker"}),ih.config({mode:"special",onLeft:function(){return lz(e,n,-1,0)},onRight:function(){return lz(e,n,1,0)},onUp:function(){return lz(e,n,0,-1)},onDown:function(){return lz(e,n,0,1)}}),sx.config({}),gh.config({})]},t.icons))},sz=function(e,t){var n,r,o=function(){var n,r=[];return e.getParam("elementpath",!0,"boolean")&&r.push(rz(e,{},t)),e.hasPlugin("wordcount")&&r.push(function(e,t){var n,r=function(e,n,r){return ch.set(e,[Ea(t.translate(["{0} "+r,n[r]]))])};return wg.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:_u([ey(t.isDisabled),Jb(),sx.config({}),ch.config({}),Ad.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),dh("wordcount-events",[yo((function(e){var t=Ad.getValue(e),n="words"===t.mode?"characters":"words";Ad.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)})),go((function(t){e.on("wordCountUpdate",(function(e){var n=Ad.getValue(t).mode;Ad.setValue(t,{mode:n,count:e.wordCount}),r(t,e.wordCount,n)}))}))])]),eventOrder:(n={},n[Dr()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})}(e,t)),e.getParam("branding",!0,"boolean")&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=Cg.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(n=o(),r=uz(e,t),n.concat(r.toArray()))}},cz=function(e){var t,n,r,o,i=e.inline,a=i?rN:GD,l=$b(e)?lA:DE,u=B.none(),s=Fn(),c=s.browser.isIE()?["tox-platform-ie"]:[],d=s.deviceType.isTouch()?["tox-platform-touch"]:[],f=Lb(e),p=Hb(e),h=Cg.isRtl()?{attributes:{dir:"rtl"}}:{},g={attributes:(t={},t[Os]=f?qu.BottomToTop:qu.TopToBottom,t)},v=function(){return u.bind(IM.getHeader)},b=function(){sa(q.element,"width",document.body.clientWidth+"px")},y=Da((n=jn(ia(),p)&&"grid"===fa(p,"display"),r={dom:_({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(d)},h),behaviours:_u([Hc.config({useFixed:function(){return l.isDocked(v)}})])},o={dom:{styles:{width:document.body.clientWidth+"px"}},events:oo([lo(Hr(),b)])},$e(r,n?o:{}))),w=function(){return pe.value(y)},x=xg({dom:{tag:"div",classes:["tox-anchorbar"]}}),C=function(){return u.bind((function(e){return IM.getThrobber(e)})).getOrDie("Could not find throbber element")},k=vE(y,e,(function(){return u.bind((function(e){return x.getOpt(e)})).getOrDie("Could not find a anchor bar element")})),S=IM.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:k,onEscape:function(){e.focus()}}),O=zb(e),T=IM.parts.toolbar(_({dom:{tag:"div",classes:["tox-toolbar"]},getSink:w,providers:k.shared.providers,onEscape:function(){e.focus()},type:O,lazyToolbar:function(){return u.bind((function(e){return IM.getToolbar(e)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return v().getOrDie("Could not find header element")}},g)),E=IM.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:k.shared.providers,onEscape:function(){e.focus()},type:O}),A=IM.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),M=IM.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),D=IM.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:k}),N=e.getParam("statusbar",!0,"boolean")&&!i?B.some(sz(e,k.shared.providers)):B.none(),P={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[A,M]},z=Db(e),R=Ab(e),I=Eb(e),L=IM.parts.header({dom:_({tag:"div",classes:["tox-editor-header"]},g),components:J([I?[S]:[],z?[E]:R?[T]:[],Vb(e)?[]:[x.asSpec()]]),sticky:$b(e),editor:e,sharedBackstage:k.shared}),F=J([f?[]:[L],i?[]:[P],f?[L]:[]]),V=J([[{dom:{tag:"div",classes:["tox-editor-container"]},components:F}],i?[]:N.toArray(),[D]]),H=jb(e),j=_(_({role:"application"},Cg.isRtl()?{dir:"rtl"}:{}),H?{"aria-hidden":"true"}:{}),$=Da(IM.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(d).concat(c),styles:_({visibility:"hidden"},H?{opacity:"0",border:"0"}:{}),attributes:j},components:V,behaviours:_u([Jb(),Qf.config({disableClass:"tox-tinymce--disabled"}),ih.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));u=B.some($),e.shortcuts.add("alt+F9","focus menubar",(function(){IM.focusMenubar($)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){IM.focusToolbar($)})),e.addCommand("ToggleToolbarDrawer",(function(){IM.toggleToolbarDrawer($)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return IM.isToolbarDrawerToggled($)}));var U=rx($),q=rx(y);!function(e,t,n){var r=function(e,r){W([t,n],(function(t){t.broadcastEvent(e,r)}))},o=function(e,r){W([t,n],(function(t){t.broadcastOn([e],r)}))},i=function(e){return o(cd(),{target:e.target})},a=os(on.fromDom(document),"touchstart",i),l=os(on.fromDom(document),"touchmove",(function(e){return r(Lr(),e)})),u=os(on.fromDom(document),"touchend",(function(e){return r(Fr(),e)})),s=os(on.fromDom(document),"mousedown",i),c=os(on.fromDom(document),"mouseup",(function(e){0===e.raw.button&&o(fd(),{target:e.target})})),d=function(e){return o(cd(),{target:on.fromDom(e.target)})},f=function(e){0===e.button&&o(fd(),{target:on.fromDom(e.target)})},p=function(){W(e.editorManager.get(),(function(t){e!==t&&t.fire("DismissPopups",{relatedTarget:e})}))},m=function(e){return r(Vr(),as(e))},h=function(e){o(dd(),{}),r(Hr(),as(e))},g=function(){return o(dd(),{})},v=function(t){t.state&&o(cd(),{target:on.fromDom(e.getContainer())})},b=function(e){o(cd(),{target:on.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(function(){e.on("click",d),e.on("tap",d),e.on("mouseup",f),e.on("mousedown",p),e.on("ScrollWindow",m),e.on("ResizeWindow",h),e.on("ResizeEditor",g),e.on("AfterProgressState",v),e.on("DismissPopups",b)})),e.on("remove",(function(){e.off("click",d),e.off("tap",d),e.off("mouseup",f),e.off("mousedown",p),e.off("ScrollWindow",m),e.off("ResizeWindow",h),e.off("ResizeEditor",g),e.off("AfterProgressState",v),e.off("DismissPopups",b),s.unbind(),a.unbind(),l.unbind(),u.unbind(),c.unbind()})),e.on("detach",(function(){Qc(t),Qc(n),t.destroy(),n.destroy()}))}(e,U,q);var K=function(){var t=ZD(QD(e)),n=ZD(function(e){return eN(e).getOr(kb(e))}(e));return e.inline||(ga("div","width",n)&&sa($.element,"width",n),ga("div","height",t)?sa($.element,"height",t):sa($.element,"height","200px")),t};return{mothership:U,uiMothership:q,backstage:k,renderUI:function(){l.setup(e,k.shared,v),$N(e,k),cP(e,w,k),function(e){var t=e.ui.registry.getAll().sidebars;W(Me(t),(function(n){var r=t[n],o=function(){return Qi(B.from(e.queryCommandValue("ToggleSidebar")),n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))}(e),GA(e,C,k.shared),Pe(function(e){return e.getParam("toolbar_groups",{},"object")}(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,r=t.menuItems,o=t.contextToolbars,i=t.sidebars,u=Mb(e),s={menuItems:r,menus:Ub(e),menubar:Wb(e),toolbar:u.getOrThunk((function(){return function(e){return e.getParam("toolbar",!0)}(e)})),allowToolbarGroups:O===yv.floating,buttons:n,sidebar:i};ON(e,o,y,{backstage:k}),tz(e,y);var c=e.getElement(),d=K(),f={mothership:U,uiMothership:q,outerContainer:$},p={targetNode:c,height:d};return a.render(e,f,s,k,p)},getUi:function(){return{channels:{broadcastAll:q.broadcast,broadcastOn:q.broadcastOn,register:m}}}}},dz=g([Dt("lazySink"),Vt("dragBlockClass"),Qt("getBounds",ol),Kt("useTabstopAt",k),Kt("eventOrder",{}),Md("modalBehaviours",[ih]),Pl("onExecute"),Bl("onEscape")]),fz={sketch:v},pz=g([uf({name:"draghandle",overrides:function(e,t){return{behaviours:_u([ZP.config({mode:"mouse",getTarget:function(e){return dl(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),af({schema:[Dt("dom")],name:"title"}),af({factory:fz,schema:[Dt("dom")],name:"close"}),af({factory:fz,schema:[Dt("dom")],name:"body"}),uf({factory:fz,schema:[Dt("dom")],name:"footer"}),lf({factory:{sketch:function(e,t){return _(_({},e),{dom:t.dom,components:t.components})}},schema:[Kt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Kt("components",[])],name:"blocker"})]),mz=Bf({name:"ModalDialog",configFields:dz(),partFields:pz(),factory:function(e,t,n,r){var o,i=ns(),a=mi("modal-events"),l=_(_({},e.eventOrder),((o={})[jr()]=[a].concat(e.eventOrder["alloy.system.attached"]||[]),o));return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){i.set(t);var n=e.lazySink(t).getOrDie(),o=r.blocker(),a=n.getSystem().build(_(_({},o),{components:o.components.concat([Na(t)]),behaviours:_u([gh.config({}),dh("dialog-blocker-events",[ho(mr(),(function(){ih.focusIn(t)}))])])}));qc(n,a),ih.focusIn(t)},hide:function(e){i.clear(),No(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){Gc(e)}))}))},getBody:function(t){return xf(t,e,"body")},getFooter:function(t){return xf(t,e,"footer")},setIdle:function(e){WA.unblock(e)},setBusy:function(e,t){WA.block(e,t)}},eventOrder:l,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Nd(e.modalBehaviours,[ch.config({}),ih.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),WA.config({getRoot:i.get}),dh(a,[go((function(t){var n,r,o,i,a,l;n=t.element,r=xf(t,e,"title").element,o=ii(n,"id").fold((function(){var e=mi("dialog-label");return ri(r,"id",e),e}),v),ri(n,"aria-labelledby",o),i=t.element,a=xf(t,e,"body").element,l=B.from(oi(i,"id")).fold((function(){var e=mi("dialog-describe");return ri(a,"id",e),e}),v),ri(i,"aria-describedby",l)}))])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),hz=at([zt("type"),zt("name")].concat(Qv)),gz=ht,vz=[Et("name","name",qe((function(){return mi("button-name")})),mt),$t("icon"),Zt("align","end",["start","end"]),Jt("primary",!1),Jt("disabled",!1)],bz=T(T([],vz),[zt("text")]),yz=T([Bt("type",["submit","cancel","custom"])],bz),wz=T([Bt("type",["menu"]),$t("text"),$t("tooltip"),$t("icon"),Ft("items",hz)],vz),xz=Tt("type",{submit:yz,cancel:yz,custom:yz,menu:wz}),Cz=[zt("type"),zt("text"),Bt("level",["info","warn","error","success"]),zt("icon"),Kt("url","")],kz=at(Cz),Sz=[zt("type"),zt("text"),Jt("disabled",!1),Jt("primary",!1),Et("name","name",qe((function(){return mi("button-name")})),mt),$t("icon"),Jt("borderless",!1)],_z=at(Sz),Oz=[zt("type"),zt("name"),zt("label"),Jt("disabled",!1)],Tz=at(Oz),Ez=ht,Az=[zt("type"),zt("name")],Mz=Az.concat([$t("label")]),Dz=Mz.concat([Kt("columns","auto")]),Nz=at(Dz),Pz=ct([zt("value"),zt("text"),zt("icon")]),zz=at(Mz),Bz=mt,Rz=at(Mz),Iz=mt,Lz=Az.concat([Xt("tag","textarea"),zt("scriptId"),zt("scriptUrl"),function(e,t){return Yt(e,t,bt)}("settings",void 0)]),Fz=Az.concat([Xt("tag","textarea"),Rt("init")]),Vz=xt((function(e){return kt("customeditor.old",it(Fz),e).orThunk((function(){return kt("customeditor.new",it(Lz),e)}))})),Hz=mt,jz=at(Mz),$z=lt(et),Uz=function(e){return[zt("type"),Pt("columns"),e]},Wz=[zt("type"),zt("html"),Zt("presets","presentation",["presentation","document"])],qz=at(Wz),Kz=Mz.concat([Jt("sandboxed",!0)]),Yz=at(Kz),Gz=mt,Xz=Mz.concat([Nt("currentState",at([Dt("blob"),zt("url")]))]),Zz=at(Xz),Jz=Mz.concat([$t("inputMode"),$t("placeholder"),Jt("maximized",!1),Jt("disabled",!1)]),Qz=at(Jz),eB=mt,tB=function(e){return[zt("type"),zt("label"),e]},nB=[zt("text"),zt("value")],rB=[zt("text"),Ft("items",(oz=function(){return oB},iz=We(oz),{extract:function(e,t){return iz().extract(e,t)},toString:function(){return iz().toString()}}))],oB=ut([at(nB),at(rB)]),iB=Mz.concat([Ft("items",oB),Jt("disabled",!1)]),aB=at(iB),lB=mt,uB=Mz.concat([Lt("items",[zt("text"),zt("value")]),Gt("size",1),Jt("disabled",!1)]),sB=at(uB),cB=mt,dB=Mz.concat([Jt("constrain",!0),Jt("disabled",!1)]),fB=at(dB),pB=at([zt("width"),zt("height")]),mB=[zt("type"),Ft("header",mt),Ft("cells",lt(mt))],hB=at(mB),gB=Mz.concat([$t("placeholder"),Jt("maximized",!1),Jt("disabled",!1)]),vB=at(gB),bB=mt,yB=Mz.concat([Zt("filetype","file",["image","media","file"]),Kt("disabled",!1)]),wB=at(yB),xB=at([zt("value"),Kt("meta",{})]),CB=function(e){return Et("items","items",{tag:"required",process:{}},lt(xt((function(t){return kt("Checking item of "+e,kB,t).fold((function(e){return pe.error(Ot(e))}),(function(e){return pe.value(e)}))}))))},kB=ot((function(){return wt("type",{alertbanner:kz,bar:at((e=CB("bar"),[zt("type"),e])),button:_z,checkbox:Tz,colorinput:zz,colorpicker:Rz,dropzone:jz,grid:at(Uz(CB("grid"))),iframe:Yz,input:Qz,listbox:aB,selectbox:sB,sizeinput:fB,textarea:vB,urlinput:wB,customeditor:Vz,htmlpanel:qz,imagetools:Zz,collection:Nz,label:at(tB(CB("label"))),table:hB,panel:_B});var e})),SB=[zt("type"),Kt("classes",[]),Ft("items",kB)],_B=at(SB),OB=[Et("name","name",qe((function(){return mi("tab-name")})),mt),zt("title"),Ft("items",kB)],TB=[zt("type"),Lt("tabs",OB)],EB=at(TB),AB=bz,MB=xz,DB=at([zt("title"),Nt("body",wt("type",{panel:_B,tabpanel:EB})),Xt("size","normal"),Ft("buttons",MB),Kt("initialData",{}),Qt("onAction",m),Qt("onChange",m),Qt("onSubmit",m),Qt("onClose",m),Qt("onCancel",m),Kt("onTabChange",m)]),NB=at(T([Bt("type",["cancel","custom"])],AB)),PB=at([zt("title"),zt("url"),jt("height"),jt("width"),Wt("buttons",NB),Qt("onAction",m),Qt("onCancel",m),Qt("onClose",m),Qt("onMessage",m)]),zB=function(e){return o(e)?[e].concat(Q(Le(e),zB)):i(e)?Q(e,zB):[]},BB=function(e){return r(e.type)&&r(e.name)},RB={checkbox:Ez,colorinput:Bz,colorpicker:Iz,dropzone:$z,input:eB,iframe:Gz,sizeinput:pB,selectbox:cB,listbox:lB,size:pB,textarea:bB,urlinput:xB,customeditor:Hz,collection:Pz,togglemenuitem:gz},IB=function(e){var t=function(e){return K(zB(e),BB)}(e),n=Q(t,(function(e){return function(e){return B.from(RB[e.type])}(e).fold((function(){return[]}),(function(t){return[Nt(e.name,t)]}))}));return at(n)},LB=function(e){return{internalDialog:St(kt("dialog",DB,e)),dataValidator:IB(e),initialData:e.initialData}},FB={open:function(e,t){var n=LB(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(St(kt("dialog",PB,t)))},redial:function(e){return LB(e)}},VB=function(e){var t=[],n={};return Ne(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))})),t.length>0?pe.error(t):pe.value(n)},HB=function(e,t){var n=xg(bS.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:U(e.items,(function(e){return kT(n,e,t)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:_u([ih.config({mode:"acyclic",useTabstopAt:w(KS)}),TS(n),RS(n,{postprocess:function(e){return VB(e).fold((function(e){return console.error(e),{}}),v)}})])}},jB=zf({name:"TabButton",configFields:[Kt("uid",void 0),Dt("value"),Et("dom","dom",Ye((function(){return{attributes:{role:"tab",id:mi("aria"),"aria-selected":"false"}}})),dt()),Vt("action"),Kt("domModification",{}),Md("tabButtonBehaviours",[gh,ih,Ad]),Dt("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Mh(e.action),behaviours:Nd(e.tabButtonBehaviours,[gh.config({}),ih.config({mode:"execution",useSpace:!0,useEnter:!0}),Ad.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),$B=g([Dt("tabs"),Dt("dom"),Kt("clickToDismiss",!1),Md("tabbarBehaviours",[cp,ih]),Ml(["tabClass","selectedClass"])]),UB=sf({factory:jB,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){cp.dehighlight(e,t),Qr(e,Gr(),{tabbar:e,button:t})},n=function(e,t){cp.highlight(e,t),Qr(e,Yr(),{tabbar:e,button:t})};return{action:function(r){var o=r.getSystem().getByUid(e.uid).getOrDie(),i=cp.isHighlighted(o,r);(i&&e.clickToDismiss?t:i?m:n)(o,r)},domModification:{classes:[e.markers.tabClass]}}}}),WB=g([UB]),qB=Bf({name:"Tabbar",configFields:$B(),partFields:WB(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Nd(e.tabbarBehaviours,[cp.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){ri(t.element,"aria-selected","true")},onDehighlight:function(e,t){ri(t.element,"aria-selected","false")}}),ih.config({mode:"flow",getInitial:function(e){return cp.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}}),KB=zf({name:"Tabview",configFields:[Md("tabviewBehaviours",[ch])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Nd(e.tabviewBehaviours,[ch.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),YB=g([Kt("selectFirst",!0),Nl("onChangeTab"),Nl("onDismissTab"),Kt("tabs",[]),Md("tabSectionBehaviours",[])]),GB=af({factory:qB,schema:[Dt("dom"),It("markers",[Dt("tabClass"),Dt("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),XB=af({factory:KB,name:"tabview"}),ZB=g([GB,XB]),JB=Bf({name:"TabSection",configFields:YB(),partFields:ZB(),factory:function(e,t,n,r){var o=function(t,n){wf(t,e,"tabbar").each((function(e){n(e).each(eo)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Dd(e.tabSectionBehaviours),events:oo(J([e.selectFirst?[go((function(e,t){o(e,cp.getFirst)}))]:[],[lo(Yr(),(function(t,n){!function(t){var n=Ad.getValue(t);wf(t,e,"tabview").each((function(r){X(e.tabs,(function(e){return e.value===n})).each((function(n){var o=n.view();ii(t.element,"id").each((function(e){ri(r.element,"aria-labelledby",e)})),ch.set(r,o),e.onChangeTab(r,t,o)}))}))}(n.event.button)})),lo(Gr(),(function(t,n){var r=n.event.button;e.onDismissTab(t,r)}))]])),apis:{getViewItems:function(t){return wf(t,e,"tabview").map((function(e){return ch.contents(e)})).getOr([])},showTab:function(e,t){o(e,(function(e){var n=cp.getCandidates(e);return X(n,(function(e){return Ad.getValue(e)===t})).filter((function(t){return!cp.isHighlighted(e,t)}))}))}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),QB=function(e,t){sa(e,"height",t+"px"),Fn().browser.isIE()?va(e,"flex-basis"):sa(e,"flex-basis",t+"px")},eR=function(e,t,n){dl(e,'[role="dialog"]').each((function(e){pl(e,'[role="tablist"]').each((function(r){n.get().map((function(n){return sa(t,"height","0"),sa(t,"flex-basis","0"),Math.min(n,function(e,t,n){var r,o=Mo(e).dom,i=dl(e,".tox-dialog-wrap").getOr(e);r="fixed"===fa(i,"position")?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var a=Ba(t),l=t.dom.offsetLeft>=n.dom.offsetLeft+$a(n)?Math.max(Ba(n),a):a,u=parseInt(fa(e,"margin-top"),10)||0,s=parseInt(fa(e,"margin-bottom"),10)||0;return r-(Ba(e)+u+s-l)}(e,t,r))})).each((function(e){QB(t,e)}))}))}))},tR=function(e){return pl(e,'[role="tabpanel"]')},nR=function(e){var t;return{smartTabHeight:(t=ns(),{extraEvents:[go((function(n){var r=n.element;tR(r).each((function(o){sa(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((function(n){(function(e){return le(ie(e,(function(e,t){return e>t?-1:e<t?1:0})))})(function(e,t,n){return U(e,(function(r,o){ch.set(n,e[o].view());var i=t.dom.getBoundingClientRect();return ch.set(n,[]),i.height}))}(e,o,n)).fold(t.clear,t.set)})),eR(r,o,t),va(o,"visibility"),function(e,t){le(e).each((function(e){return JB.showTab(t,e.value)}))}(e,n),yg.requestAnimationFrame((function(){eR(r,o,t)}))}))})),lo(Hr(),(function(e){var n=e.element;tR(n).each((function(e){eR(n,e,t)}))})),lo(kx,(function(e,n){var r=e.element;tR(r).each((function(e){var n=Bu(Ho(e));sa(e,"visibility","hidden");var o=ma(e,"height").map((function(e){return parseInt(e,10)}));va(e,"height"),va(e,"flex-basis");var i=e.dom.getBoundingClientRect().height;o.forall((function(e){return i>e}))?(t.set(i),eR(r,e,t)):o.each((function(t){QB(e,t)})),va(e,"visibility"),n.each(Pu)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},rR="send-data-to-section",oR="send-data-to-view",iR=function(e,t){var n=nn({}),r=function(e){var t=Ad.getValue(e),r=VB(t).getOr({}),o=n.get(),i=$e(o,r);n.set(i)},o=function(e){var t=n.get();Ad.setValue(e,t)},i=nn(null),a=U(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[bS.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:U(e.items,(function(e){return kT(n,e,t)})),formBehaviours:_u([ih.config({mode:"acyclic",useTabstopAt:w(KS)}),dh("TabView.form.events",[go(o),vo(r)]),Du.config({channels:Gn([{key:rR,value:{onReceive:r}},{key:oR,value:{onReceive:o}}])})])}}))]}}})),l=nR(a).smartTabHeight;return JB.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=Ad.getValue(t);Qr(e,Cx,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[JB.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[qB.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:_u([sx.config({})])}),JB.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:_u([dh("tabpanel",l.extraEvents),ih.config({mode:"acyclic"}),Ff.config({find:function(e){return le(JB.getViewItems(e))}}),Ad.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([rR],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn([oR],{})}}})])})},aR=mi("update-dialog"),lR=mi("update-title"),uR=mi("update-body"),sR=mi("update-footer"),cR=mi("body-send-message"),dR=function(e,t,n,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:_(_({},t.map((function(e){return{id:e}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:_u([ES(0),SD.config({channel:uR,updateState:function(e,t){return B.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(e){switch(e.body.type){case"tabpanel":return[iR(e.body,n)];default:return[HB(e.body,n)]}},initialData:e})])}},fR=dy.deviceType.isTouch(),pR=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},mR=function(e,t){return mz.parts.close(wg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:_u([sx.config({})])}))},hR=function(){return mz.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},gR=function(e,t){return mz.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:qA("<p>"+t.translate(e)+"</p>")}]}]})},vR=function(e){return mz.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},bR=function(e,t){return[nx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),nx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},yR=function(e){var t,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return mz.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),B.some(!0)},useTabstopAt:function(e){return!KS(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:_({position:"relative"},e.extraStyles)},components:T([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:qA('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:fR?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:_u(T([gh.config({}),dh("dialog-events",e.dialogEvents.concat([ho(mr(),(function(e,t){ih.focusIn(e)}))])),dh("scroll-lock",[go((function(){Ki(ia(),i)})),vo((function(){Gi(ia(),i)}))])],e.extraBehaviours)),eventOrder:_((t={},t[Dr()]=["dialog-events"],t[jr()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[$r()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},wR=function(e){return wg.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[Dg("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:function(e){Jr(e,vx)}})},xR=function(e,t,n){var r=function(e){return[Ea(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:_({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:_u([SD.config({channel:lR,renderComponents:r})])}},CR=function(){return{dom:qA('<div class="tox-dialog__draghandle"></div>')}},kR=function(e,t){return n={title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},r=t.shared.providers,o=mz.parts.title(xR(n,B.none(),r)),i=mz.parts.draghandle(CR()),a=mz.parts.close(wR(r)),l=[o].concat(n.draggable?[i]:[]).concat([a]),nx.sketch({dom:qA('<div class="tox-dialog__header"></div>'),components:l});var n,r,o,i,a,l},SR=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:qA('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},_R=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){mz.setBusy(e(),(function(e,r){return SR(n.message,r,t)}))},onUnblock:function(){mz.setIdle(e())}}},OR=function(e,t,n,r){var o;return Da(yR(_(_({},e),{lazySink:r.shared.getSink,extraBehaviours:T([SD.config({channel:aR,updateState:function(e,t){return B.some(t)},initialData:t}),FS({})],e.extraBehaviours),onEscape:function(e){Jr(e,vx)},dialogEvents:n,eventOrder:(o={},o[Mr()]=[SD.name(),Du.name()],o[jr()]=["scroll-lock",SD.name(),"messages","dialog-events","alloy.base.behaviour"],o[$r()]=["alloy.base.behaviour","dialog-events","messages",SD.name(),"scroll-lock"],o)})))},TR=function(e){return U(e,(function(e){return"menu"===e.type?function(e){var t=U(e.items,(function(e){var t=nn(!1);return _(_({},e),{storage:t})}));return _(_({},e),{items:t})}(e):e}))},ER=function(e){return G(e,(function(e,t){return"menu"===t.type?G(t.items,(function(e,t){return e[t.name]=t.storage,e}),e):e}),{})},AR=function(e,t){return[fo(mr(),qS),e(gx,(function(e,n){t.onClose(),n.onClose()})),e(vx,(function(e,t,n,r){t.onCancel(e),Jr(r,gx)})),lo(xx,(function(e,n){return t.onUnblock()})),lo(wx,(function(e,n){return t.onBlock(n.event)}))]},MR=function(e,t){var n=function(t,n){return lo(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event,t)}))}))},r=function(e,t){SD.getState(e).get().each((function(n){t(n,e)}))};return T(T([],AR(n,t)),[n(bx,(function(e,t,n){t.onAction(e,{name:n.name})}))])},DR=function(e,t,n){var r=function(t,n){return lo(t,(function(t,r){o(t,(function(o,i){n(e(),o,r.event,t)}))}))},o=function(e,t){SD.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return T(T([],AR(r,t)),[r(yx,(function(e,t){return t.onSubmit(e)})),r(hx,(function(e,t,n){t.onChange(e,{name:n.name})})),r(bx,(function(e,t,r,o){var i=function(){return ih.focusIn(o)},a=function(e){return ai(e,"disabled")||ii(e,"aria-disabled").exists((function(e){return"true"===e}))},l=Ho(o.element),u=Bu(l);t.onAction(e,{name:r.name,value:r.value}),Bu(l).fold(i,(function(e){a(e)||u.exists((function(t){return Un(e,t)&&a(t)}))?i():n().toOptional().filter((function(t){return!Un(t.element,e)})).each(i)}))})),r(Cx,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),vo((function(t){var n=e();Ad.setValue(t,n.getData())}))])},NR=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]),r=q(n,(function(e){return"start"===e.align})),o=function(e,t){return nx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:U(t,(function(e){return e.memento.asSpec()}))})};return[o("start",r.pass),o("end",r.fail)]},PR=function(e,t){return{dom:qA('<div class="tox-dialog__footer"></div>'),components:[],behaviours:_u([SD.config({channel:sR,initialData:e,updateState:function(e,n){var r=U(n.buttons,(function(e){var n=xg(function(e,t){return uO(e,e.type,t)}(e,t));return{name:e.name,align:e.align,memento:n}}));return B.some({lookupByName:function(e,t){return function(e,t,n){return X(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))}(e,r,t)},footerButtons:r})},renderComponents:NR})])}},zR=function(e,t){return mz.parts.footer(PR(e,t))},BR=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=Ff.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return bS.getField(n,t).fold((function(){var r=e.getFooter();return SD.getState(r).get().bind((function(e){return e.lookupByName(n,t)}))}),(function(e){return B.some(e)}))}return B.none()},RR=function(e,t,n){var o=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},i={getData:function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,o=Ad.getValue(r),i=Pe(n,(function(e){return e.get()}));return _(_({},o),i)},setData:function(t){o((function(r){var o=i.getData(),a=_(_({},o),t),l=function(e,t){var n=e.getRoot();return SD.getState(n).get().map((function(e){return St(kt("data",e.dataValidator,t))})).getOr(t)}(e,a),u=e.getFormWrapper();Ad.setValue(u,l),Ne(n,(function(e,t){Ve(a,t)&&e.set(a[t])}))}))},disable:function(t){BR(e,t).each(Qf.disable)},enable:function(t){BR(e,t).each(Qf.enable)},focus:function(t){BR(e,t).each(gh.focus)},block:function(e){if(!r(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((function(t){Qr(t,wx,{message:e})}))},unblock:function(){o((function(e){Jr(e,xx)}))},showTab:function(t){o((function(n){var r=e.getBody();SD.getState(r).get().exists((function(e){return e.isTabPanel()}))&&Ff.getCurrent(r).each((function(e){JB.showTab(e,t)}))}))},redial:function(e){o((function(n){var r=t(e);n.getSystem().broadcastOn([aR],r),n.getSystem().broadcastOn([lR],r.internalDialog),n.getSystem().broadcastOn([uR],r.internalDialog),n.getSystem().broadcastOn([sR],r.internalDialog),i.setData(r.initialData)}))},close:function(){o((function(e){Jr(e,gx)}))}};return i},IR=function(e,t,n){var r=kR(e.internalDialog.title,n),o=function(e,t){var n=dR(e,B.none(),t,!1);return mz.parts.body(n)}({body:e.internalDialog.body},n),i=TR(e.internalDialog.buttons),a=ER(i),l=zR({buttons:i},n),u=DR((function(){return p}),_R((function(){return d}),n.shared.providers,t),n.shared.getSink),s=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(e.internalDialog.size),c={header:r,body:o,footer:B.some(l),extraClasses:s,extraBehaviours:[],extraStyles:{}},d=OR(c,e,u,n),f={getRoot:g(d),getBody:function(){return mz.getBody(d)},getFooter:function(){return mz.getFooter(d)},getFormWrapper:function(){var e=mz.getBody(d);return Ff.getCurrent(e).getOr(e)}},p=RR(f,t.redial,a);return{dialog:d,instanceApi:p}},LR=function(e,t,n,r){var o,i,a,l,u,s=mi("dialog-label"),c=mi("dialog-content"),d=xg((a={title:e.internalDialog.title,draggable:!0},l=s,u=n.shared.providers,nx.sketch({dom:qA('<div class="tox-dialog__header"></div>'),components:[xR(a,B.some(l),u),CR(),wR(u)],containerBehaviours:_u([ZP.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return ml(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),f=xg(function(e,t,n,r){return dR(e,B.some(t),n,r)}({body:e.internalDialog.body},c,n,r)),p=TR(e.internalDialog.buttons),m=ER(p),h=xg(function(e,t){return PR(e,t)}({buttons:p},n)),v=DR((function(){return y}),{onBlock:function(e){WA.block(b,(function(t,r){return SR(e.message,r,n.shared.providers)}))},onUnblock:function(){WA.unblock(b)},onClose:function(){return t.closeWindow()}},n.shared.getSink),b=Da({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=s,o["aria-describedby"]=c,o)},eventOrder:(i={},i[Mr()]=[SD.name(),Du.name()],i[Dr()]=["execute-on-form"],i[jr()]=["reflecting","execute-on-form"],i),behaviours:_u([ih.config({mode:"cyclic",onEscape:function(e){return Jr(e,gx),B.some(!0)},useTabstopAt:function(e){return!KS(e)&&("button"!==Co(e)||"disabled"!==oi(e,"disabled"))}}),SD.config({channel:aR,updateState:function(e,t){return B.some(t)},initialData:e}),gh.config({}),dh("execute-on-form",v.concat([ho(mr(),(function(e,t){ih.focusIn(e)}))])),WA.config({getRoot:function(){return B.some(b)}}),ch.config({}),FS({})]),components:[d.asSpec(),f.asSpec(),h.asSpec()]}),y=RR({getRoot:g(b),getFooter:function(){return h.get(b)},getBody:function(){return f.get(b)},getFormWrapper:function(){var e=f.get(b);return Ff.getCurrent(e).getOr(e)}},t.redial,m);return{dialog:b,instanceApi:y}},FR=tinymce.util.Tools.resolve("tinymce.util.URI"),VR=["insertContent","setContent","execCommand","close","block","unblock"],HR=function(e){return o(e)&&-1!==VR.indexOf(e.mceAction)},jR=function(e,t,n,i){var a,u,s,c=kR(e.title,i),d=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[US({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:_u([sx.config({}),gh.config({})])})]}],behaviours:_u([ih.config({mode:"acyclic",useTabstopAt:w(KS)})])};return mz.parts.body(t)}(e),f=e.buttons.bind((function(e){return 0===e.length?B.none():B.some(zR({buttons:e},i))})),p=MR((function(){return C}),_R((function(){return x}),i.shared.providers,t)),m=_(_({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),h=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],g=new FR(e.url,{base_uri:new FR(window.location.href)}),v=g.protocol+"://"+g.host+(g.port?":"+g.port:""),b=ts(),y=[dh("messages",[go((function(){var t=os(on.fromDom(window),"message",(function(t){if(g.isSameOrigin(new FR(t.raw.origin))){var r=t.raw.data;HR(r)?function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!l(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}}(n,C,r):function(e){return!HR(e)&&o(e)&&Ve(e,"mceAction")}(r)&&e.onMessage(C,r)}}));b.set(t)})),vo(b.clear)]),Du.config({channels:(a={},a[cR]={onReceive:function(e,t){pl(e.element,"iframe").each((function(e){e.dom.contentWindow.postMessage(t,v)}))}},a)})],x=OR({header:c,body:d,footer:f,extraClasses:h,extraBehaviours:y,extraStyles:m},e,p,i),C=(u=x,s=function(e){u.getSystem().isConnected()&&e(u)},{block:function(e){if(!r(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s((function(t){Qr(t,wx,{message:e})}))},unblock:function(){s((function(e){Jr(e,xx)}))},close:function(){s((function(e){Jr(e,gx)}))},sendMessage:function(e){s((function(t){t.getSystem().broadcastOn([cR],e)}))}});return{dialog:x,instanceApi:C}},$R=function(e,t,n){return t&&n?[]:[ZE.config({contextual:{lazyContext:function(){return B.some(nl(on.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},UR=function(e){var t=e.backstage,n=e.editor,r=$b(n),o=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(){mz.hide(u),r()},i=xg(uO({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:B.none()},"cancel",e.backstage)),a=hR(),l=mR(o,t.providers),u=Da(yR({lazySink:function(){return t.getSink()},header:pR(a,l),body:gR(n,t.providers),footer:B.some(vR(bR([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[lo(vx,o)],eventOrder:{}}));mz.show(u);var s=i.get(u);gh.focus(s)}}}(e),i=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(e){mz.hide(s),r(e)},i=xg(uO({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:B.none()},"submit",e.backstage)),a=uO({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:B.none()},"cancel",e.backstage),l=hR(),u=mR((function(){return o(!1)}),t.providers),s=Da(yR({lazySink:function(){return t.getSink()},header:pR(l,u),body:gR(n,t.providers),footer:B.some(vR(bR([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[lo(vx,(function(){return o(!1)})),lo(yx,(function(){return o(!0)}))],eventOrder:{}}));mz.show(s);var c=i.get(s);gh.focus(c)}}}(e),a=function(e,r){return FB.openUrl((function(e){var o=jR(e,{closeWindow:function(){mz.hide(o.dialog),r(o.instanceApi)}},n,t);return mz.show(o.dialog),o.instanceApi}),e)},l=function(e,n){return FB.open((function(e,r,o){var i=r,a=IR({dataValidator:o,initialData:i,internalDialog:e},{redial:FB.redial,closeWindow:function(){mz.hide(a.dialog),n(a.instanceApi)}},t);return mz.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),e)},u=function(e,o,i,a){return FB.open((function(e,l,u){var s=St(kt("data",u,l)),c=ns(),d=t.shared.header.isPositionedAtTop(),f=function(){return c.on((function(e){Qh.reposition(e),ZE.refresh(e)}))},p=LR({dataValidator:u,initialData:s,internalDialog:e},{redial:FB.redial,closeWindow:function(){c.on(Qh.hide),n.off("ResizeEditor",f),c.clear(),i(p.instanceApi)}},t,a),m=Da(Qh.sketch(_(_({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:_u(T([dh("window-manager-inline-events",[lo(Ur(),(function(e,t){Jr(p.dialog,vx)}))])],$R(n,r,d))),isExtraPart:function(e,t){return function(e){return Hw(e,".tox-alert-dialog")||Hw(e,".tox-confirm-dialog")}(t)}})));return c.set(m),Qh.showWithin(m,Na(p.dialog),{anchor:o},B.some(ia())),r&&d||(ZE.refresh(m),n.on("ResizeEditor",f)),p.instanceApi.setData(s),ih.focusIn(p.dialog),p.instanceApi}),e)};return{open:function(e,n,r){return void 0!==n&&"toolbar"===n.inline?u(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?u(e,t.shared.anchors.cursor(),r,n.ariaAttrs):l(e,r)},openUrl:function(e,t){return a(e,t)},alert:function(e,t){o.open(e,(function(){t()}))},close:function(e){e.close()},confirm:function(e,t){i.open(e,(function(e){t(e)}))}}};S.add("silver",(function(e){var t=cz(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,i=t.getUi;Vw(e,r.shared);var a=UR({editor:e,backstage:r});return{renderUI:o,getWindowManagerImpl:g(a),getNotificationManagerImpl:function(){return zg(0,{backstage:r},n)},ui:i()}}))}(),tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}}),Ol=tinymce.util.Tools.resolve("tinymce.PluginManager"),Tl=tinymce.util.Tools.resolve("tinymce.util.VK"),Al=function(e){return function(t){return typeof t===e}},Ml=(El=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}})("string"),Dl=El("array"),kl=null,Nl=function(e){return kl===e},Pl=Al("boolean"),zl=Al("function"),Bl=function(){},Il=function(e){return e},Ll=function(e,t){return e===t},Fl=(Rl=function(e){return function(){return e}})(!1),Vl=Rl(!0),Hl=function(){return jl},jl={fold:function(e,t){return e()},isSome:Fl,isNone:Vl,getOr:_l=Il,getOrThunk:Sl=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:Rl(null),getOrUndefined:Rl(void 0),or:_l,orThunk:Sl,map:Hl,each:Bl,bind:Hl,exists:Fl,forall:Vl,filter:function(){return Hl()},toArray:function(){return[]},toString:Rl("none()")},Ul={some:$l=function(e){var t=Rl(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:Vl,isNone:Fl,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return $l(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:jl},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},none:Hl,from:function(e){return null==e?jl:$l(e)}},Wl=Array.prototype.indexOf,ql=Array.prototype.push,Kl=function(e,t){return function(e,t){return Wl.call(e,t)}(e,t)>-1},Yl=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Dl(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);ql.apply(t,e[n])}return t},Gl=function(e,t){return Yl(function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,t))},Xl=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return Ul.none()},Zl=function(e,t,n){return void 0===n&&(n=Ll),e.exists((function(e){return n(e,t)}))},Jl=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Ql=function(e,t){return e?Ul.some(t):Ul.none()},eu=function(e){var t=e.getParam("link_assume_external_targets",!1);return Pl(t)&&t?1:!Ml(t)||"http"!==t&&"https"!==t?0:t},tu=function(e){return e.getParam("default_link_target")},nu=function(e){return e.getParam("target_list",!0)},ru=function(e){return e.getParam("rel_list",[],"array")},ou=function(e){return e.getParam("link_title",!0,"boolean")},iu=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},au=function(e){return e.getParam("link_default_protocol","http","string")},lu=tinymce.util.Tools.resolve("tinymce.util.Tools"),su=function(e,t){var n=[];return lu.each(e,(function(e){var r=function(e){return Ml(e.text)?e.text:Ml(e.title)?e.title:""}(e);if(void 0!==e.menu){var o=su(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}})),n},du={sanitize:function(e){return cu(uu)(e)},sanitizeWith:cu=function(e){return void 0===e&&(e=uu),function(t){return Ul.from(t).map((function(t){return su(t,e)}))}},createUi:function(e,t){return function(n){return{name:e,type:"listbox",label:t,items:n}}},getValue:uu=function(e){return Ml(e.value)?e.value:""}},fu=function(){return(fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pu=Object.keys,mu=Object.hasOwnProperty,hu=function(e,t,n,r){return function(e,t){for(var n=pu(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(e,(function(e,o){(t(e,o)?n:r)(e,o)})),{}},gu=function(e,t){return mu.call(e,t)},vu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),bu=function(e){return e&&"a"===e.nodeName.toLowerCase()},yu=function(e){return bu(e)&&!!Cu(e)},wu=function(e,t){if(e.collapsed)return[];var n=e.cloneContents(),r=new vu(n.firstChild,n),o=[],i=n.firstChild;do{t(i)&&o.push(i)}while(i=r.next());return o},xu=function(e){return/^\w+:/i.test(e)},Cu=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},ku=function(e,t){var n,r=["noopener"],o=e?e.split(/\s+/):[],i=function(e){return e.filter((function(e){return-1===lu.inArray(r,e)}))},a=t?(n=i(n=o)).length>0?n.concat(r):r:i(o);return a.length>0?function(e){return lu.trim(e.sort().join(" "))}(a):""},Su=function(e,t){return t=t||e.selection.getNode(),Eu(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},_u=function(e,t){return function(e){return e.replace(/\uFEFF/g,"")}(t?t.innerText||t.textContent:e.getContent({format:"text"}))},Ou=function(e){return lu.grep(e,yu).length>0},Tu=function(e){var t=e.schema.getTextInlineElements();return 0===wu(e.selection.getRng(),(function(e){return 1===e.nodeType&&!bu(e)&&!gu(t,e.nodeName.toLowerCase())})).length},Eu=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},Au=function(e,t){var n,r,o=fu({},t);if(!(ru(e).length>0)&&!1===iu(e)){var i=ku(o.rel,"_blank"===o.target);o.rel=i||null}return Ul.from(o.target).isNone()&&!1===nu(e)&&(o.target=tu(e)),o.href=(n=o.href,"http"!==(r=eu(e))&&"https"!==r||xu(n)?n:r+"://"+n),o},Mu=function(e,t,n){var r=e.selection.getNode(),o=Su(e,r),i=Au(e,function(e){var t,n,r;return t=["title","rel","class","target"],n=function(t,n){return e[n].each((function(e){t[n]=e.length>0?e:null})),t},r={href:e.href},function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}(t,(function(e,t){r=n(r,e,t)})),r}(n));e.undoManager.transact((function(){n.href===t.href&&t.attach(),o?(e.focus(),function(e,t,n,r){n.each((function(e){gu(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,r),e.selection.select(t)}(e,o,n.text,i)):function(e,t,n,r){Eu(t)?Bu(e,t,r):n.fold((function(){e.execCommand("mceInsertLink",!1,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))}(e,r,n.text,i)}))},Du=function(e){var t=e.class,n=e.href,r=e.rel,o=e.target,i=e.text,a=e.title;return function(e,t){var n,r={};return hu(e,t,(n=r,function(e,t){n[t]=e}),Bl),r}({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},(function(e,t){return!1===Nl(e)}))},Nu=function(e,t,n){e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,Du(n)):Mu(e,t,n)},Pu=function(e){e.hasPlugin("rtc",!0)?e.execCommand("unlink"):function(e){e.undoManager.transact((function(){var t=e.selection.getNode();Eu(t)?zu(e,t):function(e){var t=e.dom,n=e.selection,r=n.getBookmark(),o=n.getRng().cloneRange(),i=t.getParent(o.startContainer,"a[href]",e.getBody()),a=t.getParent(o.endContainer,"a[href]",e.getBody());i&&o.setStartBefore(i),a&&o.setEndAfter(a),n.setRng(o),e.execCommand("unlink"),n.moveToBookmark(r)}(e),e.focus()}))}(e)},zu=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},Bu=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},Ru=function(e){return gu(t=e,n="items")&&void 0!==t[n]&&null!==t[n];var t,n},Iu=function(e,t){return Xl(t,(function(t){return Ru(t)?Iu(e,t.items):Ql(t.value===e,t)}))},Lu=function(e,t,n,r){var o=r[t],i=e.length>0;return void 0!==o?Iu(o,n).map((function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:Bl}},text:i?e:t.text}})):Ul.none()},Fu=function(e,t){var n={text:e.text,title:e.title},r=function(e){var t,r=(t=e.url,Ql(n.text.length<=0,Ul.from(t.meta.text).getOr(t.value))),o=function(e){return Ql(n.title.length<=0,Ul.from(e.meta.title).getOr(""))}(e.url);return r.isSome()||o.isSome()?Ul.some(fu(fu({},r.map((function(e){return{text:e}})).getOr({})),o.map((function(e){return{title:e}})).getOr({}))):Ul.none()},o=function(e,r){var o,i,a=(o=t,i=r.name,"link"===i?o.link:"anchor"===i?o.anchor:Ul.none()).getOr([]);return Lu(n.text,r.name,a,e)};return{onChange:function(e,t){var i=t.name;return"url"===i?r(e()):Kl(["anchor","link"],i)?o(e(),t):"text"===i||"title"===i?(n[i]=e()[i],Ul.none()):Ul.none()}}},Vu=tinymce.util.Tools.resolve("tinymce.util.Delay"),Hu=tinymce.util.Tools.resolve("tinymce.util.Promise"),ju=function(e){var t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?Ul.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return fu(fu({},e),{href:"mailto:"+t})}}):Ul.none()},$u=function(e,t){return Xl([ju,(n=eu(e),r=au(e),function(e){var t=e.href;return 1===n&&!xu(t)||0===n&&/^\s*www(\.|\d\.)/i.test(t)?Ul.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+r+":// prefix?",preprocess:function(e){return fu(fu({},e),{href:r+"://"+t})}}):Ul.none()})],(function(e){return e(t)})).fold((function(){return Hu.resolve(t)}),(function(n){return new Hu((function(r){!function(e,t,n){var r=e.selection.getRng();Vu.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))}(e,n.message,(function(e){r(e?n.preprocess(t):t)}))}))}));var n,r},Uu=function(e){var t=e.dom.select("a:not([href])"),n=Gl(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?Ul.some([{text:"None",value:""}].concat(n)):Ul.none()},Wu=function(e){var t=function(e){return e.getParam("link_class_list",[],"array")}(e);return t.length>0?du.sanitize(t):Ul.none()},qu=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ku=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=function(e){return e.getParam("link_list")}(e);return new Hu((function(e){Ml(n)?qu.send({url:n,success:function(t){return e(function(e){try{return Ul.some(JSON.parse(e))}catch(t){return Ul.none()}}(t))},error:function(t){return e(Ul.none())}}):zl(n)?n((function(t){return e(Ul.some(t))})):e(Ul.from(n))})).then((function(e){return e.bind(du.sanitizeWith(t)).map((function(e){return e.length>0?[{text:"None",value:""}].concat(e):e}))}))},Yu=function(e,t){var n=ru(e);if(n.length>0){var r=Zl(t,"_blank");return(!1===iu(e)?du.sanitizeWith((function(e){return ku(du.getValue(e),r)})):du.sanitize)(n)}return Ul.none()},Gu=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Xu=function(e){var t=nu(e);return Dl(t)?du.sanitize(t).orThunk((function(){return Ul.some(Gu)})):!1===t?Ul.none():Ul.some(Gu)},Zu=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?Ul.some(r):Ul.none()},Ju=function(e,t){return Ku(e).then((function(n){var r=function(e,t){var n=e.dom,r=Tu(e)?Ul.some(_u(e.selection,t)):Ul.none(),o=t?Ul.some(n.getAttrib(t,"href")):Ul.none(),i=t?Ul.from(n.getAttrib(t,"target")):Ul.none(),a=Zu(n,t,"rel"),l=Zu(n,t,"class");return{url:o,text:r,title:Zu(n,t,"title"),target:i,rel:a,linkClass:l}}(e,t);return{anchor:r,catalogs:{targets:Xu(e),rels:Yu(e,r.target),classes:Wu(e),anchor:Uu(e),link:n},optNode:Ul.from(t),flags:{titleEnabled:ou(e)}}}))},Qu=function(e){(function(e){var t=Su(e);return Ju(e,t)})(e).then((function(t){return function(e,t,n){var r=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),o=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],i=function(e,t){var n=e.anchor,r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}}(e,Ul.from(tu(n))),a=e.catalogs,l=Fu(i,a);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Yl([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r,o,Jl([a.anchor.map(du.createUi("anchor","Anchors")),a.rels.map(du.createUi("rel","Rel")),a.targets.map(du.createUi("target","Open link in...")),a.link.map(du.createUi("link","Link list")),a.classes.map(du.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onChange:function(e,t){var n=t.name;l.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}}(t,function(e,t){return function(n){var r=n.getData();if(!r.url.value)return Pu(e),void n.close();var o=function(e){return Ul.from(r[e]).filter((function(n){return!Zl(t.anchor[e],n)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:Bl};$u(e,i).then((function(t){Nu(e,a,t)})),n.close()}}(e,t),e)})).then((function(t){e.windowManager.open(t)}))},es=function(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}(t,n)},ts=function(e,t){return e.dom.getParent(t,"a[href]")},ns=function(e){return ts(e,e.selection.getStart())},rs=function(e,t){if(t){var n=Cu(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else es(t.href)}},os=function(e){return function(){Qu(e)}},is=function(e){return function(){rs(e,ns(e))}},as=function(e,t){return e.on("NodeChange",t),function(){return e.off("NodeChange",t)}},ls=function(e){return function(t){var n=function(){return t.setActive(!e.mode.isReadOnly()&&null!==Su(e,e.selection.getNode()))};return n(),as(e,n)}},us=function(e){return function(t){var n=function(){return t.setDisabled(null===Su(e,e.selection.getNode()))};return n(),as(e,n)}},ss=function(e){return function(t){var n=function(t){return Ou(t)||(n=e.selection.getRng(),wu(n,yu).length>0);var n},r=e.dom.getParents(e.selection.getStart());return t.setDisabled(!n(r)),as(e,(function(e){return t.setDisabled(!n(e.parents))}))}},cs=function(e){var t=function(t){var n=e.selection.getNode();return t.setDisabled(!Su(e,n)),Bl};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ls(e)},label:"Link",predicate:function(t){return!!Su(e,t)&&function(e){return e.getParam("link_context_toolbar",!1,"boolean")}(e)},initValue:function(){var t=Su(e);return t?Cu(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!Su(e,n)),ls(e)(t)},onAction:function(t){var n=t.getValue(),r=function(t){var n=Su(e),r=Tu(e);if(!n&&r){var o=_u(e.selection,n);return Ul.some(o.length>0?o:t)}return Ul.none()}(n);Nu(e,{href:n,attach:Bl},{href:n,text:r,title:Ul.none(),rel:Ul.none(),target:Ul.none(),class:Ul.none()}),e.selection.collapse(!1),t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:t,onAction:function(t){Pu(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:t,onAction:function(t){is(e)(),t.hide()}}]})},Ol.add("link",(function(e){!function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:os(e),onSetup:ls(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:is(e),onSetup:us(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Pu(e)},onSetup:ss(e)})}(e),function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:is(e),onSetup:us(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:os(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Pu(e)},onSetup:ss(e)})}(e),function(e){e.ui.registry.addContextMenu("link",{update:function(t){return Ou(e.dom.getParents(t,"a"))?"link unlink openlink":"link"}})}(e),cs(e),function(e){e.on("click",(function(t){var n=ts(e,t.target);n&&Tl.metaKeyPressed(t)&&(t.preventDefault(),rs(e,n))})),e.on("keydown",(function(t){var n=ns(e);n&&13===t.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(t)&&(t.preventDefault(),rs(e,n))}))}(e),function(e){e.addCommand("mceLink",(function(){!function(e){return e.getParam("link_quicklink",!1,"boolean")}(e)?os(e)():e.fire("contexttoolbar-show",{toolbarKey:"quicklink"})}))}(e),function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))}(e)})),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(function(e){return function(e){e.addCommand("mceCodeEditor",(function(){!function(e){var t=function(e){return e.getContent({source_view:!0})}(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:function(t){!function(e,t){e.focus(),e.undoManager.transact((function(){e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()}(e,t.getData().code),t.close()}})}(e)}))}(e),function(e){var t=function(){return e.execCommand("mceCodeEditor")};e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})}(e),{}}))}(),function(){var e=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},t=function(e){return function(t){return typeof t===e}},n=function(e){return function(t){return e===t}},r=e("string"),o=e("object"),i=e("array"),a=n(null),l=t("boolean"),u=n(void 0),s=function(e){return!function(e){return null==e}(e)},c=t("function"),d=t("number"),f=function(){},p=function(e){return function(){return e}},m=function(e){return e},h=function(e,t){return e===t};function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var v=function(e){return function(t){return!e(t)}},b=p(!1),y=p(!0),w=function(){return x},x=function(){var e=function(e){return e()},t=m;return{fold:function(e,t){return e()},isSome:b,isNone:y,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(void 0),or:t,orThunk:e,map:w,each:f,bind:w,exists:b,forall:y,filter:function(){return w()},toArray:function(){return[]},toString:p("none()")}}(),C=function(e){var t=p(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:y,isNone:b,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},k={some:C,none:w,from:function(e){return null==e?x:C(e)}},S=Array.prototype.slice,_=Array.prototype.indexOf,O=Array.prototype.push,T=function(e,t){return function(e,t){return _.call(e,t)}(e,t)>-1},E=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},A=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},M=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},D=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},N=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},P=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)}(e,(function(e,r){n=t(n,e,r)})),n},z=function(e,t,n){return D(e,(function(e,r){n=t(n,e,r)})),n},B=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return k.some(i);if(n(i,r))break}return k.none()}(e,t,b)},R=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return k.some(n)}return k.none()},I=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},L=function(e,t){return I(M(e,t))},F=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},V=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},H=function(e){return[e]},j=function(e,t){return t>=0&&t<e.length?k.some(e[t]):k.none()},$=function(e){return j(e,0)},U=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return k.none()},W=function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function q(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var K,Y=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},G=function(){return X(0,0)},X=function(e,t){return{major:e,minor:t}},Z={nu:X,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?G():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return X(r(1),r(2))}(e,n)},unknown:G},J=function(e,t){var n=String(t).toLowerCase();return B(e,(function(e){return e.search(n)}))},Q=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},ee=function(e,t){return-1!==e.indexOf(t)},te=function(e,t){return Q(e,t,0)},ne=function(e,t){return Q(e,t,e.length-t.length)},re=(K=/^\s+|\s+$/g,function(e){return e.replace(K,"")}),oe=function(e){return e.length>0},ie=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ae=function(e){return function(t){return ee(t,e)}},le=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ee(e,"edge/")&&ee(e,"chrome")&&ee(e,"safari")&&ee(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ie],search:function(e){return ee(e,"chrome")&&!ee(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ee(e,"msie")||ee(e,"trident")}},{name:"Opera",versionRegexes:[ie,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ae("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ae("firefox")},{name:"Safari",versionRegexes:[ie,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ee(e,"safari")||ee(e,"mobile/"))&&ee(e,"applewebkit")}}],ue=[{name:"Windows",search:ae("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ee(e,"iphone")||ee(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ae("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ae("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ae("linux"),versionRegexes:[]},{name:"Solaris",search:ae("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ae("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ae("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],se={browsers:p(le),oses:p(ue)},ce="Edge",de="Chrome",fe="Opera",pe="Firefox",me="Safari",he=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(ce),isChrome:r(de),isIE:r("IE"),isOpera:r(fe),isFirefox:r(pe),isSafari:r(me)}},ge={unknown:function(){return he({current:void 0,version:Z.unknown()})},nu:he,edge:p(ce),chrome:p(de),ie:p("IE"),opera:p(fe),firefox:p(pe),safari:p(me)},ve="Windows",be="Android",ye="Linux",we="Solaris",xe="FreeBSD",Ce="ChromeOS",ke=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(ve),isiOS:r("iOS"),isAndroid:r(be),isOSX:r("OSX"),isLinux:r(ye),isSolaris:r(we),isFreeBSD:r(xe),isChromeOS:r(Ce)}},Se={unknown:function(){return ke({current:void 0,version:Z.unknown()})},nu:ke,windows:p(ve),ios:p("iOS"),android:p(be),linux:p(ye),osx:p("OSX"),solaris:p(we),freebsd:p(xe),chromeos:p(Ce)},_e=function(e,t,n){var r=se.browsers(),o=se.oses(),i=t.bind((function(e){return function(e,t){return U(t.brands,(function(t){var n=t.brand.toLowerCase();return B(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:Z.nu(parseInt(t.version,10),0)}}))}))}(r,e)})).orThunk((function(){return function(e,t){return J(e,t).map((function(e){var n=Z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e)})).fold(ge.unknown,ge.nu),a=function(e,t){return J(e,t).map((function(e){var n=Z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e).fold(Se.unknown,Se.nu),l=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),l=a||r("(pointer:coarse)"),u=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!u,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!s&&!u&&!c;return{isiPad:p(o),isiPhone:p(i),isTablet:p(u),isPhone:p(s),isTouch:p(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(c),isDesktop:p(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:l}},Oe=function(e){return window.matchMedia(e).matches},Te=Y((function(){return _e(navigator.userAgent,k.from(navigator.userAgentData),Oe)})),Ee=function(){return Te()},Ae=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Me={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ae(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Ae(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Ae(n)},fromDom:Ae,fromPoint:function(e,t,n){return k.from(e.dom.elementFromPoint(t,n)).map(Ae)}},De=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Ne=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Pe=function(e,t){var n=void 0===t?document:t.dom;return Ne(n)?k.none():k.from(n.querySelector(e)).map(Me.fromDom)},ze=function(e,t){return e.dom===t.dom},Be=function(e,t){return n=e.dom,r=t.dom,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var n,r},Re=function(e,t){return Ee().browser.isIE()?Be(e,t):function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)}(e,t)},Ie=De,Le=Object.keys,Fe=Object.hasOwnProperty,Ve=function(e,t){for(var n=Le(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},He=function(e,t){return je(e,(function(e,n){return{k:n,v:t(e,n)}}))},je=function(e,t){var n={};return Ve(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},$e=function(e,t){var n={};return function(e,t,n,r){Ve(e,(function(e,o){(t(e,o)?n:r)(e,o)}))}(e,t,function(e){return function(t,n){e[n]=t}}(n),f),n},Ue=function(e,t){var n=[];return Ve(e,(function(e,r){n.push(t(e,r))})),n},We=function(e){return Ue(e,m)},qe=function(e){return Le(e).length},Ke=function(e,t){return Ye(e,t)?k.from(e[t]):k.none()},Ye=function(e,t){return Fe.call(e,t)},Ge=function(e,t){return Ye(e,t)&&void 0!==e[t]&&null!==e[t]},Xe=["tfoot","thead","tbody","colgroup"],Ze=function(e,t,n){return{element:e,rowspan:t,colspan:n}},Je=function(e,t,n){return{element:e,cells:t,section:n}},Qe=function(e,t,n){return{element:e,isNew:t,isLocked:n}},et=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}},tt=function(e,t){return{element:e,columns:t}};"undefined"!=typeof window?window:Function("return this;")();var nt=function(e){return e.dom.nodeName.toLowerCase()},rt=function(e){return e.dom.nodeType},ot=function(e){return function(t){return rt(t)===e}},it=function(e){return 8===rt(e)||"#comment"===nt(e)},at=ot(1),lt=ot(3),ut=ot(9),st=ot(11),ct=function(e){return function(t){return at(t)&&nt(t)===e}},dt=function(e){return Me.fromDom(e.dom.ownerDocument)},ft=function(e){return ut(e)?e:dt(e)},pt=function(e){return k.from(e.dom.parentNode).map(Me.fromDom)},mt=function(e,t){for(var n=c(t)?t:b,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Me.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},ht=function(e){return k.from(e.dom.previousSibling).map(Me.fromDom)},gt=function(e){return k.from(e.dom.nextSibling).map(Me.fromDom)},vt=function(e){return M(e.dom.childNodes,Me.fromDom)},bt=function(e,t){var n=e.dom.childNodes;return k.from(n[t]).map(Me.fromDom)},yt=c(Element.prototype.attachShadow)&&c(Node.prototype.getRootNode),wt=p(yt),xt=yt?function(e){return Me.fromDom(e.dom.getRootNode())}:ft,Ct=function(e){var t,n=xt(e);return st(t=n)&&s(t.dom.host)?k.some(n):k.none()},kt=function(e){return Me.fromDom(e.dom.host)},St=function(e){return s(e.dom.shadowRoot)},_t=function(e){var t=lt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return Ct(Me.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=_t,r=kt,function(e){return n(r(e))}))},Ot=function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Me.fromDom(t)},Tt=function(e,t){var n=[];return D(vt(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(Tt(e,t))})),n},Et=function(e,t,n){return function(e,t,n){return N(mt(e,n),t)}(e,(function(e){return De(e,t)}),n)},At=function(e,t){return function(e,t){return N(vt(e),t)}(e,(function(e){return De(e,t)}))},Mt=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return Ne(n)?[]:M(n.querySelectorAll(e),Me.fromDom)}(t,e)};function Dt(e,t,n,r,o){return e(n,r)?k.some(n):c(o)&&o(n)?k.none():t(n,r,o)}var Nt,Pt,zt,Bt=function(e,t,n){for(var r=e.dom,o=c(n)?n:b;r.parentNode;){r=r.parentNode;var i=Me.fromDom(r);if(t(i))return k.some(i);if(o(i))break}return k.none()},Rt=function(e,t,n){return Bt(e,(function(e){return De(e,t)}),n)},It=function(e,t){return function(e,t){return B(e.dom.childNodes,(function(e){return t(Me.fromDom(e))})).map(Me.fromDom)}(e,(function(e){return De(e,t)}))},Lt=function(e,t){return Pe(t,e)},Ft=function(e,t,n){return Dt((function(e,t){return De(e,t)}),Rt,e,t,n)},Vt=function(e,t,n){if(!(r(n)||l(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ht=function(e,t,n){Vt(e.dom,t,n)},jt=function(e,t){var n=e.dom;Ve(t,(function(e,t){Vt(n,t,e)}))},$t=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Ut=function(e,t){return k.from($t(e,t))},Wt=function(e,t){e.dom.removeAttribute(t)},qt=function(e){return z(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Kt=function(e,t,n){return void 0===n&&(n=h),e.exists((function(e){return n(e,t)}))},Yt=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Gt=function(e,t,n){return e.isSome()&&t.isSome()?k.some(n(e.getOrDie(),t.getOrDie())):k.none()},Xt=function(e,t){return e?k.some(t):k.none()},Zt=function(e){return void 0!==e.style&&c(e.style.getPropertyValue)},Jt=function(e,t,n){if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Zt(e)&&e.style.setProperty(t,n)},Qt=function(e,t,n){var r=e.dom;Jt(r,t,n)},en=function(e,t){var n=e.dom;Ve(t,(function(e,t){Jt(n,t,e)}))},tn=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||_t(e)?r:nn(n,t)},nn=function(e,t){return Zt(e)?e.style.getPropertyValue(t):""},rn=function(e,t){var n=e.dom,r=nn(n,t);return k.from(r).filter((function(e){return e.length>0}))},on=function(e,t){!function(e,t){Zt(e)&&e.style.removeProperty(t)}(e.dom,t),Kt(Ut(e,"style").map(re),"")&&Wt(e,"style")},an=function(e,t,n){return void 0===n&&(n=0),Ut(e,t).map((function(e){return parseInt(e,10)})).getOr(n)},ln=function(e,t){return an(e,t,1)},un=function(e){return ln(e,"colspan")>1},sn=function(e){return ln(e,"rowspan")>1},cn=function(e,t){return parseInt(tn(e,t),10)},dn=p(10),fn=p(10),pn=function(e,t){return mn(e,t,y)},mn=function(e,t,n){return L(vt(e),(function(e){return De(e,t)?n(e)?[e]:[]:mn(e,t,n)}))},hn=function(e,t){return function(e,t,n){return void 0===n&&(n=b),n(t)?k.none():T(e,nt(t))?k.some(t):Rt(t,e.join(","),(function(e){return De(e,"table")||n(e)}))}(["td","th"],e,t)},gn=function(e){return pn(e,"th,td")},vn=function(e){return De(e,"colgroup")?At(e,"col"):L(wn(e),(function(e){return At(e,"col")}))},bn=function(e,t){return Ft(e,"table",t)},yn=function(e){return pn(e,"tr")},wn=function(e){return bn(e).fold(p([]),(function(e){return At(e,"colgroup")}))},xn=function(e,t){return M(e,(function(e){if("colgroup"===nt(e)){var n=M(vn(e),(function(e){var t=an(e,"span",1);return Ze(e,1,t)}));return Je(e,n,"colgroup")}n=M(gn(e),(function(e){var t=an(e,"rowspan",1),n=an(e,"colspan",1);return Ze(e,t,n)}));return Je(e,n,t(e))}))},Cn=function(e){return pt(e).map((function(e){var t=nt(e);return function(e){return T(Xe,e)}(t)?t:"tbody"})).getOr("tbody")},kn=function(e){var t=yn(e),n=q(q([],wn(e)),t);return xn(n,Cn)},Sn=function(e,t,n){var r=e.cells,o=r.slice(0,t),i=r.slice(t),a=o.concat(n).concat(i);return Tn(e,a)},_n=function(e,t,n){return Sn(e,t,[n])},On=function(e,t,n){e.cells[t]=n},Tn=function(e,t){return et(e.element,t,e.section,e.isNew)},En=function(e,t){return e.cells[t]},An=function(e,t){return En(e,t).element},Mn=function(e){return e.cells.length},Dn=function(e){var t=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}(e,(function(e){return"colgroup"===e.section}));return{rows:t.fail,cols:t.pass}},Nn=function(e,t,n){var r=M(e.cells,n);return et(t(e.element),r,e.section,!0)},Pn="data-snooker-locked-cols",zn=function(e){return Ut(e,Pn).bind((function(e){return k.from(e.match(/\d+/g))})).map((function(e){return V(e,y)}))},Bn=function(e){var t,n,r,o=z(Dn(e).rows,(function(e,t){return D(t.cells,(function(t,n){t.isLocked&&(e[n]=!0)})),e}),{}),i=Ue(o,(function(e,t){return parseInt(t,10)}));return t=i,(r=S.call(t,0)).sort(n),r},Rn=function(e,t){return e+","+t},In=function(e,t){var n=L(e.all,(function(e){return e.cells}));return N(n,t)},Ln=function(e){var t={},n=[],r={},o=[],i=$(e).map((function(e){return e.element})).bind(bn).bind(zn).getOr({}),a=0,l=0,u=0;return D(e,(function(e){if("colgroup"===e.section)r=function(e){var t={},n=0;return D(e.cells,(function(e){var r=e.colspan;A(r,(function(o){var i=n+o;t[i]=function(e,t,n){return{element:e,colspan:t,column:n}}(e.element,r,i)})),n+=r})),t}(e),o=[tt(e.element,We(r))];else{var s=[];D(e.cells,(function(e){for(var n=0;void 0!==t[Rn(u,n)];)n++;for(var r=Ge(i,n.toString()),o=function(e,t,n,r,o,i){return{element:e,rowspan:t,colspan:n,row:r,column:o,isLocked:i}}(e.element,e.rowspan,e.colspan,u,n,r),a=0;a<e.colspan;a++)for(var c=0;c<e.rowspan;c++){var d=n+a,f=Rn(u+c,d);t[f]=o,l=Math.max(l,d+1)}s.push(o)})),a++,n.push(Je(e.element,s,e.section)),u++}})),{grid:function(e,t){return{rows:e,columns:t}}(a,l),access:t,all:n,columns:r,colgroups:o}},Fn={fromTable:function(e){var t=kn(e);return Ln(t)},generate:Ln,getAt:function(e,t,n){return k.from(e.access[Rn(t,n)])},findItem:function(e,t,n){var r=In(e,(function(e){return n(t,e.element)}));return r.length>0?k.some(r[0]):k.none()},filterItems:In,justCells:function(e){return L(e.all,(function(e){return e.cells}))},justColumns:function(e){return We(e.columns)},hasColumns:function(e){return Le(e.columns).length>0},getColumnAt:function(e,t){return k.from(e.columns[t])}},Vn=function(e,t){var n=t.column,r=t.column+t.colspan-1,o=t.row,i=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&i>=e.startRow},Hn=function(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow},jn=function(e,t,n){var r=Fn.findItem(e,t,ze),o=Fn.findItem(e,n,ze);return r.bind((function(e){return o.map((function(t){return n=e,r=t,o=Math.min(n.row,r.row),i=Math.min(n.column,r.column),a=Math.max(n.row+n.rowspan-1,r.row+r.rowspan-1),l=Math.max(n.column+n.colspan-1,r.column+r.colspan-1),{startRow:o,startCol:i,finishRow:a,finishCol:l};var n,r,o,i,a,l}))}))},$n=function(e,t,n){return jn(e,t,n).bind((function(t){return function(e,t){for(var n=!0,r=g(Hn,t),o=t.startRow;o<=t.finishRow;o++)for(var i=t.startCol;i<=t.finishCol;i++)n=n&&Fn.getAt(e,o,i).exists(r);return n?k.some(t):k.none()}(e,t)}))},Un=function(e,t,n){return jn(e,t,n).map((function(t){var n=Fn.filterItems(e,g(Vn,t));return M(n,(function(e){return e.element}))}))},Wn=function(e,t){return Fn.findItem(e,t,(function(e,t){return Re(t,e)})).map((function(e){return e.element}))},qn=function(e,t,n){return bn(e).bind((function(r){return function(e,t,n,r){return Fn.findItem(e,t,ze).bind((function(t){var o=n>0?t.row+t.rowspan-1:t.row,i=r>0?t.column+t.colspan-1:t.column;return Fn.getAt(e,o+n,i+r).map((function(e){return e.element}))}))}(Yn(r),e,t,n)}))},Kn=function(e,t,n,r,o){var i=Yn(e),a=ze(e,n)?k.some(t):Wn(i,t),l=ze(e,o)?k.some(r):Wn(i,r);return a.bind((function(e){return l.bind((function(t){return Un(i,e,t)}))}))},Yn=Fn.fromTable,Gn=function(e,t){pt(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Xn=function(e,t){gt(e).fold((function(){pt(e).each((function(e){Jn(e,t)}))}),(function(e){Gn(e,t)}))},Zn=function(e,t){(function(e){return bt(e,0)})(e).fold((function(){Jn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},Jn=function(e,t){e.dom.appendChild(t.dom)},Qn=function(e,t){Gn(e,t),Jn(t,e)},er=function(e,t){D(t,(function(n,r){var o=0===r?e:t[r-1];Xn(o,n)}))},tr=function(e,t){D(t,(function(t){Jn(e,t)}))},nr=function(e){e.dom.textContent="",D(vt(e),(function(e){rr(e)}))},rr=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},or=function(e){var t,n=vt(e);n.length>0&&(t=e,D(n,(function(e){Gn(t,e)}))),rr(e)},ir=(Nt=lt,Pt="text",{get:function(e){if(!Nt(e))throw new Error("Can only get "+Pt+" value of a "+Pt+" node");return zt(e).getOr("")},getOption:zt=function(e){return Nt(e)?k.from(e.dom.nodeValue):k.none()},set:function(e,t){if(!Nt(e))throw new Error("Can only set raw "+Pt+" value of a "+Pt+" node");e.dom.nodeValue=t}}),ar=function(e){return ir.get(e)},lr=function(e){return ir.getOption(e)},ur=function(e,t){return ir.set(e,t)},sr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function cr(){return{up:p({selector:Rt,closest:Ft,predicate:Bt,all:mt}),down:p({selector:Mt,predicate:Tt}),styles:p({get:tn,getRaw:rn,set:Qt,remove:on}),attrs:p({get:$t,set:Ht,remove:Wt,copyTo:function(e,t){var n=qt(e);jt(t,n)}}),insert:p({before:Gn,after:Xn,afterAll:er,append:Jn,appendAll:tr,prepend:Zn,wrap:Qn}),remove:p({unwrap:or,remove:rr}),create:p({nu:Me.fromTag,clone:function(e){return Me.fromDom(e.dom.cloneNode(!1))},text:Me.fromText}),query:p({comparePosition:function(e,t){return e.dom.compareDocumentPosition(t.dom)},prevSibling:ht,nextSibling:gt}),property:p({children:vt,name:nt,parent:pt,document:function(e){return ft(e).dom},isText:lt,isComment:it,isElement:at,isSpecial:function(e){var t=nt(e);return T(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:function(e){return at(e)?Ut(e,"lang"):k.none()},getText:ar,setText:ur,isBoundary:function(e){return!!at(e)&&("body"===nt(e)||T(sr,nt(e)))},isEmptyTag:function(e){return!!at(e)&&T(["br","img","hr","input"],nt(e))},isNonEditable:function(e){return at(e)&&"false"===$t(e,"contenteditable")}}),eq:ze,is:Ie}}var dr,fr,pr,mr,hr=function(e,t,n,r){var o=t(e,n);return P(r,(function(n,r){var o=t(e,r);return gr(e,n,o)}),o)},gr=function(e,t,n){return t.bind((function(t){return n.filter(g(e.eq,t))}))},vr=function(e,t,n){return n.length>0?function(e,t,n,r){return r(e,t,n[0],n.slice(1))}(e,t,n,hr):k.none()},br=function(e,t,n,r){void 0===r&&(r=b);var o=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),a=function(e){return R(e,r).fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},l=a(o),u=a(i),s=B(l,(function(t){return E(u,function(e,t){return g(e.eq,t)}(e,t))}));return{firstpath:l,secondpath:u,shared:s}},yr=cr(),wr=function(e,t){return vr(yr,(function(t,n){return e(n)}),t)},xr=function(e){return Rt(e,"table")},Cr=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||ze(t,e)}};return ze(e,t)?k.some({boxes:k.some([e]),start:e,finish:t}):xr(e).bind((function(o){return xr(t).bind((function(i){if(ze(o,i))return k.some({boxes:(s=o,c=e,d=t,f=Yn(s),Un(f,c,d)),start:e,finish:t});if(Re(o,i)){var a=(l=Et(t,"td,th",r(o))).length>0?l[l.length-1]:t;return k.some({boxes:Kn(o,e,o,t,i),start:e,finish:a})}if(Re(i,o)){var l,u=(l=Et(e,"td,th",r(i))).length>0?l[l.length-1]:e;return k.some({boxes:Kn(i,e,o,t,i),start:e,finish:u})}return function(e,t,n){return br(yr,e,t,n)}(e,t).shared.bind((function(a){return Ft(a,"table",n).bind((function(n){var a=Et(t,"td,th",r(n)),l=a.length>0?a[a.length-1]:t,u=Et(e,"td,th",r(n)),s=u.length>0?u[u.length-1]:e;return k.some({boxes:Kn(n,e,o,t,i),start:s,finish:l})}))}));var s,c,d,f}))}))},kr=function(e,t){var n=Mt(e,t);return n.length>0?k.some(n):k.none()},Sr=function(e,t,n){return Lt(e,t).bind((function(t){return Lt(e,n).bind((function(e){return wr(xr,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))},_r=function(e,t,n,r,o){return function(e,t){return B(e,(function(e){return De(e,t)}))}(e,o).bind((function(e){return qn(e,t,n).bind((function(e){return function(e,t){return Rt(e,"table").bind((function(n){return Lt(n,t).bind((function(t){return Cr(t,e).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}))}(e,r)}))}))},Or=function(e,t){return kr(e,t)},Tr=function(e,t,n){return Sr(e,t,n).bind((function(t){var n=function(t){return ze(e,t)},r="thead,tfoot,tbody,table",o=Rt(t.first,r,n),i=Rt(t.last,r,n);return o.bind((function(e){return i.bind((function(n){return ze(e,n)?(r=t.table,o=t.first,i=t.last,a=Yn(r),$n(a,o,i)):k.none();var r,o,i,a}))}))}))},Er=function(e){if(!i(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return D(e,(function(r,o){var a=Le(r);if(1!==a.length)throw new Error("one and only one name per case");var l=a[0],u=r[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!i(u))throw new Error("case arguments must be an array");t.push(l),n[l]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+u.length+" ("+u+"), got "+i);var a=function(e){var r=Le(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!F(t,(function(e){return T(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[o];return i.apply(null,n)},match:a,log:function(e){console.log(e,{constructors:t,constructor:l,params:n})}}}})),n},Ar=Er([{none:[]},{multiple:["elements"]},{single:["element"]}]),Mr=function(e,t,n,r){return e.fold(t,n,r)},Dr=Ar.none,Nr=Ar.multiple,Pr=Ar.single,zr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Br=function(e,t){return Me.fromDom(e.dom.cloneNode(t))},Rr=function(e){return Br(e,!1)},Ir=function(e){return Br(e,!0)},Lr=function(e,t){var n=Me.fromTag(t),r=qt(e);return jt(n,r),n},Fr=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=tn(n,e);return parseFloat(o)||0}return r},r=function(e,t){return z(t,(function(t,n){var r=tn(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};return{set:function(t,n){if(!d(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Zt(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}},Vr=Fr("width",(function(e){return e.dom.offsetWidth})),Hr=function(e){return Vr.get(e)},jr=function(e){return Vr.getOuter(e)},$r=function(e,t){void 0===t&&(t=y);var n=e.grid,r=A(n.columns,m),o=A(n.rows,m);return M(r,(function(n){return Ur((function(){return L(o,(function(t){return Fn.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))}),(function(e){return 1===e.colspan&&t(e.element)}),(function(){return Fn.getAt(e,0,n)}))}))},Ur=function(e,t,n){var r=e();return B(r,t).orThunk((function(){return k.from(r[0]).orThunk(n)})).map((function(e){return e.element}))},Wr=function(e){var t=e.grid,n=A(t.rows,m),r=A(t.columns,m);return M(n,(function(t){return Ur((function(){return L(r,(function(n){return Fn.getAt(e,t,n).filter((function(e){return e.row===t})).fold(p([]),(function(e){return[e]}))}))}),(function(e){return 1===e.rowspan}),(function(){return Fn.getAt(e,t,0)}))}))},qr=function(e,t){if(t<0||t>=e.length-1)return k.none();var n=e[t].fold((function(){var n=function(e){var t=S.call(e,0);return t.reverse(),t}(e.slice(0,t));return U(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return k.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return U(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return k.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))},Kr=function(e,t){return function(n){return"rtl"===Yr(n)?t:e}},Yr=function(e){return"rtl"===tn(e,"direction")?"rtl":"ltr"},Gr=Fr("height",(function(e){var t=e.dom;return _t(e)?t.getBoundingClientRect().height:t.offsetHeight})),Xr=function(e){return Gr.get(e)},Zr=function(e){return Gr.getOuter(e)},Jr=function(e,t){return{left:e,top:t,translate:function(n,r){return Jr(e+n,t+r)}}},Qr=Jr,eo=function(e,t){return void 0!==e?e:void 0!==t?t:0},to=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Qr(n.offsetLeft,n.offsetTop);var i=eo(null==r?void 0:r.pageYOffset,o.scrollTop),a=eo(null==r?void 0:r.pageXOffset,o.scrollLeft),l=eo(o.clientTop,n.clientTop),u=eo(o.clientLeft,n.clientLeft);return no(e).translate(a-u,i-l)},no=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Qr(n.offsetLeft,n.offsetTop):_t(e)?function(e){var t=e.getBoundingClientRect();return Qr(t.left,t.top)}(t):Qr(0,0)},ro=function(e,t){return{row:e,y:t}},oo=function(e,t){return{col:e,x:t}},io=function(e){return to(e).left+jr(e)},ao=function(e){return to(e).left},lo=function(e,t){return oo(e,ao(t))},uo=function(e,t){return oo(e,io(t))},so=function(e){return to(e).top},co=function(e,t){return ro(e,so(t))},fo=function(e,t){return ro(e,so(t)+Zr(t))},po=function(e,t,n){if(0===n.length)return[];var r=M(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])},mo={delta:m,positions:function(e){return po(co,fo,e)},edge:so},ho={delta:m,edge:ao,positions:function(e){return po(lo,uo,e)}},go={delta:function(e){return-e},edge:io,positions:function(e){return po(uo,lo,e)}},vo=Kr(ho,go),bo={delta:function(e,t){return vo(t).delta(e,t)},positions:function(e,t){return vo(t).positions(e,t)},edge:function(e){return vo(e).edge(e)}},yo={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},wo=(dr="[0-9]+",fr="[eE][+-]?[0-9]+",pr=function(e){return"(?:"+e+")?"},mr=["Infinity","[0-9]+\\."+pr(dr)+pr(fr),"\\.[0-9]+"+pr(fr),dr+pr(fr)].join("|"),new RegExp("^([+-]?(?:"+mr+"))(.*)$")),xo=function(e,t){return k.from(wo.exec(e)).bind((function(e){var n=Number(e[1]),r=e[2];return function(e,t){return E(t,(function(t){return E(yo[t],(function(t){return e===t}))}))}(r,t)?k.some({value:n,unit:r}):k.none()}))},Co=function(){var e=Ee().browser;return e.isIE()||e.isEdge()},ko=function(e,t,n){return function(e,t){var n=parseFloat(e);return isNaN(n)?t:n}(tn(e,t),n)},So=function(e){return Co()?function(e){var t=e.dom.getBoundingClientRect().height;return"border-box"===tn(e,"box-sizing")?t:t-ko(e,"padding-top",0)-ko(e,"padding-bottom",0)-(ko(e,"border-top-width",0)+ko(e,"border-bottom-width",0))}(e):ko(e,"height",Xr(e))},_o=function(e){return Co()?function(e){var t=e.dom.getBoundingClientRect().width;return"border-box"===tn(e,"box-sizing")?t:t-ko(e,"padding-left",0)-ko(e,"padding-right",0)-(ko(e,"border-left-width",0)+ko(e,"border-right-width",0))}(e):ko(e,"width",Hr(e))},Oo=/(\d+(\.\d+)?)%/,To=/(\d+(\.\d+)?)px|em/,Eo=function(e,t){var n,r=(n=e,k.from(n.dom.offsetParent).map(Me.fromDom)).getOr(Ot(dt(e)));return t(e)/t(r)*100},Ao=function(e,t){Qt(e,"width",t+"px")},Mo=function(e,t){Qt(e,"width",t+"%")},Do=function(e,t){Qt(e,"height",t+"px")},No=function(e,t,n,r){var o=parseInt(e,10);return ne(e,"%")&&"table"!==nt(t)?function(e,t,n,r){var o=bn(e).map((function(e){var r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,o),o}(t,o,n,r):o},Po=function(e){var t=function(e){return rn(e,"height").getOrThunk((function(){return So(e)+"px"}))}(e);return t?No(t,e,Xr,Do):Xr(e)},zo=function(e){return rn(e,"width").fold((function(){return k.from($t(e,"width"))}),(function(e){return k.some(e)}))},Bo=function(e,t){return e/t.pixelWidth()*100},Ro=function(e,t){return zo(e).fold((function(){var n=Hr(e);return Bo(n,t)}),(function(n){return function(e,t,n){var r=Oo.exec(t);if(null!==r)return parseFloat(r[1]);var o=_o(e);return Bo(o,n)}(e,n,t)}))},Io=function(e,t){return zo(e).fold((function(){return _o(e)}),(function(n){return function(e,t,n){var r=To.exec(t);if(null!==r)return parseInt(r[1],10);var o=Oo.exec(t);return null!==o?function(e,t){return e/100*t.pixelWidth()}(parseFloat(o[1]),n):_o(e)}(e,n,t)}))},Lo=function(e){return function(e,t,n){return n(e)/ln(e,t)}(e,"rowspan",Po)},Fo=function(e,t,n){Qt(e,"width",t+n)},Vo=function(e){return Eo(e,Hr)+"%"},Ho=p(Oo),jo=p(To),$o=ct("col"),Uo=function(e,t,n){return rn(e,t).getOrThunk((function(){return n(e)+"px"}))},Wo=function(e,t){return Uo(e,"width",(function(e){return $o(e)?Hr(e):Io(e,t)}))},qo=function(e){return Uo(e,"height",Lo)},Ko=function(e,t){return rn(e,t).isSome()},Yo=function(e,t,n,r,o,i){return e.filter(r).fold((function(){return i(qr(n,t))}),(function(e){return o(e)}))},Go=function(e,t,n,r,o){var i=$r(e,(function(e){return Ko(e,"width")})),a=Fn.hasColumns(e)?function(e){return M(Fn.justColumns(e),(function(e){return k.from(e.element)}))}(e):i,l=[k.some(bo.edge(t))].concat(M(bo.positions(i,t),(function(e){return e.map((function(e){return e.x}))}))),u=v(un);return M(a,(function(e,t){return Yo(e,t,l,u,(function(e){if(function(e){return!$o(e)||Ko(e,"width")}(e))return n(e,o);var a,s,c=(a=i[t],s=m,null!=a?s(a):k.none());return Yo(c,t,l,u,(function(e){return r(k.some(Hr(e)))}),r)}),r)}))},Xo=function(e){return e.map((function(e){return e+"px"})).getOr("")},Zo=function(e,t,n){return Go(e,t,Io,(function(e){return e.getOrThunk(n.minCellWidth)}),n)},Jo=function(e,t,n,r,o){var i=Wr(e),a=[k.some(n.edge(t))].concat(M(n.positions(i,t),(function(e){return e.map((function(e){return e.y}))})));return M(i,(function(e,t){return Yo(e,t,a,v(sn),r,o)}))},Qo=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},ei=function(e){var t=function(){return Hr(e)},n=p(0);return{width:t,pixelWidth:t,getWidths:function(t,n){return Zo(t,e,n)},getCellDelta:n,singleColumnWidth:p([0]),minCellWidth:n,setElementWidth:f,adjustTableWidth:f,isRelative:!0,label:"none"}},ti=function(e,t){var n=Qo(parseFloat(e)),r=Qo(Hr(t));return{width:n.get,pixelWidth:r.get,getWidths:function(e,n){return function(e,t,n){return Go(e,t,Ro,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}),n)}(e,t,n)},getCellDelta:function(e){return e/r.get()*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return dn()/r.get()*100},setElementWidth:Mo,adjustTableWidth:function(e){var o=n.get(),i=o+e/100*o;Mo(t,i),n.set(i),r.set(Hr(t))},isRelative:!0,label:"percent"}},ni=function(e,t){var n=Qo(e),r=n.get;return{width:r,pixelWidth:r,getWidths:function(e,n){return Zo(e,t,n)},getCellDelta:m,singleColumnWidth:function(e,t){return[Math.max(dn(),e+t)-e]},minCellWidth:dn,setElementWidth:Ao,adjustTableWidth:function(e){var o=r()+e;Ao(t,o),n.set(o)},isRelative:!1,label:"pixel"}},ri=function(e){return zo(e).fold((function(){return ei(e)}),(function(t){return function(e,t){var n=Ho().exec(t);if(null!==n)return ti(n[1],e);var r=jo().exec(t);if(null!==r){var o=parseInt(r[1],10);return ni(o,e)}var i=Hr(e);return ni(i,e)}(e,t)}))},oi=ni,ii=ti,ai=function(e,t,n){var r=e[n].element,o=Me.fromTag("td");Jn(o,Me.fromTag("br")),(t?Jn:Zn)(r,o)},li=function(e,t){var n=function(e){return De(e.element,t)},r=Ir(e),o=kn(r),i=ri(e),a=Fn.generate(o),l=function(e,t){var n=e.grid.columns,r=e.grid.rows,o=n,i=0,a=0,l=[],u=[];return Ve(e.access,(function(e){if(l.push(e),t(e)){u.push(e);var n=e.row,s=n+e.rowspan-1,c=e.column,d=c+e.colspan-1;n<r?r=n:s>i&&(i=s),c<o?o=c:d>a&&(a=d)}})),function(e,t,n,r,o,i){return{minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:o,selectedCells:i}}(r,o,i,a,l,u)}(a,n),u="th:not("+t+"),td:not("+t+")",s=mn(r,"th,td",(function(e){return De(e,u)}));return D(s,rr),function(e,t,n,r){for(var o=t.grid.columns,i=t.grid.rows,a=0;a<i;a++)for(var l=!1,u=0;u<o;u++)a<n.minRow||a>n.maxRow||u<n.minCol||u>n.maxCol||(Fn.getAt(t,a,u).filter(r).isNone()?ai(e,l,a):l=!0)}(o,a,l,n),function(e,t,n,r){Ve(n.columns,(function(e){(e.column<t.minCol||e.column>t.maxCol)&&rr(e.element)}));var o=N(pn(e,"tr"),(function(e){return 0===e.dom.childElementCount}));D(o,rr),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||D(pn(e,"th,td"),(function(e){Wt(e,"rowspan"),Wt(e,"colspan")})),Wt(e,Pn),Wt(e,"data-snooker-col-series"),ri(e).adjustTableWidth(r)}(r,l,a,function(e,t,n,r){if(0===r.minCol&&t.grid.columns===r.maxCol+1)return 0;var o=Zo(t,e,n),i=z(o,(function(e,t){return e+t}),0),a=z(o.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0)/i*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(a)}(e,Fn.fromTable(e),i,l)),r},ui=function(e){return"img"===nt(e)?1:lr(e).fold((function(){return vt(e).length}),(function(e){return e.length}))},si=["img","br"],ci=function(e){return lr(e).filter((function(e){return 0!==e.trim().length||e.indexOf("")>-1})).isSome()||T(si,nt(e))},di=function(e){return t=ci,(n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=Me.fromDom(e.childNodes[r]);if(t(o))return k.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return k.none()})(e.dom);var t,n},fi=function(e){return pi(e,ci)},pi=function(e,t){var n=function(e){for(var r=vt(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return k.some(i);var a=n(i);if(a.isSome())return a}return k.none()};return n(e)},mi={scope:["row","col"]},hi=function(e){return function(){var t=Me.fromTag("td",e.dom);return Jn(t,Me.fromTag("br",e.dom)),t}},gi=function(e){return function(){return Me.fromTag("col",e.dom)}},vi=function(e){return function(){return Me.fromTag("colgroup",e.dom)}},bi=function(e){return function(){return Me.fromTag("tr",e.dom)}},yi=function(e,t,n){var r=function(e,t){var n=Lr(e,t),r=vt(Ir(e));return tr(n,r),n}(e,t);return Ve(n,(function(e,t){null===e?Wt(r,t):Ht(r,t,e)})),r},wi=function(e){return e},xi=function(e,t,n){var r=function(e,t){var n,r,o,i;n=e.element,r=t,o=n.dom,i=r.dom,Zt(o)&&Zt(i)&&(i.style.cssText=o.style.cssText),on(t,"height"),1!==e.colspan&&on(t,"width")};return{col:function(n){var o=Me.fromTag(nt(n.element),t.dom);return r(n,o),e(n.element,o),o},colgroup:vi(t),row:bi(t),cell:function(o){var i,a,l=Me.fromTag(nt(o.element),t.dom),u=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=u.length>0?function(e,t,n){return di(e).map((function(r){var o=n.join(","),i=Et(r,o,(function(t){return ze(t,e)}));return P(i,(function(e,t){var n=Rr(t);return Wt(n,"contenteditable"),Jn(e,n),n}),t)})).getOr(t)}(o.element,l,u):l;return Jn(s,Me.fromTag("br")),r(o,l),i=o.element,a=l,Ve(mi,(function(e,t){return Ut(i,t).filter((function(t){return T(e,t)})).each((function(e){return Ht(a,t,e)}))})),e(o.element,l),l},replace:yi,gap:hi(t)}},Ci=function(e){return{col:gi(e),colgroup:vi(e),row:bi(e),cell:hi(e),replace:wi,gap:hi(e)}},ki=function(e){return M(e,Me.fromDom)},Si=function(e){return Me.fromDom(e.getBody())},_i=function(e){return e.getBoundingClientRect().width},Oi=function(e){return e.getBoundingClientRect().height},Ti=function(e){return function(t){return ze(t,Si(e))}},Ei=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},Ai=function(e){Wt(e,"data-mce-style");var t=function(e){return Wt(e,"data-mce-style")};D(gn(e),t),D(vn(e),t)},Mi=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return k.from(n).filter(oe)},Di=function(e){return/^(\d+(\.\d+)?)%$/.test(e)},Ni=function(e){return Me.fromDom(e.selection.getStart())},Pi=function(e){return Mr(e.get(),p([]),m,H)},zi=function(e){var t=function(e,t){return Ut(e,t).exists((function(e){return parseInt(e,10)>1}))},n=Pi(e);return n.length>0&&F(n,(function(e){return t(e,"rowspan")||t(e,"colspan")}))?k.some(n):k.none()},Bi=function(e,t,n){return Mr(t.get(),k.none,(function(t){return t.length<=1?k.none():Tr(e,n.firstSelectedSelector,n.lastSelectedSelector).map((function(e){return{bounds:e,cells:t}}))}),k.none)},Ri="data-mce-selected",Ii="data-mce-first-selected",Li="data-mce-last-selected",Fi={selected:Ri,selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:Ii,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:Li,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},Vi=function(e,t,n){return{element:n,mergable:Bi(t,e,Fi),unmergable:zi(e),selection:Pi(e)}},Hi=function(e){return function(t,n){var r,o=nt(t),i="col"===o||"colgroup"===o?bn(r=t).bind((function(e){return Or(e,Fi.firstSelectedSelector)})).fold(p(r),(function(e){return e[0]})):t;return Ft(i,e,n)}},ji=Hi("th,td,caption"),$i=Hi("th,td"),Ui=function(e){return Pi(e)},Wi=function(e,t,n){e.on("BeforeGetContent",(function(n){!0===n.selection&&Mr(t.get(),f,(function(t){n.preventDefault(),function(e){return bn(e[0]).map((function(e){var t=li(e,"[data-mce-selected]");return Ai(t),[t]}))}(t).each((function(t){n.content="text"===n.format?function(e){return M(e,(function(e){return e.dom.innerText})).join("")}(t):function(e,t){return M(t,(function(t){return e.selection.serializer.serialize(t.dom,{})})).join("")}(e,t)}))}),f)})),e.on("BeforeSetContent",(function(r){if(!0===r.selection&&!0===r.paste){var o=Ui(t);$(o).each((function(t){bn(t).each((function(o){var i,a,l,u=N((i=r.content,(l=(a||document).createElement("div")).innerHTML=i,vt(Me.fromDom(l))),(function(e){return"meta"!==nt(e)})),s=ct("table");if(1===u.length&&s(u[0])){r.preventDefault();var c=Me.fromDom(e.getDoc()),d=Ci(c),f=function(e,t,n){return{element:e,clipboard:t,generators:n}}(t,u[0],d);n.pasteCells(o,f).each((function(){e.focus()}))}}))}))}}))},qi=Er([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ki=W({},qi),Yi=function(e,t,n,r,o){var i=e.slice(0),a=function(e,t){return 0===e.length?Ki.none():1===e.length?Ki.only(0):0===t?Ki.left(0,1):t===e.length-1?Ki.right(t-1,t):t>0&&t<e.length-1?Ki.middle(t-1,t,t+1):Ki.none()}(e,t),l=p(M(i,p(0)));return a.fold(l,(function(e){return r.singleColumnWidth(i[e],n)}),(function(e,t){return o.calcLeftEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)}),(function(e,t,a){return o.calcMiddleDeltas(i,e,t,a,n,r.minCellWidth(),r.isRelative)}),(function(e,t){return o.calcRightEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)}))},Gi=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},Xi=function(e,t){return Fn.hasColumns(e)?function(e,t){var n=Fn.justColumns(e);return M(n,(function(e,n){return{element:e.element,width:t[n],colspan:e.colspan}}))}(e,t):function(e,t){var n=Fn.justCells(e);return M(n,(function(e){var n=Gi(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))}(e,t)},Zi=function(e,t,n){var r=Xi(e,t);D(r,(function(e){n.setElementWidth(e.element,e.width)}))},Ji=function(e,t,n,r,o){var i=Fn.fromTable(e),a=o.getCellDelta(t),l=o.getWidths(i,o),u=n===i.grid.columns-1,s=r.clampTableDelta(l,n,a,o.minCellWidth(),u),c=Yi(l,n,s,o,r),d=M(c,(function(e,t){return e+l[t]}));Zi(i,d,o),r.resizeTable(o.adjustTableWidth,s,u)},Qi=function(e,t,n,r){var o=Fn.fromTable(e),i=function(e,t,n){return Jo(e,t,n,Lo,(function(e){return e.getOrThunk(fn)}))}(o,e,r),a=M(i,(function(e,r){return n===r?Math.max(t+e,fn()):e})),l=function(e,t){var n=Fn.justCells(e);return M(n,(function(e){var n=Gi(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))}(o,a),u=function(e,t){return M(e.all,(function(e,n){return{element:e.element,height:t[n]}}))}(o,a);D(u,(function(e){Do(e.element,e.height)})),D(l,(function(e){Do(e.element,e.height)}));var s=P(a,(function(e,t){return e+t}),0);Do(e,s)},ea=function(e){return M(e,p(0))},ta=function(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))},na=function(e){return function(t,n,r,o){if(e(r)){var i=Math.max(o,t[n]-Math.abs(r)),a=Math.abs(i-t[n]);return r>=0?a:-a}return r}},ra=na((function(e){return e<0})),oa=na(y),ia=function(){var e=function(e,t,n,r){var o=(100+n)/100,i=Math.max(r,(e[t]+n)/o);return M(e,(function(e,n){return(n===t?i:e/o)-e}))},t=function(t,n,r,o,i,a){return a?e(t,n,o,i):function(e,t,n,r,o){var i=ra(e,t,r,o);return ta(e,t,n+1,[i,0],ea)}(t,n,r,o,i)};return{resizeTable:function(e,t){return e(t)},clampTableDelta:ra,calcLeftEdgeDeltas:t,calcMiddleDeltas:function(e,n,r,o,i,a,l){return t(e,r,o,i,a,l)},calcRightEdgeDeltas:function(t,n,r,o,i,a){if(a)return e(t,r,o,i);var l=ra(t,r,o,i);return ea(t.slice(0,r)).concat([l])},calcRedestributedWidths:function(e,t,n,r){if(r){var o=(t+n)/t,i=M(e,(function(e){return e/o}));return{delta:100*o-100,newSizes:i}}return{delta:n,newSizes:e}}}},aa=function(){var e=function(e,t,n,r,o){var i=oa(e,r>=0?n:t,r,o);return ta(e,t,n+1,[i,-i],ea)};return{resizeTable:function(e,t,n){n&&e(t)},clampTableDelta:function(e,t,n,r,o){if(o){if(n>=0)return n;var i=z(e,(function(e,t){return e+t-r}),0);return Math.max(-i,n)}return ra(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:function(t,n,r,o,i,a){return e(t,r,o,i,a)},calcRightEdgeDeltas:function(e,t,n,r,o,i){if(i)return ea(e);var a=r/e.length;return M(e,p(a))},calcRedestributedWidths:function(e,t,n,r){return{delta:0,newSizes:e}}}},la=function(e,t){var n=k.from(e.dom.documentElement).map(Me.fromDom).getOr(e);return{parent:p(n),view:p(e),origin:p(Qr(0,0)),isResizable:t}},ua=function(e,t,n){return{parent:p(t),view:p(e),origin:p(Qr(0,0)),isResizable:n}},sa=Er([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ca=function(e,t,n){var r=n.substring(0,n.length-e.length),o=parseFloat(r);return r===o.toString()?t(o):sa.invalid(n)},da=W(W({},sa),{from:function(e){return ne(e,"%")?ca("%",sa.percent,e):ne(e,"px")?ca("px",sa.pixels,e):sa.invalid(e)}}),fa=function(e,t,n){return e.fold((function(){return t}),(function(e){return function(e,t,n){var r=n/t;return M(e,(function(e){return da.from(e).fold((function(){return e}),(function(e){return e*r+"px"}),(function(e){return e/100*n+"px"}))}))}(t,n,e)}),(function(e){return function(e,t){return M(e,(function(e){return da.from(e).fold((function(){return e}),(function(e){return e/t*100+"%"}),(function(e){return e+"%"}))}))}(t,n)}))},pa=function(e,t,n){var r,o,i,a=da.from(n),l=F(e,(function(e){return"0px"===e}))?(r=a,o=e.length,i=r.fold((function(){return p("")}),(function(e){return p(e/o+"px")}),(function(){return p(100/o+"%")})),A(o,i)):fa(a,e,t);return ha(l)},ma=function(e,t){return 0===e.length?t:P(e,(function(e,t){return da.from(t).fold(p(0),m,m)+e}),0)},ha=function(e){if(0===e.length)return e;var t,n,r=P(e,(function(e,t){var n=da.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}}(e,"px")}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),o=r.output;return o.slice(0,o.length-1).concat([(t=o[o.length-1],n=Math.round(r.remainder),da.from(t).fold(p(t),(function(e){return e+n+"px"}),(function(e){return e+n+"%"})))])},ga=da.from,va=function(e){return ga(e).fold(p("px"),p("px"),p("%"))},ba=function(e,t,n,r){var o=Fn.fromTable(e),i=o.all,a=Fn.justCells(o),l=Fn.justColumns(o);t.each((function(t){var n=va(t),i=Hr(e),u=function(e,t,n){return Go(e,t,Wo,Xo,n)}(o,e,r),s=pa(u,i,t);Fn.hasColumns(o)?function(e,t,n){D(t,(function(t,r){var o=ma([e[r]],dn());Qt(t.element,"width",o+n)}))}(s,l,n):function(e,t,n){D(t,(function(t){var r=e.slice(t.column,t.colspan+t.column),o=ma(r,dn());Qt(t.element,"width",o+n)}))}(s,a,n),Qt(e,"width",t)})),n.each((function(t){var n=va(t),r=Xr(e),l=function(e,t,n){return Jo(e,t,n,qo,Xo)}(o,e,mo);!function(e,t,n,r){D(n,(function(t){var n=e.slice(t.row,t.rowspan+t.row),o=ma(n,fn());Qt(t.element,"height",o+r)})),D(t,(function(t,n){Qt(t.element,"height",e[n])}))}(pa(l,r,t),i,a,n),Qt(e,"height",t)}))},ya=function(e){return zo(e).exists((function(e){return Oo.test(e)}))},wa=function(e){return zo(e).exists((function(e){return To.test(e)}))},xa=function(e){return zo(e).isNone()},Ca=Vo,ka=function(e){return Fn.fromTable(e).grid},Sa=function(e){var t=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:function(e){t=N(t,(function(t){return t!==e}))},trigger:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};D(e,(function(e,t){o[e]=n[t]})),D(t,(function(e){e(o)}))}}},_a=function(e){return{registry:He(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),trigger:He(e,(function(e){return e.trigger}))}},Oa=function(e){return e.slice(0).sort()},Ta=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");var o;return function(e,t){if(!i(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");D(t,(function(t){if(!r(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))}("required",t),o=Oa(t),B(o,(function(e,t){return t<o.length-1&&e===o[t+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+o.join(", ")+"].")})),function(r){var o=Le(r);F(t,(function(e){return T(o,e)}))||function(e,t){throw new Error("All required keys ("+Oa(e).join(", ")+") were not specified. Specified keys were: "+Oa(t).join(", ")+".")}(t,o),e(t,o);var i=N(t,(function(e){return!n.validate(r[e],e)}));return i.length>0&&function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Oa(e).join(", ")+") were not.")}(i,n.label),r}},Ea=function(e,t){var n=N(t,(function(t){return!T(e,t)}));n.length>0&&function(e){throw new Error("Unsupported keys for object: "+Oa(e).join(", "))}(n)},Aa=function(e){return function(e,t){return Ta(e,t,{validate:c,label:"function"})}(Ea,e)},Ma=Aa(["compare","extract","mutate","sink"]),Da=Aa(["element","start","stop","destroy"]),Na=Aa(["forceDrop","drop","move","delayDrop"]),Pa=function(){var e=k.none(),t=_a({move:Sa(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){(function(t,n){var r=e.map((function(e){return t.compare(e,n)}));return e=k.some(n),r})(r,n).each((function(e){t.trigger.move(e)}))}))},reset:function(){e=k.none()},events:t.registry}},za=function(){var e,t=(e=_a({move:Sa(["info"])}),{onEvent:f,reset:f,events:e.registry}),n=Pa(),r=t;return{on:function(){r.reset(),r=n},off:function(){r.reset(),r=t},isOn:function(){return r===n},onEvent:function(e,t){r.onEvent(e,t)},events:n.events}},Ba=function(e,t,n){var r,o,i,l,u=!1,s=_a({start:Sa([]),stop:Sa([])}),c=za(),d=function(){m.stop(),c.isOn()&&(c.off(),s.trigger.stop())},f=(r=d,o=200,i=null,{cancel:l=function(){a(i)||(clearTimeout(i),i=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l(),i=setTimeout((function(){i=null,r.apply(null,e)}),o)}});c.events.move.bind((function(n){t.mutate(e,n.info)}));var p=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u&&e.apply(null,t)}},m=t.sink(Na({forceDrop:d,drop:p(d),move:p((function(e){f.cancel(),c.onEvent(e,t)})),delayDrop:p(f.throttle)}),n);return{element:m.element,go:function(e){m.start(e),c.on(),s.trigger.start()},on:function(){u=!0},off:function(){u=!1},destroy:function(){m.destroy()},events:s.registry}},Ra=function(e){var t,n,r=Me.fromDom(function(e){if(wt()&&s(e.target)){var t=Me.fromDom(e.target);if(at(t)&&St(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return $(n)}}return k.from(e.target)}(e).getOr(e.target)),o=function(){return e.stopPropagation()},i=function(){return e.preventDefault()},a=(t=i,n=o,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))});return function(e,t,n,r,o,i,a){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:a}}(r,e.clientX,e.clientY,o,i,a,e)},Ia=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(Ra(n))}}(n,r);return e.dom.addEventListener(t,i,o),{unbind:g(La,e,t,i,o)}},La=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Fa=y,Va=function(e,t,n){return function(e,t,n,r){return Ia(e,t,n,r,!1)}(e,t,Fa,n)},Ha=Ra,ja=function(e,t){var n=$t(e,t);return void 0===n||""===n?[]:n.split(" ")},$a=function(e){return void 0!==e.dom.classList},Ua=function(e,t){return function(e,t,n){var r=ja(e,t).concat([n]);return Ht(e,t,r.join(" ")),!0}(e,"class",t)},Wa=function(e,t){$a(e)?e.dom.classList.add(t):Ua(e,t)},qa=function(e,t){return $a(e)&&e.dom.classList.contains(t)},Ka=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},Ya=Ka("ephox-dragster"),Ga=Ya.resolve,Xa=Ma({compare:function(e,t){return Qr(t.left-e.left,t.top-e.top)},extract:function(e){return k.some(Qr(e.x,e.y))},sink:function(e,t){var n=function(e){var t=W({layerClass:Ga("blocker")},e),n=Me.fromTag("div");return Ht(n,"role","presentation"),en(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Wa(n,Ga("blocker")),Wa(n,t.layerClass),{element:p(n),destroy:function(){rr(n)}}}(t),r=Va(n.element(),"mousedown",e.forceDrop),o=Va(n.element(),"mouseup",e.drop),i=Va(n.element(),"mousemove",e.move),a=Va(n.element(),"mouseout",e.delayDrop);return Da({element:n.element,start:function(e){Jn(e,n.element())},stop:function(){rr(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(e,t){e.mutate(t.left,t.top)}}),Za=function(e){return Ft(e,"[contenteditable]")},Ja=function(e,t){return void 0===t&&(t=!1),!Ee().browser.isIE()&&_t(e)?e.dom.isContentEditable:Za(e).fold(p(t),(function(e){return"true"===Qa(e)}))},Qa=function(e){return e.dom.contentEditable},el=Ka("ephox-snooker"),tl=el.resolve,nl=function(){var e=_a({drag:Sa(["xDelta","yDelta","target"])}),t=k.none(),n=function(){var e=_a({drag:Sa(["xDelta","yDelta"])});return{mutate:function(t,n){e.trigger.drag(t,n)},events:e.registry}}();n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta,n.yDelta,t)}))}));return{assign:function(e){t=k.some(e)},get:function(){return t},mutate:n.mutate,events:e.registry}},rl=tl("resizer-bar"),ol=tl("resizer-rows"),il=tl("resizer-cols"),al=function(e){var t=Mt(e.parent(),"."+rl);D(t,rr)},ll=function(e,t,n){var r=e.origin();D(t,(function(t){t.each((function(t){var o=n(r,t);Wa(o,rl),Jn(e.parent(),o)}))}))},ul=function(e,t,n,r){ll(e,t,(function(e,t){var o,i,a,l,u,s,c=(o=t.col,i=t.x-e.left,a=n.top-e.top,l=7,u=r,s=Me.fromTag("div"),en(s,{position:"absolute",left:i-l/2+"px",top:a+"px",height:u+"px",width:l+"px"}),jt(s,{"data-column":o,role:"presentation"}),s);return Wa(c,il),c}))},sl=function(e,t,n,r){ll(e,t,(function(e,t){var o=function(e,t,n,r,o){var i=Me.fromTag("div");return en(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),jt(i,{"data-row":e,role:"presentation"}),i}(t.row,n.left-e.left,t.y-e.top,r,7);return Wa(o,ol),o}))},cl=function(e,t,n,r,o){var i=to(n),a=t.isResizable,l=r.length>0?mo.positions(r,n):[],u=l.length>0?function(e,t){return L(e.all,(function(e,n){return t(e.element)?[n]:[]}))}(e,a):[],s=N(l,(function(e,t){return E(u,(function(e){return t===e}))}));sl(t,s,i,jr(n));var c=o.length>0?bo.positions(o,n):[],d=c.length>0?function(e,t){var n=[];return A(e.grid.columns,(function(r){Fn.getColumnAt(e,r).map((function(e){return e.element})).forall(t)&&n.push(r)})),N(n,(function(n){var r=Fn.filterItems(e,(function(e){return e.column===n}));return F(r,(function(e){return t(e.element)}))}))}(e,a):[],f=N(c,(function(e,t){return E(d,(function(e){return t===e}))}));ul(t,f,i,Zr(n))},dl=function(e,t){if(al(e),e.isResizable(t)){var n=Fn.fromTable(t),r=Wr(n),o=$r(n);cl(n,e,t,r,o)}},fl=function(e,t){var n=Mt(e.parent(),"."+rl);D(n,t)},pl=function(e){fl(e,(function(e){Qt(e,"display","none")}))},ml=function(e){fl(e,(function(e){Qt(e,"display","block")}))},hl=tl("resizer-bar-dragging"),gl=function(e){var t=nl(),n=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:Xa;return Ba(e,n,t)}(t,{}),r=k.none(),o=function(e,t){return k.from($t(e,t))};t.events.drag.bind((function(e){o(e.target,"data-row").each((function(t){var n=cn(e.target,"top");Qt(e.target,"top",n+e.yDelta+"px")})),o(e.target,"data-column").each((function(t){var n=cn(e.target,"left");Qt(e.target,"left",n+e.xDelta+"px")}))}));var i=function(e,t){return cn(e,t)-an(e,"data-initial-"+t,0)};n.events.stop.bind((function(){t.get().each((function(t){r.each((function(n){o(t,"data-row").each((function(e){var r=i(t,"top");Wt(t,"data-initial-top"),c.trigger.adjustHeight(n,r,parseInt(e,10))})),o(t,"data-column").each((function(e){var r=i(t,"left");Wt(t,"data-initial-left"),c.trigger.adjustWidth(n,r,parseInt(e,10))})),dl(e,n)}))}))}));var a=function(r,o){c.trigger.startAdjust(),t.assign(r),Ht(r,"data-initial-"+o,cn(r,o)),Wa(r,hl),Qt(r,"opacity","0.2"),n.go(e.parent())},l=Va(e.parent(),"mousedown",(function(e){var t;t=e.target,qa(t,ol)&&a(e.target,"top"),function(e){return qa(e,il)}(e.target)&&a(e.target,"left")})),u=function(t){return ze(t,e.view())},s=Va(e.view(),"mouseover",(function(t){var n;(n=t.target,Ft(n,"table",u).filter(Ja)).fold((function(){_t(t.target)&&al(e)}),(function(t){r=k.some(t),dl(e,t)}))})),c=_a({adjustHeight:Sa(["table","delta","row"]),adjustWidth:Sa(["table","delta","column"]),startAdjust:Sa([])});return{destroy:function(){l.unbind(),s.unbind(),n.destroy(),al(e)},refresh:function(t){dl(e,t)},on:n.on,off:n.off,hideBars:g(pl,e),showBars:g(ml,e),events:c.registry}},vl=function(e,t,n){var r=mo,o=bo,i=gl(e),a=_a({beforeResize:Sa(["table","type"]),afterResize:Sa(["table","type"]),startDrag:Sa([])});return i.events.adjustHeight.bind((function(e){var t=e.table;a.trigger.beforeResize(t,"row");var n=r.delta(e.delta,t);Qi(t,n,e.row,r),a.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((function(e){a.trigger.startDrag()})),i.events.adjustWidth.bind((function(e){var r=e.table;a.trigger.beforeResize(r,"col");var i=o.delta(e.delta,r),l=n(r);Ji(r,i,e.column,t,l),a.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:a.registry}},bl=function(e,t){return e.fire("newrow",{node:t})},yl=function(e,t){return e.fire("newcell",{node:t})},wl=function(e,t,n){e.fire("TableModified",W(W({},n),{table:t}))},xl={structure:!1,style:!0},Cl={structure:!0,style:!1},kl={structure:!0,style:!0},Sl={"border-collapse":"collapse",width:"100%"},_l=A(5,(function(e){var t=e+1+"px";return{title:t,value:t}})),Ol=M(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(e){return{title:e,value:e.toLowerCase()}})),Tl={border:"1"},El="preservetable",Al=function(e){return e.getParam("table_sizing_mode","auto")},Ml=function(e){return e.getParam("table_responsive_width")},Dl=function(e){return e.getParam("table_border_widths",_l,"array")},Nl=function(e){return e.getParam("table_border_styles",Ol,"array")},Pl=function(e){return e.getParam("table_default_attributes",Tl,"object")},zl=function(e){return e.getParam("table_default_styles",function(e){if(jl(e)){var t=e.getBody().offsetWidth;return W(W({},Sl),{width:t+"px"})}return $l(e)?$e(Sl,(function(e,t){return"width"!==t})):Sl}(e),"object")},Bl=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Rl=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Il=function(e){return e.getParam("table_advtab",!0,"boolean")},Ll=function(e){return e.getParam("table_style_by_css",!1,"boolean")},Fl=function(e){return e.getParam("table_cell_class_list",[],"array")},Vl=function(e){return e.getParam("table_class_list",[],"array")},Hl=function(e){return"relative"===Al(e)||!0===Ml(e)},jl=function(e){return"fixed"===Al(e)||!1===Ml(e)},$l=function(e){return"responsive"===Al(e)},Ul=function(e){return e.getParam("table_use_colgroups",!1,"boolean")},Wl=function(e){var t="section",n=e.getParam("table_header_type",t,"string");return T(["section","cells","sectionCells","auto"],n)?n:t},ql=function(e){var t=e.getParam("table_column_resizing",El,"string");return B(["preservetable","resizetable"],(function(e){return e===t})).getOr(El)},Kl=function(e){return"preservetable"===ql(e)},Yl=function(e){return"resizetable"===ql(e)},Gl=function(e){var t=e.getParam("table_clone_elements");return r(t)?k.some(t.split(/[ ,]/)):Array.isArray(t)?k.some(t):k.none()},Xl=function(e){return e.getParam("table_background_color_map",[],"array")},Zl=function(e){return e.getParam("table_border_color_map",[],"array")},Jl=function(e,t){if(Hl(e)){var n=Mi(e,t.dom).filter(Di).getOrThunk((function(){return Ca(t)}));return ii(n,t)}return jl(e)?oi(Hr(t),t):ri(t)},Ql=function(e){Wt(e,"width")},eu=function(e,t){var n=function(e){return Hr(e)+"px"}(e);ba(e,k.some(n),k.none(),t),Ql(e)},tu=function(e,t){!function(e,t){var n=Vo(e);ba(e,k.some(n),k.none(),t),Ql(e)}(t,Jl(e,t))},nu=function(e,t){var n=Jl(e,t);eu(t,n)},ru=function(e){on(e,"width");var t=vn(e),n=t.length>0?t:gn(e);D(n,(function(e){on(e,"width"),Ql(e)})),Ql(e)},ou=function(){var e=Me.fromTag("div");return en(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Jn(Ot(Me.fromDom(document)),e),e},iu="bar-",au=function(e){return"false"!==$t(e,"data-mce-resize")},lu=function(e){var t,n,o=k.none(),i=k.none(),a=k.none(),l=function(e){return"TABLE"===e.nodeName},u=function(){return i},s=function(t){return Jl(e,t)},c=function(){return Kl(e)?aa():ia()},d=function(r,o,i){var a=ne(o,"e");if(""===n&&tu(e,r),i!==t&&""!==n){Qt(r,"width",n);var l=c(),u=s(r),d=Kl(e)||a?function(e){return ka(e).columns}(r)-1:0;Ji(r,i-t,d,l,u)}else if(Di(n)){var f=parseFloat(n.replace("%",""));Qt(r,"width",i*f/t+"%")}/^(\d+(\.\d+)?)px$/.test(n)&&function(e){var t=Fn.fromTable(e);Fn.hasColumns(t)||D(gn(e),(function(e){var t=tn(e,"width");Qt(e,"width",t),Wt(e,"width")}))}(r)};return e.on("init",(function(){var t=function(e,t){return e.inline?ua(Si(e),ou(),t):la(Me.fromDom(e.getDoc()),t)}(e,au);if(a=k.some(t),function(e){var t=e.getParam("object_resizing",!0);return r(t)?"table"===t:t}(e)&&function(e){return e.getParam("table_resize_bars",!0,"boolean")}(e)){var n=c(),l=vl(t,n,s);l.on(),l.events.startDrag.bind((function(t){o=k.some(e.selection.getRng())})),l.events.beforeResize.bind((function(t){var n=t.table.dom;!function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})}(e,n,_i(n),Oi(n),iu+t.type)})),l.events.afterResize.bind((function(t){var n=t.table,r=n.dom;Ai(n),o.each((function(t){e.selection.setRng(t),e.focus()})),function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})}(e,r,_i(r),Oi(r),iu+t.type),e.undoManager.add()})),i=k.some(l)}})),e.on("ObjectResizeStart",(function(r){var o=r.target;if(l(o)){var i=Me.fromDom(o);D(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+ql(e)+"-columns")})),!wa(i)&&jl(e)?nu(e,i):!ya(i)&&Hl(e)&&tu(e,i),xa(i)&&te(r.origin,iu)&&tu(e,i),t=r.width,n=$l(e)?"":Mi(e,o).getOr("")}})),e.on("ObjectResized",(function(t){var n=t.target;if(l(n)){var r=Me.fromDom(n),o=t.origin;te(o,"corner-")&&d(r,o,t.width),Ai(r),wl(e,r.dom,xl)}})),e.on("SwitchMode",(function(){u().each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:u,lazyWire:function(){return a.getOr(la(Me.fromDom(e.getBody()),au))},destroy:function(){i.each((function(e){e.destroy()})),a.each((function(t){!function(e,t){e.inline&&rr(t.parent())}(e,t)}))}}},uu=function(e,t){return{element:e,offset:t}},su=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return su(e,t,n).orThunk((function(){return k.some(t)}))})):k.none()},cu=function(e,t){return e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length},du=function(e,t){var n=su(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return uu(n,cu(e,n));var r=e.property().children(n);return r.length>0?du(e,r[r.length-1]):uu(n,cu(e,n))},fu=du,pu=cr(),mu=function(e,t){1===ln(e,"colspan")&&zo(e).bind((function(e){return xo(e,["fixed","relative","empty"])})).each((function(n){var r=n.value/2;Fo(e,r,n.unit),Fo(t,r,n.unit)}))},hu=ct("th"),gu=function(e,t){return e&&t?"sectionCells":e?"section":"cells"},vu=function(e){var t="thead"===e.section,n=Kt(bu(e.cells),"th");return t||n?{type:"header",subType:gu(t,n)}:"tfoot"===e.section?{type:"footer"}:{type:"body"}},bu=function(e){var t=N(e,(function(e){return hu(e.element)}));return 0===t.length?k.some("td"):t.length===e.length?k.some("th"):k.none()},yu=function(e,t,n){return Qe(n(e.element,t),!0,e.isLocked)},wu=function(e,t){return e.section!==t?et(e.element,e.cells,t,e.isNew):e},xu=function(){return{transformRow:wu,transformCell:function(e,t,n){var r=n(e.element,t),o="td"!==nt(r)?function(e,t){var n=Lr(e,t);Gn(e,n);var r=vt(e);return tr(n,r),rr(e),n}(r,"td"):r;return Qe(o,e.isNew,e.isLocked)}}},Cu=function(){return{transformRow:wu,transformCell:yu}},ku=function(){return{transformRow:function(e,t){return wu(e,"thead"===t?"tbody":t)},transformCell:yu}},Su=function(e,t){switch(function(e){return U(e.all,(function(e){var t=vu(e);return"header"===t.type?k.from(t.subType):k.none()}))}(Fn.fromTable(e)).getOr(t)){case"section":return xu();case"sectionCells":return Cu();case"cells":return ku()}},_u=xu,Ou=Cu,Tu=ku,Eu=function(){return{transformRow:m,transformCell:yu}},Au=function(e,t,n,r){n===r?Wt(e,t):Ht(e,t,n)},Mu=function(e,t,n){var r;(r=At(e,t),j(r,r.length-1)).fold((function(){return Zn(e,n)}),(function(e){return Xn(e,n)}))},Du=function(e,t){var n=[],r=[],o=function(e){return M(e,(function(e){e.isNew&&n.push(e.element);var t=e.element;return nr(t),D(e.cells,(function(e){e.isNew&&r.push(e.element),Au(e.element,"colspan",e.colspan,1),Au(e.element,"rowspan",e.rowspan,1),Jn(t,e.element)})),t}))},i=function(e){return L(e,(function(e){return M(e.cells,(function(e){return Au(e.element,"span",e.colspan,1),e.element}))}))},a=function(t,n){var r=function(e,t){var n=It(e,t).getOrThunk((function(){var n=Me.fromTag(t,dt(e).dom);return"thead"===t?Mu(e,"caption,colgroup",n):"colgroup"===t?Mu(e,"caption",n):Jn(e,n),n}));return nr(n),n}(e,n),a=("colgroup"===n?i:o)(t);tr(r,a)},l=function(t,n){t.length>0?a(t,n):function(t){It(e,t).each(rr)}(n)},u=[],s=[],c=[],d=[];return D(t,(function(e){switch(e.section){case"thead":u.push(e);break;case"tbody":s.push(e);break;case"tfoot":c.push(e);break;case"colgroup":d.push(e)}})),l(d,"colgroup"),l(u,"thead"),l(s,"tbody"),l(c,"tfoot"),{newRows:n,newCells:r}},Nu=function(e,t){if(0===e.length)return 0;var n=e[0];return R(e,(function(e){return!t(n.element,e.element)})).getOr(e.length)},Pu=function(e,t,n,r){var o=function(e,t){return e[t]}(e,t).cells.slice(n),i=Nu(o,r),a=function(e,t){return M(e,(function(e){return En(e,t)}))}(e,n).slice(t);return{colspan:i,rowspan:Nu(a,r)}},zu=function(e,t){var n=M(e,(function(e){return M(e.cells,b)}));return M(e,(function(r,o){var i,a,l,u,s=L(r.cells,(function(r,i){if(!1===n[o][i]){var a=Pu(e,o,i,t);return function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0}(o,i,a.rowspan,a.colspan),[(l=r.element,u=a.rowspan,s=a.colspan,c=r.isNew,{element:l,rowspan:u,colspan:s,isNew:c})]}return[];var l,u,s,c}));return i=r.element,a=s,l=r.section,u=r.isNew,{element:i,cells:a,section:l,isNew:u}}))},Bu=function(e,t,n){var r=[];D(e.colgroups,(function(e){var t=M(e.columns,(function(e){return Qe(e.element,n,!1)}));r.push(et(e.element,t,"colgroup",n))}));for(var o=0;o<e.grid.rows;o++){for(var i=[],a=0;a<e.grid.columns;a++){var l=Fn.getAt(e,o,a).map((function(e){return Qe(e.element,n,e.isLocked)})).getOrThunk((function(){return Qe(t.gap(),!0,!1)}));i.push(l)}var u=e.all[o],s=et(u.element,i,u.section,n);r.push(s)}return r},Ru=function(e){return zu(e,ze)},Iu=function(e,t){return U(e.all,(function(e){return B(e.cells,(function(e){return ze(t,e.element)}))}))},Lu=function(e,t,n){var r=M(t.selection,(function(t){return hn(t).bind((function(t){return Iu(e,t)})).filter(n)})),o=Yt(r);return Xt(o.length>0,o)},Fu=function(e,t,n,r,o){return function(i,a,l,u,s){var c=Fn.fromTable(a),d=k.from(null==s?void 0:s.section).getOrThunk(Eu);return t(c,l).map((function(t){var n=function(e,t){return Bu(e,t,!1)}(c,u),r=e(n,t,ze,o(u),d),i=Bn(r.grid);return{info:t,grid:Ru(r.grid),cursor:r.cursor,lockedColumns:i}})).bind((function(e){var t=Du(a,e.grid),o=k.from(null==s?void 0:s.sizing).getOrThunk((function(){return ri(a)})),l=k.from(null==s?void 0:s.resize).getOrThunk(aa);return n(a,e.grid,e.info,{sizing:o,resize:l,section:d}),r(a),dl(i,a),Wt(a,Pn),e.lockedColumns.length>0&&Ht(a,Pn,e.lockedColumns.join(",")),k.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}},Vu=function(e,t){return Lu(e,t,y).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))},Hu=function(e,t){return Lu(e,t,y)},ju=function(e,t){return Lu(e,t,(function(e){return!e.isLocked}))},$u=function(e,t){return F(t,(function(t){return function(e,t){return Iu(e,t).exists((function(e){return!e.isLocked}))}(e,t)}))},Uu=function(e,t){return function(e,t){return t.mergable}(0,t).filter((function(t){return $u(e,t.cells)}))},Wu=function(e,t){return function(e,t){return t.unmergable}(0,t).filter((function(t){return $u(e,t)}))},qu=function(e,t,n,r){for(var o=Dn(e).rows,i=!0,a=0;a<o.length;a++)for(var l=0;l<Mn(o[0]);l++){var u=o[a],s=En(u,l),c=n(s.element,t);!0===c&&!1===i?On(u,l,Qe(r(),!0,s.isLocked)):!0===c&&(i=!1)}return e},Ku=function(e,t,n,r){var o=Dn(e).rows;if(t>0&&t<o.length){var i=function(e,t){return z(e,(function(e,n){return E(e,(function(e){return t(e.element,n.element)}))?e:e.concat([n])}),[])}(o[t-1].cells,n);D(i,(function(e){for(var i=k.none(),a=t;a<o.length;a++)for(var l=function(t){var l=o[a],u=En(l,t);n(u.element,e.element)&&(i.isNone()&&(i=k.some(r())),i.each((function(e){On(l,t,Qe(e,!0,u.isLocked))})))},u=0;u<Mn(o[0]);u++)l(u)}))}return e},Yu=function(e){return{isValue:y,isError:b,getOr:p(e),getOrThunk:p(e),getOrDie:p(e),or:function(t){return Yu(e)},orThunk:function(t){return Yu(e)},fold:function(t,n){return n(e)},map:function(t){return Yu(t(e))},mapError:function(t){return Yu(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return k.some(e)}}},Gu=function(e){return{isValue:b,isError:y,getOr:m,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:m,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Gu(e)},mapError:function(t){return Gu(t(e))},each:f,bind:function(t){return Gu(e)},exists:b,forall:y,toOptional:k.none}},Xu={value:Yu,error:Gu,fromOption:function(e,t){return e.fold((function(){return Gu(t)}),Yu)}},Zu=function(e,t){return{rowDelta:0,colDelta:Mn(e[0])-Mn(t[0])}},Ju=function(e,t){return{rowDelta:e.length-t.length,colDelta:0}},Qu=function(e,t,n,r){var o="colgroup"===t.section?n.col:n.cell;return A(e,(function(e){return Qe(o(),!0,r(e))}))},es=function(e,t,n,r){var o=e[e.length-1];return e.concat(A(t,(function(){var e="colgroup"===o.section?n.colgroup:n.row,t=Nn(o,e,m),i=Qu(t.cells.length,t,n,(function(e){return Ye(r,e.toString())}));return Tn(t,i)})))},ts=function(e,t,n,r){return M(e,(function(e){var o=Qu(t,e,n,b);return Sn(e,r,o)}))},ns=function(e,t,n){var r=t.colDelta<0?ts:m,o=t.rowDelta<0?es:m,i=Bn(e),a=Mn(e[0]),l=E(i,(function(e){return e===a-1})),u=r(e,Math.abs(t.colDelta),n,l?a-1:a),s=Bn(u);return o(u,Math.abs(t.rowDelta),n,V(s,y))},rs=function(e,t,n,r){var o=g(r,En(e[t],n).element),i=e[t];return e.length>1&&Mn(i)>1&&(n>0&&o(An(i,n-1))||n<i.cells.length-1&&o(An(i,n+1))||t>0&&o(An(e[t-1],n))||t<e.length-1&&o(An(e[t+1],n)))},os=function(e,t,n){return N(n,(function(n){return n>=e.column&&n<=Mn(t[0])+e.column}))},is=function(e,t,n,r,o){var i=Bn(t),a=function(e,t,n){var r=Mn(t[0]),o=Dn(t).cols.length+e.row,i=A(r-e.column,(function(t){return t+e.column}));return{row:o,column:B(i,(function(e){return F(n,(function(t){return t!==e}))})).getOr(r-1)}}(e,t,i),l=Dn(n).rows,u=os(a,l,i);return function(e,t,n){if(e.row>=t.length||e.column>Mn(t[0]))return Xu.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);var r=t.slice(e.row),o=r[0].cells.slice(e.column),i=Mn(n[0]),a=n.length;return Xu.value({rowDelta:r.length-a,colDelta:o.length-i})}(a,t,l).map((function(e){var n=W(W({},e),{colDelta:e.colDelta-u.length}),i=ns(t,n,r),s=Bn(i),c=os(a,l,s);return function(e,t,n,r,o,i){for(var a=e.row,l=e.column,u=a+n.length,s=l+Mn(n[0])+i.length,c=V(i,y),d=a;d<u;d++)for(var f=0,p=l;p<s;p++)if(c[p])f++;else{rs(t,d,p,o)&&qu(t,An(t[d],p),o,r.cell);var m=p-l-f,h=En(n[d-a],m),g=h.element,v=r.replace(g);On(t[d],p,Qe(v,!0,h.isLocked))}return t}(a,i,l,r,o,c)}))},as=function(e,t,n,r,o){!function(e,t,n,r){t>0&&t<e[0].cells.length&&D(e,(function(e){var o=e.cells[t-1],i=e.cells[t];n(i.element,o.element)&&On(e,t,Qe(r(),!0,i.isLocked))}))}(t,e,o,r.cell);var i=Ju(n,t),a=ns(n,i,r),l=Ju(t,a),u=ns(t,l,r);return M(u,(function(t,n){return Sn(t,e,a[n].cells)}))},ls=function(e,t,n,r,o){Ku(t,e,o,r.cell);var i,a,l=Bn(t),u=Zu(t,n),s=W(W({},u),{colDelta:u.colDelta-l.length}),c=ns(t,s,r),d=Dn(c),f=d.cols,p=d.rows,m=Bn(c),h=Zu(n,t),g=W(W({},h),{colDelta:h.colDelta+m.length}),v=(i=r,a=m,M(n,(function(e){return z(a,(function(t,n){var r=Qu(1,e,i,y)[0];return _n(t,n,r)}),e)}))),b=ns(v,g,r);return f.concat(p.slice(0,e)).concat(b).concat(p.slice(e,p.length))},us=function(e,t,n,r,o){var i=Dn(e),a=i.rows,l=i.cols,u=a.slice(0,t),s=a.slice(t),c=function(e,t,n,r){return Nn(e,(function(e){return r(e,n)}),t)}(a[n],(function(e,n){return t>0&&t<a.length&&r(An(a[t-1],n),An(a[t],n))?En(a[t],n):Qe(o(e.element,r),!0,e.isLocked)}),r,o);return l.concat(u).concat([c]).concat(s)},ss=function(e,t,n,r,o){return M(e,(function(e){var i=t>0&&t<Mn(e)&&r(An(e,t-1),An(e,t)),a=function(e,t,n,r,o,i,a){if("colgroup"!==n&&r)return En(e,t);var l=En(e,o);return Qe(a(l.element,i),!0,!1)}(e,t,e.section,i,n,r,o);return _n(e,t,a)}))},cs=function(e,t,n){return Qe(n(e.element,t),!0,e.isLocked)},ds=function(e,t,n,r,o){return M(e,(function(e){return function(e,t){var n=e.cells,r=M(n,t);return et(e.element,r,e.section,e.isNew)}(e,(function(e){return function(e){return E(t,(function(t){return n(e.element,t.element)}))}(e)?o(e,n,r):e}))}))},fs=function(e,t,n,r){return void 0!==An(e[t],n)&&t>0&&r(An(e[t-1],n),An(e[t],n))},ps=function(e,t,n){return t>0&&n(An(e,t-1),An(e,t))},ms=function(e,t,n,r){var o=Dn(e).rows,i=L(o,(function(e,r){return fs(o,r,t,n)||ps(e,t,n)?[]:[En(e,t)]}));return ds(e,i,n,r,cs)},hs=function(e,t,n,r,o){var i=Dn(e).rows[t],a=En(i,n);return ds(e,[a],r,o,cs)},gs=function(e){return z(e,(function(e,t){return E(e,(function(e){return e.column===t.column}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column-t.column}))},vs=ct("col"),bs=ct("colgroup"),ys=function(e){return"tr"===nt(e)||bs(e)},ws=function(e){return{element:e,colspan:an(e,"colspan",1),rowspan:an(e,"rowspan",1)}},xs=function(e){return Ut(e,"scope").map((function(e){return e.substr(0,3)}))},Cs=function(e,t){void 0===t&&(t=ws);var n=function(n){if(ys(n))return bs((o={element:n}).element)?e.colgroup(o):e.row(o);var o,i=function(t){return vs(t.element)?e.col(t):e.cell(t)}(t(n));return r=k.some({item:n,replacement:i}),i},r=k.none();return{getOrInit:function(e,t){return r.fold((function(){return n(e)}),(function(r){return t(e,r.item)?r.replacement:n(e)}))}}},ks=function(e,t){return function(n){var r=[],o=function(o){var i=u(t)?{}:{scope:t},a=n.replace(o,e,i);return r.push({item:o,sub:a}),a};return{replaceOrInit:function(e,t){return ys(e)||vs(e)?e:function(e,t){return B(r,(function(n){return t(n.item,e)}))}(e,t).fold((function(){return o(e)}),(function(n){return t(e,n.item)?n.sub:o(e)}))}}}},Ss=function(e){return{unmerge:function(t){var n=xs(t);return n.each((function(e){return Ht(t,"scope",e)})),function(){var r=e.cell({element:t,colspan:1,rowspan:1});return on(r,"width"),on(t,"width"),n.each((function(e){return Ht(r,"scope",e)})),r}},merge:function(e){return on(e[0],"width"),function(){var t=Yt(M(e,xs));if(0===t.length)return k.none();var n=t[0],r=["row","col"];return E(t,(function(e){return e!==n&&T(r,e)}))?k.none():k.from(n)}().fold((function(){return Wt(e[0],"scope")}),(function(t){return Ht(e[0],"scope",t+"group")})),p(e[0])}}},_s=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Os=cr(),Ts=function(e){return t=e,n=Os.property().name(t),T(_s,n);var t,n},Es=function(e){return t=e,n=Os.property().name(t),T(["ol","ul"],n);var t,n},As=function(e){return t=e,T(["br","img","hr","input"],Os.property().name(t));var t},Ms=function(e){var t,n=function(e){return"br"===nt(e)},r=function(e){return fi(e).bind((function(t){var r=gt(t).map((function(e){return!!Ts(e)||!!As(e)&&"img"!==nt(e)})).getOr(!1);return pt(t).map((function(o){return!0===r||function(e){return"li"===nt(e)||Bt(e,Es).isSome()}(o)||n(t)||Ts(o)&&!ze(e,o)?[]:[Me.fromTag("br")]}))})).getOr([])},o=0===(t=L(e,(function(e){var t=vt(e);return function(e){return F(e,(function(e){return n(e)||lt(e)&&0===ar(e).trim().length}))}(t)?[]:t.concat(r(e))}))).length?[Me.fromTag("br")]:t;nr(e[0]),tr(e[0],o)},Ds=function(e){return Ja(e,!0)},Ns=function(e){0===gn(e).length&&rr(e)},Ps=function(e,t){return{grid:e,cursor:t}},zs=function(e,t,n){var r,o,i=Dn(e).rows;return k.from(null===(o=null===(r=i[t])||void 0===r?void 0:r.cells[n])||void 0===o?void 0:o.element).filter(Ds).orThunk((function(){return function(e){return U(e,(function(e){return U(e.cells,(function(e){var t=e.element;return Xt(Ds(t),t)}))}))}(i)}))},Bs=function(e,t,n){var r=zs(e,t,n);return Ps(e,r)},Rs=function(e){return z(e,(function(e,t){return E(e,(function(e){return e.row===t.row}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row-t.row}))},Is=function(e){return function(t,n,r,o,i){var a=Rs(n),l=z(a,(function(t,n){return function(e,t,n,r,o,i){var a=Dn(e),l=a.cols,u=a.rows,s=u[t],c=L(s.cells,(function(e,n){return fs(u,t,n,r)||ps(s,n,r)?[]:[e]})),d=q([],u);return d[t]=i.transformRow(s,n),ds(l.concat(d),c,r,o,i.transformCell)}(t,n.row,e,r,o.replaceOrInit,i)}),t);return Bs(l,n[0].row,n[0].column)}},Ls=Is("thead"),Fs=Is("tbody"),Vs=Is("tfoot"),Hs=function(e,t,n){var r,o,i=(r=e,o=n.section,xn(r,(function(){return o}))),a=Fn.generate(i);return Bu(a,t,!0)},js=function(e,t,n,r){return function(e,t,n,r){var o=Fn.generate(t),i=r.getWidths(o,r);Zi(o,i,r)}(0,t,0,r.sizing)},$s=function(e,t,n,r){return function(e,t,n,r,o){var i=Fn.generate(t),a=r.getWidths(i,r),l=r.pixelWidth(),u=o.calcRedestributedWidths(a,l,n.pixelDelta,r.isRelative),s=u.newSizes,c=u.delta;Zi(i,s,r),r.adjustTableWidth(c)}(0,t,n,r.sizing,r.resize)},Us=function(e,t){return E(t,(function(e){return 0===e.column&&e.isLocked}))},Ws=function(e,t){return E(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))},qs=function(e,t){var n=$r(e),r=gs(t);return z(r,(function(e,t){return e+n[t.column].map(jr).getOr(0)}),0)},Ks=function(e){return function(t,n){return Hu(t,n).filter((function(n){return!(e?Us:Ws)(t,n)})).map((function(e){return{details:e,pixelDelta:qs(t,e)}}))}},Ys=function(e){return function(t,n){return Vu(t,n).filter((function(n){return!(e?Us:Ws)(t,n.cells)}))}},Gs=Fu((function(e,t,n,r){var o=t[0].row,i=Rs(t),a=P(i,(function(e,t){return{grid:us(e.grid,o,t.row+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return Bs(a,o,t[0].column)}),Hu,f,f,Cs),Xs=Fu((function(e,t,n,r){var o=Rs(t),i=o[o.length-1],a=i.row+i.rowspan,l=P(o,(function(e,t){return us(e,a,t.row,n,r.getOrInit)}),e);return Bs(l,a,t[0].column)}),Hu,f,f,Cs),Zs=Fu((function(e,t,n,r){var o=t.details,i=gs(o),a=i[0].column,l=P(i,(function(e,t){return{grid:ss(e.grid,a,t.column+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return Bs(l,o[0].row,a)}),Ks(!0),$s,f,Cs),Js=Fu((function(e,t,n,r){var o=t.details,i=o[o.length-1],a=i.column+i.colspan,l=gs(o),u=P(l,(function(e,t){return ss(e,a,t.column,n,r.getOrInit)}),e);return Bs(u,o[0].row,a)}),Ks(!1),$s,f,Cs),Qs=Fu((function(e,t,n,r){var o=gs(t.details),i=function(e,t){return L(e,(function(e){var n=e.cells,r=P(t,(function(e,t){return t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),n);return r.length>0?[et(e.element,r,e.section,e.isNew)]:[]}))}(e,M(o,(function(e){return e.column}))),a=i.length>0?i[0].cells.length-1:0;return Bs(i,o[0].row,Math.min(o[0].column,a))}),(function(e,t){return ju(e,t).map((function(t){return{details:t,pixelDelta:-qs(e,t)}}))}),$s,Ns,Cs),ec=Fu((function(e,t,n,r){var o=Rs(t),i=function(e,t,n){var r=Dn(e),o=r.rows;return r.cols.concat(o.slice(0,t)).concat(o.slice(n+1))}(e,o[0].row,o[o.length-1].row),a=i.length>0?i.length-1:0;return Bs(i,Math.min(t[0].row,a),t[0].column)}),Hu,f,Ns,Cs),tc=Fu((function(e,t,n,r){var o=gs(t),i=z(o,(function(e,t){return ms(e,t.column,n,r.replaceOrInit)}),e);return Bs(i,t[0].row,t[0].column)}),ju,f,f,ks("th","row")),nc=Fu((function(e,t,n,r){var o=gs(t),i=z(o,(function(e,t){return ms(e,t.column,n,r.replaceOrInit)}),e);return Bs(i,t[0].row,t[0].column)}),ju,f,f,ks("td",null)),rc=Fu(Ls,ju,f,f,ks("th","col")),oc=Fu(Fs,ju,f,f,ks("td",null)),ic=Fu(Vs,ju,f,f,ks("td",null)),ac=Fu((function(e,t,n,r){var o=z(t,(function(e,t){return hs(e,t.row,t.column,n,r.replaceOrInit)}),e);return Bs(o,t[0].row,t[0].column)}),ju,f,f,ks("th")),lc=Fu((function(e,t,n,r){var o=z(t,(function(e,t){return hs(e,t.row,t.column,n,r.replaceOrInit)}),e);return Bs(o,t[0].row,t[0].column)}),ju,f,f,ks("td")),uc=Fu((function(e,t,n,r){var o=t.cells;Ms(o);var i=function(e,t,n,r){var o=Dn(e).rows;if(0===o.length)return e;for(var i=t.startRow;i<=t.finishRow;i++)for(var a=t.startCol;a<=t.finishCol;a++){var l=o[i],u=En(l,a).isLocked;On(l,a,Qe(r(),!1,u))}return e}(e,t.bounds,0,r.merge(o));return Ps(i,k.from(o[0]))}),Uu,js,f,Ss),sc=Fu((function(e,t,n,r){var o=P(t,(function(e,t){return qu(e,t,n,r.unmerge(t))}),e);return Ps(o,k.from(t[0]))}),Wu,js,f,Ss),cc=Fu((function(e,t,n,r){var o,i,a,l,u,s=(o=t.clipboard,i=t.generators,a=Fn.fromTable(o),Bu(a,i,!0)),c=(l=t.row,u=t.column,{row:l,column:u});return is(c,e,s,t.generators,n).fold((function(){return Ps(e,k.some(t.element))}),(function(e){return Bs(e,t.row,t.column)}))}),(function(e,t){return hn(t.element).bind((function(n){return Iu(e,n).map((function(e){return W(W({},e),{generators:t.generators,clipboard:t.clipboard})}))}))}),js,f,Cs),dc=Fu((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[0].column,a=o[t.cells[0].row],l=Hs(t.clipboard,t.generators,a),u=as(i,e,l,t.generators,n);return Bs(u,t.cells[0].row,t.cells[0].column)}),Ys(!0),f,f,Cs),fc=Fu((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,a=o[t.cells[0].row],l=Hs(t.clipboard,t.generators,a),u=as(i,e,l,t.generators,n);return Bs(u,t.cells[0].row,t.cells[0].column)}),Ys(!1),f,f,Cs),pc=Fu((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[0].row,a=o[i],l=Hs(t.clipboard,t.generators,a),u=ls(i,e,l,t.generators,n);return Bs(u,t.cells[0].row,t.cells[0].column)}),Vu,f,f,Cs),mc=Fu((function(e,t,n,r){var o=Dn(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,a=o[t.cells[0].row],l=Hs(t.clipboard,t.generators,a),u=ls(i,e,l,t.generators,n);return Bs(u,t.cells[0].row,t.cells[0].column)}),Vu,f,f,Cs),hc=function(e,t){var n=Fn.fromTable(e);return Hu(n,t).bind((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=I(M(n.all,(function(e){return N(e.cells,(function(e){return e.column>=r&&e.column<o}))})));return bu(i)})).getOr("")},gc=function(e,t){var n=Fn.fromTable(e);return Hu(n,t).bind(bu).getOr("")},vc=function(e,t){var n=Fn.fromTable(e);return Hu(n,t).bind((function(e){var t=e[e.length-1],r=e[0].row,o=t.row+t.rowspan;return function(e){var t=M(e,(function(e){return vu(e).type})),n=T(t,"header"),r=T(t,"footer");if(n||r){var o=T(t,"body");return!n||o||r?n||o||!r?k.none():k.some("footer"):k.some("header")}return k.some("body")}(n.all.slice(r,o))})).getOr("")},bc=function(e,t,n){var r=function(e){return"table"===nt(Si(e))},o=Gl(e),i=Yl(e)?f:mu,a=function(t){switch(Wl(e)){case"section":return _u();case"sectionCells":return Ou();case"cells":return Tu();default:return Su(t,"section")}},l=function(n,r){return r.cursor.fold((function(){var r=gn(n);return $(r).filter(_t).map((function(r){t.clear(n);var o=e.dom.createRng();return o.selectNode(r.dom),e.selection.setRng(o),Ht(r,"data-mce-selected","1"),o}))}),(function(r){var o=fu(pu,r),i=e.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),e.selection.setRng(i),t.clear(n),k.some(i)}))},u=function(t,n,r,i,u){return function(s,c,d){void 0===d&&(d=!1),Ai(s);var f=i(),p=Me.fromDom(e.getDoc()),m=xi(r,p,o),h={sizing:Jl(e,s),resize:Yl(e)?ia():aa(),section:a(s)};return n(s)?t(f,s,c,m,h).bind((function(t){D(t.newRows,(function(t){bl(e,t.dom)})),D(t.newCells,(function(t){yl(e,t.dom)}));var n=l(s,t);return _t(s)&&(Ai(s),d||wl(e,s.dom,u)),n.map((function(e){return{rng:e,effect:u}}))})):k.none()}};return{deleteRow:u(ec,(function(t){return!1===r(e)||ka(t).rows>1}),f,n,Cl),deleteColumn:u(Qs,(function(t){return!1===r(e)||ka(t).columns>1}),f,n,Cl),insertRowsBefore:u(Gs,y,f,n,Cl),insertRowsAfter:u(Xs,y,f,n,Cl),insertColumnsBefore:u(Zs,y,i,n,Cl),insertColumnsAfter:u(Js,y,i,n,Cl),mergeCells:u(uc,y,f,n,Cl),unmergeCells:u(sc,y,f,n,Cl),pasteColsBefore:u(dc,y,f,n,Cl),pasteColsAfter:u(fc,y,f,n,Cl),pasteRowsBefore:u(pc,y,f,n,Cl),pasteRowsAfter:u(mc,y,f,n,Cl),pasteCells:u(cc,y,f,n,kl),makeCellsHeader:u(ac,y,f,n,Cl),unmakeCellsHeader:u(lc,y,f,n,Cl),makeColumnsHeader:u(tc,y,f,n,Cl),unmakeColumnsHeader:u(nc,y,f,n,Cl),makeRowsHeader:u(rc,y,f,n,Cl),makeRowsBody:u(oc,y,f,n,Cl),makeRowsFooter:u(ic,y,f,n,Cl),getTableRowType:vc,getTableCellType:gc,getTableColType:hc}},yc={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},wc=function(e){var t=Me.fromTag("colgroup");return A(e,(function(){return Jn(t,Me.fromTag("col"))})),t},xc=function(e,t,n,r){return A(e,(function(e){return function(e,t,n,r){for(var o=Me.fromTag("tr"),i=0;i<e;i++){var a=r<t||i<n?Me.fromTag("th"):Me.fromTag("td");i<n&&Ht(a,"scope","row"),r<t&&Ht(a,"scope","col"),Jn(a,Me.fromTag("br")),Jn(o,a)}return o}(t,n,r,e)}))},Cc=function(e,t){e.selection.select(t.dom,!0),e.selection.collapse(!0)},kc=function(e,t,n,o,i){var a=zl(e),l={styles:a,attributes:Pl(e),colGroups:Ul(e)};return e.undoManager.ignore((function(){var r=function(e,t,n,r,o,i){void 0===i&&(i=yc);var a=Me.fromTag("table"),l="cells"!==o;en(a,i.styles),jt(a,i.attributes),i.colGroups&&Jn(a,wc(t));var u=Math.min(e,n);if(l&&n>0){var s=Me.fromTag("thead");Jn(a,s);var c=xc(n,t,"sectionCells"===o?u:0,r);tr(s,c)}var d=Me.fromTag("tbody");Jn(a,d);var f=xc(l?e-u:e,t,l?0:n,r);return tr(d,f),a}(n,t,i,o,Wl(e),l);Ht(r,"data-mce-id","__mce");var a,u,s,c=(a=r,u=Me.fromTag("div"),s=Me.fromDom(a.dom.cloneNode(!0)),Jn(u,s),function(e){return e.dom.innerHTML}(u));e.insertContent(c),e.addVisual()})),Lt(Si(e),'table[data-mce-id="__mce"]').map((function(t){var n;return jl(e)?nu(e,t):$l(e)?ru(t):(Hl(e)||(n=a.width,r(n)&&-1!==n.indexOf("%")))&&tu(e,t),Ai(t),Wt(t,"data-mce-id"),function(e,t){D(Mt(t,"tr"),(function(t){bl(e,t.dom),D(Mt(t,"th,td"),(function(t){yl(e,t.dom)}))}))}(e,t),function(e,t){Lt(t,"td,th").each(g(Cc,e))}(e,t),t.dom})).getOr(null)},Sc=function(e,t,n,r,o){void 0===r&&(r={});var i=function(e){return d(e)&&e>0};if(i(t)&&i(n)){var a=r.headerRows||0,l=r.headerColumns||0;return kc(e,n,t,l,a)}return console.error(o),null},_c=function(e){return function(){return e().fold((function(){return[]}),(function(e){return M(e,(function(e){return e.dom}))}))}},Oc=function(e){return function(t){var n=t.length>0?k.some(ki(t)):k.none();e(n)}},Tc=function(e){return function(t,n,r){void 0===r&&(r={});var o=Sc(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return e.undoManager.add(),o}},Ec=function(e,t,n){var r=an(e,t,1);1===n||r<=1?Wt(e,t):Ht(e,t,Math.min(n,r))},Ac=function(e,t){var n=Fn.fromTable(e);return ju(n,t).map((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=function(e,t,n){if(Fn.hasColumns(e)){var r=N(Fn.justColumns(e),(function(e){return e.column>=t&&e.column<n})),o=M(r,(function(e){var r=Ir(e.element);return Ec(r,"span",n-t),r})),i=Me.fromTag("colgroup");return tr(i,o),[i]}return[]}(n,r,o),a=function(e,t,n){return M(e.all,(function(e){var r=N(e.cells,(function(e){return e.column>=t&&e.column<n})),o=M(r,(function(e){var r=Ir(e.element);return Ec(r,"colspan",n-t),r})),i=Me.fromTag("tr");return tr(i,o),i}))}(n,r,o);return q(q([],i),a)}))},Mc=function(e,t,n){var r=Fn.fromTable(e);return Hu(r,t).bind((function(e){var t=Bu(r,n,!1),o=Dn(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),i=L(o,(function(e){var t=N(e.cells,(function(e){return!e.isLocked}));return t.length>0?[W(W({},e),{cells:t})]:[]})),a=Ru(i);return Xt(a.length>0,a)})).map((function(e){return M(e,(function(e){var t=Rr(e.element);return D(e.cells,(function(e){var n=Ir(e.element);Au(n,"colspan",e.colspan,1),Au(n,"rowspan",e.rowspan,1),Jn(t,n)})),t}))}))},Dc=tinymce.util.Tools.resolve("tinymce.util.Tools"),Nc=function(e,t,n){return function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(undefined,e.select("td,th",t))},Pc=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},zc=function(e,t){Dc.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},Bc=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Rc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ic=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Lc=function(e){return(t=e,n="#",te(t,n)?function(e,t){return e.substring(t)}(t,n.length):t).toUpperCase();var t,n},Fc=function(e){return function(e){return Rc.test(e)||Ic.test(e)}(e)?k.some({value:Lc(e)}):k.none()},Vc=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Hc=function(e){return function(e){return{value:e}}(Vc(e.red)+Vc(e.green)+Vc(e.blue))},jc=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,$c=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Uc=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},Wc=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),l=parseFloat(r);return Uc(o,i,a,l)},qc=function(e){return Fc(e).orThunk((function(){return function(e){if("transparent"===e)return k.some(Uc(0,0,0,0));var t=jc.exec(e);if(null!==t)return k.some(Wc(t[1],t[2],t[3],"1"));var n=$c.exec(e);return null!==n?k.some(Wc(n[1],n[2],n[3],n[4])):k.none()}(e).map(Hc)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1,t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],a=r[2],l=r[3];return Hc(Uc(o,i,a,l))}))},Kc=function(e){var t=Qo(k.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(k.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(k.some(e))}}},Yc=function(){var e=Kc(f);return W(W({},e),{on:function(t){return e.get().each(t)}})},Gc=function(e,t,n,r){return function(o){var i=Kc((function(e){return e.unbind()})),a=!oe(r),l=function(){var l=Ui(t),u=function(t){return e.formatter.match(n,{value:r},t.dom,a)};a?(o.setActive(!E(l,u)),i.set(e.formatter.formatChanged(n,(function(e){return o.setActive(!e)}),!0))):(o.setActive(F(l,u)),i.set(e.formatter.formatChanged(n,o.setActive,!1,{value:r})))};return e.initialized?l():e.on("init",l),i.clear}},Xc=function(e){return Ge(e,"menu")},Zc=function(e){return M(e,(function(e){var t=e.text||e.title;return Xc(e)?{text:t,items:Zc(e.menu)}:{text:t,value:e.value}}))},Jc=function(e,t,n,r,o){return M(n,(function(n){var i=n.text||n.title;return Xc(n)?{type:"nestedmenuitem",text:i,getSubmenuItems:function(){return Jc(e,t,n.menu,r,o)}}:{text:i,type:"togglemenuitem",onAction:function(){return o(n.value)},onSetup:Gc(e,t,r,n.value)}}))},Qc=function(e,t){return function(n){var r;e.execCommand("mceTableApplyCellStyle",!1,((r={})[t]=n,r))}},ed=function(e){return L(e,(function(e){return Xc(e)?[W(W({},e),{menu:ed(e.menu)})]:oe(e.value)?[e]:[]}))},td=function(e,t,n,r,o){return function(i){return i(Jc(e,t,n,r,o))}},nd=function(e,t,n){var r=M(t,(function(e){return{text:e.title,value:"#"+qc(e.value).value,type:"choiceitem"}}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:r.length>0?r:void 0,allowCustomColors:!1},onAction:function(t){var r,o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,((r={})[n]=o,r))}}]},rd=function(e){return function(){var t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})}},od=function(e){return function(){var t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})}},id=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Bc}],ad=function(e){return id.concat(function(e){var t=Zc(Fl(e));return t.length>0?k.some({name:"class",type:"listbox",label:"Class",items:t}):k.none()}(e).toArray())},ld=function(e,t){var n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Zc(Nl(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},ud=function(e){return function(t,n){var r=t.dom;return{setAttrib:function(t,o){e&&!o||r.setAttrib(n,t,o)},setStyle:function(t,o){e&&!o||r.setStyle(n,t,o)},setFormat:function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))}}}},sd={normal:ud(!1),ifTruthy:ud(!0)},cd=function(e){return function(t){return te(t,"rgb")?e.toHex(t):t}},dd=function(e,t){var n=Me.fromDom(t);return{borderwidth:rn(n,"border-width").getOr(""),borderstyle:rn(n,"border-style").getOr(""),bordercolor:rn(n,"border-color").map(cd(e)).getOr(""),backgroundcolor:rn(n,"background-color").map(cd(e)).getOr("")}},fd=function(e){var t=e[0],n=e.slice(1);return D(n,(function(e){D(Le(t),(function(n){Ve(e,(function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")}))}))})),t},pd=function(e,t,n,r){return B(e,(function(e){return!u(n.formatter.matchNode(r,t+e))})).getOr("")},md=g(pd,["left","center","right"],"align"),hd=g(pd,["top","middle","bottom"],"valign"),gd=function(e){return bn(Me.fromDom(e)).map((function(t){var n={selection:ki(e.cells)};return vc(t,n)})).getOr("")},vd=function(e,t){var n=Fn.fromTable(e),r=Fn.justCells(n),o=N(r,(function(e){return E(t,(function(t){return ze(e.element,t)}))}));return M(o,(function(e){return{element:e.element.dom,column:Fn.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))},bd=function(e,t,n){var r=1===t.length;D(t,(function(t){var o=t.element,i=r?sd.normal(e,o):sd.ifTruthy(e,o);!function(e,t,n){e.setAttrib("scope",n.scope),e.setAttrib("class",n.class),e.setStyle("height",Ei(n.height)),t.setStyle("width",Ei(n.width))}(i,t.column.map((function(t){return r?sd.normal(e,t):sd.ifTruthy(e,t)})).getOr(i),n),Bl(e)&&function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",Ei(t.borderwidth))}(i,n),r&&(zc(e,o),function(e,t){Dc.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))}(e,o)),n.halign&&Pc(e,o,n.halign),n.valign&&function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)}(e,o,n.valign)}))},yd=function(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){!function(e,t,n,r){var o=$e(r,(function(e,t){return n[t]!==e}));qe(o)>0&&t.length>=1&&bn(t[0]).each((function(n){var i=vd(n,t),a=qe($e(o,(function(e,t){return"scope"!==t&&"celltype"!==t})))>0,l=Ye(o,"celltype");(a||Ye(o,"scope"))&&bd(e,i,r),l&&function(e,t){e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})}(e,r),wl(e,n.dom,{structure:l,style:a})}))}(e,t,n,o),e.focus()}))},wd=function(e,t){var n=bn(t[0]).map((function(n){return M(vd(n,t),(function(t){return function(e,t,n,r){var o,i=e.dom,a=r.getOr(t),l=function(e,t){return i.getStyle(e,t)||i.getAttrib(e,t)};return W({width:l(a,"width"),height:l(t,"height"),scope:i.getAttrib(t,"scope"),celltype:(o=t,o.nodeName.toLowerCase()),class:i.getAttrib(t,"class",""),halign:md(e,t),valign:hd(e,t)},n?dd(i,t):{})}(e,t.element,Bl(e),t.column)}))}));return fd(n.getOrDie())},xd=function(e,t){var n=Ui(t);if(0!==n.length){var r=wd(e,n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:ad(e)},ld(e,"cell")]},i={type:"panel",items:[{type:"grid",columns:2,items:ad(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Bl(e)?o:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:g(yd,e,n,r)})}},Cd=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],kd=function(e){return Cd.concat(function(e){var t=Zc(function(e){return e.getParam("table_row_class_list",[],"array")}(e));return t.length>0?k.some({name:"class",type:"listbox",label:"Class",items:t}):k.none()}(e).toArray())},Sd=function(e,t,n,r){var o=1===t.length;D(t,(function(t){var i=o?sd.normal(e,t):sd.ifTruthy(e,t);!function(e,t){e.setAttrib("class",t.class),e.setStyle("height",Ei(t.height))}(i,n),Rl(e)&&function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)}(i,n),n.align!==r.align&&(zc(e,t),Pc(e,t,n.align))}))},_d=function(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){!function(e,t,n,r){var o=$e(r,(function(e,t){return n[t]!==e}));if(qe(o)>0){var i=Ye(o,"type"),a=!i||qe(o)>1;a&&Sd(e,t,r,n),i&&function(e,t){e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})}(e,r),bn(Me.fromDom(t[0])).each((function(t){return wl(e,t.dom,{structure:i,style:a})}))}}(e,t,n,o),e.focus()}))},Od=function(e){var t,n,r,o,i=(t=Ni(e),n=Fi.selected,r=$i(t),o=r.bind((function(e){return bn(e)})).map((function(e){return yn(e)})),Gt(r,o,(function(e,t){return N(t,(function(t){return E(ki(t.dom.cells),(function(t){return"1"===$t(t,n)||ze(t,e)}))}))})).getOr([]));if(0!==i.length){var a=M(i,(function(t){return function(e,t,n){var r=e.dom;return W({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),class:r.getAttrib(t,"class",""),type:gd(t),align:md(e,t)},n?dd(r,t):{})}(e,t.dom,Rl(e))})),l=fd(a),u={type:"tabpanel",tabs:[{title:"General",name:"general",items:kd(e)},ld(e,"row")]},s={type:"panel",items:[{type:"grid",columns:2,items:kd(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Rl(e)?u:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:l,onSubmit:g(_d,e,M(i,(function(e){return e.dom})),l)})}},Td=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=function(e){return e.getParam("table_appearance_options",!0,"boolean")}(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return r.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(o).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(i)},Ed=function(e,t,n,o){if("TD"===t.tagName||"TH"===t.tagName)r(n)?e.setStyle(t,n,o):e.setStyle(t,n);else if(t.children)for(var i=0;i<t.children.length;i++)Ed(e,t.children[i],n,o)},Ad=function(e,t,n,r){var o=e.dom,i=r.getData(),a=$e(i,(function(e,t){return n[t]!==e}));r.close(),""===i.class&&delete i.class,e.undoManager.transact((function(){if(!t){var n=parseInt(i.cols,10)||1,r=parseInt(i.rows,10)||1;t=kc(e,n,r,0,0)}if(qe(a)>0){!function(e,t,n){var r,o=e.dom,i={},a={};if(i.class=n.class,a.height=Ei(n.height),o.getAttrib(t,"width")&&!Ll(e)?i.width=(r=n.width)?r.replace(/px$/,""):"":a.width=Ei(n.width),Ll(e)?(a["border-width"]=Ei(n.border),a["border-spacing"]=Ei(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),Ll(e)&&t.children)for(var l=0;l<t.children.length;l++)Ed(o,t.children[l],{"border-width":Ei(n.border),padding:Ei(n.cellpadding)}),Il(e)&&Ed(o,t.children[l],{"border-color":n.bordercolor});Il(e)&&(a["background-color"]=n.backgroundcolor,a["border-color"]=n.bordercolor,a["border-style"]=n.borderstyle),i.style=o.serializeStyle(W(W({},zl(e)),a)),o.setAttribs(t,W(W({},Pl(e)),i))}(e,t,i);var l=o.select("caption",t)[0];(l&&!i.caption||!l&&i.caption)&&e.execCommand("mceTableToggleCaption"),""===i.align?zc(e,t):Pc(e,t,i.align)}if(e.focus(),e.addVisual(),qe(a)>0){var u=Ye(a,"caption"),s=!u||qe(a)>1;wl(e,t,{structure:u,style:s})}}))},Md=function(e,t){var n,r=e.dom,o=function(e,t){var n,r,o,i,a=zl(e),l=Pl(e),u=t?(n=e.dom,{borderstyle:Ke(a,"border-style").getOr(""),bordercolor:cd(n)(Ke(a,"border-color").getOr("")),backgroundcolor:cd(n)(Ke(a,"background-color").getOr(""))}):{};return W(W(W(W(W(W({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),a),l),u),(i=a["border-width"],Ll(e)&&i?{border:i}:Ke(l,"border").fold((function(){return{}}),(function(e){return{border:e}})))),(r=Ke(a,"border-spacing").or(Ke(l,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),o=Ke(a,"border-padding").or(Ke(l,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}})),W(W({},r),o)))}(e,Il(e));!1===t?(n=r.getParent(e.selection.getStart(),"table",e.getBody()))?o=function(e,t,n){var r,o,i,a=e.dom,l=Ll(e)?a.getStyle(t,"border-spacing")||a.getAttrib(t,"cellspacing"):a.getAttrib(t,"cellspacing")||a.getStyle(t,"border-spacing"),u=Ll(e)?Nc(a,t,"padding")||a.getAttrib(t,"cellpadding"):a.getAttrib(t,"cellpadding")||Nc(a,t,"padding");return W({width:a.getStyle(t,"width")||a.getAttrib(t,"width"),height:a.getStyle(t,"height")||a.getAttrib(t,"height"),cellspacing:l,cellpadding:u,border:(r=a,o=t,i=rn(Me.fromDom(o),"border-width"),Ll(e)&&i.isSome()?i.getOr(""):r.getAttrib(o,"border")||Nc(e.dom,o,"border-width")||Nc(e.dom,o,"border")),caption:!!a.select("caption",t)[0],class:a.getAttrib(t,"class",""),align:md(e,t)},n?dd(a,t):{})}(e,n,Il(e)):Il(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""):(o.cols="1",o.rows="1",Il(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var i=Zc(Vl(e));i.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var a={type:"grid",columns:2,items:Td(e,i,t)},l=Il(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},ld(e,"table")]}:{type:"panel",items:[a]};e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:g(Ad,e,n,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},Dd=function(e){return ji(Ni(e),Ti(e))},Nd=function(e,t,n,i,a){var l=Ti(e),u=function(e){return bn(e,l)},s=function(t){return function(e){return $i(Ni(e),Ti(e))}(e).bind((function(e){return u(e).map((function(n){return t(n,e)}))}))},c=function(t){e.focus()},d=function(e,t){return void 0===t&&(t=!1),s((function(n,r){var o=Vi(i,n,r);e(n,o,t).each(c)}))},p=function(){return s((function(t,n){var r=Vi(i,t,n),o=xi(f,Me.fromDom(e.getDoc()),k.none());return Mc(t,r,o)}))},m=function(){return s((function(e,t){var n=Vi(i,e,t);return Ac(e,n)}))},h=function(t,n){return n().each((function(n){var r=M(n,(function(e){return Ir(e)}));s((function(n,o){var a=Ci(Me.fromDom(e.getDoc())),l=function(e,t,n,r){return{selection:Pi(e),clipboard:n,generators:r}}(i,0,r,a);t(n,l).each(c)}))}))},b=function(e){return function(t,n){return Ke(n,"type").each((function(t){d(e(t),n.no_events)}))}};Ve({mceTableSplitCells:function(){return d(t.unmergeCells)},mceTableMergeCells:function(){return d(t.mergeCells)},mceTableInsertRowBefore:function(){return d(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return d(t.insertRowsAfter)},mceTableInsertColBefore:function(){return d(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return d(t.insertColumnsAfter)},mceTableDeleteCol:function(){return d(t.deleteColumn)},mceTableDeleteRow:function(){return d(t.deleteRow)},mceTableCutCol:function(){return m().each((function(e){a.setColumns(e),d(t.deleteColumn)}))},mceTableCutRow:function(){return p().each((function(e){a.setRows(e),d(t.deleteRow)}))},mceTableCopyCol:function(){return m().each((function(e){return a.setColumns(e)}))},mceTableCopyRow:function(){return p().each((function(e){return a.setRows(e)}))},mceTablePasteColBefore:function(){return h(t.pasteColsBefore,a.getColumns)},mceTablePasteColAfter:function(){return h(t.pasteColsAfter,a.getColumns)},mceTablePasteRowBefore:function(){return h(t.pasteRowsBefore,a.getRows)},mceTablePasteRowAfter:function(){return h(t.pasteRowsAfter,a.getRows)},mceTableDelete:function(){return Dd(e).each((function(t){bn(t,l).filter(v(l)).each((function(t){var n=Me.fromText("");if(Xn(t,n),rr(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom,0),r.setEnd(n.dom,0),e.selection.setRng(r),e.nodeChanged()}}))}))},mceTableCellToggleClass:function(t,n){s((function(t){var r=Ui(i),o=F(r,(function(t){return e.formatter.match("tablecellclass",{value:n},t.dom)}))?e.formatter.remove:e.formatter.apply;D(r,(function(e){return o("tablecellclass",{value:n},e.dom)})),wl(e,t.dom,xl)}))},mceTableToggleClass:function(t,n){s((function(t){e.formatter.toggle("tableclass",{value:n},t.dom),wl(e,t.dom,xl)}))},mceTableToggleCaption:function(){Dd(e).each((function(t){bn(t,l).each((function(n){It(n,"caption").fold((function(){var t,r,o=Me.fromTag("caption");Jn(o,Me.fromText("Caption")),r=o,bt(t=n,0).fold((function(){Jn(t,r)}),(function(e){Gn(e,r)})),e.selection.setCursorLocation(o.dom,0)}),(function(r){ct("caption")(t)&&Pe("td",n).each((function(t){return e.selection.setCursorLocation(t.dom,0)})),rr(r)})),wl(e,n.dom,Cl)}))}))},mceTableSizingMode:function(t,n){return function(t){return Dd(e).each((function(n){$l(e)||jl(e)||Hl(e)||bn(n,l).each((function(n){"relative"!==t||ya(n)?"fixed"!==t||wa(n)?"responsive"!==t||xa(n)||ru(n):nu(e,n):tu(e,n),Ai(n),wl(e,n.dom,Cl)}))}))}(n)},mceTableCellType:b((function(e){return"th"===e?t.makeCellsHeader:t.unmakeCellsHeader})),mceTableColType:b((function(e){return"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader})),mceTableRowType:b((function(e){switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},(function(t,n){return e.addCommand(n,t)})),Ve({mceTableProps:g(Md,e,!1),mceTableRowProps:g(Od,e),mceTableCellProps:g(xd,e,i)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTable",(function(t,n){o(n)&&Le(n).length>0?Sc(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Md(e,!0)})),e.addCommand("mceTableApplyCellStyle",(function(t,n){var a=function(e){return"tablecell"+e.toLowerCase().replace("-","")};if(o(n)){var l=Ui(i);if(0!==l.length){var s=$e(n,(function(t,n){return e.formatter.has(a(n))&&r(t)}));(function(e){for(var t in e)if(Fe.call(e,t))return!1;return!0})(s)||(Ve(s,(function(t,n){D(l,(function(r){sd.normal(e,r.dom).setFormat(a(n),t)}))})),u(l[0]).each((function(t){return wl(e,t.dom,xl)})))}}}))},Pd={remove_similar:!0,inherit:!1},zd=W({selector:"td,th"},Pd),Bd={tablecellbackgroundcolor:W({styles:{backgroundColor:"%value"}},zd),tablecellverticalalign:W({styles:{"vertical-align":"%value"}},zd),tablecellbordercolor:W({styles:{borderColor:"%value"}},zd),tablecellclass:W({classes:["%value"]},zd),tableclass:W({selector:"table",classes:["%value"]},Pd),tablecellborderstyle:W({styles:{borderStyle:"%value"}},zd),tablecellborderwidth:W({styles:{borderWidth:"%value"}},zd)},Rd=Er([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Id=W(W({},Rd),{none:function(e){return void 0===e&&(e=void 0),Rd.none(e)}}),Ld=function(e,t,n,r,o){void 0===o&&(o=y);var i=1===r;if(!i&&n<=0)return Id.first(e[0]);if(i&&n>=e.length-1)return Id.last(e[e.length-1]);var a=n+r,l=e[a];return o(l)?Id.middle(t,l):Ld(e,t,a,r,o)},Fd=function(e,t){return bn(e,t).bind((function(t){var n=gn(t);return R(n,(function(t){return ze(e,t)})).map((function(e){return{index:e,all:n}}))}))},Vd=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Hd=Er([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),jd={before:Hd.before,on:Hd.on,after:Hd.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(m,m,m)}},$d=Er([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ud={domRange:$d.domRange,relative:$d.relative,exact:$d.exact,exactFromRange:function(e){return $d.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t,n=function(e){return e.match({domRange:function(e){return Me.fromDom(e.startContainer)},relative:function(e,t){return jd.getStart(e)},exact:function(e,t,n,r){return e}})}(e);return t=n,Me.fromDom(ft(t).dom.defaultView)},range:Vd},Wd=function(e,t){var n=e.document.createRange();return n.selectNode(t.dom),n},qd=function(e,t){var n=e.document.createRange();return Kd(n,t),n},Kd=function(e,t){return e.selectNodeContents(t.dom)},Yd=function(e,t,n){var r,o=e.document.createRange();return r=o,t.fold((function(e){r.setStartBefore(e.dom)}),(function(e,t){r.setStart(e.dom,t)}),(function(e){r.setStartAfter(e.dom)})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}(o,n),o},Gd=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},Xd=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},Zd=Er([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jd=function(e,t,n){return t(Me.fromDom(n.startContainer),n.startOffset,Me.fromDom(n.endContainer),n.endOffset)},Qd=function(e,t){return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Zd.rtl(Me.fromDom(e.endContainer),e.endOffset,Me.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Jd(0,Zd.ltr,n)})):Jd(0,Zd.ltr,n)}(0,function(e,t){return t.match({domRange:function(e){return{ltr:p(e),rtl:k.none}},relative:function(t,n){return{ltr:Y((function(){return Yd(e,t,n)})),rtl:Y((function(){return k.some(Yd(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:Y((function(){return Gd(e,t,n,r,o)})),rtl:Y((function(){return k.some(Gd(e,r,o,t,n))}))}}})}(e,t))},ef=function(e,t){return Qd(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})};Zd.ltr,Zd.rtl;var tf=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},nf=function(e,t,n,r,o){var i=function(n){var r=e.dom.createRange();return r.setStart(t.dom,n),r.collapse(!0),r},a=ar(t).length,l=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var l=e(a),u=Math.abs(t-l.left);if(n<=l.bottom){if(n<l.top||u>i)return a-1;i=u}}return 0}((function(e){return i(e).getBoundingClientRect()}),n,r,o.right,a);return i(l)},rf=function(e,t,n,r){return lt(t)?function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getClientRects();return U(i,(function(e){return tf(e,n,r)?k.some(e):k.none()})).map((function(o){return nf(e,t,n,r,o)}))}(e,t,n,r):function(e,t,n,r){var o=e.dom.createRange(),i=vt(t);return U(i,(function(t){return o.selectNode(t.dom),tf(o.getBoundingClientRect(),n,r)?rf(e,t,n,r):k.none()}))}(e,t,n,r)},of=function(e,t){return t-e.left<e.right-t},af=function(e,t,n){var r=e.dom.createRange();return r.selectNode(t.dom),r.collapse(n),r},lf=function(e,t,n){var r=e.dom.createRange();r.selectNode(t.dom);var o=r.getBoundingClientRect(),i=of(o,n);return(true===i?di:fi)(t).map((function(t){return af(e,t,i)}))},uf=function(e,t,n){var r=t.dom.getBoundingClientRect(),o=of(r,n);return k.some(af(e,t,o))},sf=function(e,t,n){var r,o;return k.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind((function(t){if(null===t.offsetNode)return k.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),k.some(n)}))},cf=function(e,t,n){var r,o;return k.from(null===(o=(r=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,n))},df=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect();return function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),l=Math.max(i.top,Math.min(i.bottom,r));return rf(e,t,a,l)}(e,t,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))},ff=function(e,t,n){return Me.fromPoint(e,t,n).bind((function(r){var o=function(){return function(e,t,n){return(0===vt(t).length?uf:lf)(e,t,n)}(e,r,t)};return 0===vt(r).length?o():df(e,r,t,n).orThunk(o)}))},pf=document.caretPositionFromPoint?sf:document.caretRangeFromPoint?cf:ff,mf=function(e,t){var n=nt(e);return"input"===n?jd.after(e):T(["br","img"],n)?0===t?jd.before(e):jd.after(e):jd.on(e,t)},hf=function(e,t){var n=e.fold(jd.before,mf,jd.after),r=t.fold(jd.before,mf,jd.after);return Ud.relative(n,r)},gf=function(e,t,n,r){var o=mf(e,t),i=mf(n,r);return Ud.relative(o,i)},vf=function(e,t,n,r){var o=function(e,t,n,r){var o=dt(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,r),o}(e,t,n,r),i=ze(e,n)&&t===r;return o.collapsed&&!i},bf=function(e){return k.from(e.getSelection())},yf=function(e,t){bf(e).each((function(e){e.removeAllRanges(),e.addRange(t)}))},wf=function(e,t,n,r,o){var i=Gd(e,t,n,r,o);yf(e,i)},xf=function(e,t){return Qd(e,t).match({ltr:function(t,n,r,o){wf(e,t,n,r,o)},rtl:function(t,n,r,o){bf(e).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,r.dom,o);else if(i.extend)try{!function(e,t,n,r,o,i){t.collapse(n.dom,r),t.extend(o.dom,i)}(0,i,t,n,r,o)}catch(a){wf(e,r,o,t,n)}else wf(e,r,o,t,n)}))}})},Cf=function(e,t,n,r,o){var i=gf(t,n,r,o);xf(e,i)},kf=function(e,t,n){var r=hf(t,n);xf(e,r)},Sf=function(e){var t=Ud.getWin(e).dom,n=function(e,n,r,o){return Gd(t,e,n,r,o)},r=function(e){return e.match({domRange:function(e){var t=Me.fromDom(e.startContainer),n=Me.fromDom(e.endContainer);return gf(t,e.startOffset,n,e.endOffset)},relative:hf,exact:gf})}(e);return Qd(t,r).match({ltr:n,rtl:n})},_f=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return k.some(Vd(Me.fromDom(t.startContainer),t.startOffset,Me.fromDom(n.endContainer),n.endOffset))}return k.none()},Of=function(e){if(null===e.anchorNode||null===e.focusNode)return _f(e);var t=Me.fromDom(e.anchorNode),n=Me.fromDom(e.focusNode);return vf(t,e.anchorOffset,n,e.focusOffset)?k.some(Vd(t,e.anchorOffset,n,e.focusOffset)):_f(e)},Tf=function(e,t,n){void 0===n&&(n=!0);var r=(n?qd:Wd)(e,t);yf(e,r)},Ef=function(e){return function(e){return bf(e).filter((function(e){return e.rangeCount>0})).bind(Of)}(e).map((function(e){return Ud.exact(e.start,e.soffset,e.finish,e.foffset)}))},Af=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?k.some(n).map(Xd):k.none()}(ef(e,t))},Mf=function(e,t,n){return function(e,t,n){var r=Me.fromDom(e.document);return pf(r,t,n).map((function(e){return Vd(Me.fromDom(e.startContainer),e.startOffset,Me.fromDom(e.endContainer),e.endOffset)}))}(e,t,n)},Df=tinymce.util.Tools.resolve("tinymce.util.VK"),Nf=function(e,t,n){return zf(e,t,function(e,t,n){return Fd(e,n).fold((function(){return Id.none(e)}),(function(n){return Ld(n.all,e,n.index,1,t)}))}(n,Ja))},Pf=function(e,t,n){return zf(e,t,function(e,t,n){return Fd(e,n).fold((function(){return Id.none()}),(function(n){return Ld(n.all,e,n.index,-1,t)}))}(n,Ja))},zf=function(e,t,n){return n.fold(k.none,k.none,(function(e,t){return di(t).map((function(e){return function(e,t){var n=Ud.exact(t,0,t,0);return Sf(n)}(0,e)}))}),(function(n){return e.execCommand("mceTableInsertRowAfter"),Nf(e,t,n)}))},Bf=["table","li","dl"],Rf=function(e,t){return{selection:e,kill:t}},If=function(e,t,n,r){return{start:jd.on(e,t),finish:jd.on(n,r)}},Lf=function(e,t){var n=ef(e,t);return Vd(Me.fromDom(n.startContainer),n.startOffset,Me.fromDom(n.endContainer),n.endOffset)},Ff=If,Vf=function(e,t,n,r,o){return ze(n,r)?k.none():Cr(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return r.length>1?(o(e,r,t.start,t.finish),k.some(Rf(k.some(Ff(n,0,n,ui(n))),!0))):k.none()}))},Hf=function(e,t){return{item:e,mode:t}},jf=function(e,t,n,r){return void 0===r&&(r=$f),e.property().parent(t).map((function(e){return Hf(e,r)}))},$f=function(e,t,n,r){return void 0===r&&(r=Uf),n.sibling(e,t).map((function(e){return Hf(e,r)}))},Uf=function(e,t,n,r){void 0===r&&(r=Uf);var o=e.property().children(t);return n.first(o).map((function(e){return Hf(e,r)}))},Wf=[{current:jf,next:$f,fallback:k.none()},{current:$f,next:Uf,fallback:k.some(jf)},{current:Uf,next:Uf,fallback:k.some($f)}],qf=function(e,t,n,r,o){return void 0===o&&(o=Wf),B(o,(function(e){return e.current===n})).bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return qf(e,t,n,r)}))}))}))},Kf=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?k.some(e[e.length-1]):k.none()}}},Yf=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?k.some(e[0]):k.none()}}},Gf=function(e,t,n,r,o,i){return qf(e,t,r,o).bind((function(t){return i(t.item)?k.none():n(t.item)?k.some(t.item):Gf(e,t.item,n,t.mode,o,i)}))},Xf=function(e){return function(t){return 0===e.property().children(t).length}},Zf=function(e,t,n,r){return Gf(e,t,n,$f,Kf(),r)},Jf=function(e,t,n,r){return Gf(e,t,n,$f,Yf(),r)},Qf=cr(),ep=function(e,t){return function(e,t,n){return Zf(e,t,Xf(e),n)}(Qf,e,t)},tp=function(e,t){return function(e,t,n){return Jf(e,t,Xf(e),n)}(Qf,e,t)},np=Er([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),rp=function(e){return Ft(e,"tr")},op=W(W({},np),{verify:function(e,t,n,r,o,i,a){return Ft(r,"td,th",a).bind((function(n){return Ft(t,"td,th",a).map((function(t){return ze(n,t)?ze(r,n)&&ui(n)===o?i(t):np.none("in same cell"):wr(rp,[n,t]).fold((function(){return function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right}(e,t,n)?np.success():i(t)}),(function(e){return i(t)}))}))})).getOr(np.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)}}),ip=function(e,t){return R(e,g(ze,t))},ap=function(e){return"br"===nt(e)},lp=function(e,t,n){return t(e,n).bind((function(e){return lt(e)&&0===ar(e).trim().length?lp(e,t,n):k.some(e)}))},up=function(e,t,n,r){return function(e,t){return bt(e,t).filter(ap).orThunk((function(){return bt(e,t-1).filter(ap)}))}(t,n).bind((function(t){return r.traverse(t).fold((function(){return lp(t,r.gather,e).map(r.relative)}),(function(e){return function(e){return pt(e).bind((function(t){var n=vt(t);return ip(n,e).map((function(r){return function(e,t,n,r){return{parent:e,children:t,element:n,index:r}}(t,n,e,r)}))}))}(e).map((function(e){return jd.on(e.parent,e.index)}))}))}))},sp=function(e,t,n,r){return(ap(t)?function(e,t,n){return n.traverse(t).orThunk((function(){return lp(t,n.gather,e)})).map(n.relative)}(e,t,r):up(e,t,n,r)).map((function(e){return{start:e,finish:e}}))},cp=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}},dp=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}},fp=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}},pp=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},mp=function(e,t){return k.some(e.getRect(t))},hp=function(e,t,n){return at(t)?mp(e,t).map(pp):lt(t)?function(e,t,n){return n>=0&&n<ui(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):k.none()}(e,t,n).map(pp):k.none()},gp=function(e,t){return at(t)?mp(e,t).map(pp):lt(t)?e.getRangedRect(t,0,t,ui(t)).map(pp):k.none()},vp=Er([{none:[]},{retry:["caret"]}]),bp=function(e,t,n){return(r=t,o=Ts,Dt((function(e,t){return t(e)}),Bt,r,o,i)).fold(b,(function(t){return gp(e,t).exists((function(e){return function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right}(n,e)}))}));var r,o,i},yp={point:function(e){return e.bottom},adjuster:function(e,t,n,r,o){var i=cp(o,5);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?vp.retry(i):n.top===o.bottom?vp.retry(cp(o,1)):bp(e,t,o)?vp.retry(fp(i,5,0)):vp.none()},move:cp,gather:tp},wp=function(e,t,n,r,o){return 0===o?k.some(r):function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===nt(e)})).isSome()}(e,r.left,t.point(r))?function(e,t,n,r,o){return wp(e,t,n,t.move(r,5),o)}(e,t,n,r,o-1):e.situsFromPoint(r.left,t.point(r)).bind((function(i){return i.start.fold(k.none,(function(i){return gp(e,i).bind((function(a){return t.adjuster(e,i,a,n,r).fold(k.none,(function(r){return wp(e,t,n,r,o-1)}))})).orThunk((function(){return k.some(r)}))}),k.none)}))},xp=function(e,t,n){var r=e.move(n,5),o=wp(t,e,n,r,100).getOr(r);return function(e,t,n){return e.point(t)>n.getInnerHeight()?k.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?k.some(-e.point(t)):k.none()}(e,o,t).fold((function(){return t.situsFromPoint(o.left,e.point(o))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left,e.point(o)-n)}))},Cp={tryUp:g(xp,{point:function(e){return e.top},adjuster:function(e,t,n,r,o){var i=dp(o,5);return Math.abs(n.top-r.top)<1||n.bottom<o.top?vp.retry(i):n.bottom===o.top?vp.retry(dp(o,1)):bp(e,t,o)?vp.retry(fp(i,5,0)):vp.none()},move:dp,gather:ep}),tryDown:g(xp,yp),ieTryUp:function(e,t){return e.situsFromPoint(t.left,t.top-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left,t.bottom+5)},getJumpSize:p(5)},kp=function(e,t,n){return e.getSelection().bind((function(r){return sp(t,r.finish,r.foffset,n).fold((function(){return k.some(uu(r.finish,r.foffset))}),(function(o){var i=e.fromSitus(o);return function(e){return op.cata(e,(function(e){return k.none()}),(function(){return k.none()}),(function(e){return k.some(uu(e,0))}),(function(e){return k.some(uu(e,ui(e)))}))}(op.verify(e,r.finish,r.foffset,i.finish,i.foffset,n.failure,t))}))}))},Sp=function(e,t,n,r,o,i){return 0===i?k.none():Tp(e,t,n,r,o).bind((function(a){var l=e.fromSitus(a),u=op.verify(e,n,r,l.finish,l.foffset,o.failure,t);return op.cata(u,(function(){return k.none()}),(function(){return k.some(a)}),(function(a){return ze(n,a)&&0===r?_p(e,n,r,dp,o):Sp(e,t,a,0,o,i-1)}),(function(a){return ze(n,a)&&r===ui(a)?_p(e,n,r,cp,o):Sp(e,t,a,ui(a),o,i-1)}))}))},_p=function(e,t,n,r,o){return hp(e,t,n).bind((function(t){return Op(e,o,r(t,Cp.getJumpSize()))}))},Op=function(e,t,n){var r=Ee().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):k.none()},Tp=function(e,t,n,r,o){return hp(e,n,r).bind((function(t){return Op(e,o,t)}))},Ep=function(e,t){return Bt(e,(function(e){return pt(e).exists((function(e){return ze(e,t)}))}),n).isSome();var n},Ap=function(e,t,n,r,o){return Ft(r,"td,th",t).bind((function(r){return Ft(r,"table",t).bind((function(i){return Ep(o,i)?function(e,t,n){return kp(e,t,n).bind((function(r){return Sp(e,t,r.element,r.offset,n,20).map(e.fromSitus)}))}(e,t,n).bind((function(e){return Ft(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))})):k.none()}))}))},Mp=function(e,t,n,r,o,i){return Ee().browser.isIE()?k.none():i(r,t).orThunk((function(){return Ap(e,t,n,r,o).map((function(e){var t=e.range;return Rf(k.some(Ff(t.start,t.soffset,t.finish,t.foffset)),!0)}))}))},Dp=function(e,t){return Ft(e,"tr",t).bind((function(e){return Ft(e,"table",t).bind((function(n){var r=Mt(n,"tr");return ze(e,r[0])?function(e,t,n){return Zf(Qf,e,t,n)}(n,(function(e){return fi(e).isSome()}),t).map((function(e){var t=ui(e);return Rf(k.some(Ff(e,t,e,t)),!0)})):k.none()}))}))},Np=function(e,t){return Ft(e,"tr",t).bind((function(e){return Ft(e,"table",t).bind((function(n){var r=Mt(n,"tr");return ze(e,r[r.length-1])?function(e,t,n){return Jf(Qf,e,t,n)}(n,(function(e){return di(e).isSome()}),t).map((function(e){return Rf(k.some(Ff(e,0,e,0)),!0)})):k.none()}))}))},Pp=function(e,t,n,r,o,i,a){return Ap(e,n,r,o,i).bind((function(e){return Vf(t,n,e.start,e.finish,a)}))},zp=function(e,t){return Ft(e,"td,th",t)},Bp={traverse:gt,gather:tp,relative:jd.before,otherRetry:Cp.tryDown,ieRetry:Cp.ieTryDown,failure:op.failedDown},Rp={traverse:ht,gather:ep,relative:jd.before,otherRetry:Cp.tryUp,ieRetry:Cp.ieTryUp,failure:op.failedUp},Ip=function(e){return function(t){return t===e}},Lp=Ip(38),Fp=Ip(40),Vp=function(e){return e>=37&&e<=40},Hp={isBackward:Ip(37),isForward:Ip(39)},jp={isBackward:Ip(39),isForward:Ip(37)},$p=function(e){return{elementFromPoint:function(t,n){return Me.fromPoint(Me.fromDom(e.document),t,n)},getRect:function(e){return e.dom.getBoundingClientRect()},getRangedRect:function(t,n,r,o){var i=Ud.exact(t,n,r,o);return Af(e,i)},getSelection:function(){return Ef(e).map((function(t){return Lf(e,t)}))},fromSitus:function(t){var n=Ud.relative(t.start,t.finish);return Lf(e,n)},situsFromPoint:function(t,n){return Mf(e,t,n).map((function(e){return If(e.start,e.soffset,e.finish,e.foffset)}))},clearSelection:function(){!function(e){bf(e).each((function(e){return e.removeAllRanges()}))}(e)},collapseSelection:function(t){void 0===t&&(t=!1),Ef(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r;kf(e,o,o)}),(function(n,r,o,i){var a=t?n:o,l=t?r:i;Cf(e,a,l,a,l)}))}))},setSelection:function(t){Cf(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:function(t,n){kf(e,t,n)},selectNode:function(t){Tf(e,t,!1)},selectContents:function(t){Tf(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var t,n,r,o;return(t=Me.fromDom(e.document),n=void 0!==t?t.dom:document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop,Qr(r,o)).top},scrollBy:function(t,n){!function(e,t,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollBy(e,t)}(t,n,Me.fromDom(e.document))}}},Up=function(e,t){return{rows:e,cols:t}},Wp=function(e,t,n,r){var o=function(e,t,n,r){var o=Yc(),i=o.clear,a=function(i){o.on((function(o){r.clearBeforeUpdate(t),zp(i.target,n).each((function(a){Cr(o,a,n).each((function(n){var o=n.boxes.getOr([]);if(1===o.length){var l=o[0],u="false"===Qa(l),s=Kt(Za(i.target),l,ze);u&&s&&(r.selectRange(t,o,l,l),e.selectContents(l))}else o.length>1&&(r.selectRange(t,o,n.start,n.finish),e.selectContents(a))}))}))}))};return{clearstate:i,mousedown:function(e){r.clear(t),zp(e.target,n).each(o.set)},mouseover:function(e){a(e)},mouseup:function(e){a(e),i()}}}($p(e),t,n,r);return{clearstate:o.clearstate,mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},qp=function(e,t,n,r){var o=$p(e),i=function(){return r.clear(t),k.none()};return{keydown:function(e,a,l,u,s,c){var d=e.raw,f=d.which,p=!0===d.shiftKey;return kr(t,r.selectedSelector).fold((function(){return Fp(f)&&p?g(Pp,o,t,n,Bp,u,a,r.selectRange):Lp(f)&&p?g(Pp,o,t,n,Rp,u,a,r.selectRange):Fp(f)?g(Mp,o,n,Bp,u,a,Np):Lp(f)?g(Mp,o,n,Rp,u,a,Dp):k.none}),(function(e){var n=function(n){return function(){return U(n,(function(n){return function(e,t,n,r,o){return _r(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map((function(e){return o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes}))}(n.rows,n.cols,t,e,r)})).fold((function(){return Sr(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=Fp(f)||c.isForward(f)?jd.after:jd.before;return o.setRelativeSelection(jd.on(e.first,0),n(e.table)),r.clear(t),Rf(k.none(),!0)}))}),(function(e){return k.some(Rf(k.none(),!0))}))}};return Fp(f)&&p?n([Up(1,0)]):Lp(f)&&p?n([Up(-1,0)]):c.isBackward(f)&&p?n([Up(0,-1),Up(-1,0)]):c.isForward(f)&&p?n([Up(0,1),Up(1,0)]):Vp(f)&&!1===p?i:k.none}))()},keyup:function(e,o,i,a,l){return kr(t,r.selectedSelector).fold((function(){var u=e.raw,s=u.which;return!1===(!0===u.shiftKey)?k.none():Vp(s)?function(e,t,n,r,o,i,a){return ze(n,o)&&r===i?k.none():Ft(n,"td,th",t).bind((function(n){return Ft(o,"td,th",t).bind((function(r){return Vf(e,t,n,r,a)}))}))}(t,n,o,i,a,l,r.selectRange):k.none()}),k.none)}}},Kp=function(e,t,n){var r=function(t){Wt(t,e.selected),Wt(t,e.firstSelected),Wt(t,e.lastSelected)},o=function(t){Ht(t,e.selected,"1")},i=function(e){a(e),n()},a=function(t){var n=Mt(t,e.selectedSelector);D(n,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,l){i(n),D(r,o),Ht(a,e.firstSelected,"1"),Ht(l,e.lastSelected,"1"),t(r,a,l)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Yp=function(e,t,n){var r=Fn.fromTable(e);return Hu(r,t).map((function(e){var t=Bu(r,n,!1);return{upOrLeftCells:function(e,t){var n=e.slice(0,t[t.length-1].row+1),r=Ru(n);return L(r,(function(e){var n=e.cells.slice(0,t[t.length-1].column+1);return M(n,(function(e){return e.element}))}))}(t,e),downOrRightCells:function(e,t){var n=e.slice(t[0].row+t[0].rowspan-1,e.length),r=Ru(n);return L(r,(function(e){var n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return M(n,(function(e){return e.element}))}))}(t,e)}}))},Gp=tinymce.util.Tools.resolve("tinymce.Env"),Xp=function(e){return!1===qa(Me.fromDom(e.target),"ephox-snooker-resizer-bar")};function Zp(e,t,n){var r=Kp(Fi,(function(t,r,o){n.targets().each((function(n){bn(r).each((function(i){var a=Gl(e),l=xi(f,Me.fromDom(e.getDoc()),a),u=Yp(i,n,l);!function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})}(e,t,r,o,u)}))}))}),(function(){return function(e){e.fire("TableSelectionClear")}(e)}));return e.on("init",(function(n){var o=e.getWin(),i=Si(e),a=Ti(e),l=Wp(o,i,a,r),u=qp(o,i,a,r),s=function(e,t,n,r){var o=$p(e);return function(e,i){r.clearBeforeUpdate(t),Cr(e,i,n).each((function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),o.selectContents(i),o.collapseSelection()}))}}(o,i,a,r);e.on("TableSelectorChange",(function(e){return s(e.start,e.finish)}));var c,d,p=function(t,n){(function(e){return!0===e.raw.shiftKey})(t)&&(n.kill&&t.kill(),n.selection.each((function(t){var n=Ud.relative(t.start,t.finish),r=ef(o,n);e.selection.setRng(r)})))},m=function(e){return 0===e.button},h=(c=Qo(Me.fromDom(i)),d=Qo(0),{touchEnd:function(e){var t=Me.fromDom(e.target);if("td"===nt(t)||"th"===nt(t)){var n=c.get(),r=d.get();ze(n,t)&&e.timeStamp-r<300&&(e.preventDefault(),s(t,t))}c.set(t),d.set(e.timeStamp)}});e.on("dragstart",(function(e){l.clearstate()})),e.on("mousedown",(function(e){m(e)&&Xp(e)&&l.mousedown(Ha(e))})),e.on("mouseover",(function(e){var t;(void 0===(t=e).buttons||Gp.browser.isEdge()&&0===t.buttons||0!=(1&t.buttons))&&Xp(e)&&l.mouseover(Ha(e))})),e.on("mouseup",(function(e){m(e)&&Xp(e)&&l.mouseup(Ha(e))})),e.on("touchend",h.touchEnd),e.on("keyup",(function(t){var n=Ha(t);if(n.raw.shiftKey&&Vp(n.raw.which)){var r=e.selection.getRng(),o=Me.fromDom(r.startContainer),i=Me.fromDom(r.endContainer);u.keyup(n,o,r.startOffset,i,r.endOffset).each((function(e){p(n,e)}))}})),e.on("keydown",(function(n){var r=Ha(n);t().each((function(e){return e.hideBars()}));var o=e.selection.getRng(),i=Me.fromDom(o.startContainer),a=Me.fromDom(o.endContainer),l=Kr(Hp,jp)(Me.fromDom(e.selection.getStart()));u.keydown(r,i,o.startOffset,a,o.endOffset,l).each((function(e){p(r,e)})),t().each((function(e){return e.showBars()}))})),e.on("NodeChange",(function(){var t=e.selection,n=Me.fromDom(t.getStart()),o=Me.fromDom(t.getEnd());wr(bn,[n,o]).fold((function(){return r.clear(i)}),f)}))})),{clear:r.clear}}var Jp=function(e,t){var n=Qo(k.none()),r=Qo([]),o=k.none(),i=ct("caption"),a=function(e){return o.forall((function(t){return!t[e]}))},l=function(){return ji(function(e){return Me.fromDom(e.selection.getEnd())}(e),Ti(e))},u=function(){return ji(Ni(e),Ti(e)).bind((function(e){return Gt(bn(e),l().bind(bn),(function(n,r){return ze(n,r)?i(e)?k.some({element:o=e,mergable:k.none(),unmergable:k.none(),selection:[o]}):k.some(Vi(t,n,e)):k.none();var o})).bind(m)}))},s=function(e){return bn(e.element).map((function(t){var n=Fn.fromTable(t),r=Hu(n,e).getOr([]),o=z(r,(function(e,t){return t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Uu(n,e).isSome(),unmergeable:Wu(n,e).isSome(),locked:o}}))},c=function(){n.set(Y(u)()),o=n.get().bind(s),D(r.get(),(function(e){return e()}))},d=function(e){return e(),r.set(r.get().concat([e])),function(){r.set(N(r.get(),(function(t){return t!==e})))}},f=function(e,t){return d((function(){return n.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))}))},p=function(e,t,r){return d((function(){return n.get().fold((function(){e.setDisabled(!0),e.setActive(!1)}),(function(n){e.setDisabled(t(n)),e.setActive(r(n))}))}))},h=function(e){return o.exists((function(t){return t.locked[e]}))},g=function(t,n){return function(r){return p(r,(function(e){return i(e.element)}),(function(){return e.queryCommandValue(t)===n}))}},v=g("mceTableRowType","header"),y=g("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:function(e){return f(e,(function(e){return!1}))},onSetupCellOrRow:function(e){return f(e,(function(e){return i(e.element)}))},onSetupColumn:function(e){return function(t){return f(t,(function(t){return i(t.element)||h(e)}))}},onSetupPasteable:function(e){return function(t){return f(t,(function(t){return i(t.element)||e().isNone()}))}},onSetupPasteableColumn:function(e,t){return function(n){return f(n,(function(n){return i(n.element)||e().isNone()||h(t)}))}},onSetupMergeable:function(e){return f(e,(function(e){return a("mergeable")}))},onSetupUnmergeable:function(e){return f(e,(function(e){return a("unmergeable")}))},resetTargets:c,onSetupTableWithCaption:function(t){return p(t,b,(function(t){return bn(t.element,Ti(e)).exists((function(e){return It(e,"caption").isSome()}))}))},onSetupTableRowHeaders:v,onSetupTableColumnHeaders:y,targets:n.get}},Qp=function(e){var t,n,r,o,i,a=(t=function(){return Si(e)},n=function(){return $i(Ni(e),Ti(e))},r=Fi.selectedSelector,{get:function(){return Or(t(),r).fold((function(){return n().fold(Dr,Pr)}),(function(e){return Nr(e)}))}}),l=Jp(e,a),u=lu(e),s=Zp(e,u.lazyResize,l),c=bc(e,s,u.lazyWire),d=(o=Yc(),i=Yc(),{getRows:o.get,setRows:function(e){e.fold(o.clear,o.set),i.clear()},clearRows:o.clear,getColumns:i.get,setColumns:function(e){e.fold(i.clear,i.set),o.clear()},clearColumns:i.clear});return Nd(e,c,0,a,d),function(e,t,n){var r=Ti(e),o=function(t){return $i(Ni(e)).bind((function(e){return bn(e,r).map((function(r){var o=Vi(n,r,e);return t(r,o)}))})).getOr("")};Ve({mceTableRowType:function(){return o(t.getTableRowType)},mceTableCellType:function(){return o(t.getTableCellType)},mceTableColType:function(){return o(t.getTableColType)}},(function(t,n){return e.addQueryValueHandler(n,t)}))}(e,c,a),Wi(e,a,c),function(e,t,n,r){var o=function(t){return function(){return e.execCommand(t)}},i=function(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},a={text:"Table properties",onSetup:n.onSetupTable,onAction:o("mceTableProps")},l={text:"Delete table",icon:"table-delete-table",onSetup:n.onSetupTable,onAction:o("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:o("mceTableInsertRowBefore"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:o("mceTableInsertRowAfter"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:o("mceTableDeleteRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:o("mceTableRowProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)});var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:p("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:o("mceTableInsertColBefore"),onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:o("mceTableInsertColAfter"),onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:o("mceTableDeleteCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")});var s={type:"nestedmenuitem",text:"Column",getSubmenuItems:p("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:o("mceTableCellProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:o("mceTableMergeCells"),onSetup:n.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:o("mceTableSplitCells"),onSetup:n.onSetupUnmergeable});var c={type:"nestedmenuitem",text:"Cell",getSubmenuItems:p("tablecellprops tablemergecells tablesplitcells")};!1===function(e){return e.getParam("table_grid",!0,"boolean")}(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:i}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",a),e.ui.registry.addMenuItem("deletetable",l),e.ui.registry.addNestedMenuItem("row",u),e.ui.registry.addNestedMenuItem("column",s),e.ui.registry.addNestedMenuItem("cell",c),e.ui.registry.addContextMenu("table",{update:function(){return n.resetTargets(),n.targets().fold(p(""),(function(e){return"caption"===nt(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}});var d=ed(Vl(e));0!==d.length&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Jc(e,t,d,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)}))},onSetup:n.onSetupTable});var f=ed(Fl(e));0!==f.length&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Jc(e,t,f,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)}))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Jc(e,t,Bc,"tablecellverticalalign",Qc(e,"vertical-align"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Jc(e,t,Dl(e),"tablecellborderwidth",Qc(e,"border-width"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Jc(e,t,Nl(e),"tablecellborderstyle",Qc(e,"border-style"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:o("mceTableToggleCaption"),onSetup:n.onSetupTableWithCaption}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return nd(e,Xl(e),"background-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return nd(e,Zl(e),"border-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:rd(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:od(e),onSetup:n.onSetupTableColumnHeaders})}(e,a,l,d),function(e,t,n,r){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var o=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:o("mceTableProps"),icon:"table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:o("mceTableDelete"),icon:"table-delete-table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:o("mceTableCellProps"),icon:"table-cell-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:o("mceTableMergeCells"),icon:"table-merge-cells",onSetup:n.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:o("mceTableSplitCells"),icon:"table-split-cells",onSetup:n.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:o("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:o("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:o("mceTableDeleteRow"),icon:"table-delete-row",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:o("mceTableRowProps"),icon:"table-row-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:o("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:o("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:o("mceTableDeleteCol"),icon:"table-delete-column",onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:o("mceInsertTable"),icon:"table"});var i=ed(Vl(e));0!==i.length&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:td(e,t,i,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)})),onSetup:n.onSetupTable});var a=ed(Fl(e));0!==a.length&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:td(e,t,a,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)})),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:td(e,t,Bc,"tablecellverticalalign",Qc(e,"vertical-align")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:td(e,t,Dl(e),"tablecellborderwidth",Qc(e,"border-width")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:td(e,t,Nl(e),"tablecellborderstyle",Qc(e,"border-style")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:o("mceTableToggleCaption"),icon:"table-caption",onSetup:n.onSetupTableWithCaption}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(t){return t(nd(e,Xl(e),"background-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(t){return t(nd(e,Zl(e),"border-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:rd(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:od(e),onSetup:n.onSetupTableColumnHeaders})}(e,a,l,d),function(e){var t=function(e){return e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")}(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},items:t,scope:"node",position:"node"})}(e),e.on("PreInit",(function(){e.serializer.addTempAttr(Fi.firstSelected),e.serializer.addTempAttr(Fi.lastSelected),function(e){e.formatter.register(Bd)}(e)})),function(e){return e.getParam("table_tab_navigation",!0,"boolean")}(e)&&e.on("keydown",(function(t){!function(e,t,n){if(e.keyCode===Df.TAB){var r=Si(t),o=function(e){var t=nt(e);return ze(e,r)||T(Bf,t)},i=t.selection.getRng(),a=Me.fromDom(e.shiftKey?i.startContainer:i.endContainer);hn(a,o).each((function(r){e.preventDefault(),bn(r,o).each(n.clear),t.selection.collapse(e.shiftKey),(e.shiftKey?Pf:Nf)(t,o,r).each((function(e){t.selection.setRng(e)}))}))}}(t,e,s)})),e.on("remove",(function(){u.destroy()})),function(e,t,n,r){return{insertTable:Tc(e),setClipboardRows:Oc(t.setRows),getClipboardRows:_c(t.getRows),setClipboardCols:Oc(t.setColumns),getClipboardCols:_c(t.getColumns),resizeHandler:n,selectionTargets:r}}(e,d,u,l)};zr.add("table",Qp)}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},n=function(e){return function(t){return typeof t===e}},r=t("string"),o=t("object"),i=t("array"),a=n("boolean"),l=n("function"),u=n("number"),s=function(){},c=function(e){return function(){return e}},d=function(e){return e},f=function(e,t){return e===t},p=function(e){return function(t){return!e(t)}},m=c(!1),h=c(!0),g=function(){return v},v=function(){var e=function(e){return e()},t=d;return{fold:function(e,t){return e()},isSome:m,isNone:h,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:t,orThunk:e,map:g,each:s,bind:g,exists:m,forall:h,filter:function(){return g()},toArray:function(){return[]},toString:c("none()")}}(),b=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:h,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},y={some:b,none:g,from:function(e){return null==e?v:b(e)}},w=Array.prototype.slice,x=Array.prototype.push,C=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},k=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},S=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},_=function(e,t,n){return k(e,(function(e,r){n=t(n,e,r)})),n},O=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return y.some(i);if(n(i,r))break}return y.none()},T=function(e,t){return O(e,t,m)},E=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t}(C(e,t))},A=function(e){var t=w.call(e,0);return t.reverse(),t},M=function(e,t){return t>=0&&t<e.length?y.some(e[t]):y.none()},D=function(e){return M(e,0)},N=function(e){return M(e,e.length-1)},P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var z,B=function(){return R(0,0)},R=function(e,t){return{major:e,minor:t}},I={nu:R,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?B():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return R(r(1),r(2))}(e,n)},unknown:B},L=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return y.none()}(t.brands,(function(t){var n=t.brand.toLowerCase();return T(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:I.nu(parseInt(t.version,10),0)}}))}))},F=function(e,t){var n=String(t).toLowerCase();return T(e,(function(e){return e.search(n)}))},V=function(e,t){return-1!==e.indexOf(t)},H=(z=/^\s+|\s+$/g,function(e){return e.replace(z,"")}),j=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$=function(e){return function(t){return V(t,e)}},U=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return V(e,"edge/")&&V(e,"chrome")&&V(e,"safari")&&V(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,j],search:function(e){return V(e,"chrome")&&!V(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return V(e,"msie")||V(e,"trident")}},{name:"Opera",versionRegexes:[j,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$("firefox")},{name:"Safari",versionRegexes:[j,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(V(e,"safari")||V(e,"mobile/"))&&V(e,"applewebkit")}}],W=[{name:"Windows",search:$("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return V(e,"iphone")||V(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:$("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$("linux"),versionRegexes:[]},{name:"Solaris",search:$("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],q={browsers:c(U),oses:c(W)},K="Edge",Y="Chrome",G="Opera",X="Firefox",Z="Safari",J=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(K),isChrome:r(Y),isIE:r("IE"),isOpera:r(G),isFirefox:r(X),isSafari:r(Z)}},Q={unknown:function(){return J({current:void 0,version:I.unknown()})},nu:J,edge:c(K),chrome:c(Y),ie:c("IE"),opera:c(G),firefox:c(X),safari:c(Z)},ee="Windows",te="Android",ne="Linux",re="Solaris",oe="FreeBSD",ie="ChromeOS",ae=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(ee),isiOS:r("iOS"),isAndroid:r(te),isOSX:r("OSX"),isLinux:r(ne),isSolaris:r(re),isFreeBSD:r(oe),isChromeOS:r(ie)}},le={unknown:function(){return ae({current:void 0,version:I.unknown()})},nu:ae,windows:c(ee),ios:c("iOS"),android:c(te),linux:c(ne),osx:c("OSX"),solaris:c(re),freebsd:c(oe),chromeos:c(ie)},ue=function(e,t,n){var r=q.browsers(),o=q.oses(),i=t.bind((function(e){return L(r,e)})).orThunk((function(){return function(e,t){return F(e,t).map((function(e){var n=I.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e)})).fold(Q.unknown,Q.nu),a=function(e,t){return F(e,t).map((function(e){var n=I.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e).fold(le.unknown,le.nu),l=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),l=a||r("(pointer:coarse)"),u=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!s&&!u&&!d;return{isiPad:c(o),isiPhone:c(i),isTablet:c(u),isPhone:c(s),isTouch:c(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:c(d),isDesktop:c(f)}}(a,i,e,n);return{browser:i,os:a,deviceType:l}},se=function(e){return window.matchMedia(e).matches},ce=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}((function(){return ue(navigator.userAgent,y.from(navigator.userAgentData),se)})),de=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},fe={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return de(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return de(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return de(n)},fromDom:de,fromPoint:function(e,t,n){return y.from(e.dom.elementFromPoint(t,n)).map(de)}},pe=function(e,t){return e.dom===t.dom},me=function(e,t){return n=e.dom,r=t.dom,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY);var n,r},he=function(e,t){return ce().browser.isIE()?me(e,t):function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)}(e,t)},ge=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ve=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),be=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ye=tinymce.util.Tools.resolve("tinymce.util.VK"),we=Object.keys,xe=function(e,t){for(var n=we(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Ce=function(e,t){var n={};return function(e,t,n,r){xe(e,(function(e,o){(t(e,o)?n:r)(e,o)}))}(e,t,function(e){return function(t,n){e[n]=t}}(n),s),n};"undefined"!=typeof window?window:Function("return this;")();var ke=function(e){return e.dom.nodeName.toLowerCase()},Se=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}}(1),_e=function(e){return function(t){return Se(t)&&ke(t)===e}},Oe=function(e,t){var n=e.dom;xe(t,(function(e,t){!function(e,t,n){if(!(r(n)||a(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(n,t,e)}))},Te=function(e){return _(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Ee=function(e){return y.from(e.dom.parentNode).map(fe.fromDom)},Ae=function(e){return C(e.dom.childNodes,fe.fromDom)},Me=function(e,t){var n=e.dom.childNodes;return y.from(n[t]).map(fe.fromDom)},De=function(e){return Me(e,0)},Ne=function(e){return Me(e,e.dom.childNodes.length-1)},Pe=function(e,t){Ee(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},ze=function(e,t){e.dom.appendChild(t.dom)},Be=function(e,t){k(t,(function(t){ze(e,t)}))},Re=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ie=function(e){return function(e,t){return fe.fromDom(e.dom.cloneNode(t))}(e,!0)},Le=function(e,t){var n=function(e,t){var n=fe.fromTag(t),r=Te(e);return Oe(n,r),n}(e,t);Pe(e,n);var r=Ae(e);return Be(n,r),Re(e),n},Fe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ve=tinymce.util.Tools.resolve("tinymce.util.Tools"),He=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},je=function(e){return function(t){return t&&e.test(t.nodeName)}},$e=function(e){return e&&3===e.nodeType},Ue=je(/^(OL|UL|DL)$/),We=je(/^(OL|UL)$/),qe=He("ol"),Ke=je(/^(LI|DT|DD)$/),Ye=je(/^(DT|DD)$/),Ge=je(/^(TH|TD)$/),Xe=He("br"),Ze=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},Je=function(e,t){return e&&e.nodeName in t},Qe=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},et=function(e,t){return e.isChildOf(t,e.getRoot())},tt=function(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),l=i.createFragment(),u=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t}(e);if(u&&((r=i.create(u)).tagName===u.toUpperCase()&&i.setAttribs(r,function(e){return e.getParam("forced_root_block_attrs",{})}(e)),Je(t.firstChild,a)||l.appendChild(r)),t)for(;n=t.firstChild;){var s=n.nodeName;o||"SPAN"===s&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),Je(n,a)?(l.appendChild(n),r=null):u?(r||(r=i.create(u),l.appendChild(r)),r.appendChild(n)):l.appendChild(n)}return u?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):l.appendChild(i.create("br")),l},nt=Fe.DOM,rt=_e("dd"),ot=_e("dt"),it=function(e,t){rt(t)?Le(t,"dt"):ot(t)&&Ee(t).each((function(n){return function(e,t,n){var r=nt.select('span[data-mce-type="bookmark"]',t),o=tt(e,n),i=nt.createRng();i.setStartAfter(n),i.setEndAfter(t);for(var a,l=i.extractContents(),u=l.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){nt.remove(u);break}e.dom.isEmpty(l)||nt.insertAfter(l,t),nt.insertAfter(o,t),Qe(e.dom,n.parentNode)&&(a=n.parentNode,Ve.each(r,(function(e){a.parentNode.insertBefore(e,n.parentNode)})),nt.remove(a)),nt.remove(n),Qe(e.dom,t)&&nt.remove(t)}(e,n.dom,t.dom)}))},at=function(e){ot(e)&&Le(e,"dd")},lt=function(e,t){if($e(e))return{container:e,offset:t};var n=ve.getNode(e,t);return $e(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&$e(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&$e(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},ut=function(e){var t=e.cloneRange(),n=lt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=lt(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},st=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ct=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",pt(e,n))},dt=function(e){var t=ct(e),n=e.selection.getSelectedBlocks();return function(e,t){return e&&1===t.length&&t[0]===e}(t,n)?function(e){return S(e.querySelectorAll("ol,ul,dl"),Ue)}(t):S(n,(function(e){return Ue(e)&&t!==e}))},ft=function(e){var t=e.selection.getSelectedBlocks();return S(function(e,t){var n=Ve.map(t,(function(t){return e.dom.getParent(t,"li,dd,dt",pt(e,t))||t}));return st.unique(n)}(e,t),Ke)},pt=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},mt=function(e,t){var n=e.dom.getParents(t,"ol,ul",pt(e,t));return N(n)},ht=function(e){var t=function(e){var t=mt(e,e.selection.getStart()),n=S(e.selection.getSelectedBlocks(),We);return t.toArray().concat(n)}(e);return gt(e,t)},gt=function(e,t){var n=C(t,(function(t){return mt(e,t).getOr(t)}));return st.unique(n)},vt=function(e,t,n){return void 0===n&&(n=f),e.exists((function(e){return n(e,t)}))},bt=function(e,t,n){return e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none()},yt=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},wt=function(e,t,n){if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(function(e){return void 0!==e.style&&l(e.style.getPropertyValue)})(e)&&e.style.setProperty(t,n)},xt=function(e,t){ze(e.item,t.list)},Ct=function(e,t){var n={list:fe.fromTag(t,e),item:fe.fromTag("li",e)};return ze(n.list,n.item),n},kt=function(e,t,n){var r=t.slice(0,n.depth);return N(r).each((function(t){!function(e,t){ze(e.list,t),e.item=t}(t,function(e,t,n){var r=fe.fromTag("li",e);return Oe(r,t),Be(r,n),r}(e,n.itemAttributes,n.content)),function(e,t){ke(e.list)!==t.listType&&(e.list=Le(e.list,t.listType)),Oe(e.list,t.listAttributes)}(t,n)})),r},St=function(e,t,n){var r,o=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(Ct(e,t.listType));return r}(e,n,n.depth-t.length);return function(e){for(var t=1;t<e.length;t++)xt(e[t-1],e[t])}(o),function(e,t){for(var n=0;n<e.length-1;n++)r=e[n].item,o="list-style-type",i="none",a=void 0,a=r.dom,wt(a,o,i);var r,o,i,a;N(e).each((function(e){Oe(e.list,t.listAttributes),Oe(e.item,t.itemAttributes),Be(e.item,t.content)}))}(o,n),r=o,bt(N(t),D(r),xt),t.concat(o)},_t=function(e){return ge(e,"OL,UL")},Ot=function(e){return De(e).exists(_t)},Tt=function(e){return e.depth>0},Et=function(e){return e.isSelected},At=function(e){var t=Ae(e),n=Ne(e).exists(_t)?t.slice(0,-1):t;return C(n,Ie)},Mt=function(e){return k(e,(function(t,n){(function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},o=function(e){return e.depth<n};return O(A(e.slice(0,t)),r,o).orThunk((function(){return O(e.slice(t+1),r,o)}))})(e,n).fold((function(){t.dirty&&function(e){e.listAttributes=Ce(e.listAttributes,(function(e,t){return"start"!==t}))}(t)}),(function(e){return r=e,(n=t).listType=r.listType,void(n.listAttributes=P({},r.listAttributes));var n,r}))})),e},Dt=function(e,t,n,r){return De(r).filter(_t).fold((function(){t.each((function(e){pe(e.start,r)&&n.set(!0)}));var o=function(e,t,n){return Ee(e).filter(Se).map((function(r){return{depth:t,dirty:!1,isSelected:n,content:At(e),itemAttributes:Te(e),listAttributes:Te(r),listType:ke(r)}}))}(r,e,n.get());t.each((function(e){pe(e.end,r)&&n.set(!1)}));var i=Ne(r).filter(_t).map((function(r){return Nt(e,t,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Nt(e,t,n,r)}))},Nt=function(e,t,n,r){return E(Ae(r),(function(r){return(_t(r)?Nt:Dt)(e+1,t,n,r)}))},Pt=function(e,t){var n=Mt(t);return C(n,(function(t){var n,r,o,i=(n=t.content,o=(r||document).createDocumentFragment(),k(n,(function(e){o.appendChild(e.dom)})),fe.fromDom(o));return fe.fromDom(tt(e,i.dom))}))},zt=function(e,t){var n=Mt(t);return function(e,t){var n=_(t,(function(t,n){return n.depth>t.length?St(e,t,n):kt(e,t,n)}),[]);return D(n).map((function(e){return e.list}))}(e.contentDocument,n).toArray()},Bt=function(e,t,n){var r=function(e,t){var n,r=(n=!1,{get:function(){return n},set:function(e){n=e}});return C(e,(function(e){return{sourceList:e,entries:Nt(0,t,r,e)}}))}(t,function(e){var t=C(ft(e),fe.fromDom);return bt(T(t,p(Ot)),T(A(t),p(Ot)),(function(e,t){return{start:e,end:t}}))}(e));k(r,(function(t){!function(e,t){k(S(e,Et),(function(e){return function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0}(t,e)}))}(t.entries,n);var r,o=function(e,t){return E(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var l=e[i],u=t(l);u!==n&&(r.push(o),o=[]),n=u,o.push(l)}return 0!==o.length&&r.push(o),r}(t,Tt),(function(t){return D(t).exists(Tt)?zt(e,t):Pt(e,t)}))}(e,t.entries);k(o,(function(t){yt(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,k(o,(function(e){Pe(r,e)})),Re(t.sourceList)}))},Rt=function(e,t){var n=C(ht(e),fe.fromDom),r=C(function(e){return S(ft(e),Ye)}(e),fe.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();Bt(e,n,t),function(e,t,n){k(n,"Indent"===t?at:function(t){return it(e,t)})}(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(ut(e.selection.getRng())),e.nodeChanged(),o=!0}return o},It=function(e){return Rt(e,"Indent")},Lt=function(e){return Rt(e,"Outdent")},Ft=function(e){return Rt(e,"Flatten")},Vt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Ht=Fe.DOM,jt=function(e){var t={},n=function(n){var r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"];if(1===r.nodeType){var i=Ht.create("span",{"data-mce-type":"bookmark"});r.hasChildNodes()?(o=Math.min(o,r.childNodes.length-1),n?r.insertBefore(i,r.childNodes[o]):Ht.insertAfter(i,r.childNodes[o])):r.appendChild(i),r=i,o=0}t[n?"startContainer":"endContainer"]=r,t[n?"startOffset":"endOffset"]=o};return n(!0),e.collapsed||n(),t},$t=function(e){var t=function(t){var n,r=n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];r&&(1===r.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(r),r=r.parentNode,Ht.remove(n),!r.hasChildNodes()&&Ht.isBlock(r)&&r.appendChild(Ht.create("br"))),e[t?"startContainer":"endContainer"]=r,e[t?"startOffset":"endOffset"]=o)};t(!0),t();var n=Ht.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),ut(n)},Ut=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Wt=function(e){return/\btox\-/.test(e.className)},qt=function(e,t,n){var r=function(e){var r=O(e.parents,Ue,Ge).filter((function(e){return e.nodeName===t&&!Wt(e)})).isSome();n(r)},o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},Kt=function(e,t){Ve.each(t,(function(t,n){e.setAttribute(n,t)}))},Yt=function(e,t,n){!function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)}(e,t,n),function(e,t,n){Kt(t,n["list-attributes"]),Ve.each(e.select("li",t),(function(e){Kt(e,n["list-item-attributes"])}))}(e,t,n)},Gt=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Xe(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Ze(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Xt=function(e,t,n){var r=e.selection.getRng(),o="LI",i=pt(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){"DL"===(t=t.toUpperCase())&&(o="DT");var l=jt(r),u=function(e,t,n){for(var r,o=[],i=e.dom,a=Gt(e,t,!0,n),l=Gt(e,t,!1,n),u=[],s=a;s&&(u.push(s),s!==l);s=s.nextSibling);return Ve.each(u,(function(t){if(Ze(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Xe(t))return Xe(t)&&i.remove(t),void(r=null);var a=t.nextSibling;Vt.isBookmarkNode(t)&&(Ue(a)||Ze(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o}(e,r,i);Ve.each(u,(function(r){var i,l=r.previousSibling,u=r.parentNode;Ke(u)||(l&&Ue(l)&&l.nodeName===t&&function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return r===(null===o?"":o)}(a,l,n)?(i=l,r=a.rename(r,o),l.appendChild(r)):(i=a.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),function(e,t,n){Ve.each(n,(function(n){var r;return e.setStyle(t,((r={})[n]="",r))}))}(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Yt(a,i,n),Jt(e.dom,i))})),e.selection.setRng($t(l))}},Zt=function(e,t,n){return function(e,t){return e&&t&&Ue(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&(r=n,t.className===r.className);var r},Jt=function(e,t){var n,r;if(n=t.nextSibling,Zt(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Zt(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Qt=function(e,t,n,r,o){var i=Ue(t);if(i&&t.nodeName===r&&!en(o))Ft(e);else{Xt(e,r,o);var a=jt(e.selection.getRng()),l=i?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([t],n):n;Ve.each(l,(function(t){!function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);Yt(e.dom,o,r),yt(e,Ut(n),o)}else Yt(e.dom,t,r),yt(e,Ut(n),t)}(e,t,r,o)})),e.selection.setRng($t(a))}},en=function(e){return"list-style-type"in e},tn=function(e,t,n){var r=ct(e),i=dt(e),a=o(n)?n:{};i.length>0?Qt(e,r,i,t,a):function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||en(r)||Wt(t)){var o=jt(e.selection.getRng());Yt(e.dom,t,r);var i=e.dom.rename(t,n);Jt(e.dom,i),e.selection.setRng($t(o)),Xt(e,n,r),yt(e,Ut(n),i)}else Ft(e);else Xt(e,n,r),yt(e,Ut(n),t)}(e,r,t,a)},nn=Fe.DOM,rn=function(e,t){var n=Ve.grep(e.select("ol,ul",t));Ve.each(n,(function(t){!function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),Qe(e,r)&&nn.remove(r)):nn.setStyle(r,"listStyleType","none")),Ue(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)}(e,t)}))},on=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if($e(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=ve.getNode(o,i));var l=new be(o,r);for(n&&function(e,t){return!!Xe(t)&&e.isBlock(t.nextSibling)&&!Xe(t.previousSibling)}(e.dom,o)&&l.next();o=l[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if($e(o)&&o.data.length>0)return o}},an=function(e,t){var n=t.childNodes;return 1===n.length&&!Ue(n[0])&&e.isBlock(n[0])},ln=function(e,t,n){var r,o=an(e,n)?n.firstChild:n;if(function(e,t){an(e,t)&&e.remove(t.firstChild,!0)}(e,t),!Qe(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},un=function(e,t,n){var r,o=t.parentNode;if(et(e,t)&&et(e,n)){Ue(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Xe(o.previousSibling)&&e.remove(o.previousSibling);var i=n.lastChild;i&&Xe(i)&&t.hasChildNodes()&&e.remove(i),Qe(e,n,!0)&&e.$(n).empty(),ln(e,t,n),r&&n.appendChild(r);var a=he(fe.fromDom(n),fe.fromDom(t))?e.getParents(t,Ue,n):[];e.remove(t),k(a,(function(t){Qe(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},sn=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))!function(e,t,n){e.dom.$(n).empty(),un(e.dom,t,n),e.selection.setCursorLocation(n,0)}(e,n,r);else{var i=jt(t);un(o,n,r),e.selection.setRng($t(i))}},cn=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=pt(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var l=a.parentNode;if(l===e.getBody()&&Qe(n,l))return!0;var u=ut(r.getRng()),s=n.getParent(on(e,u,t,i),"LI",i);if(s&&s!==a)return e.undoManager.transact((function(){var n;t?sn(e,u,s,a):(n=a).parentNode.firstChild===n?Lt(e):function(e,t,n,r){var o=jt(t);un(e.dom,n,r);var i=$t(o);e.selection.setRng(i)}(e,u,a,s)})),!0;if(!s&&!t&&0===u.startOffset&&0===u.endOffset)return e.undoManager.transact((function(){Ft(e)})),!0}return!1},dn=function(e,t){return cn(e,t)||function(e,t){var n=e.dom,r=e.selection.getStart(),o=pt(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=ut(e.selection.getRng()),l=n.getParent(on(e,a,t,o),"LI",o);if(l)return e.undoManager.transact((function(){!function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)}(n,i,o),Jt(n,l.parentNode),e.selection.select(l,!0),e.selection.collapse(t)})),!0}return!1}(e,t)},fn=function(e,t){return e.selection.isCollapsed()?dn(e,t):function(e){var t=e.selection.getStart(),n=pt(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||ft(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),rn(e.dom,e.getBody())})),!0)}(e)},pn=function(e){var t=A(H(e).split("")),n=C(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return _(n,(function(e,t){return e+t}),0)},mn=function(e){if(--e<0)return"";var t=e%26,n=Math.floor(e/26);return mn(n)+String.fromCharCode("A".charCodeAt(0)+t)},hn=function(e){var t,n,r=ct(e);qe(r)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:(t={start:e.dom.getAttrib(r,"start","1"),listStyleType:y.some(e.dom.getStyle(r,"list-style-type"))},n=parseInt(t.start,10),vt(t.listStyleType,"upper-alpha")?mn(n):vt(t.listStyleType,"lower-alpha")?mn(n).toLowerCase():t.start)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){(function(e){switch(function(e){return/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:function(e){return/^[a-z]+$/.test(e)}(e)?1:e.length>0?4:3}(e)){case 2:return y.some({listStyleType:y.none(),start:e});case 0:return y.some({listStyleType:y.some("upper-alpha"),start:pn(e).toString()});case 1:return y.some({listStyleType:y.some("lower-alpha"),start:pn(e).toString()});case 3:return y.some({listStyleType:y.none(),start:""});case 4:return y.none()}})(t.getData().start).each((function(t){e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},gn=function(e,t){return function(){var n=ct(e);return n&&n.nodeName===t}},vn=function(e){e.addCommand("mceListProps",(function(){hn(e)}))},bn=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?It(e):"outdent"===n&&Lt(e)})),e.addCommand("InsertUnorderedList",(function(t,n){tn(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){tn(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){tn(e,"DL",n)})),e.addCommand("RemoveList",(function(){Ft(e)})),vn(e),e.addCommand("mceListUpdate",(function(t,n){o(n)&&function(e,t){var n=ct(e);e.undoManager.transact((function(){o(t.styles)&&e.dom.setStyles(n,t.styles),o(t.attrs)&&xe(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}))}(e,n)})),e.addQueryStateHandler("InsertUnorderedList",gn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",gn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",gn(e,"DL"))},yn=function(e){(function(e){return e.getParam("lists_indent_on_tab",!0)})(e)&&function(e){e.on("keydown",(function(t){t.keyCode!==ye.TAB||ye.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?Lt(e):It(e))&&t.preventDefault()}))}))}(e),function(e){e.on("keydown",(function(t){t.keyCode===ye.BACKSPACE?fn(e,!1)&&t.preventDefault():t.keyCode===ye.DELETE&&fn(e,!0)&&t.preventDefault()}))}(e)};e.add("lists",(function(e){return!1===e.hasPlugin("rtc",!0)?(yn(e),bn(e)):vn(e),function(e){var t=function(t){return function(){return e.execCommand(t)}};e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return qt(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return qt(e,"UL",t.setActive)}}))}(e),function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return qt(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=ct(e,t);return qe(n)?["listprops"]:[]}})}(e),function(e){return{backspaceDelete:function(t){fn(e,t)}}}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t,n){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(r,!1,!1===n?null:{"list-style-type":n})},n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(){},o=function(e){return function(){return e}},i=function(e){return e},a=o(!1),l=o(!0),u=function(){return s},s=function(){var e=function(e){return e()},t=i;return{fold:function(e,t){return e()},isSome:a,isNone:l,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:t,orThunk:e,map:u,each:r,bind:u,exists:a,forall:l,filter:function(){return u()},toArray:function(){return[]},toString:o("none()")}}(),c=function(e){var t=o(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},isSome:l,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return c(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},d=function(e){return null==e?s:c(e)},f=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},p=function(e,t){return function(r){var o=function(o){r.setActive(function(e,t,r){var o=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(t.parents,f),i=-1!==o?t.parents.slice(0,o):t.parents,a=n.grep(i,function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&function(e,t){return e.$.contains(e.getBody(),t)}(e,t)}}(e));return a.length>0&&a[0].nodeName===r}(e,o,t))};return e.on("NodeChange",o),function(){return e.off("NodeChange",o)}}},m=function(e,r,o,i,a,l){e.ui.registry.addSplitButton(r,{tooltip:o,icon:"OL"===a?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(e){e(n.map(l,(function(e){return{type:"choiceitem",value:"default"===e?"":e,icon:"list-"+("OL"===a?"num":"bull")+"-"+("disc"===e||"decimal"===e?"default":e),text:function(e){return e.replace(/\-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}))}(e)}})))},onAction:function(){return e.execCommand(i)},onItemAction:function(n,r){t(e,a,r)},select:function(t){return function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul"),n=e.dom.getStyle(t,"listStyleType");return d(n)}(e).map((function(e){return t===e})).getOr(!1)},onSetup:p(e,a)})},h=function(e,t,n,r,o,i){i.length>1?m(e,t,n,r,o,i):function(e,t,n,r,o,i){e.ui.registry.addToggleButton(t,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:p(e,o),onAction:function(){return e.execCommand(r)}})}(e,t,n,r,o)};e.add("advlist",(function(e){e.hasPlugin("lists")?(function(e){h(e,"numlist","Numbered list","InsertOrderedList","OL",function(e){var t=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]}(e)),h(e,"bullist","Bullet list","InsertUnorderedList","UL",function(e){var t=e.getParam("advlist_bullet_styles","default,circle,square");return t?t.split(/[ ,]/):[]}(e))}(e),function(e){e.addCommand("ApplyUnorderedListStyle",(function(n,r){t(e,"UL",r["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",(function(n,r){t(e,"OL",r["list-style-type"])}))}(e)):console.error("Please use the Lists plugin together with the Advanced List plugin.")}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r="a:not([href])",o=function(e){return!e},i=function(e){return e.getAttribute("id")||e.getAttribute("name")||""},a=function(e){return function(e){return e&&"a"===e.nodeName.toLowerCase()}(e)&&!e.getAttribute("href")&&""!==i(e)},l=function(e){var r=e.dom;t(r).walk(e.selection.getRng(),(function(e){n.each(e,(function(e){var t;a(t=e)&&!t.firstChild&&r.remove(e,!1)}))}))},u=function(e){return e.dom.getParent(e.selection.getStart(),r)},s=function(e,t){var n=u(e);n?function(e,t,n){n.removeAttribute("name"),n.id=t,e.addVisual(),e.undoManager.add()}(e,t,n):function(e,t){e.undoManager.transact((function(){(function(e){return e.getParam("allow_html_in_named_anchor",!1,"boolean")})(e)||e.selection.collapse(!0),e.selection.isCollapsed()?e.insertContent(e.dom.createHTML("a",{id:t})):(l(e),e.formatter.remove("namedAnchor",null,null,!0),e.formatter.apply("namedAnchor",{value:t}),e.addVisual())}))}(e,t),e.focus()},c=function(e){var t=function(e){var t=u(e);return t?i(t):""}(e);e.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:t},onSubmit:function(t){(function(e,t){return function(e){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)}(t)?(s(e,t),!0):(e.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)})(e,t.getData().id)&&t.close()}})},d=function(e){return function(e){return e&&o(e.attr("href"))&&!o(e.attr("id")||e.attr("name"))}(e)&&!e.firstChild},f=function(e){return function(t){for(var n=0;n<t.length;n++){var r=t[n];d(r)&&r.attr("contenteditable",e)}}};e.add("anchor",(function(e){!function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("a",f("false")),e.serializer.addNodeFilter("a",f(null))}))}(e),function(e){e.addCommand("mceAnchor",(function(){c(e)}))}(e),function(e){e.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return e.execCommand("mceAnchor")},onSetup:function(t){return e.selection.selectorChangedWithUnbind("a:not([href])",t.setActive).unbind}}),e.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return e.execCommand("mceAnchor")}})}(e),e.on("PreInit",(function(){!function(e){e.formatter.register("namedAnchor",{inline:"a",selector:r,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(e,t,n){return a(e)}})}(e)}))}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i"),r=function(e,t){if(t<0&&(t=0),3===e.nodeType){var n=e.data.length;t>n&&(t=n)}return t},o=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setStart(t,r(t,n)):e.setStartBefore(t)},i=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setEnd(t,r(t,n)):e.setEndAfter(t)},a=function(e,t,r){var a,l,u,s,c,d,f,p=function(e){return e.getParam("autolink_pattern",n)}(e),m=function(e){return e.getParam("default_link_target",!1)}(e);if("A"!==e.selection.getNode().tagName){var h=e.selection.getRng().cloneRange();if(h.startOffset<5){if(!(c=h.endContainer.previousSibling)){if(!h.endContainer.firstChild||!h.endContainer.firstChild.nextSibling)return;c=h.endContainer.firstChild.nextSibling}if(d=c.length,o(h,c,d),i(h,c,d),h.endOffset<5)return;a=h.endOffset,l=c}else{if(3!==(l=h.endContainer).nodeType&&l.firstChild){for(;3!==l.nodeType&&l.firstChild;)l=l.firstChild;3===l.nodeType&&(o(h,l,0),i(h,l,l.nodeValue.length))}a=1===h.endOffset?2:h.endOffset-1-t}var g,v=a;do{o(h,l,a>=2?a-2:0),i(h,l,a>=1?a-1:0),a-=1,f=h.toString()}while(" "!==f&&""!==f&&160!==f.charCodeAt(0)&&a-2>=0&&f!==r);!function(e,t){return e===t||" "===e||160===e.charCodeAt(0)}(h.toString(),r)?0===h.startOffset?(o(h,l,0),i(h,l,v)):(o(h,l,a),i(h,l,v)):(o(h,l,a),i(h,l,v),a+=1),s=h.toString(),g=s.charAt(s.length-1),/[?!,.;:]/.test(g)&&i(h,l,v-1);var b=(s=h.toString().trim()).match(p),y=function(e){return e.getParam("link_default_protocol","http","string")}(e);if(b){var w=b[0];(function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t})(w,"www.",0)?w=y+"://"+w:function(e,t){return-1!==e.indexOf(t)}(w,"@")&&!function(e){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e)}(w)&&(w="mailto:"+w),u=e.selection.getBookmark(),e.selection.setRng(h),e.execCommand("createlink",!1,w),!1!==m&&e.dom.setAttrib(e.selection.getNode(),"target",m),e.selection.moveToBookmark(u),e.nodeChanged()}}},l=function(e){var n;e.on("keydown",(function(t){if(13===t.keyCode)return function(e){a(e,-1,"")}(e)})),t.browser.isIE()?e.on("focus",(function(){if(!n){n=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}})):(e.on("keypress",(function(t){if(41===t.keyCode)return function(e){a(e,-1,"(")}(e)})),e.on("keyup",(function(t){if(32===t.keyCode)return function(e){a(e,0,"")}(e)})))};e.add("autolink",(function(e){l(e)}))}(),function(){var e=Object.hasOwnProperty,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")},i=function(e,t,n,o,a){r.setEditorTimeout(e,(function(){u(e,t),n--?i(e,t,n,o,a):a&&a()}),o)},a=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},l=function(e,t,n,r){var o=parseInt(e.getStyle(t,n,r),10);return isNaN(o)?0:o},u=function(e,t){var r=e.dom,i=e.getDoc();if(i)if(function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}(e))a(e,!0);else{var s=i.documentElement,c=function(e){return e.getParam("autoresize_bottom_margin",50,"number")}(e),d=o(e),f=l(r,s,"margin-top",!0),p=l(r,s,"margin-bottom",!0),m=s.offsetHeight+f+p+c;m<0&&(m=0);var h=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;m+h>o(e)&&(d=m+h);var g=function(e){return e.getParam("max_height",0,"number")}(e);if(g&&d>g?(d=g,a(e,!0)):a(e,!1),d!==t.get()){var v=d-t.get();if(r.setStyle(e.getContainer(),"height",d+"px"),t.set(d),function(e){e.fire("ResizeEditor")}(e),n.browser.isSafari()&&n.mac){var b=e.getWin();b.scrollTo(b.pageXOffset,b.pageYOffset)}e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode()),n.webkit&&v<0&&u(e,t)}}};t.add("autoresize",(function(t){var n,r,o;if(n=t.settings,r="resize",e.call(n,r)||(t.settings.resize=!1),!t.inline){var a=(o=0,{get:function(){return o},set:function(e){o=e}});!function(e,t){e.addCommand("mceAutoResize",(function(){u(e,t)}))}(t,a),function(e,t){e.on("init",(function(){var t=function(e){return e.getParam("autoresize_overflow_padding",1,"number")}(e),n=e.dom;n.setStyles(e.getDoc().documentElement,{height:"auto"}),n.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})})),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){u(e,t)})),function(e){return e.getParam("autoresize_on_init",!0,"boolean")}(e)&&e.on("init",(function(){i(e,t,20,100,(function(){i(e,t,5,1e3)}))}))}(t,a)}}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return function(t){return e===t}}(void 0),n=tinymce.util.Tools.resolve("tinymce.util.Delay"),r=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),o=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(e,t){var n=e||t,r=/^(\d+)([ms]?)$/.exec(""+n);return(r[2]?{s:1e3,m:6e4}[r[2]]:1)*parseInt(n,10)},a=function(e){var t=document.location;return e.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,t.pathname).replace(/{query}/g,t.search).replace(/{hash}/g,t.hash).replace(/{id}/g,e.id)},l=function(e,n){if(t(n))return e.dom.isEmpty(e.getBody());var r=o.trim(n);if(""===r)return!0;var i=(new DOMParser).parseFromString(r,"text/html");return e.dom.isEmpty(i)},u=function(e){var t=parseInt(r.getItem(a(e)+"time"),10)||0;return!((new Date).getTime()-t>function(e){return i(e.getParam("autosave_retention"),"20m")}(e))||(s(e,!1),!1)},s=function(e,t){var n=a(e);r.removeItem(n+"draft"),r.removeItem(n+"time"),!1!==t&&function(e){e.fire("RemoveDraft")}(e)},c=function(e){var t=a(e);!l(e)&&e.isDirty()&&(r.setItem(t+"draft",e.getContent({format:"raw",no_events:!0})),r.setItem(t+"time",(new Date).getTime().toString()),function(e){e.fire("StoreDraft")}(e))},d=function(e){var t=a(e);u(e)&&(e.setContent(r.getItem(t+"draft"),{format:"raw"}),function(e){e.fire("RestoreDraft")}(e))},f=function(e){var t=function(e){return i(e.getParam("autosave_interval"),"30s")}(e);n.setEditorInterval(e,(function(){c(e)}),t)},p=function(e){e.undoManager.transact((function(){d(e),s(e)})),e.focus()},m=tinymce.util.Tools.resolve("tinymce.EditorManager"),h=function(e){return function(t){t.setDisabled(!u(e));var n=function(){return t.setDisabled(!u(e))};return e.on("StoreDraft RestoreDraft RemoveDraft",n),function(){return e.off("StoreDraft RestoreDraft RemoveDraft",n)}}};e.add("autosave",(function(e){return function(e){e.editorManager.on("BeforeUnload",(function(e){var t;o.each(m.get(),(function(e){e.plugins.autosave&&e.plugins.autosave.storeDraft(),!t&&e.isDirty()&&function(e){return e.getParam("autosave_ask_before_unload",!0)}(e)&&(t=e.translate("You have unsaved changes are you sure you want to navigate away?"))})),t&&(e.preventDefault(),e.returnValue=t)}))}(e),function(e){f(e),e.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){p(e)},onSetup:h(e)}),e.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){p(e)},onSetup:h(e)})}(e),e.on("init",(function(){(function(e){return e.getParam("autosave_restore_when_empty",!1)})(e)&&e.dom.isEmpty(e.getBody())&&d(e)})),function(e){return{hasDraft:function(){return u(e)},storeDraft:function(){return c(e)},restoreDraft:function(){return d(e)},removeDraft:function(t){return s(e,t)},isEmpty:function(t){return l(e,t)}}}(e)}))}(),function(){var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e,t){var n=function(e,t){return e.fire("insertCustomChar",{chr:t})}(e,t).chr;e.execCommand("mceInsertContent",!1,n)},r=(e="array",function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}),o=function(e){return function(t){return e===t}}(null),i=function(){},a=function(e){return function(){return e}},l=function(e){return e},u=a(!1),s=a(!0),c=function(){return d},d=function(){var e=function(e){return e()},t=l;return{fold:function(e,t){return e()},isSome:u,isNone:s,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:t,orThunk:e,map:c,each:i,bind:c,exists:u,forall:s,filter:function(){return c()},toArray:function(){return[]},toString:a("none()")}}(),f=function(e){var t=a(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:s,isNone:u,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return f(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},p={some:f,none:c,from:function(e){return null==e?d:f(e)}},m=Array.prototype.push,h=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},g=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return p.some(i);if(n(i,r))break}return p.none()}(e,t,u)},v=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);m.apply(t,e[n])}return t}(h(e,t))},b=tinymce.util.Tools.resolve("tinymce.util.Tools"),y=b.isArray,w="User Defined",x=function(e){return y(e)?(t=e,b.grep(t,(function(e){return y(e)&&2===e.length}))):"function"==typeof e?e():[];var t},C=function(e){var t=function(e,t){var n=function(e){return e.getParam("charmap")}(e);n&&(t=[{name:w,characters:x(n)}]);var r=function(e){return e.getParam("charmap_append")}(e);if(r){var o=b.grep(t,(function(e){return e.name===w}));return o.length?(o[0].characters=[].concat(o[0].characters).concat(x(r)),t):t.concat({name:w,characters:x(r)})}return t}(e,[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]);return t.length>1?[{name:"All",characters:v(t,(function(e){return e.characters}))}].concat(t):t},k=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},S=String.fromCodePoint,_=function(e,t){return-1!==e.indexOf(t)},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(S)return S.apply(void 0,e);for(var n=[],r=0,o="",i=0,a=e.length;i!==a;++i){var l=+e[i];if(!(l<1114111&&l>>>0===l))throw RangeError("Invalid code point: "+l);l<=65535?r=n.push(l):(l-=65536,r=n.push(55296+(l>>10),l%1024+56320)),r>=16383&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+String.fromCharCode.apply(null,n)},T=function(e,t){var n=[],r=t.toLowerCase();return function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}(e.characters,(function(e){(function(e,t,n){return!!_(O(e).toLowerCase(),n)||_(t.toLowerCase(),n)||_(t.toLowerCase().replace(/\s+/g,""),n)})(e[0],e[1],r)&&n.push(e)})),h(n,(function(e){return{text:e[1],value:O(e[0]),icon:O(e[0])}}))},E="pattern",A=function(e,t){var r,i,a,l,u=function(){return[{label:"Search",type:"input",name:E},{type:"collection",name:"results"}]},s=1===t.length?k(w):k("All"),c=(r=function(e){var n=e.getData().pattern;!function(e,n){g(t,(function(e){return e.name===s.get()})).each((function(t){var r=T(t,n);e.setData({results:r})}))}(e,n)},i=40,a=null,{cancel:l=function(){o(a)||(clearTimeout(a),a=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l(),a=setTimeout((function(){a=null,r.apply(null,e)}),i)}}),d={title:"Special Character",size:"normal",body:1===t.length?{type:"panel",items:u()}:{type:"tabpanel",tabs:h(t,(function(e){return{title:e.name,name:e.name,items:u()}}))},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{pattern:"",results:T(t[0],"")},onAction:function(t,r){"results"===r.name&&(n(e,r.value),t.close())},onTabChange:function(e,t){s.set(t.newTabName),c.throttle(e)},onChange:function(e,t){t.name===E&&c.throttle(e)}};e.windowManager.open(d).focus(E)},M=tinymce.util.Tools.resolve("tinymce.util.Promise");t.add("charmap",(function(e){var t=C(e);return function(e,t){e.addCommand("mceShowCharmap",(function(){A(e,t)}))}(e,t),function(e){e.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return e.execCommand("mceShowCharmap")}}),e.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return e.execCommand("mceShowCharmap")}})}(e),function(e,t){e.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(e,n){return new M((function(n,r){n(T(t,e))}))},onAction:function(t,n,r){e.selection.setRng(n),e.insertContent(r),t.hide()}})}(e,t[0]),function(e){return{getCharMap:function(){return C(e)},insertChar:function(t){n(e,t)}}}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){},n=function(e){return function(){return e}},r=function(e){return e},o=n(!1),i=n(!0),a=function(){return l},l=function(){var e=function(e){return e()},l=r;return{fold:function(e,t){return e()},isSome:o,isNone:i,getOr:l,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:l,orThunk:e,map:a,each:t,bind:a,exists:o,forall:i,filter:function(){return a()},toArray:function(){return[]},toString:n("none()")}}(),u=function(e){var t=n(e),r=function(){return s},a=function(t){return t(e)},s={fold:function(t,n){return n(e)},isSome:i,isNone:o,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(t){return u(t(e))},each:function(t){t(e)},bind:a,exists:a,forall:a,filter:function(t){return t(e)?s:l},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return s},s={some:u,none:a,from:function(e){return null==e?l:u(e)}},c=function(e){return function(e,t){return t>=0&&t<e.length?s.some(e[t]):s.none()}(e,0)},d=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),f=function(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")},p=function(e){return function(t,n){return e(n)}},m="undefined"!=typeof window?window:Function("return this;")(),h={},g={exports:h},v={};!function(e,t,n,r){var o=window.Prism;window.Prism={manual:!0},function(e){"object"==typeof t&&void 0!==n?n.exports=e():("undefined"!=typeof window?window:void 0!==v?v:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}((function(){return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var u=!1;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},{}],2:[function(e,t,n){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(e,t,n){(function(e){(function(){var n=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var a in r={},n[i]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],a={};for(var l in i)if(i.hasOwnProperty(l)){if(l==t)for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u]);n.hasOwnProperty(l)||(a[l]=i[l])}var s=r[e];return r[e]=a,o.languages.DFS(o.languages,(function(t,n){n===s&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,i){i=i||{};var a=o.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],r||l);var u=t[l],s=o.util.type(u);"Object"!==s||i[a(u)]?"Array"!==s||i[a(u)]||(i[a(u)]=!0,e(u,n,l,i)):(i[a(u)]=!0,e(u,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,a=0;i=r.elements[a++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(n,r,i){var a=o.util.getLanguage(n),l=o.languages[a];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a;var u=n.parentElement;u&&"pre"===u.nodeName.toLowerCase()&&(u.className=u.className.replace(t,"").replace(/\s+/g," ")+" language-"+a);var s={element:n,language:a,grammar:l,code:n.textContent};function c(e){s.highlightedCode=e,o.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,o.hooks.run("after-highlight",s),o.hooks.run("complete",s),i&&i.call(s.element)}if(o.hooks.run("before-sanity-check",s),(u=s.element.parentElement)&&"pre"===u.nodeName.toLowerCase()&&!u.hasAttribute("tabindex")&&u.setAttribute("tabindex","0"),!s.code)return o.hooks.run("complete",s),void(i&&i.call(s.element));if(o.hooks.run("before-highlight",s),s.grammar)if(r&&e.Worker){var d=new Worker(o.filename);d.onmessage=function(e){c(e.data)},d.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else c(o.highlight(s.code,s.grammar,s.language));else c(o.util.encode(s.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return o.hooks.run("before-tokenize",r),r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new u;return s(o,o.head,e),l(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function l(e,t,n,r,u,d){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var p=n[f];p=Array.isArray(p)?p:[p];for(var m=0;m<p.length;++m){if(d&&d.cause==f+","+m)return;var h=p[m],g=h.inside,v=!!h.lookbehind,b=!!h.greedy,y=h.alias;if(b&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var x=h.pattern||h,C=r.next,k=u;C!==t.tail&&!(d&&k>=d.reach);k+=C.value.length,C=C.next){var S=C.value;if(t.length>e.length)return;if(!(S instanceof i)){var _,O=1;if(b){if(!(_=a(x,k,e,v)))break;var T=_.index,E=_.index+_[0].length,A=k;for(A+=C.value.length;T>=A;)A+=(C=C.next).value.length;if(k=A-=C.value.length,C.value instanceof i)continue;for(var M=C;M!==t.tail&&(A<E||"string"==typeof M.value);M=M.next)O++,A+=M.value.length;O--,S=e.slice(k,A),_.index-=k}else if(!(_=a(x,0,S,v)))continue;T=_.index;var D=_[0],N=S.slice(0,T),P=S.slice(T+D.length),z=k+S.length;d&&z>d.reach&&(d.reach=z);var B=C.prev;if(N&&(B=s(t,B,N),k+=N.length),c(t,B,O),C=s(t,B,new i(f,g?o.tokenize(D,g):D,y,D)),P&&s(t,C,P),O>1){var R={cause:f+","+m,reach:z};l(e,t,n,C.prev,k,R),d&&R.reach>d.reach&&(d.reach=R.reach)}}}}}}function u(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function s(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function c(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(i.classes,a):i.classes.push(a)),o.hooks.run("wrap",i);var l="";for(var u in i.attributes)l+=" "+u+'="'+(i.attributes[u]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+l+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,a=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),a&&e.close()}),!1),o):o;var d=o.util.currentScript();function f(){o.manual||o.highlightAll()}if(d&&(o.filename=d.src,d.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==t&&t.exports&&(t.exports=n),void 0!==e&&(e.Prism=n)}).call(this)}).call(this,void 0!==v?v:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){var r,o,i;r=Prism,o=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,i=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return o.source})),r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return o.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:o,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return i}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b[a-z_]\w*\s*<(?:[^<>]|<(?:[^<>])*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"])},{}],5:[function(e,t,n){!function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,r){return RegExp(t(e,n),r||"")}function r(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var o="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",i="class enum interface struct",a="add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where",l="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function u(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var s=u(i),c=RegExp(u(o+" "+i+" "+a+" "+l)),d=u(i+" "+a+" "+l),f=u(o+" "+i+" "+l),p=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),m=r(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,g=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),v=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,g]),b=/\[\s*(?:,\s*)*\]/.source,y=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[v,b]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,m,b]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),C=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,v,b]),k={keyword:c,punctuation:/[<>()?,.:[\]]/},S=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,_=/"(?:\\.|[^\\"\r\n])*"/.source,O=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[O]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0},{pattern:RegExp(S),greedy:!0,alias:"character"}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,C]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[s,g]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[y]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[C,f,h]),inside:k}],keyword:c,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[m]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[C,v]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[C]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[s,g,h,C,c.source]),lookbehind:!0,inside:{keyword:c,"class-name":{pattern:RegExp(C),greedy:!0,inside:k},punctuation:/,/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var T=_+"|"+S,E=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[T]),A=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),M=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,D=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[v,A]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[M,D]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[M]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[A]),inside:e.languages.csharp},"class-name":{pattern:RegExp(v),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var N=/:[^}\r\n]+/.source,P=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),z=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[P,N]),B=r(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[T]),2),R=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[B,N]);function I(t,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,N]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[z]),lookbehind:!0,greedy:!0,inside:I(z,P)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[R]),lookbehind:!0,greedy:!0,inside:I(R,B)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(e,t,n){!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism)},{}],7:[function(e,t,n){var r,o,i,a;r=Prism,o=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,i=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(i+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},r.languages.java=r.languages.extend("clike",{"class-name":[a,{pattern:RegExp(i+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:o,function:[r.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),r.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),r.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:o,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return o.source}))),lookbehind:!0,inside:{punctuation:/\./}}})},{}],8:[function(e,t,n){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},{}],9:[function(e,t,n){!function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,o,i){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(o,(function(e){if("function"==typeof i&&!i(e))return e;for(var o,l=a.length;-1!==n.code.indexOf(o=t(r,l));)++l;return a[l]=e,o})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var o=0,i=Object.keys(n.tokenStack);!function a(l){for(var u=0;u<l.length&&!(o>=i.length);u++){var s=l[u];if("string"==typeof s||s.content&&"string"==typeof s.content){var c=i[o],d=n.tokenStack[c],f="string"==typeof s?s:s.content,p=t(r,c),m=f.indexOf(p);if(m>-1){++o;var h=f.substring(0,m),g=new e.Token(r,e.tokenize(d,n.grammar),"language-"+r,d),v=f.substring(m+p.length),b=[];h&&b.push.apply(b,a([h])),b.push(g),v&&b.push.apply(b,a([v])),"string"==typeof s?l.splice.apply(l,[u,1].concat(b)):s.content=b}}else s.content&&a(s.content)}return l}(n.tokens)}}}})}(Prism)},{}],10:[function(e,t,n){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},{}],11:[function(e,t,n){!function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:o,punctuation:i};var a={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:a}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:a}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:o,punctuation:i}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(Prism)},{}],12:[function(e,t,n){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(e,t,n){!function(e){e.languages.ruby=e.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:t}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:t}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],e.languages.rb=e.languages.ruby}(Prism)},{}],14:[function(e,t,n){var r=e("prismjs/components/prism-core");e("prismjs/components/prism-clike"),e("prismjs/components/prism-markup-templating"),e("prismjs/components/prism-c"),e("prismjs/components/prism-cpp"),e("prismjs/components/prism-csharp"),e("prismjs/components/prism-css"),e("prismjs/components/prism-java"),e("prismjs/components/prism-javascript"),e("prismjs/components/prism-markup"),e("prismjs/components/prism-php"),e("prismjs/components/prism-python"),e("prismjs/components/prism-ruby"),t.exports={boltExport:r}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)}));var i=window.Prism;window.Prism=o}(0,h,g);var b=g.exports.boltExport,y=function(e){return m.Prism&&function(e){return e.getParam("codesample_global_prismjs",!1,"boolean")}(e)?m.Prism:b},w=function(e){var t,n,r=e.selection?e.selection.getNode():null;return t=f(r),n=r,t?s.some(n):s.none()},x=function(e){var t=function(e){return function(e){return e.getParam("codesample_languages")}(e)||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]}(e),r=c(t).fold(n(""),(function(e){return e.value})),o=function(e,t){return w(e).fold((function(){return t}),(function(e){var n=e.className.match(/language-(\w+)/);return n?n[1]:t}))}(e,r),i=function(e){return w(e).fold(n(""),(function(e){return e.textContent}))}(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:o,code:i},onSubmit:function(t){var n=t.getData();!function(e,t,n){e.undoManager.transact((function(){var r=w(e);return n=d.DOM.encode(n),r.fold((function(){e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0])}),(function(r){e.dom.setAttrib(r,"class","language-"+t),r.innerHTML=n,y(e).highlightElement(r),e.selection.select(r)}))}))}(e,n.language,n.code),t.close()}})};e.add("codesample",(function(e){!function(e){var t=e.$;e.on("PreProcess",(function(e){t("pre[contenteditable=false]",e.node).filter(p(f)).each((function(e,n){var r=t(n),o=n.textContent;r.attr("class",t.trim(r.attr("class"))),r.removeAttr("contentEditable"),r.empty().append(t("<code></code>").each((function(){this.textContent=o})))}))})),e.on("SetContent",(function(){var n=t("pre").filter(p(f)).filter((function(e,t){return"false"!==t.contentEditable}));n.length&&e.undoManager.transact((function(){n.each((function(n,r){t(r).find("br").each((function(t,n){n.parentNode.replaceChild(e.getDoc().createTextNode("\n"),n)})),r.contentEditable="false",r.innerHTML=e.dom.encode(r.textContent),y(e).highlightElement(r),r.className=t.trim(r.className)}))}))}))}(e),function(e){var t=function(){return e.execCommand("codesample")};e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:function(t){var n=function(){t.setActive(function(e){var t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')}(e))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t})}(e),function(e){e.addCommand("codesample",(function(){var t=e.selection.getNode();e.selection.isCollapsed()||f(t)?x(e):e.formatter.toggle("code")}))}(e),e.on("dblclick",(function(t){f(t.target)&&x(e)}))}))}(),function(){var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(t){return typeof t===e}},r=(e="string",function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}),o=n("boolean"),i=n("function"),a=n("number"),l=function(){},u=function(e){return function(){return e}},s=function(e){return e},c=u(!1),d=u(!0),f=function(){return p},p=function(){var e=function(e){return e()},t=s;return{fold:function(e,t){return e()},isSome:c,isNone:d,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:t,orThunk:e,map:f,each:l,bind:f,exists:c,forall:d,filter:function(){return f()},toArray:function(){return[]},toString:u("none()")}}(),m=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:d,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},h={some:m,none:f,from:function(e){return null==e?p:m(e)}},g=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},v=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},b={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return v(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return v(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return v(n)},fromDom:v,fromPoint:function(e,t,n){return h.from(e.dom.elementFromPoint(t,n)).map(v)}},y=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")};"undefined"!=typeof window?window:Function("return this;")();var w,x=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},C=x(1),k=x(3),S=x(9),_=x(11),O=function(e){return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e.dom.childNodes,b.fromDom)},T=function(e,t,n){!function(e,t,n){if(!(r(n)||o(n)||a(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},E=function(e,t){e.dom.removeAttribute(t)},A=i(Element.prototype.attachShadow)&&i(Node.prototype.getRootNode)?function(e){return b.fromDom(e.dom.getRootNode())}:function(e){return S(e)?e:(t=e,b.fromDom(t.dom.ownerDocument));var t},M=function(e){var t,n=A(e);return _(t=n)&&null!=t.dom.host?h.some(n):h.none()},D=function(e){return b.fromDom(e.dom.host)},N=function(e){var t=k(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return M(b.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=N,r=D,function(e){return n(r(e))}))},P=function(e,t,n){return function(e,t,n){for(var r=e.dom,o=i(n)?n:c;r.parentNode;){r=r.parentNode;var a=b.fromDom(r);if(t(a))return h.some(a);if(o(a))break}return h.none()}(e,(function(e){return y(e,t)}),n)},z=function(e,t){return function(e){return void 0!==e.style&&i(e.style.getPropertyValue)}(e)?e.style.getPropertyValue(t):""},B=function(e){return"rtl"===function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||N(e)?r:z(n,t)}(e,"direction")?"rtl":"ltr"},R=function(e,t){return function(e,t){return function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(O(e),t)}(e,(function(e){return y(e,t)}))},I=function(e){return function(e){return h.from(e.dom.parentNode).map(b.fromDom)}(e).filter(C)},L=(w="li",function(e){return C(e)&&e.dom.nodeName.toLowerCase()===w}),F=function(e,t){var n=e.selection.getSelectedBlocks();n.length>0&&(g(n,(function(e){var n,r=b.fromDom(e),o=L(r),i=(n=r,(o?P(n,"ol,ul"):h.some(n)).getOr(n));I(i).each((function(e){if(B(e)!==t?T(i,"dir",t):B(i)!==t&&E(i,"dir"),o){var n=R(i,"li[dir]");g(n,(function(e){return E(e,"dir")}))}}))})),e.nodeChanged())},V=function(e,t){return function(n){var r=function(e){var r=b.fromDom(e.element);n.setActive(B(r)===t)};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}};t.add("directionality",(function(e){!function(e){e.addCommand("mceDirectionLTR",(function(){F(e,"ltr")})),e.addCommand("mceDirectionRTL",(function(){F(e,"rtl")}))}(e),function(e){e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return e.execCommand("mceDirectionLTR")},onSetup:V(e,"ltr")}),e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return e.execCommand("mceDirectionRTL")},onSetup:V(e,"rtl")})}(e)}))}(),function(){var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=tinymce.util.Tools.resolve("tinymce.util.Tools"),o=tinymce.util.Tools.resolve("tinymce.html.DomParser"),i=tinymce.util.Tools.resolve("tinymce.html.Node"),a=tinymce.util.Tools.resolve("tinymce.html.Serializer"),l=function(e){return e.getParam("fullpage_hide_in_source_view")},u=function(e){return e.getParam("fullpage_default_encoding")},s=function(e){return e.getParam("fullpage_default_font_family")},c=function(e){return e.getParam("fullpage_default_font_size")},d=function(e,t){return o({validate:!1,root_name:"#document"},e.schema).parse(t,{format:"xhtml"})},f=function(e,t){var o=function(e,t){var n,o,i=d(e,t),a={},l=function(e,t){return e.attr(t)||""};return a.fontface=s(e),a.fontsize=c(e),7===(n=i.firstChild).type&&(a.xml_pi=!0,(o=/encoding="([^"]+)"/.exec(n.value))&&(a.docencoding=o[1])),(n=i.getAll("#doctype")[0])&&(a.doctype="<!DOCTYPE"+n.value+">"),(n=i.getAll("title")[0])&&n.firstChild&&(a.title=n.firstChild.value),r.each(i.getAll("meta"),(function(e){var t,n=e.attr("name"),r=e.attr("http-equiv");n?a[n.toLowerCase()]=e.attr("content"):"Content-Type"===r&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(a.docencoding=t[1])})),(n=i.getAll("html")[0])&&(a.langcode=l(n,"lang")||l(n,"xml:lang")),a.stylesheets=[],r.each(i.getAll("link"),(function(e){"stylesheet"===e.attr("rel")&&a.stylesheets.push(e.attr("href"))})),(n=i.getAll("body")[0])&&(a.langdir=l(n,"dir"),a.style=l(n,"style"),a.visited_color=l(n,"vlink"),a.link_color=l(n,"link"),a.active_color=l(n,"alink")),a}(e,t.get()),l=n(n({},{title:"",keywords:"",description:"",robots:"",author:"",docencoding:""}),o);e.windowManager.open({title:"Metadata and Document Properties",size:"normal",body:{type:"panel",items:[{name:"title",type:"input",label:"Title"},{name:"keywords",type:"input",label:"Keywords"},{name:"description",type:"input",label:"Description"},{name:"robots",type:"input",label:"Robots"},{name:"author",type:"input",label:"Author"},{name:"docencoding",type:"input",label:"Encoding"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:l,onSubmit:function(n){var l=n.getData(),u=function(e,t,n){var o,l,u=e.dom,s=function(e,t,n){e.attr(t,n||void 0)},c=function(e){o.firstChild?o.insert(e,o.firstChild):o.append(e)},f=d(e,n);if((o=f.getAll("head")[0])||(l=f.getAll("html")[0],o=new i("head",1),l.firstChild?l.insert(o,l.firstChild,!0):l.append(o)),l=f.firstChild,t.xml_pi){var p='version="1.0"';t.docencoding&&(p+=' encoding="'+t.docencoding+'"'),7!==l.type&&(l=new i("xml",7),f.insert(l,f.firstChild,!0)),l.value=p}else l&&7===l.type&&l.remove();l=f.getAll("#doctype")[0],t.doctype?(l||(l=new i("#doctype",10),t.xml_pi?f.insert(l,f.firstChild):c(l)),l.value=t.doctype.substring(9,t.doctype.length-1)):l&&l.remove(),l=null,r.each(f.getAll("meta"),(function(e){"Content-Type"===e.attr("http-equiv")&&(l=e)})),t.docencoding?(l||((l=new i("meta",1)).attr("http-equiv","Content-Type"),l.shortEnded=!0,c(l)),l.attr("content","text/html; charset="+t.docencoding)):l&&l.remove(),l=f.getAll("title")[0],t.title?(l?l.empty():(l=new i("title",1),c(l)),l.append(new i("#text",3)).value=t.title):l&&l.remove(),r.each("keywords,description,author,copyright,robots".split(","),(function(e){var n,r,o=f.getAll("meta"),a=t[e];for(n=0;n<o.length;n++)if((r=o[n]).attr("name")===e)return void(a?r.attr("content",a):r.remove());a&&((l=new i("meta",1)).attr("name",e),l.attr("content",a),l.shortEnded=!0,c(l))}));var m={};r.each(f.getAll("link"),(function(e){"stylesheet"===e.attr("rel")&&(m[e.attr("href")]=e)})),r.each(t.stylesheets,(function(e){m[e]||((l=new i("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),l.shortEnded=!0,c(l)),delete m[e]})),r.each(m,(function(e){e.remove()})),(l=f.getAll("body")[0])&&(s(l,"dir",t.langdir),s(l,"style",t.style),s(l,"vlink",t.visited_color),s(l,"link",t.link_color),s(l,"alink",t.active_color),u.setAttribs(e.getBody(),{style:t.style,dir:t.dir,vLink:t.visited_color,link:t.link_color,aLink:t.active_color})),(l=f.getAll("html")[0])&&(s(l,"lang",t.langcode),s(l,"xml:lang",t.langcode)),o.firstChild||o.remove();var h=a({validate:!1,indent:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(f);return h.substring(0,h.indexOf("</body>"))}(e,r.extend(o,l),t.get());t.set(u),n.close()}})},p=r.each,m=function(e){return e.replace(/<\/?[A-Z]+/g,(function(e){return e.toLowerCase()}))},h=function(e,t,n,o){var i,a,u,s,c,f="",h=e.dom;if(!o.selection&&(s=function(e){return e.getParam("protect")}(e),c=o.content,r.each(s,(function(e){c=c.replace(e,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))})),u=c,!("raw"===o.format&&t.get()||o.source_view&&l(e)))){0!==u.length||o.source_view||(u=r.trim(t.get())+"\n"+r.trim(u)+"\n"+r.trim(n.get())),-1!==(i=(u=u.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(i=u.indexOf(">",i),t.set(m(u.substring(0,i+1))),-1===(a=u.indexOf("</body",i))&&(a=u.length),o.content=r.trim(u.substring(i+1,a)),n.set(m(u.substring(a)))):(t.set(g(e)),n.set("\n</body>\n</html>"));var v=d(e,t.get());p(v.getAll("style"),(function(e){e.firstChild&&(f+=e.firstChild.value)}));var b=v.getAll("body")[0];b&&h.setAttribs(e.getBody(),{style:b.attr("style")||"",dir:b.attr("dir")||"",vLink:b.attr("vlink")||"",link:b.attr("link")||"",aLink:b.attr("alink")||""}),h.remove("fullpage_styles");var y=e.getDoc().getElementsByTagName("head")[0];if(f)h.add(y,"style",{id:"fullpage_styles"}).appendChild(document.createTextNode(f));var w={};r.each(y.getElementsByTagName("link"),(function(e){"stylesheet"===e.rel&&e.getAttribute("data-mce-fullpage")&&(w[e.href]=e)})),r.each(v.getAll("link"),(function(e){var t=e.attr("href");if(!t)return!0;w[t]||"stylesheet"!==e.attr("rel")||h.add(y,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete w[t]})),r.each(w,(function(e){e.parentNode.removeChild(e)}))}},g=function(e){var t,n="",r="";if(function(e){return e.getParam("fullpage_default_xml_pi")}(e)){var o=u(e);n+='<?xml version="1.0" encoding="'+(o||"ISO-8859-1")+'" ?>\n'}return n+=function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")}(e),n+="\n<html>\n<head>\n",(t=function(e){return e.getParam("fullpage_default_title")}(e))&&(n+="<title>"+t+"</title>\n"),(t=u(e))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=s(e))&&(r+="font-family: "+t+";"),(t=c(e))&&(r+="font-size: "+t+";"),(t=function(e){return e.getParam("fullpage_default_text_color")}(e))&&(r+="color: "+t+";"),n+="</head>\n<body"+(r?' style="'+r+'"':"")+">\n"},v=function(e,t,n,o){"html"!==o.format||o.selection||o.source_view&&l(e)||(o.content=(r.trim(t)+"\n"+r.trim(o.content)+"\n"+r.trim(n)).replace(/<!--mce:protected ([\s\S]*?)-->/g,(function(e,t){return unescape(t)})))};t.add("fullpage",(function(t){console.warn("The fullpage plugin has been deprecated and marked for removal in TinyMCE 6.0");var n=e(""),r=e("");!function(e,t){e.addCommand("mceFullPageProperties",(function(){f(e,t)}))}(t,n),function(e){e.ui.registry.addButton("fullpage",{tooltip:"Metadata and document properties",icon:"document-properties",onAction:function(){e.execCommand("mceFullPageProperties")}}),e.ui.registry.addMenuItem("fullpage",{text:"Metadata and document properties",icon:"document-properties",onAction:function(){e.execCommand("mceFullPageProperties")}})}(t),function(e,t,n){e.on("BeforeSetContent",(function(r){h(e,t,n,r)})),e.on("GetContent",(function(r){v(e,t.get(),n.get(),r)}))}(t,n,r)}))}(),function(){var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return{isFullscreen:function(){return null!==e.get()}}},r=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},o=function(e){return function(t){return typeof t===e}},i=r("string"),a=r("array"),l=o("boolean"),u=function(e){return!function(e){return null==e}(e)},s=o("function"),c=o("number"),d=function(){},f=function(e){return function(){return e}},p=function(e){return e};function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var h=f(!1),g=f(!0),v=function(){return b},b=function(){var e=function(e){return e()},t=p;return{fold:function(e,t){return e()},isSome:h,isNone:g,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:t,orThunk:e,map:v,each:d,bind:v,exists:h,forall:g,filter:function(){return v()},toArray:function(){return[]},toString:f("none()")}}(),y=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:g,isNone:h,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:b},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w={some:y,none:v,from:function(e){return null==e?b:y(e)}},x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=function(t){var n=e(w.none()),r=function(){return n.get().each(t)};return{clear:function(){r(),n.set(w.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){r(),n.set(w.some(e))}}},k=function(){return C((function(e){return e.unbind()}))},S=Array.prototype.push,_=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},O=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},T=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},E=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);S.apply(t,e[n])}return t}(_(e,t))},A=function(e){return function(e,t){return t>=0&&t<e.length?w.some(e[t]):w.none()}(e,0)},M=Object.keys,D=function(e){return void 0!==e.style&&s(e.style.getPropertyValue)},N=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},P={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return N(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return N(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return N(n)},fromDom:N,fromPoint:function(e,t,n){return w.from(e.dom.elementFromPoint(t,n)).map(N)}};"undefined"!=typeof window?window:Function("return this;")();var z=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},B=z(1),R=z(3),I=z(9),L=z(11),F=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},V=function(e){return P.fromDom(e.dom.ownerDocument)},H=function(e){return function(e){return w.from(e.dom.parentNode).map(P.fromDom)}(e).map(j).map((function(t){return T(t,(function(t){return n=t,!(e.dom===n.dom);var n}))})).getOr([])},j=function(e){return _(e.dom.childNodes,P.fromDom)},$=s(Element.prototype.attachShadow)&&s(Node.prototype.getRootNode),U=f($),W=$?function(e){return P.fromDom(e.dom.getRootNode())}:function(e){return I(e)?e:V(e)},q=function(e){var t,n=W(e);return L(t=n)&&u(t.dom.host)?w.some(n):w.none()},K=function(e){return P.fromDom(e.dom.host)},Y=function(e){return u(e.dom.shadowRoot)},G=function(e){var t=R(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return q(P.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=G,r=K,function(e){return n(r(e))}))},X=function(e,t,n){!function(e,t,n){if(!(i(n)||l(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},Z=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},J=function(e,t){e.dom.removeAttribute(t)},Q=function(e,t){var n=e.dom;!function(e,t){for(var n=M(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(t,(function(e,t){!function(e,t,n){if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);D(e)&&e.style.setProperty(t,n)}(n,t,e)}))},ee=function(e,t){return D(e)?e.style.getPropertyValue(t):""},te=function(e){var t,n,r=P.fromDom(function(e){if(U()&&u(e.target)){var t=P.fromDom(e.target);if(B(t)&&Y(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return A(n)}}return w.from(e.target)}(e).getOr(e.target)),o=function(){return e.stopPropagation()},i=function(){return e.preventDefault()},a=(t=i,n=o,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))});return function(e,t,n,r,o,i,a){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:a}}(r,e.clientX,e.clientY,o,i,a,e)},ne=function(e,t,n,r,o){var i=function(e,t){return function(n){e(n)&&t(te(n))}}(n,r);return e.dom.addEventListener(t,i,o),{unbind:m(re,e,t,i,o)}},re=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},oe=g,ie=function(e,t,n){return function(e,t,n,r){return ne(e,t,n,r,!1)}(e,t,oe,n)},ae=function(e,t){return{left:e,top:t,translate:function(n,r){return ae(e+n,t+r)}}},le=ae,ue=function(e){var t=void 0===e?window:e;return w.from(t.visualViewport)},se=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},ce=function(e){var t=void 0===e?window:e,n=t.document,r=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return le(n,r)}(P.fromDom(n));return ue(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return se(r.left,r.top,n,o)}),(function(e){return se(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},de=function(e,t,n){return ue(n).map((function(n){var r=function(e){return t(te(e))};return n.addEventListener(e,r),{unbind:function(){return n.removeEventListener(e,r)}}})).getOrThunk((function(){return{unbind:d}}))},fe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),pe=tinymce.util.Tools.resolve("tinymce.Env"),me=tinymce.util.Tools.resolve("tinymce.util.Delay"),he=function(e,t){e.fire("FullscreenStateChanged",{state:t})},ge=function(e){return e.getParam("fullscreen_native",!1,"boolean")},ve=function(e){var t=P.fromDom(e.getElement());return q(t).map(K).getOrThunk((function(){return function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return P.fromDom(t)}(V(t))}))},be=function(e){return e.dom===(void 0!==(t=V(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},ye=function(e,t,n){return T(function(e,t){for(var n=s(t)?t:h,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=P.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,n),t)},we=function(e){return function(e,t){var n,r=void 0===t?document:t.dom;return 1!==(n=r).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:_(r.querySelectorAll(e),P.fromDom)}(e)},xe=function(e,t){return function(e,t){return T(H(e),t)}(e,(function(e){return F(e,t)}))},Ce="data-ephox-mobile-fullscreen-style",ke="position:absolute!important;",Se="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",_e=pe.os.isAndroid(),Oe=function(e){var t,n,r,o,i=(n="background-color",r=(t=e).dom,""!==(o=window.getComputedStyle(r).getPropertyValue(n))||G(t)?o:ee(r,n));return void 0!==i&&""!==i?"background-color:"+i+"!important":"background-color:rgb(255,255,255)!important;"},Te=function(e,t,n){var r,o,i=function(t){return function(n){var r=Z(n,"style"),o=void 0===r?"no-styles":r.trim();o!==t&&(X(n,Ce,o),Q(n,e.parseStyle(t)))}},a=(r="*",ye(t,(function(e){return F(e,r)}),o)),l=E(a,(function(e){return xe(e,"*:not(.tox-silver-sink)")})),u=Oe(n);O(l,i("display:none!important;")),O(a,i(ke+Se+u)),i((!0===_e?"":ke)+Se+u)(t)},Ee=fe.DOM,Ae=ue().fold((function(){return{bind:d,unbind:d}}),(function(e){var t,n=(t=C(d),x(x({},t),{on:function(e){return t.get().each(e)}})),r=k(),o=k(),i=me.throttle((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((function(){n.on((function(t){return Q(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))}),50);return{bind:function(e){n.set(e),i(),r.set(de("resize",i)),o.set(de("scroll",i))},unbind:function(){n.on((function(){r.clear(),o.clear()})),n.clear()}}})),Me=function(e,t){var n,r,o,i,a=document.body,l=document.documentElement,u=e.getContainer(),s=P.fromDom(u),c=ve(e),d=t.get(),f=P.fromDom(e.getBody()),p=pe.deviceType.isTouch(),m=u.style,h=e.iframeElement.style,g=function(e){e(a,"tox-fullscreen"),e(l,"tox-fullscreen"),e(u,"tox-fullscreen"),q(s).map((function(e){return K(e).dom})).each((function(t){e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},v=function(){var n,r;p&&(n=e.dom,r=we("["+Ce+"]"),O(r,(function(e){var t=Z(e,Ce);"no-styles"!==t?Q(e,n.parseStyle(t)):J(e,"style"),J(e,Ce)}))),g(Ee.removeClass),Ae.unbind(),w.from(t.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))};if(d)d.fullscreenChangeHandler.unbind(),ge(e)&&be(c)&&(r=V(c),(o=r.dom).exitFullscreen?o.exitFullscreen():o.msExitFullscreen?o.msExitFullscreen():o.webkitCancelFullScreen&&o.webkitCancelFullScreen()),h.width=d.iframeWidth,h.height=d.iframeHeight,m.width=d.containerWidth,m.height=d.containerHeight,m.top=d.containerTop,m.left=d.containerLeft,n=d.scrollPos,window.scrollTo(n.x,n.y),t.set(null),he(e,!1),v(),e.off("remove",v);else{var b=ie(V(c),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(function(n){ge(e)&&(be(c)||null===t.get()||Me(e,t))})),y={scrollPos:ce(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:h.width,iframeHeight:h.height,fullscreenChangeHandler:b};p&&Te(e.dom,s,f),h.width=h.height="100%",m.width=m.height="",g(Ee.addClass),Ae.bind(s),e.on("remove",v),t.set(y),ge(e)&&((i=c.dom).requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen()),he(e,!0)}},De=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}};t.add("fullscreen",(function(t){var r=e(null);return t.inline||(function(e,t){e.addCommand("mceFullScreen",(function(){Me(e,t)}))}(t,r),function(e,t){var n=function(){return e.execCommand("mceFullScreen")};e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:De(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:De(e,t)})}(t,r),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(r)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=function(){},r=function(e){return function(){return e}},o=function(e){return e},i=r(!1),a=r(!0),l=function(){return u},u=function(){var e=function(e){return e()},t=o;return{fold:function(e,t){return e()},isSome:i,isNone:a,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:t,orThunk:e,map:l,each:n,bind:l,exists:i,forall:a,filter:function(){return l()},toArray:function(){return[]},toString:r("none()")}}(),s=function(e){var t=r(e),n=function(){return l},o=function(t){return t(e)},l={fold:function(t,n){return n(e)},isSome:a,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return s(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?l:u},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},c={some:s,none:l,from:function(e){return null==e?u:s(e)}},d=Array.prototype.indexOf,f=function(e,t){return function(e,t){return d.call(e,t)}(e,t)>-1},p=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},m=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return c.some(i);if(n(i,r))break}return c.none()}(e,t,i)},h=Object.keys,g=Object.hasOwnProperty,v=function(e,t){return g.call(e,t)},b=tinymce.util.Tools.resolve("tinymce.Env"),y=function(e){var t=b.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},n=e.split("+"),r=p(n,(function(e){var n=e.toLowerCase().trim();return v(t,n)?t[n]:e}));return b.mac?r.join("").replace(/\s/,""):r.join("+")},w=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],x=tinymce.util.Tools.resolve("tinymce.util.I18n"),C="premium",k=p([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"advcode",name:"Advanced Code Editor*",type:C},{key:"formatpainter",name:"Format Painter*",type:C},{key:"powerpaste",name:"PowerPaste*",type:C},{key:"tinydrive",name:"Tiny Drive*",type:C},{key:"tinymcespellchecker",name:"Spell Checker Pro*",type:C},{key:"a11ychecker",name:"Accessibility Checker*",type:C},{key:"linkchecker",name:"Link Checker*",type:C},{key:"mentions",name:"Mentions*",type:C},{key:"mediaembed",name:"Enhanced Media Embed*",type:C},{key:"checklist",name:"Checklist*",type:C},{key:"casechange",name:"Case Change*",type:C},{key:"permanentpen",name:"Permanent Pen*",type:C},{key:"pageembed",name:"Page Embed*",type:C},{key:"tinycomments",name:"Tiny Comments*",type:C,slug:"comments"},{key:"advtable",name:"Advanced Tables*",type:C},{key:"autocorrect",name:"Autocorrect*",type:C},{key:"export",name:"Export*",type:C}],(function(e){return t(t({},e),{type:e.type||"opensource",slug:e.slug||e.key})})),S=function(e){var t,n,r=function(e){return'<a href="'+e.url+'" target="_blank" rel="noopener">'+e.name+"</a>"},o=function(e){var t=function(e){var t=h(e.plugins),n=function(e){return e.getParam("forced_plugins")}(e);return void 0===n?t:function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(t,(function(e){return!f(n,e)}))}(e),n=p(t,(function(t){return"<li>"+function(e,t){return m(k,(function(e){return e.key===t})).fold((function(){var n=e.plugins[t].getMetadata;return"function"==typeof n?r(n()):t}),(function(e){return r({name:e.name,url:"https://www.tiny.cloud/docs/plugins/"+e.type+"/"+e.slug})}))}(e,t)+"</li>"})),o=n.length,i=n.join("");return"<p><b>"+x.translate(["Plugins installed ({0}):",o])+"</b></p><ul>"+i+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(n=e,null==n?"":'<div data-mce-tabstop="1" tabindex="-1">'+o(n)+"</div>"),(t=p(["Accessibility Checker","Advanced Code Editor","Advanced Tables","Case Change","Checklist","Export","Tiny Comments","Tiny Drive","Enhanced Media Embed","Format Painter","Link Checker","Mentions","MoxieManager","Page Embed","Permanent Pen","PowerPaste","Spell Checker Pro"],(function(e){return"<li>"+x.translate(e)+"</li>"})).join(""),'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+x.translate("Premium plugins:")+"</b></p><ul>"+t+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+x.translate("Learn more...")+"</a></li></ul></div>")].join("")}]}},_=tinymce.util.Tools.resolve("tinymce.EditorManager"),O=function(e,n){var r,o,i,a,l={name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:p(w,(function(e){var t=p(e.shortcuts,y).join(" or ");return[e.action,t]}))}]},u={name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:"<h1>Editor UI keyboard navigation</h1>\n\n<h2>Activating keyboard navigation</h2>\n\n<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>\n<ul>\n  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>\n  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>\n  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>\n</ul>\n\n<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>\n\n<h2>Moving between UI sections</h2>\n\n<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>\n<ul>\n  <li>the menubar</li>\n  <li>each group of the toolbar </li>\n  <li>the sidebar</li>\n  <li>the element path in the footer </li>\n  <li>the wordcount toggle button in the footer </li>\n  <li>the branding link in the footer </li>\n  <li>the editor resize handle in the footer</li>\n</ul>\n\n<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>\n\n<h2>Moving within UI sections</h2>\n\n<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>\n<ul>\n  <li>moving between menus in the menubar</li>\n  <li>moving between buttons in a toolbar group</li>\n  <li>moving between items in the element path</li>\n</ul>\n\n<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>\n\n<h1>Executing buttons</h1>\n\n<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>\n\n<h1>Opening, navigating and closing menus</h1>\n\n<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>\n\n<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>\n\n<h1>Context toolbars and menus</h1>\n\n<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>\n\n<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>\n\n<h1>Dialog navigation</h1>\n\n<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>\n\n<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>\n\n<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tabs components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>"}]},s=S(e),d=(a='<a href="https://www.tiny.cloud/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+(o=_.majorVersion,i=_.minorVersion,(0===o.indexOf("@")?"X.X.X":o+"."+i)+"</a>"),{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+x.translate(["You are using {0}",a])+"</p>",presets:"document"}]}),f=t(((r={})[l.name]=l,r[u.name]=u,r[s.name]=s,r[d.name]=d,r),n.get());return function(e){return c.from(e.getParam("help_tabs"))}(e).fold((function(){return function(e){var t=h(e),n=t.indexOf("versions");return-1!==n&&(t.splice(n,1),t.push("versions")),{tabs:e,names:t}}(f)}),(function(e){return function(e,t){var n={},r=p(e,(function(e){return"string"==typeof e?(v(t,e)&&(n[e]=t[e]),e):(n[e.name]=e,e.name)}));return{tabs:n,names:r}}(e,f)}))},T=function(e,t){return function(){var n=O(e,t),r=n.tabs,o=n.names,i={type:"tabpanel",tabs:function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}(p(o,(function(e){return v(t=r,n=e)?c.from(t[n]):c.none();var t,n})))};e.windowManager.open({title:"Help",size:"medium",body:i,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};e.add("help",(function(e){var t,n=(t={},{get:function(){return t},set:function(e){t=e}}),r=function(e){return{addTab:function(t){var n=e.get();n[t.name]=t,e.set(n)}}}(n),o=T(e,n);return function(e,t){e.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:t}),e.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:t})}(e,o),function(e,t){e.addCommand("mceHelp",t)}(e,o),e.shortcuts.add("Alt+0","Open help dialog","mceHelp"),r}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("hr",(function(e){!function(e){e.addCommand("InsertHorizontalRule",(function(){e.execCommand("mceInsertContent",!1,"<hr />")}))}(e),function(e){var t=function(){return e.execCommand("InsertHorizontalRule")};e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:t}),e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:t})}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},r=function(e){return function(t){return typeof t===e}},o=n("string"),i=n("object"),a=n("array"),l=function(e){return function(t){return e===t}}(null),u=r("boolean"),s=function(e){return!function(e){return null==e}(e)},c=r("function"),d=r("number"),f=function(){},p=function(e){return function(){return e}},m=function(e){return e},h=p(!1),g=p(!0),v=function(){return b},b=function(){var e=function(e){return e()},t=m;return{fold:function(e,t){return e()},isSome:h,isNone:g,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(void 0),or:t,orThunk:e,map:v,each:f,bind:v,exists:h,forall:g,filter:function(){return v()},toArray:function(){return[]},toString:p("none()")}}(),y=function(e){var t=p(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:g,isNone:h,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:b},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w={some:y,none:v,from:function(e){return null==e?b:y(e)}},x=Object.keys,C=Object.hasOwnProperty,k=function(e,t,n,r){return function(e,t){for(var n=x(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(e,(function(e,o){(t(e,o)?n:r)(e,o)})),{}},S=function(e,t){return C.call(e,t)},_=Array.prototype.push,O=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);_.apply(t,e[n])}return t},T=function(e){return function(e,t){return t>=0&&t<e.length?w.some(e[t]):w.none()}(e,0)};"undefined"!=typeof window?window:Function("return this;")();var E,A=function(e,t,n){!function(e,t,n){if(!(o(n)||u(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},M=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},D={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return M(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return M(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return M(n)},fromDom:M,fromPoint:function(e,t,n){return w.from(e.dom.elementFromPoint(t,n)).map(M)}},N=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),P=tinymce.util.Tools.resolve("tinymce.util.Promise"),z=tinymce.util.Tools.resolve("tinymce.util.XHR"),B=function(e){return e.getParam("image_dimensions",!0,"boolean")},R=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},I=function(e){return e&&(e=e.replace(/px$/,"")),e},L=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},F=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},V=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},H=N.DOM,j=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?I(e.style.marginLeft):""},$=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?I(e.style.marginTop):""},U=function(e){return e.style.borderWidth?I(e.style.borderWidth):""},W=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},q=function(e,t){return e.style[t]?e.style[t]:""},K=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},Y=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},G=function(e){K(e)?function(e){var t=e.parentNode;H.insertAfter(e,t),H.remove(t)}(e):function(e){var t=H.create("figure",{class:"image"});H.insertAfter(t,e),t.appendChild(e),t.appendChild(H.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"}(e)},X=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Z=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=L(r),X(e,t)):Y(e,n,r)}},J=function(e,t){return e.style[t]?I(e.style[t]):W(e,t)},Q=function(e,t){var n=L(t);e.style.marginLeft=n,e.style.marginRight=n},ee=function(e,t){var n=L(t);e.style.marginTop=n,e.style.marginBottom=n},te=function(e,t){var n=L(t);e.style.borderWidth=n},ne=function(e,t){e.style.borderStyle=t},re=function(e){return"FIGURE"===e.nodeName},oe=function(e){return 0===H.getAttrib(e,"alt").length&&"presentation"===H.getAttrib(e,"role")},ie=function(e){return oe(e)?"":W(e,"alt")},ae=function(e,t){var n=document.createElement("img");return Y(n,"style",t.style),(j(n)||""!==t.hspace)&&Q(n,t.hspace),($(n)||""!==t.vspace)&&ee(n,t.vspace),(U(n)||""!==t.border)&&te(n,t.border),(function(e){return q(e,"borderStyle")}(n)||""!==t.borderStyle)&&ne(n,t.borderStyle),e(n.getAttribute("style"))},le=function(e,t){return{src:W(t,"src"),alt:ie(t),title:W(t,"title"),width:J(t,"width"),height:J(t,"height"),class:W(t,"class"),style:e(W(t,"style")),caption:K(t),hspace:j(t),vspace:$(t),border:U(t),borderStyle:q(t,"borderStyle"),isDecorative:oe(t)}},ue=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},se=function(e,t,n){if(n){H.setAttrib(e,"role","presentation");var r=D.fromDom(e);A(r,"alt","")}else{if(l(t)){r=D.fromDom(e);o="alt",r.dom.removeAttribute(o)}else{r=D.fromDom(e);A(r,"alt",t)}"presentation"===H.getAttrib(e,"role")&&H.setAttrib(e,"role","")}var o},ce=function(e,t){return function(n,r,o){e(n,o),X(n,t)}},de=function(e,t,n){var r=le(e,n);ue(n,r,t,"caption",(function(e,t,n){return G(e)})),ue(n,r,t,"src",Y),ue(n,r,t,"title",Y),ue(n,r,t,"width",Z(0,e)),ue(n,r,t,"height",Z(0,e)),ue(n,r,t,"class",Y),ue(n,r,t,"style",ce((function(e,t){return Y(e,"style",t)}),e)),ue(n,r,t,"hspace",ce(Q,e)),ue(n,r,t,"vspace",ce(ee,e)),ue(n,r,t,"border",ce(te,e)),ue(n,r,t,"borderStyle",ce(ne,e)),function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||se(e,n.alt,n.isDecorative)}(n,r,t)},fe=function(e,t){var n=e.dom.styles.parse(t),r=F(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},pe=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||V(t))?null:t},me=function(e,t){var n=e.dom,r=function(e,t){var n,r={};return k(e,t,(n=r,function(e,t){n[t]=e}),f),r}(e.schema.getTextBlockElements(),(function(t,n){return!e.schema.isValidChild(n,"figure")})),o=n.getParent(t.parentNode,(function(e){return t=r,n=e.nodeName,S(t,n)&&void 0!==t[n]&&null!==t[n];var t,n}),e.getBody());return o?n.split(o,t):t},he=function(e,n){var r=function(e,n){var r=document.createElement("img");if(de(e,t(t({},n),{caption:!1}),r),se(r,n.alt,n.isDecorative),n.caption){var o=H.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(H.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r}((function(t){return fe(e,t)}),n);e.dom.setAttrib(r,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(r.outerHTML);var o=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(o,"data-mce-id",null),re(o)){var i=me(e,o);e.selection.select(i)}else e.selection.select(o)},ge=function(e,t){var n=pe(e);if(de((function(t){return fe(e,t)}),t,n),function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))}(e,n),re(n.parentNode)){var r=n.parentNode;me(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!B(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r}(e,t,n)},ve=(E=function(e,t){return i(e)&&i(t)?ve(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)S(o,i)&&(n[i]=E(n[i],o[i]))}return n}),be=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),ye=tinymce.util.Tools.resolve("tinymce.util.Tools"),we=function(e){return o(e.value)?e.value:""},xe=function(e,t){var n=[];return ye.each(e,(function(e){var r=function(e){return o(e.text)?e.text:o(e.title)?e.title:""}(e);if(void 0!==e.menu){var i=xe(e.menu,t);n.push({text:r,items:i})}else{var a=t(e);n.push({text:r,value:a})}})),n},Ce=function(e){return void 0===e&&(e=we),function(t){return t?w.from(t).map((function(t){return xe(t,e)})):w.none()}},ke=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return w.none()}(e,(function(e){return function(e){return S(e,"items")}(e)?ke(e.items,t):e.value===t?w.some(e):w.none()}))},Se=Ce,_e=function(e){return Ce(we)(e)},Oe=function(e,t){return e.bind((function(e){return ke(e,t)}))},Te=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ee=function(e){var t=Se((function(t){return e.convertURL(t.value||t.url,"src")})),n=new P((function(n){!function(e,t){var n=function(e){return e.getParam("image_list",!1)}(e);o(n)?z.send({url:n,success:function(e){t(JSON.parse(e))}}):c(n)?n(t):t(n)}(e,(function(e){n(t(e).map((function(e){return O([[{text:"None",value:""}],e])})))}))})),r=_e(function(e){return e.getParam("image_class_list")}(e)),i=function(e){return e.getParam("image_advtab",!1,"boolean")}(e),a=function(e){return e.getParam("image_uploadtab",!0,"boolean")}(e),l=function(e){return s(e.getParam("images_upload_url"))}(e),u=function(e){return s(e.getParam("images_upload_handler"))}(e),d=function(e){var t=pe(e);return t?le((function(t){return fe(e,t)}),t):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}(e),f=function(e){return e.getParam("image_description",!0,"boolean")}(e),p=function(e){return e.getParam("image_title",!1,"boolean")}(e),m=B(e),h=function(e){return e.getParam("image_caption",!1,"boolean")}(e),g=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")}(e),v=function(e){return e.getParam("automatic_uploads",!0,"boolean")}(e),b=w.some(function(e){return e.getParam("image_prepend_url","","string")}(e)).filter((function(e){return o(e)&&e.length>0}));return n.then((function(e){return{image:d,imageList:e,classList:r,hasAdvTab:i,hasUploadTab:a,hasUploadUrl:l,hasUploadHandler:u,hasDescription:f,hasImageTitle:p,hasDimensions:m,hasImageCaption:h,prependURL:b,hasAccessibilityOptions:g,automaticUploads:v}}))},Ae=function(e){var n,r=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),o={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},i=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}}));return O([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],r.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[o]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[t(t({},(n=e.classList.isSome()&&e.hasImageCaption,n?{type:"grid",columns:2}:{type:"panel"})),{items:O([i.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])})]])},Me=function(e){return{title:"General",name:"general",items:Ae(e)}},De=Ae,Ne=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},Pe=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},ze=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},Be=function(e,t){var n=t.getData();(function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?w.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?w.some(e+t):w.none()}))})(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},Re=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var i=ve({},n);!function(e,t,n){e.hasDescription&&o(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&o(n.title)&&(t.title=n.title),e.hasDimensions&&(o(n.width)&&(t.dimensions.width=n.width),o(n.height)&&(t.dimensions.height=n.height)),o(n.class)&&Oe(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&u(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(o(n.style)&&(t.style=n.style),o(n.vspace)&&(t.vspace=n.vspace),o(n.border)&&(t.border=n.border),o(n.hspace)&&(t.hspace=n.hspace),o(n.borderstyle)&&(t.borderstyle=n.borderstyle))}(e,i,r),t.setData(i)}},Ie=function(e,t,n,r){Be(t,r),Re(t,r),function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||(i.length>0?e.imageSize(i).then((function(e){n.open&&r.setData({dimensions:e})})).catch((function(e){return console.error(e)})):r.setData({dimensions:{width:"",height:""}}))}(e,t,n,r),function(e,t,n){var r=n.getData(),o=Oe(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map((function(e){return e.value})).getOr("")})}(t,n,r)},Le=function(e,t,n){var r=F(e(n.style)),o=ve({},n);return o.vspace=function(e){return e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"]?I(String(e["margin-top"])):""}(r),o.hspace=function(e){return e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"]?I(String(e["margin-right"])):""}(r),o.border=function(e){return e["border-width"]?I(String(e["border-width"])):""}(r),o.borderstyle=function(e){return e["border-style"]?String(e["border-style"]):""}(r),o.style=function(e,t,n){return t(e(t(n)))}(e,t,r),o},Fe=function(e,t,n,r){var o=r.getData();r.block("Uploading image"),T(o.fileinput).fold((function(){r.unblock()}),(function(o){var i,a=URL.createObjectURL(o),l=function(){r.unblock(),URL.revokeObjectURL(a)},u=function(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),Ie(e,t,n,r)};(i=o,new P((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(n.error.message)},n.readAsDataURL(i)}))).then((function(n){var i=e.createBlobCache(o,a,n);t.automaticUploads?e.uploadImage(i).then((function(e){u(e.url),l()})).catch((function(t){l(),e.alertErr(t)})):(e.addToBlobCache(i),u(i.blobUri()),r.unblock())}))}))},Ve=function(e,t,n){return function(r,o){"src"===o.name?Ie(e,t,n,r):"images"===o.name?function(e,t,n,r){var o=r.getData(),i=Oe(t.imageList,o.images);i.each((function(e){""===o.alt||n.prevImage.map((function(e){return e.text===o.alt})).getOr(!1)?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})})),n.prevImage=i,Ie(e,t,n,r)}(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?function(e,t){var n=t.getData(),r=Le(e.parseStyle,e.serializeStyle,n);t.setData(r)}(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?function(e,t,n){var r=ve(Pe(t.image),n.getData()),o=ae(e.normalizeCss,ze(r,!1));n.setData({style:o})}(e,t,r):"fileinput"===o.name?Fe(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},He=function(e){return function(){e.open=!1}},je=function(e){return e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler?{type:"tabpanel",tabs:O([[Me(e)],e.hasAdvTab?[Te(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Ne(e)]:[]])}:{type:"panel",items:De(e)}},$e=function(e){return function(t){var n=function(e){return{prevImage:Oe(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}}(t);return{title:"Insert/Edit Image",size:"normal",body:je(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Pe(t.image),onSubmit:e.onSubmit(t),onChange:Ve(e,t,n),onClose:He(n)}}},Ue=function(e){return function(t){return function(n){var r=ve(Pe(t.image),n.getData());e.execCommand("mceUpdateImage",!1,ze(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},We=function(e){return function(t){return function(e){return new P((function(t){var n=document.createElement("img"),r=function(e){n.onload=n.onerror=null,n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e={width:R(n.width,n.clientWidth),height:R(n.height,n.clientHeight)};r(P.resolve(e))},n.onerror=function(){r(P.reject("Failed to get image dimensions for: "+e))};var o=n.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(n),n.src=e}))}(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}}))}},qe=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,filename:t.name,base64:r.split(",")[1]})}},Ke=function(e){return function(t){e.editorUpload.blobCache.add(t)}},Ye=function(e){return function(t){e.windowManager.alert(t)}},Ge=function(e){return function(t){return fe(e,t)}},Xe=function(e){return function(t){return e.dom.parseStyle(t)}},Ze=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},Je=function(e){return function(t){return be(e).upload([t],!1).then((function(e){return 0===e.length?P.reject("Failed to upload image"):!1===e[0].status?P.reject(e[0].error.message):e[0]}))}},Qe=function(e){var t={onSubmit:Ue(e),imageSize:We(e),addToBlobCache:Ke(e),createBlobCache:qe(e),alertErr:Ye(e),normalizeCss:Ge(e),parseStyle:Xe(e),serializeStyle:Ze(e),uploadImage:Je(e)};return{open:function(){Ee(e).then($e(t)).then(e.windowManager.open)}}},et=function(e){e.addCommand("mceImage",Qe(e).open),e.addCommand("mceUpdateImage",(function(n,r){e.undoManager.transact((function(){return function(e,n){var r=pe(e);if(r){var o=le((function(t){return fe(e,t)}),r),i=t(t({},o),n);i.src?ge(e,i):function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}}(e,r)}else n.src&&he(e,t(t({},{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),n))}(e,r)}))}))},tt=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},nt=function(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];tt(o)&&(o.attr("contenteditable",e?"false":null),ye.each(o.getAll("figcaption"),r))}}};e.add("image",(function(e){!function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",nt(!0)),e.serializer.addNodeFilter("figure",nt(!1))}))}(e),function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Qe(e).open,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Qe(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return re(e)||"IMG"===e.nodeName&&!V(e)?["image"]:[]}})}(e),et(e)}))}(),function(){var e,t=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),o=(e="array",function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}),i=function(e){return!function(e){return null==e}(e)},a=function(e){return function(t){return typeof t===e}}("function"),l=function(){},u=function(e){return function(){return e}},s=function(e){return e},c=u(!1),d=u(!0),f=function(){return p},p=function(){var e=function(e){return e()},t=s;return{fold:function(e,t){return e()},isSome:c,isNone:d,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:t,orThunk:e,map:f,each:l,bind:f,exists:c,forall:d,filter:function(){return f()},toArray:function(){return[]},toString:u("none()")}}(),m=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:d,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},h={some:m,none:f,from:function(e){return null==e?p:m(e)}},g=function(e,t){return y(document.createElement("canvas"),e,t)},v=function(e){var t=g(e.width,e.height);return b(t).drawImage(e,0,0),t},b=function(e){return e.getContext("2d")},y=function(e,t,n){return e.width=t,e.height=n,e},w=window.Promise?window.Promise:function(){var e=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,r(a,this),r(l,this))},t=window,n=e.immediateFn||"function"==typeof t.setImmediate&&t.setImmediate||function(e){return setTimeout(e,1)},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(t,n)}},o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void c(r(t,e),r(a,this),r(l,this))}this._state=!0,this._value=e,u.call(this)}catch(n){l.call(this,n)}}function l(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];i.call(this,n)}this._deferreds=[]}function s(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}var c=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(o){if(r)return;r=!0,n(o)}};return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){i.call(r,new s(t,n,e,o))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&o(t[0])?t[0]:t);return new e((function(e,t){if(0===r.length)return e([]);for(var n=r.length,o=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,(function(e){o(i,e)}),t)}r[i]=a,0==--n&&e(r)}catch(u){t(u)}},i=0;i<r.length;i++)o(i,r[i])}))},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,o=t;r<o.length;r++){o[r].then(e,n)}}))},e}(),x=function(e){return new w((function(t,n){var r=URL.createObjectURL(e),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",l)},a=function(){i(),t(o)},l=function(){i(),n("Unable to load data of type "+e.type+": "+r)};o.addEventListener("load",a),o.addEventListener("error",l),o.src=r,o.complete&&setTimeout(a,0)}))},C=function(e){return new w((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){200===this.status&&t(this.response)},r.onerror=function(){var e,t=this;n(0===this.status?((e=new Error("No access to download image")).code=18,e.name="SecurityError",e):new Error("Error "+t.status+" downloading image"))},r.send()}))},k=function(e){return new w((function(t,n){(function(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return h.none();for(var r=n[1],o=t[1],i=1024,a=atob(o),l=a.length,u=Math.ceil(l/i),s=new Array(u),c=0;c<u;++c){for(var d=c*i,f=Math.min(d+i,l),p=new Array(f-d),m=d,g=0;m<f;++g,++m)p[g]=a[m].charCodeAt(0);s[c]=new Uint8Array(p)}return h.some(new Blob(s,{type:r}))})(e).fold((function(){n("uri is not base64: "+e)}),t)}))},S=function(e,t,n){return t=t||"image/png",a(HTMLCanvasElement.prototype.toBlob)?new w((function(r,o){e.toBlob((function(e){e?r(e):o()}),t,n)})):k(e.toDataURL(t,n))},_=function(e){URL.revokeObjectURL(e.src)},O=function(e){return function(e){var t=e.src;return 0===t.indexOf("data:")?k(t):C(t)}(e)},T=Array.prototype.indexOf,E=function(e,t){return function(e,t){return T.call(e,t)}(e,t)>-1},A=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},M=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return h.some(i);if(n(i,r))break}return h.none()}(e,t,c)},D=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},N=Object.keys;(function(e){if(!o(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};A(e,(function(r,i){var a=N(r);if(1!==a.length)throw new Error("one and only one name per case");var l=a[0],u=r[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!o(u))throw new Error("case arguments must be an array");t.push(l),n[l]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n.length;if(o!==u.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+u.length+" ("+u+"), got "+o);var a=function(e){var r=N(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!D(t,(function(e){return E(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var o=t[i];return o.apply(null,n)},match:a,log:function(e){console.log(e,{constructors:t,constructor:l,params:n})}}}}))})([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var P=function(e,t,n){var r=t.type,o=u(r),i=u(n),a=function(t,n){return e.then((function(e){return function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}(e,t,n)}))};return{getType:o,toBlob:function(){return w.resolve(t)},toDataURL:i,toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return S(e,t,n)}))},toAdjustedDataURL:a,toAdjustedBase64:function(e,t){return a(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(v)}}},z=function(e){return function(e){return new w((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}(e).then((function(t){return P(function(e){return x(e).then((function(e){_(e);var t=g(function(e){return e.naturalWidth||e.width}(e),function(e){return e.naturalHeight||e.height}(e));return b(t).drawImage(e,0,0),t}))}(e),e,t)}))},B=function(e,t){return S(e,t).then((function(t){return P(w.resolve(e),t,e.toDataURL())}))},R=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t),r=Math.round(e*n);return Math.ceil(r/n)},I=function(e,t,n){var r=(n<0?360+n:n)*Math.PI/180,o=e.width,i=e.height,a=Math.sin(r),l=Math.cos(r),u=R(Math.abs(o*l)+Math.abs(i*a)),s=R(Math.abs(o*a)+Math.abs(i*l)),c=g(u,s),d=b(c);return d.translate(u/2,s/2),d.rotate(r),d.drawImage(e,-o/2,-i/2),B(c,t)},L=function(e,t,n){var r=g(e.width,e.height),o=b(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),B(r,t)},F=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return L(n,e.getType(),t)}))}(e,t)},V=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return I(n,e.getType(),t)}))}(e,t)},H=function(e,t,n){return void 0===n&&(n=!1),new w((function(r){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&r({status:o.status,blob:o.response})},o.open("GET",e,!0),o.withCredentials=n,function(e,t){for(var n=N(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(t,(function(e,t){o.setRequestHeader(t,e)})),o.responseType="blob",o.send()}))},j=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],$=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],U=function(e,t){var n,r,o=(n=function(e,t){return i(e)?e[t]:void 0},r=e,A(t,(function(e,t){r=n(r,e,t)})),r);return h.from(o)},W=function(e){var t=function(e){return"ImageProxy HTTP error: "+M(j,(function(t){return e===t.code})).fold(u("Unknown ImageProxy error"),(function(e){return e.message}))}(e);return w.reject(t)},q=function(e){return M($,(function(t){return t.type===e})).fold(u("Unknown service error"),(function(e){return e.message}))},K=function(e){return"ImageProxy Service error: "+function(e){try{return h.some(JSON.parse(e))}catch(t){return h.none()}}(e).bind((function(e){return U(e,["error","type"]).map(q)})).getOr("Invalid JSON in service error message")},Y=function(e){return function(e){return new w((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(e){n(e)},r.readAsText(e)}))}(e).then((function(e){var t=K(e);return w.reject(t)}))},G=function(e){return e<200||e>=300},X=function(e,t){var n={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":t};return H(function(e,t){var n=-1===e.indexOf("?")?"?":"&";return/[?&]apiKey=/.test(e)?e:e+n+"apiKey="+encodeURIComponent(t)}(e,t),n).then((function(e){return G(e.status)?(t=e.status,n=e.blob,function(e,t){return"application/json"===(null==t?void 0:t.type)&&(400===e||403===e||404===e||500===e)}(t,n)?Y(n):W(t)):w.resolve(e.blob);var t,n}))},Z=function(e,t,n){return void 0===n&&(n=!1),t?X(e,t):function(e,t){return H(e,{},t).then((function(e){return G(e.status)?W(e.status):w.resolve(e.blob)}))}(e,n)},J=function(e){return z(e)},Q=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},ee={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Q(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Q(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Q(n)},fromDom:Q,fromPoint:function(e,t,n){return h.from(e.dom.elementFromPoint(t,n)).map(Q)}};"undefined"!=typeof window?window:Function("return this;")();var te=function(e,t){return function(e,t){return M(e.dom.childNodes,(function(e){return t(ee.fromDom(e))})).map(ee.fromDom)}(e,(function(e){return function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}(e,t)}))},ne=tinymce.util.Tools.resolve("tinymce.util.Delay"),re=tinymce.util.Tools.resolve("tinymce.util.Promise"),oe=tinymce.util.Tools.resolve("tinymce.util.URI"),ie=function(e){return e.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},ae=function(e){return e.getParam("imagetools_proxy")},le=function(e){var t,n,r=function(e){return/^[0-9\.]+px$/.test(e)};return t=e.style.width,n=e.style.height,t||n?r(t)&&r(n)?{w:parseInt(t,10),h:parseInt(n,10)}:null:(t=e.width,n=e.height,t&&n?{w:parseInt(t,10),h:parseInt(n,10)}:null)},ue=function(e){return{w:e.naturalWidth,h:e.naturalHeight}},se=0,ce=function(e){return te(ee.fromDom(e),"img")},de=function(e,t){return e.dom.is(t,"figure")},fe=function(e,t){return e.dom.is(t,"img:not([data-mce-object],[data-mce-placeholder])")},pe=function(e,t){var n=function(t){return fe(e,t)&&(ve(e,t)||be(e,t)||i(ae(e)))};return de(e,t)?ce(t).bind((function(e){return n(e.dom)?h.some(e.dom):h.none()})):n(t)?h.some(t):h.none()},me=function(e,t){e.notificationManager.open({text:t,type:"error"})},he=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return null!==n&&de(e,n)?ce(n):fe(e,t)?h.some(ee.fromDom(t)):h.none()},ge=function(e,t,n){var r=t.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return i(r)?e.dom.encode(r[n]):null},ve=function(e,t){var n=t.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new oe(n).host===e.documentBaseURI.host},be=function(e,t){return-1!==r.inArray(function(e){return e.getParam("imagetools_cors_hosts",[],"string[]")}(e),new oe(t.src).host)},ye=function(e,t){if(be(e,t))return Z(t.src,null,function(e,t){return-1!==r.inArray(function(e){return e.getParam("imagetools_credentials_hosts",[],"string[]")}(e),new oe(t.src).host)}(e,t));if(!ve(e,t)){var n=ae(e),o=n+(-1===n.indexOf("?")?"?":"&")+"url="+encodeURIComponent(t.src),i=function(e){return e.getParam("api_key",e.getParam("imagetools_api_key","","string"),"string")}(e);return Z(o,i,!1)}return O(t)},we=function(e,t){return function(e){return h.from(e.getParam("imagetools_fetch_image",null,"function"))}(e).fold((function(){return ye(e,t)}),(function(e){return e(t)}))},xe=function(e,t){var n=e.editorUpload.blobCache.getByUri(t.src);return n?re.resolve(n.blob()):we(e,t)},Ce=function(e){ne.clearTimeout(e.get())},ke=function(e,t,n,r,o,a,l){return n.toBlob().then((function(u){var s,c,d,f,p=e.editorUpload.blobCache;s=a.src;var m=t.type===u.type;return function(e){return e.getParam("images_reuse_filename",!1,"boolean")}(e)&&(f=p.getByUri(s),i(f)?(s=f.uri(),c=f.name(),d=f.filename()):(c=ge(e,s,2),d=ge(e,s,1))),f=p.create({id:"imagetools"+se++,blob:u,base64:n.toBase64(),uri:s,name:c,filename:m?d:void 0}),p.add(f),e.undoManager.transact((function(){var t=function(){e.$(a).off("load",t),e.nodeChanged(),r?e.editorUpload.uploadImagesAuto():(Ce(o),function(e,t){var n=ne.setEditorTimeout(e,(function(){e.editorUpload.uploadImagesAuto()}),function(e){return e.getParam("images_upload_timeout",3e4,"number")}(e));t.set(n)}(e,o))};e.$(a).on("load",t),l&&e.$(a).attr({width:l.w,height:l.h}),e.$(a).attr({src:f.blobUri()}).removeAttr("data-mce-src")})),f}))},Se=function(e,t,n,r){return function(){return he(e).fold((function(){me(e,"Could not find selected image")}),(function(o){return e._scanForImages().then((function(){return xe(e,o.dom)})).then((function(i){return J(i).then(n).then((function(n){return ke(e,i,n,!1,t,o.dom,r)}))})).catch((function(t){me(e,t)}))}))}},_e=function(e,t,n){return function(){var r=he(e).map((function(e){var t=le(e.dom);return t?{w:t.h,h:t.w}:null})).getOrNull();return Se(e,t,(function(e){return V(e,n)}),r)()}},Oe=function(e,t,n){return function(){return Se(e,t,(function(e){return F(e,n)}))()}},Te=function(e,t,n,r,o){return function(e){return x(e)}(o).then((function(e){var t=ue(e);return r.w===t.w&&r.h===t.h||le(n)&&function(e,t){var n,r;t&&(n=e.style.width,r=e.style.height,(n||r)&&(e.style.width=t.w+"px",e.style.height=t.h+"px",e.removeAttribute("data-mce-style")),n=e.width,r=e.height,(n||r)&&(e.setAttribute("width",String(t.w)),e.setAttribute("height",String(t.h))))}(n,t),URL.revokeObjectURL(e.src),o})).then(J).then((function(r){return ke(e,o,r,!0,t,n)}))},Ee=function(e,t){return function(){var n=he(e),r=n.map((function(e){return ue(e.dom)}));n.each((function(o){pe(e,o.dom).each((function(i){xe(e,o.dom).then((function(o){var i=function(e){return{blob:e,url:URL.createObjectURL(e)}}(o);e.windowManager.open({title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:i}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(o){var i=o.getData().imagetools.blob;n.each((function(n){r.each((function(r){Te(e,t,n.dom,r,i)}))})),o.close()},onCancel:l,onAction:function(e,t){switch(t.name){case"save-state":t.value?e.enable("save"):e.disable("save");break;case"disable":e.disable("save"),e.disable("cancel");break;case"enable":e.enable("cancel")}}})}))}))}))}};n.add("imagetools",(function(e){var n=t(0),o=t(null);!function(e,t){r.each({mceImageRotateLeft:_e(e,t,-90),mceImageRotateRight:_e(e,t,90),mceImageFlipVertical:Oe(e,t,"v"),mceImageFlipHorizontal:Oe(e,t,"h"),mceEditImage:Ee(e,t)},(function(t,n){e.addCommand(n,t)}))}(e,n),function(e){var t=[],n=function(t){return function(){return e.execCommand(t)}},r=function(){return he(e).exists((function(t){return pe(e,t.dom).isSome()}))},o=function(e){var n=function(t){return e.setDisabled(!t)};return n(r()),t=t.concat([n]),function(){t=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(t,(function(e){return e!==n}))}};e.on("NodeChange",(function(){var e=r();A(t,(function(t){return t(e)}))})),e.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:n("mceImageRotateLeft"),onSetup:o}),e.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:n("mceImageRotateRight"),onSetup:o}),e.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:n("mceImageFlipVertical"),onSetup:o}),e.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:n("mceImageFlipHorizontal"),onSetup:o}),e.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:n("mceEditImage"),onSetup:o}),e.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:n("mceImage")}),e.ui.registry.addContextMenu("imagetools",{update:function(t){return pe(e,t).map((function(e){return{text:"Edit image",icon:"edit-image",onAction:n("mceEditImage")}})).toArray()}})}(e),function(e){e.ui.registry.addContextToolbar("imagetools",{items:ie(e),predicate:function(t){return pe(e,t).isSome()},position:"node",scope:"node"})}(e),function(e,t,n){e.on("NodeChange",(function(r){var o=n.get(),i=pe(e,r.element);o&&!i.exists((function(e){return o.src===e.src}))&&(Ce(t),e.editorUpload.uploadImagesAuto(),n.set(null)),i.each(n.set)}))}(e,n,o)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},n=t("string"),r=t("array"),o=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),i=tinymce.util.Tools.resolve("tinymce.EditorManager"),a=tinymce.util.Tools.resolve("tinymce.Env"),l=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=function(e){return e.getParam("importcss_selector_converter")},s=function(e){return e.getParam("importcss_append")},c=Array.prototype.push,d=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);c.apply(t,e[n])}return t}(function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,t))},f=function(e){return n(e)?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e},p=function(e,t,r){var o=[],u={},s=function(t,u){var c,d,f,p=t.href;if(d=p,f=a.cacheSuffix,n(d)&&(d=d.replace("?"+f,"").replace("&"+f,"")),(p=d)&&r(p,u)&&!function(e,t){var n=function(e){var t=e.getParam("skin");return!1!==t&&(t||"oxide")}(e);if(n){var r=function(e){return e.getParam("skin_url")}(e),o=r?e.documentBaseURI.toAbsolute(r):i.baseURL+"/skins/ui/"+n,a=i.baseURL+"/skins/content/";return t===o+"/content"+(e.inline?".inline":"")+".min.css"||-1!==t.indexOf(a)}return!1}(e,p)){l.each(t.imports,(function(e){s(e,!0)}));try{c=t.cssRules||t.rules}catch(m){}l.each(c,(function(e){e.styleSheet?s(e.styleSheet,!0):function(e){return e.selectorText}(e)&&l.each(e.selectorText.split(","),(function(e){o.push(l.trim(e))}))}))}};l.each(e.contentCSS,(function(e){u[e]=!0})),r||(r=function(e,t){return t||u[e]});try{l.each(t.styleSheets,(function(e){s(e)}))}catch(c){}return o},m=function(e,t){var n,r=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(r){var o=r[1],i=r[2].substr(1).split(".").join(" "),a=l.makeMap("a,img");return r[1]?(n={title:t},e.schema.getTextBlockElements()[o]?n.block=o:e.schema.getBlockElements()[o]||a[o.toLowerCase()]?n.selector=o:n.inline=o):r[2]&&(n={inline:"span",title:t.substr(1),classes:i}),!1!==function(e){return e.getParam("importcss_merge_classes")}(e)?n.classes=i:n.attributes={class:i},n}},h=function(e,t){return null===t||!1!==function(e){return e.getParam("importcss_exclusive")}(e)},g=function(e){e.on("init",(function(){var t=function(){var e=[],t=[],n={};return{addItemToGroup:function(e,r){n[e]?n[e].push(r):(t.push(e),n[e]=[r])},addItem:function(t){e.push(t)},toFormats:function(){return d(t,(function(e){var t=n[e];return 0===t.length?[]:[{title:e,items:t}]})).concat(e)}}}(),n={},r=f(function(e){return e.getParam("importcss_selector_filter")}(e)),i=function(e){return l.map(e,(function(e){return l.extend({},e,{original:e,selectors:{},filter:f(e.filter)})}))}(function(e){return e.getParam("importcss_groups")}(e)),a=function(t,r){if(function(e,t,n,r){return!(h(e,n)?t in r:t in n.selectors)}(e,t,r,n)){!function(e,t,n,r){h(e,n)?r[t]=!0:n.selectors[t]=!0}(e,t,r,n);var i=function(e,t,n,r){return(r&&r.selector_converter?r.selector_converter:u(e)?u(e):function(){return m(e,n)}).call(t,n,r)}(e,e.plugins.importcss,t,r);if(i){var a=i.name||o.DOM.uniqueId();return e.formatter.register(a,i),{title:i.title,format:a}}}return null};l.each(p(e,e.getDoc(),f(function(e){return e.getParam("importcss_file_filter")}(e))),(function(e){if(-1===e.indexOf(".mce-")&&(!r||r(e))){var n=function(e,t){return l.grep(e,(function(e){return!e.filter||e.filter(t)}))}(i,e);if(n.length>0)l.each(n,(function(n){var r=a(e,n);r&&t.addItemToGroup(n.title,r)}));else{var o=a(e,null);o&&t.addItem(o)}}}));var c=t.toFormats();e.fire("addStyleModifications",{items:c,replace:!s(e)})}))};e.add("importcss",(function(e){return g(e),function(e){return{convertSelectorToFormat:function(t){return m(e,t)}}}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},n=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),i="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),l=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},u=function(e,t,n){return void 0===n&&(n=new Date),t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",l(n.getMonth()+1,2))).replace("%d",l(n.getDate(),2))).replace("%H",""+l(n.getHours(),2))).replace("%M",""+l(n.getMinutes(),2))).replace("%S",""+l(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(a[n.getMonth()]))).replace("%b",""+e.translate(i[n.getMonth()]))).replace("%A",""+e.translate(o[n.getDay()]))).replace("%a",""+e.translate(r[n.getDay()]))).replace("%%","%")},s=function(e,t){if(function(e){return e.getParam("insertdatetime_element",!1)}(e)){var n=u(e,t),r=void 0;r=/%[HMSIp]/.test(t)?u(e,"%Y-%m-%dT%H:%M"):u(e,"%Y-%m-%d");var o=e.dom.getParent(e.selection.getStart(),"time");o?function(e,t,n,r){var o=e.dom.create("time",{datetime:n},r);t.parentNode.insertBefore(o,t),e.dom.remove(t),e.selection.select(o,!0),e.selection.collapse(!1)}(e,o,r,n):e.insertContent('<time datetime="'+r+'">'+n+"</time>")}else e.insertContent(u(e,t))},c=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=function(e){var r,o,i=n(e),a=(r=function(e){var r=n(e);return r.length>0?r[0]:t(e)}(e),o=r,{get:function(){return o},set:function(e){o=e}});e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(e){return e===a.get()},fetch:function(t){t(c.map(i,(function(t){return{type:"choiceitem",text:u(e,t),value:t}})))},onAction:function(t){s(e,a.get())},onItemAction:function(t,n){a.set(n),s(e,n)}});var l=function(t){return function(){a.set(t),s(e,t)}};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return c.map(i,(function(t){return{type:"menuitem",text:u(e,t),onAction:l(t)}}))}})};e.add("insertdatetime",(function(e){!function(e){e.addCommand("mceInsertDate",(function(){s(e,function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))}(e))})),e.addCommand("mceInsertTime",(function(){s(e,t(e))}))}(e),d(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},r=n("string"),o=n("object"),i=n("array"),a=function(e){return!function(e){return null==e}(e)},l=function(){},u=function(e){return function(){return e}},s=function(e){return e},c=u(!1),d=u(!0),f=function(){return p},p=function(){var e=function(e){return e()},t=s;return{fold:function(e,t){return e()},isSome:c,isNone:d,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:t,orThunk:e,map:f,each:l,bind:f,exists:c,forall:d,filter:function(){return f()},toArray:function(){return[]},toString:u("none()")}}(),m=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:d,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},h={some:m,none:f,from:function(e){return null==e?p:m(e)}},g=Array.prototype.push,v=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},b=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);g.apply(t,e[n])}return t},y=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},w=Object.keys,x=Object.hasOwnProperty,C=function(e,t){return k(e,t)?h.from(e[t]):h.none()},k=function(e,t){return x.call(e,t)},S=function(e){return e.getParam("media_scripts")},_=function(e){return e.getParam("media_live_embeds",!0)},O=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),E=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),A=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},M=T.DOM,D=function(e){return e.replace(/px$/,"")},N=function(e,t){var n=y(!1),r={};return E({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(n.get());else if(k(o.map,"data-ephox-embed-iri"))n.set(!0),r=function(e){var t=e.map.style,n=t?M.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:C(n,"max-width").map(D).getOr(""),height:C(n,"max-height").map(D).getOr("")}}(o);else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=O.extend(o.map,r)),"script"===t){var i=A(e,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},P=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return t||""},z=tinymce.util.Tools.resolve("tinymce.html.Schema"),B=tinymce.util.Tools.resolve("tinymce.html.Writer"),R=T.DOM,I=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},L=function(e,t){!function(e,t){for(var n=w(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(t,(function(t,n){var r=""+t;if(e.map[n])for(var o=e.length;o--;){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))},F=["source","altsource"],V=function(e,t,n){var r,o=B(),i=y(!1),a=0;return E({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,l,u){if(i.get());else if(k(l.map,"data-ephox-embed-iri"))i.set(!0),function(e,t){var n=t.map.style,r=n?R.parseStyle(n):{};r["max-width"]=I(e.width),r["max-height"]=I(e.height),L(t,{style:R.serializeStyle(r)})}(t,l);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&L(l,{width:t.width,height:t.height})}if(n)switch(e){case"video":L(l,{poster:t.poster,src:""}),t.altsource&&L(l,{src:""});break;case"iframe":L(l,{src:t.source});break;case"source":if(a<2&&(L(l,{src:t[F[a]],type:t[F[a]+"mime"]}),!t[F[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0}}o.start(e,l,u)},end:function(e){if(!i.get()){if("video"===e&&n)for(var l=0;l<2;l++)if(t[F[l]]){var u=[];u.map={},a<=l&&(L(u,{src:t[F[l]],type:t[F[l]+"mime"]}),o.start("source",u,!0))}if(t.poster&&"object"===e&&n&&!r){var s=[];s.map={},L(s,{src:t.poster,width:t.width,height:t.height}),o.start("img",s,!0)}}o.end(e)}},z({})).parse(e),o.getContent()},H=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],j=function(e,t){for(var n=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"}(t),r=e.regex.exec(t),o=n+e.url,i=function(e){o=o.replace("$"+e,(function(){return r[e]?r[e]:""}))},a=0;a<r.length;a++)i(a);return o.replace(/\?$/,"")},$=function(e,t){var n=O.extend({},t);if(!n.source&&(O.extend(n,N(S(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=P(n.source),n.altsourcemime=P(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r,o,i=(r=n.source,(o=H.filter((function(e){return e.regex.test(r)}))).length>0?O.extend({},o[0],{url:j(o[0],r)}):null);if(i&&(n.source=i.url,n.type=i.type,n.allowfullscreen=i.allowFullscreen,n.width=n.width||String(i.w),n.height=n.height||String(i.h)),n.embed)return V(n.embed,n,!0);var a=A(S(e),n.source);a&&(n.type="script",n.width=String(a.width),n.height=String(a.height));var l=function(e){return e.getParam("audio_template_callback")}(e),u=function(e){return e.getParam("video_template_callback")}(e);return n.width=n.width||"300",n.height=n.height||"150",O.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?function(e){var t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}(n):"application/x-shockwave-flash"===n.sourcemime?function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+"</object>"}(n):-1!==n.sourcemime.indexOf("audio")?function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"}(n,l):"script"===n.type?function(e){return'<script src="'+e.source+'"><\/script>'}(n):function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"}(n,u)},U=tinymce.util.Tools.resolve("tinymce.util.Promise"),W={},q=function(e){return function(t){return $(e,t)}},K=function(e,t){var n=function(e){return e.getParam("media_url_resolver")}(e);return n?function(e,t,n){return new U((function(r,o){var i=function(n){return n.html&&(W[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)})};W[e.source]?i(W[e.source]):n({url:e.source},i,o)}))}(t,q(e),n):function(e,t){return U.resolve({html:t(e),url:e.source})}(t,q(e))},Y=function(e,n){var r=n?function(e,t){return C(t,e).bind((function(e){return C(e,"meta")}))}(n,e).getOr({}):{},i=function(e,t,n){return function(r){var i,a=function(){return C(e,r)},l=function(){return C(t,r)},u=function(e){return C(e,"value").bind((function(e){return e.length>0?h.some(e):h.none()}))};return(i={})[r]=(r===n?a().bind((function(e){return o(e)?u(e).orThunk(l):l().orThunk((function(){return h.from(e)}))})):l().orThunk((function(){return a().bind((function(e){return o(e)?u(e):h.from(e)}))}))).getOr(""),i}}(e,r,n);return t(t(t(t(t({},i("source")),i("altsource")),i("poster")),i("embed")),function(e,t){var n={};return C(e,"dimensions").each((function(e){v(["width","height"],(function(r){C(t,r).orThunk((function(){return C(e,r)})).each((function(e){return n[r]=e}))}))})),n}(e,r))},G=function(e){var n=t(t({},e),{source:{value:C(e,"source").getOr("")},altsource:{value:C(e,"altsource").getOr("")},poster:{value:C(e,"poster").getOr("")}});return v(["width","height"],(function(t){C(e,t).each((function(e){var r=n.dimensions||{};r[t]=e,n.dimensions=r}))})),n},X=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},Z=function(e,t){return N(S(e),t)},J=function(e,n){return function(o){if(r(o.url)&&o.url.trim().length>0){var i=o.html,a=Z(n,i),l=t(t({},a),{source:o.url,embed:i});e.setData(G(l))}}},Q=function(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),function(e,t){for(var n=e.dom.select("*[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;o>=0;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])}(e,n),e.nodeChanged()},ee=function(e,t,n){var r;t.embed=V(t.embed,t),t.embed&&(e.source===t.source||(r=t.source,k(W,r)))?Q(n,t.embed):K(n,t).then((function(e){Q(n,e.html)})).catch(X(n))},te=function(e){var n=function(e){var n=e.selection.getNode(),r=function(e){return e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri")}(n)?e.serializer.serialize(n,{selection:!0}):"";return t({embed:r},N(S(e),r))}(e),r=y(n),o=G(n),i=function(e){return e.getParam("media_dimensions",!0)}(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:b([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],i])},l={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},u=[];(function(e){return e.getParam("media_alt_source",!0)})(e)&&u.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),function(e){return e.getParam("media_poster",!0)}(e)&&u.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var s={title:"Advanced",name:"advanced",items:u},c=[a,l];u.length>0&&c.push(s);var d={type:"tabpanel",tabs:c},f=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=Y(t.getData());ee(r.get(),n,e),t.close()},onChange:function(n,o){switch(o.name){case"source":!function(t,n){var r=Y(n.getData(),"source");t.source!==r.source&&(J(f,e)({url:r.source,html:""}),K(e,r).then(J(f,e)).catch(X(e)))}(r.get(),n);break;case"embed":!function(t){var n=Y(t.getData()),r=Z(e,n.embed);t.setData(G(r))}(n);break;case"dimensions":case"altsource":case"poster":!function(n,r){var o=Y(n.getData(),r),i=$(e,o);n.setData(G(t(t({},o),{embed:i})))}(n,o.name)}r.set(Y(n.getData()))},initialData:o})},ne=tinymce.util.Tools.resolve("tinymce.html.Node"),re=tinymce.util.Tools.resolve("tinymce.Env"),oe=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ie=function(e,t){if(!1===function(e){return e.getParam("media_filter_html",!0)}(e))return t;var n,r=B();return E({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=o.length-1;a>=0;a--){var l=o[a].name;0===l.indexOf("on")&&(delete o.map[l],o.splice(a,1)),"style"===l&&(o[a].value=e.dom.serializeStyle(e.dom.parseStyle(o[a].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},z({})).parse(t),r.getContent()},ae=function(e){var t=e.name;return"iframe"===t||"video"===t||"audio"===t},le=function(e,t,n,r){void 0===r&&(r=null);var o=e.attr(n);return a(o)?o:k(t,n)?null:r},ue=function(e,t,n){var r="img"===t.name||"video"===e.name,o=r?"300":null,i="audio"===e.name?"30":"150",a=r?i:null;t.attr({width:le(e,n,"width",o),height:le(e,n,"height",a)})},se=function(e,t){var n=t.name,r=new ne("img",1);return r.shortEnded=!0,de(e,t,r),ue(t,r,{}),r.attr({style:t.attr("style"),src:re.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},ce=function(e,t){var n=t.name,r=new ne("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),de(e,t,r);var o=e.dom.parseStyle(t.attr("style")),i=new ne(n,1);if(ue(t,i,o),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"});else{v(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(function(e){i.attr(e,t.attr(e))}));var l=r.attr("data-mce-html");a(l)&&function(e,t,n,r){for(var o=oe({forced_root_block:!1,validate:!1},e.schema).parse(r,{context:t});o.firstChild;)n.append(o.firstChild)}(e,n,i,l)}var u=new ne("span",1);return u.attr("class","mce-shim"),r.append(i),r.append(u),r},de=function(e,t,n){for(var r=t.attributes,o=r.length;o--;){var i=r[o].name,a=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),n.attr("data-mce-p-"+i,a))}var l=t.firstChild&&t.firstChild.value;l&&(n.attr("data-mce-html",escape(ie(e,l))),n.firstChild=null)},fe=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},pe=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||fe(e))return!0;return!1},me=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();O.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();O.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",function(e){return function(t){for(var n,r,o=t.length;o--;)(n=t[o]).parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=A(S(e),n.attr("src"))))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),ae(n)&&_(e)&&re.ceFalse?pe(n)||n.replace(ce(e,n)):pe(n)||n.replace(se(e,n))))}}(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){for(var r,o,i,a,l,u,s,c,d=t.length;d--;)if((r=t[d]).parent){for(s=r.attr(n),o=new ne(s,1),"audio"!==s&&"script"!==s&&((c=r.attr("class"))&&-1!==c.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),i=(a=r.attributes).length;i--;){var f=a[i].name;0===f.indexOf("data-mce-p-")&&o.attr(f.substr(11),a[i].value)}"script"===s&&o.attr("type","text/javascript"),(l=r.attr("data-mce-html"))&&((u=new ne("#text",3)).raw=!0,u.value=ie(e,unescape(l)),o.append(u)),r.replace(o)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},he=function(e,t){return function(n){return e.selection.selectorChangedWithUnbind(t.join(","),n.setActive).unbind}};e.add("media",(function(e){return function(e){e.addCommand("mceMedia",(function(){te(e)}))}(e),function(e){var t=function(){return e.execCommand("mceMedia")};e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:he(e,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t})}(e),function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))}(e),me(e),function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){"script"===e.target.getAttribute("data-mce-object")&&e.preventDefault()})),e.on("ObjectResized",(function(e){var t=e.target;if(t.getAttribute("data-mce-object")){var n=t.getAttribute("data-mce-html");n&&(n=unescape(n),t.setAttribute("data-mce-html",escape(V(n,{width:String(e.width),height:String(e.height)}))))}}))}(e),function(e){return{showDialog:function(){te(e)}}}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},n=function(e,n){var r=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")}(e)||e.plugins.visualchars?'<span class="'+(function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()}(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+t("&nbsp;",n)+"</span>":t("&nbsp;",n);e.undoManager.transact((function(){return e.insertContent(r)}))},r=tinymce.util.Tools.resolve("tinymce.util.VK");e.add("nonbreaking",(function(e){!function(e){e.addCommand("mceNonBreaking",(function(){n(e,1)}))}(e),function(e){var t=function(){return e.execCommand("mceNonBreaking")};e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t})}(e),function(e){var t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t}(e);t>0&&e.on("keydown",(function(o){if(o.keyCode===r.TAB&&!o.isDefaultPrevented()){if(o.shiftKey)return;o.preventDefault(),o.stopImmediatePropagation(),n(e,t)}}))}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")},r=function(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}},o=function(e,t,n){return function(r){var o=arguments,i=o[o.length-2],a=i>0?t.charAt(i-1):"";if('"'===a)return r;if(">"===a){var l=t.lastIndexOf("<",i);if(-1!==l){var u=t.substring(l,i);if(-1!==u.indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"}},i=function(e){var i="contenteditable",a=" "+t.trim(function(e){return e.getParam("noneditable_editable_class","mceEditable")}(e))+" ",l=" "+t.trim(n(e))+" ",u=r(a),s=r(l),c=function(e){var t=e.getParam("noneditable_regexp",[]);return t&&t.constructor===RegExp?[t]:t}(e);e.on("PreInit",(function(){c.length>0&&e.on("BeforeSetContent",(function(t){!function(e,t,r){var i=t.length,a=r.content;if("raw"!==r.format){for(;i--;)a=a.replace(t[i],o(e,a,n(e)));r.content=a}}(e,c,t)})),e.parser.addAttributeFilter("class",(function(e){for(var t,n=e.length;n--;)t=e[n],u(t)?t.attr(i,"true"):s(t)&&t.attr(i,"false")})),e.serializer.addAttributeFilter(i,(function(e){for(var t,n=e.length;n--;)t=e[n],(u(t)||s(t))&&(c.length>0&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(i,null))}))}))};e.add("noneditable",(function(e){i(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){return e.getParam("pagebreak_split_block",!1)},r="mce-pagebreak",o=function(e){var n='<img src="'+t.transparentSrc+'" class="'+'mce-pagebreak" data-mce-resize="false" data-mce-placeholder />';return e?"<p>"+n+"</p>":n};e.add("pagebreak",(function(e){!function(e){e.addCommand("mcePageBreak",(function(){e.insertContent(o(n(e)))}))}(e),function(e){var t=function(){return e.execCommand("mcePageBreak")};e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t})}(e),function(e){var t=function(e){return e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")}(e),i=function(){return n(e)},a=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi");e.on("BeforeSetContent",(function(e){e.content=e.content.replace(a,o(i()))})),e.on("PreInit",(function(){e.serializer.addNodeFilter("img",(function(n){for(var o,a,l=n.length;l--;)if((a=(o=n[l]).attr("class"))&&-1!==a.indexOf(r)){var u=o.parent;if(e.schema.getBlockElements()[u.name]&&i()){u.type=3,u.value=t,u.raw=!0,o.remove();continue}o.type=3,o.value=t,o.raw=!0}}))}))}(e),function(e){e.on("ResolveName",(function(t){"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,r)&&(t.name="pagebreak")}))}(e)}))}(),function(){var e,t,n,r=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(e){return!function(e){return null==e}(e)},a=(e="function",function(t){return typeof t===e}),l=function(){},u=function(e){return function(){return e}},s=function(e){return e},c=u(!1),d=u(!0),f=function(){return p},p=function(){var e=function(e){return e()},t=s;return{fold:function(e,t){return e()},isSome:c,isNone:d,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:t,orThunk:e,map:f,each:l,bind:f,exists:c,forall:d,filter:function(){return f()},toArray:function(){return[]},toString:u("none()")}}(),m=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:d,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},h={some:m,none:f,from:function(e){return null==e?p:m(e)}},g=Array.prototype.slice,v=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},b=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},y=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},w=a(Array.from)?Array.from:function(e){return g.call(e)},x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=function(){var e=function(e){var t=r(h.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(h.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(h.some(e))}}}(l);return x(x({},e),{on:function(t){return e.get().each(t)}})},k=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},S=tinymce.util.Tools.resolve("tinymce.Env"),_=tinymce.util.Tools.resolve("tinymce.util.Delay"),O=tinymce.util.Tools.resolve("tinymce.util.Promise"),T=tinymce.util.Tools.resolve("tinymce.util.VK"),E=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},A=tinymce.util.Tools.resolve("tinymce.util.Tools"),M=function(e){return e.getParam("paste_data_images",!1)},D=function(e){return e.getParam("paste_merge_formats",!0)},N=function(e){return e.getParam("paste_retain_style_properties")},P=function(e){return e.getParam("validate")},z=function(e){return e.getParam("allow_html_data_urls",!1,"boolean")},B=function(e){return e.getParam("paste_data_images",!1,"boolean")},R=function(e){return A.explode(e.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))},I="x-tinymce/html",L="\x3c!-- x-tinymce/html --\x3e",F=function(e){return-1!==e.indexOf(L)},V=u(I),H=Object.hasOwnProperty,j=function(e,t){return H.call(e,t)},$=tinymce.util.Tools.resolve("tinymce.html.Entities"),U=function(e,t,n){var r=e.split(/\n\n/),o=function(e,t){var n=[],r="<"+e;if("object"==typeof t){for(var o in t)j(t,o)&&n.push(o+'="'+$.encodeAllRaw(t[o])+'"');n.length&&(r+=" "+n.join(" "))}return r+">"}(t,n),i="</"+t+">",a=A.map(r,(function(e){return e.split(/\n/).join("<br />")}));return 1===a.length?a[0]:A.map(a,(function(e){return o+e+i})).join("")},W=tinymce.util.Tools.resolve("tinymce.html.DomParser"),q=tinymce.util.Tools.resolve("tinymce.html.Serializer"),K="",Y=tinymce.util.Tools.resolve("tinymce.html.Node"),G=tinymce.util.Tools.resolve("tinymce.html.Schema"),X=function(e,t){return A.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e},Z=function(e){return e=X(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?K:" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},J=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},Q=function(e){var t=!1;return e=e.replace(/^[\u00a0 ]+/,""),A.each([/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],(function(n){if(n.test(e))return t=!0,!1})),t},ee=function(e,t,n,r){var o={},i=e.dom.parseStyle(r);A.each(i,(function(i,a){switch(a){case"mso-list":var l=/\w+ \w+([0-9]+)/i.exec(r);l&&(n._listLevel=parseInt(l[1],10)),/Ignore/i.test(i)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":a="text-align";break;case"vert-align":a="vertical-align";break;case"font-color":case"mso-foreground":a="color";break;case"mso-background":case"mso-highlight":a="background";break;case"font-weight":case"font-style":return void("normal"!==i&&(o[a]=i));case"mso-element":if(/^(comment|comment-list)$/i.test(i))return void n.remove()}0!==a.indexOf("mso-comment")?0!==a.indexOf("mso-")&&("all"===N(e)||t&&t[a])&&(o[a]=i):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new Y("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new Y("i",1)));var a=e.dom.serializeStyle(o,n.name);return a||null},te=function(e,t){var n,r=N(e);r&&(n=A.makeMap(r.split(/[, ]/))),t=X(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,K],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(K):""}]]);var o=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(e),i=G({valid_elements:o,valid_children:"-li[p]"});A.each(i.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var a=W({},i);a.addAttributeFilter("style",(function(t){for(var r,o=t.length;o--;)(r=t[o]).attr("style",ee(e,n,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),a.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),a.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),a.addNodeFilter("a",(function(e){for(var t,n,r,o=e.length;o--;)if(n=(t=e[o]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var l=a.parse(t);return function(e){return e.getParam("paste_convert_word_fake_lists",!0)}(e)&&function(e){for(var t,n,r=1,o=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=o(e)}while(e=e.next);return t},i=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0},a=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{a(e)}while(e=e.next)},l=function(e,o,l){var u=e._listLevel||r;u!==r&&(u<r?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===o?t.append(e):(n=n||t,t=new Y(o,1),l>1&&t.attr("start",""+l),e.wrap(t)),e.name="li",u>r&&n&&n.lastChild.append(t),r=u,a(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)},u=[],s=e.firstChild;null!=s;)if(u.push(s),null!==(s=s.walk()))for(;void 0!==s&&s.parent!==e;)s=s.walk();for(var c=0;c<u.length;c++)if("p"===(e=u[c]).name&&e.firstChild){var d=o(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(d)){l(e,"ul");continue}if(Q(d)){var f=/([0-9]+)\./.exec(d),p=1;f&&(p=parseInt(f[1],10)),l(e,"ol",p);continue}if(e._listLevel){l(e,"ul",1);continue}t=null}else n=t,t=null}(l),t=q({validate:P(e)},i).serialize(l)},ne=function(e,t){return{content:e,cancelled:t}},re=function(e,t,n,r){var o=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})}(e,t,n,r),i=function(e,t){var n=W({},e.schema);n.addNodeFilter("meta",(function(e){A.each(e,(function(e){e.remove()}))}));var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return q({validate:P(e)},e.schema).serialize(r)}(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})}(e,o,n,r);return ne(i.node.innerHTML,i.isDefaultPrevented())}(e,i,n,r):ne(i,o.isDefaultPrevented())},oe=function(e,t,n){var r=J(t),o=r?function(e,t){return function(e){return e.getParam("paste_enable_default_filters",!0)}(e)?te(e,t):t}(e,t):t;return re(e,o,n,r)},ie=function(e,t){return e.insertContent(t,{merge:D(e),paste:!0}),!0},ae=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},le=function(e,t){return ae(t)&&v(R(e),(function(e){return n=t.toLowerCase(),r="."+e.toLowerCase(),k(n,r,n.length-r.length);var n,r}))},ue=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!ae(t))&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0}(e,t,n)},se=function(e,t,n){return!!le(e,t)&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0}(e,t,n)},ce=function(e,t,n){n||!1===function(e){return e.getParam("smart_paste",!0)}(e)?ie(e,t):function(e,t){A.each([ue,se,ie],(function(n){return!0!==n(e,t,ie)}))}(e,t)},de=function(e){return"\n"===e||"\r"===e},fe=function(e,t){var n,r,o,i,a=(n=" ",(r=function(e){return e.getParam("paste_tab_spaces",4,"number")}(e))<=0?"":new Array(r+1).join(n)),l=t.replace(/\t/g,a);return(o=function(e,t){return function(e){return-1!==" \f\t\v".indexOf(e)}(t)||t===K?e.pcIsSpace||""===e.str||e.str.length===l.length-1||function(e,t){return t<e.length&&t>=0&&de(e[t])}(l,e.str.length+1)?{pcIsSpace:!1,str:e.str+K}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:de(t),str:e.str+t}},i={pcIsSpace:!1,str:""},y(l,(function(e,t){i=o(i,e,t)})),i).str},pe=function(e,t,n,r){var o=oe(e,t,n);!1===o.cancelled&&ce(e,o.content,r)},me=function(e,t,n){var r=n||F(t);pe(e,function(e){return e.replace(L,"")}(t),r,!1)},he=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=function(e,t,n){return t?U(e,!0===t?"p":t,n):function(e){return e.replace(/\r?\n/g,"<br>")}(e)}(fe(e,n),function(e){return e.getParam("forced_root_block")}(e),function(e){return e.getParam("forced_root_block_attrs")}(e));pe(e,r,!1,!0)},ge=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(i){t[o]=""}}}return t},ve=function(e,t){return t in e&&e[t].length>0},be=function(e){return ve(e,"text/html")||ve(e,"text/plain")},ye=(t="mceclip",n=0,function(){return t+n++}),we=function(e,t){var n,r,o=(n=t.uri,(r=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(n))?{type:r[1],data:decodeURIComponent(r[2])}:{type:null,data:null}),a=o.data,l=o.type,u=ye(),s=t.blob,c=new Image;if(c.src=t.uri,function(e,t){var n=function(e){return e.getParam("images_dataimg_filter")}(e);return!n||n(t)}(e,c)){var d=e.editorUpload.blobCache,f=void 0,p=d.getByData(a,l);if(p)f=p;else{var m=function(e){return e.getParam("images_reuse_filename")}(e)&&i(s.name),h=m?function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return i(n)?e.dom.encode(n[1]):null}(e,s.name):u,g=m?s.name:void 0;f=d.create(u,s,a,h,g),d.add(f)}me(e,'<img src="'+f.blobUri()+'">',!1)}else me(e,'<img src="'+t.uri+'">',!1)},xe=function(e){return O.all(b(e,(function(e){return new O((function(t){var n=function(e){return i(e.getAsFile)}(e)?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)}))})))},Ce=function(e){var t=R(e);return function(e){return function(e,t){return k(e,t,0)}(e.type,"image/")&&v(t,(function(t){return n=t.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},(A.hasOwn(r,n)?"image/"+r[n]:"image/"+n)===e.type;var n,r}))}},ke=function(e,t,n){var r="paste"===t.type?t.clipboardData:t.dataTransfer;if(B(e)&&r){var o=function(e,t){var n=t.items?b(w(t.items),(function(e){return e.getAsFile()})):[],r=t.files?w(t.files):[];return function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(n.length>0?n:r,Ce(e))}(e,r);if(o.length>0)return t.preventDefault(),xe(o).then((function(t){n&&e.selection.setRng(n),y(t,(function(t){we(e,t)}))})),!0}return!1},Se=function(e){return T.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},_e=function(e,t,n){var r,o=C(),i=C();e.on("keyup",i.clear),e.on("keydown",(function(n){var a=function(e){Se(e)&&!e.isDefaultPrevented()&&t.remove()};if(Se(n)&&!n.isDefaultPrevented()){if((r=n.shiftKey&&86===n.keyCode)&&S.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),o.set(n),i.set(!0),S.ie&&r)return n.preventDefault(),void function(e,t){e.fire("paste",{ieFake:t})}(e,!0);t.remove(),t.create(),e.once("keyup",a),e.once("paste",(function(){e.off("keyup",a)}))}}));var a=function(e,n,r,o,i){var a;ve(n,"text/html")?a=n["text/html"]:(a=t.getHtml(),i=i||F(a),t.isDefaultContent(a)&&(o=!0)),a=Z(a),t.remove();var l=!1===i&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a),u=ae(a);(!a.length||l&&!u)&&(o=!0),(o||u)&&(a=ve(n,"text/plain")&&l?n["text/plain"]:function(e){var t=G(),n=W({},t),r="",o=t.getShortEndedElements(),i=A.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),l=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(o[t]&&(r+=" "),i[t])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{l(e)}while(e=e.next);a[t]&&n.next&&(r+="\n","p"===t&&(r+="\n"))}}else r+="\n"};return e=X(e,[/<!\[[^\]]+\]>/g]),l(n.parse(e)),r}(a)),t.isDefaultContent(a)?r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?he(e,a):me(e,a,i)};e.on("paste",(function(l){var u=o.isSet()||i.isSet();u&&o.clear();var s=function(e,t){return ge(t.clipboardData||e.getDoc().dataTransfer)}(e,l),c="text"===n.get()||r,d=ve(s,V());r=!1,l.isDefaultPrevented()||function(e){var t=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}(l)?t.remove():be(s)||!ke(e,l,t.getLastRng()||e.selection.getRng())?(u||l.preventDefault(),!S.ie||u&&!l.ieFake||ve(s,"text/html")||(t.create(),e.dom.bind(t.getEl(),"paste",(function(e){e.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),s["text/html"]=t.getHtml()),ve(s,"text/html")?(l.preventDefault(),d||(d=F(s["text/html"])),a(e,s,u,c,d)):_.setEditorTimeout(e,(function(){a(e,s,u,c,d)}),0)):t.remove()}))},Oe=function(e){return S.ie&&e.inline?document.body:e.getBody()},Te=function(e,t,n){(function(e){return Oe(e)!==e.getBody()})(e)&&e.dom.bind(t,"paste keyup",(function(t){Me(e,n)||e.fire("paste")}))},Ee=function(e){return e.dom.get("mcepastebin")},Ae=function(e,t){return t===e},Me=function(e,t){var n,r=Ee(e);return(n=r)&&"mcepastebin"===n.id&&Ae(t,r.innerHTML)},De=function(e){var t=r(null),n="%MCEPASTEBIN%";return{create:function(){return function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var i=e.dom.add(Oe(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(S.ie||S.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),Te(e,i,n),i.focus(),e.selection.select(i,!0)}(e,t,n)},remove:function(){return function(e,t){if(Ee(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)}(e,t)},getEl:function(){return Ee(e)},getHtml:function(){return function(e){var t=function(t,n){t.appendChild(n),e.dom.remove(n,!0)},n=A.grep(Oe(e).childNodes,(function(e){return"mcepastebin"===e.id})),r=n.shift();A.each(n,(function(e){t(r,e)}));for(var o=e.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=e.dom.create("div");r.insertBefore(a,o[i]),t(a,o[i])}return r?r.innerHTML:""}(e)},getLastRng:t.get,isDefault:function(){return Me(e,n)},isDefaultContent:function(e){return Ae(n,e)}}},Ne=function(e,t){var n=De(e);return e.on("PreInit",(function(){return function(e,t,n){var r;_e(e,t,n),e.parser.addNodeFilter("img",(function(t,n,o){var i,a=function(e){e.attr("data-mce-object")||r===S.transparentSrc||e.remove()},l=function(e){return 0===e.indexOf("data:")};if(!B(e)&&(i=o).data&&!0===i.data.paste)for(var u=t.length;u--;)(r=t[u].attr("src"))&&(0===r.indexOf("webkit-fake-url")||!z(e)&&l(r))&&a(t[u])}))}(e,n,t)})),{pasteFormat:t,pasteHtml:function(t,n){return me(e,t,n)},pasteText:function(t){return he(e,t)},pasteImageData:function(t,n){return ke(e,t,n)},getDataTransferItems:ge,hasHtmlOrText:be,hasContentType:ve}},Pe=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){!function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),E(e,!1)):(t.pasteFormat.set("text"),E(e,!0)),e.focus()}(e,t)})),e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)}))},ze=function(e,t,n){if(!function(e){return!1===S.iOS&&"function"==typeof(null==e?void 0:e.setData)}(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(V(),t),!0}catch(r){return!1}},Be=function(e,t,n,r){ze(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Re=function(e){return function(t,n){var r=function(e){return L+e}(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var l=e.dom.createRng();l.selectNodeContents(i),e.selection.setRng(l),_.setTimeout((function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()}),0)}},Ie=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Le=function(e){return!e.selection.isCollapsed()||function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())}(e)},Fe=function(e){e.on("cut",function(e){return function(t){Le(e)&&Be(t,Ie(e),Re(e),(function(){if(S.browser.isChrome()||S.browser.isFirefox()){var t=e.selection.getRng();_.setEditorTimeout(e,(function(){e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}}(e)),e.on("copy",function(e){return function(t){Le(e)&&Be(t,Ie(e),Re(e),l)}}(e))},Ve=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),He=function(e,t){return Ve.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},je=function(e,t){e.focus(),e.selection.setRng(t)},$e=function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))},Ue=function(e,t){if(!J(t))return t;var n=[];A.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=X(t,[[r,"$1"]]),t=X(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])},We=function(e,t,n,r){if(r||n)return t;var o,i=function(e){return e.getParam("paste_webkit_styles")}(e);if(!1===function(e){return e.getParam("paste_remove_styles_if_webkit",!0)}(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,l=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var i=a.parseStyle(a.decode(n)),u={};if("none"===o)return t+r;for(var s=0;s<o.length;s++){var c=i[o[s]],d=a.getStyle(l,o[s],!0);/color/.test(o[s])&&(c=a.toHex(c),d=a.toHex(d)),d!==c&&(u[o[s]]=c)}var f=a.serializeStyle(u,"span");return f?t+' style="'+f+'"'+r:t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r}))},qe=function(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))},Ke=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}};o.add("paste",(function(e){if(!1===function(e){return!!e.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)}(e)){var t=r(!1),n=r(function(e){return e.getParam("paste_as_text",!1)}(e)?"text":"html"),o=Ne(e,n);return function(e){S.webkit&&$e(e,We),S.ie&&($e(e,Ue),function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))}(e,qe))}(e),function(e,t){var n=function(){return e.execCommand("mceTogglePlainTextPaste")};e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:Ke(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:Ke(e,t)})}(e,o),Pe(e,o),function(e){var t=e.plugins.paste,n=function(e){return e.getParam("paste_preprocess")}(e);n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var r=function(e){return e.getParam("paste_postprocess")}(e);r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))}(e),Fe(e),function(e,t,n){(function(e){return e.getParam("paste_block_drop",!1)})(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),M(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),e.on("drop",(function(r){var o=He(e,r);if(!r.isDefaultPrevented()&&!n.get()){var i,a=t.getDataTransferItems(r.dataTransfer),l=t.hasContentType(a,V());if((t.hasHtmlOrText(a)&&(!(i=a["text/plain"])||0!==i.indexOf("file://"))||!t.pasteImageData(r,o))&&o&&function(e){return e.getParam("paste_filter_drop",!0)}(e)){var u=a["mce-internal"]||a["text/html"]||a["text/plain"];u&&(r.preventDefault(),_.setEditorTimeout(e,(function(){e.undoManager.transact((function(){a["mce-internal"]&&e.execCommand("Delete"),je(e,o),u=Z(u),a["text/html"]?t.pasteHtml(u,l):t.pasteText(u)}))})))}}})),e.on("dragstart",(function(e){n.set(!0)})),e.on("dragover dragend",(function(t){M(e)&&!1===n.get()&&(t.preventDefault(),je(e,He(e,t))),"dragend"===t.type&&n.set(!1)}))}(e,o,t),function(e){return{clipboard:e}}(o)}}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){var r=function(e){var r="",o=e.dom.encode,i=function(e){return e.getParam("content_style","","string")}(e);r+='<base href="'+o(e.documentBaseURI.getURI())+'">';var a=function(e){return e.getParam("content_css_cors",!1,"boolean")}(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(function(t){r+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+a+">"})),i&&(r+='<style type="text/css">'+i+"</style>");var l=function(e){var t=e.getParam("body_id","tinymce","string");return-1===t.indexOf("=")?t:function(e){var t=e.getParam("body_id","","hash");return t[e.id]||t}(e)}(e),u=function(e){var t=e.getParam("body_class","","string");return-1===t.indexOf("=")?t:function(e){return e.getParam("body_class","","hash")[e.id]||""}(e)}(e),s='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.mac?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",c=e.getBody().dir,d=c?' dir="'+o(c)+'"':"";return"<!DOCTYPE html><html><head>"+r+'</head><body id="'+o(l)+'" class="mce-content-body '+o(u)+'"'+d+">"+e.getContent()+s+"</body></html>"}(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:r}}).focus("close")};e.add("preview",(function(e){!function(e){e.addCommand("mcePreview",(function(){r(e)}))}(e),function(e){var t=function(){return e.execCommand("mcePreview")};e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");e.add("print",(function(e){!function(e){e.addCommand("mcePrint",(function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()}))}(e),function(e){var t=function(){return e.execCommand("mcePrint")};e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:t}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:t})}(e),e.addShortcut("Meta+P","","mcePrint")}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=0,n=function(e,n,r){var o,i,a=e.editorUpload.blobCache,l=a.create((o="mceu",i=(new Date).getTime(),o+"_"+Math.floor(1e9*Math.random())+ ++t+String(i)),r,n);a.add(l),e.insertContent(e.dom.createHTML("img",{src:l.blobUri()}))},r=tinymce.util.Tools.resolve("tinymce.util.Promise"),o=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),a=function(e){e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:function(){(function(e){return new r((function(t){var n=document.createElement("input");n.type="file",n.accept="image/*",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.opacity="0.001",document.body.appendChild(n),n.addEventListener("change",(function(e){t(Array.prototype.slice.call(e.target.files))}));var r=function(a){var l=function(){t([]),n.parentNode.removeChild(n)};o.os.isAndroid()&&"remove"!==a.type?i.setEditorTimeout(e,l,0):l(),e.off("focusin remove",r)};e.on("focusin remove",r),n.click()}))})(e).then((function(t){if(t.length>0){var o=t[0];(i=o,new r((function(e){var t=new FileReader;t.onloadend=function(){e(t.result.split(",")[1])},t.readAsDataURL(i)}))).then((function(t){n(e,t,o)}))}var i}))}}),e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:function(){!function(e,t,n){e.plugins.table?e.plugins.table.insertTable(t,n):function(e,t,n){e.undoManager.transact((function(){e.insertContent(function(e,t){var n='<table data-mce-id="mce" style="width: 100%">';n+="<tbody>";for(var r=0;r<t;r++){n+="<tr>";for(var o=0;o<e;o++)n+="<td><br></td>";n+="</tr>"}return(n+="</tbody>")+"</table>"}(t,n));var r=function(e){return e.dom.select("*[data-mce-id]")[0]}(e);r.removeAttribute("data-mce-id");var o=e.dom.select("td,th",r);e.selection.setCursorLocation(o[0],0)}))}(e,t,n)}(e,2,2)}})},l=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},u=function(e){return function(t){return typeof t===e}},s=l("string"),c=l("object"),d=l("array"),f=u("boolean"),p=function(e){return function(t){return e===t}}(void 0),m=u("function"),h=function(){},g=function(e){return function(){return e}},v=function(e){return e},b=g(!1),y=g(!0),w=function(){return x},x=function(){var e=function(e){return e()},t=v;return{fold:function(e,t){return e()},isSome:b,isNone:y,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:t,orThunk:e,map:w,each:h,bind:w,exists:b,forall:y,filter:function(){return w()},toArray:function(){return[]},toString:g("none()")}}(),C=function(e){var t=g(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:y,isNone:b,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},k={some:C,none:w,from:function(e){return null==e?x:C(e)}};function S(e,t,n,r,o){return e(n,r)?k.some(n):m(o)&&o(n)?k.none():t(n,r,o)}var _=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},O={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return _(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return _(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return _(n)},fromDom:_,fromPoint:function(e,t,n){return k.from(e.dom.elementFromPoint(t,n)).map(_)}},T=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")};"undefined"!=typeof window?window:Function("return this;")();var E,A=function(e,t,n){for(var r=e.dom,o=m(n)?n:b;r.parentNode;){r=r.parentNode;var i=O.fromDom(r);if(t(i))return k.some(i);if(o(i))break}return k.none()},M=function(e,t,n){return A(e,(function(e){return T(e,t)}),n)},D=(E=s,function(e,t,n){return function(e,t){if(t(e))return!0;throw new Error("Default value doesn't match requested type.")}(n,E),function(e,t){if(d(e)||c(e))throw new Error("expected a string but found: "+e);return p(e)?t:f(e)?!1===e?"":t:e}(e.getParam(t,n),n)}),N=function(e){var t=function(e){return D(e,"quickbars_insert_toolbar","quickimage quicktable")}(e);t.trim().length>0&&e.ui.registry.addContextToolbar("quickblock",{predicate:function(t){var n=O.fromDom(t),r=e.schema.getTextBlockElements(),o=function(t){return t.dom===e.getBody()};return function(e,t,n){return S((function(e,t){return T(e,t)}),M,e,t,n)}(n,"table",o).fold((function(){return function(e,t,n){return S((function(e,t){return t(e)}),A,e,t,n)}(n,(function(t){return t.dom.nodeName.toLowerCase()in r&&e.dom.isEmpty(t.dom)}),o).isSome()}),b)},items:t,position:"line",scope:"editor"})},P=function(e){var t=function(e){return"IMG"===e.nodeName||"FIGURE"===e.nodeName&&/image/i.test(e.className)},n=function(e){return D(e,"quickbars_image_toolbar","alignleft aligncenter alignright")}(e);n.trim().length>0&&e.ui.registry.addContextToolbar("imageselection",{predicate:t,items:n,position:"node"});var r=function(e){return D(e,"quickbars_selection_toolbar","bold italic | quicklink h2 h3 blockquote")}(e);r.trim().length>0&&e.ui.registry.addContextToolbar("textselection",{predicate:function(n){return!t(n)&&!e.selection.isCollapsed()&&function(t){return"false"!==e.dom.getContentEditableParent(t)}(n)},items:r,position:"selection",scope:"editor"})};e.add("quickbars",(function(e){a(e),N(e),P(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){return e.getParam("save_enablewhendirty",!0)},o=function(e,t){e.notificationManager.open({text:t,type:"error"})},i=function(e){e.addCommand("mceSave",(function(){!function(e){var n=t.DOM.getParent(e.id,"form");if(!r(e)||e.isDirty()){if(e.save(),function(e){return!!e.getParam("save_onsavecallback")}(e))return e.execCallback("save_onsavecallback",e),void e.nodeChanged();n?(e.setDirty(!1),n.onsubmit&&!n.onsubmit()||("function"==typeof n.submit?n.submit():o(e,"Error: Form submit field collision.")),e.nodeChanged()):o(e,"Error: No form element found.")}}(e)})),e.addCommand("mceCancel",(function(){!function(e){var t=n.trim(e.startContent);!function(e){return!!e.getParam("save_oncancelcallback")}(e)?e.resetContent(t):e.execCallback("save_oncancelcallback",e)}(e)}))},a=function(e){return function(t){var n=function(){t.setDisabled(r(e)&&!e.isDirty())};return n(),e.on("NodeChange dirty",n),function(){return e.off("NodeChange dirty",n)}}};e.add("save",(function(e){!function(e){e.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return e.execCommand("mceSave")},onSetup:a(e)}),e.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return e.execCommand("mceCancel")},onSetup:a(e)}),e.addShortcut("Meta+S","","mceSave")}(e),i(e)}))}(),function(){var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},o=function(e){return function(t){return typeof t===e}},i=r("string"),a=r("array"),l=o("boolean"),u=o("number"),s=function(){},c=function(e){return function(){return e}},d=function(e){return e},f=c(!1),p=c(!0),m=c("[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]"),h=function(){return g},g=function(){var e=function(e){return e()},t=d;return{fold:function(e,t){return e()},isSome:f,isNone:p,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:t,orThunk:e,map:h,each:s,bind:h,exists:f,forall:p,filter:function(){return h()},toArray:function(){return[]},toString:c("none()")}}(),v=function(e){var t=c(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:p,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return v(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:g},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},b={some:v,none:h,from:function(e){return null==e?g:v(e)}},y=m,w=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=Array.prototype.slice,C=Array.prototype.push,k=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},S=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},_=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},O=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);C.apply(t,e[n])}return t}(k(e,t))},T=Object.hasOwnProperty,E=function(e,t){return T.call(e,t)};"undefined"!=typeof window?window:Function("return this;")();var A=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}}(3),M=function(e,t,n){!function(e,t,n){if(!(i(n)||l(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},D=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},N={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return D(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return D(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return D(n)},fromDom:D,fromPoint:function(e,t,n){return b.from(e.dom.elementFromPoint(t,n)).map(D)}},P=function(e,t){return{element:e,offset:t}},z=function(e,t){var n=function(e){return k(e.dom.childNodes,N.fromDom)}(e);return n.length>0&&t<n.length?P(n[t],0):P(e,t)},B=function(e,t){(function(e){return b.from(e.dom.parentNode).map(N.fromDom)})(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},R=function(e,t){B(e,t),function(e,t){e.dom.appendChild(t.dom)}(t,e)},I=function(e,t){var n=function(t){return e(t)?b.from(t.dom.nodeValue):b.none()};return{get:function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r}}}(A,"text"),L=function(e){return I.get(e)},F=function(e,t){return function(e,t){var n,r=void 0===t?document:t.dom;return 1!==(n=r).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:k(r.querySelectorAll(e),N.fromDom)}(t,e)},V=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),H=function(e,t){return e.isBlock(t)||E(e.schema.getShortEndedElements(),t.nodeName)},j=function(e,t){return"false"===e.getContentEditable(t)},$=function(e,t){return!e.isBlock(t)&&E(e.schema.getWhiteSpaceElements(),t.nodeName)},U=function(e,t){return z(N.fromDom(e),t)},W=function(e,t,n,r,o,i){void 0===i&&(i=!0);for(var a=i?t(!1):n;a;){var l=j(e,a);if(l||$(e,a)){if(l?r.cef(a):r.boundary(a))break;a=t(!0)}else{if(H(e,a)){if(r.boundary(a))break}else 3===a.nodeType&&r.text(a);if(a===o)break;a=t(!1)}}},q=function(e,t,n,r,o){if(!function(e,t){return H(e,t)||j(e,t)||$(e,t)||function(e,t){return"true"===e.getContentEditable(t)&&"false"===e.getContentEditableParent(t.parentNode)}(e,t)}(e,n)){var i=e.getParent(r,e.isBlock),a=new V(n,i),l=o?a.next.bind(a):a.prev.bind(a);W(e,l,n,{boundary:p,cef:p,text:function(e){o?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(N.fromDom(e))}})}},K=function(e,t,n,r,o,i){void 0===i&&(i=!0);var a=new V(n,t),l=[],u={sOffset:0,fOffset:0,elements:[]};q(e,u,n,t,!1);var s=function(){return u.elements.length>0&&(l.push(u),u={sOffset:0,fOffset:0,elements:[]}),!1};return W(e,a.next.bind(a),n,{boundary:s,cef:function(e){return s(),o&&l.push.apply(l,o.cef(e)),!1},text:function(e){u.elements.push(N.fromDom(e)),o&&o.text(e,u)}},r,i),r&&q(e,u,r,t,!0),s(),l},Y=function(e,t){var n=U(t.startContainer,t.startOffset),r=n.element.dom,o=U(t.endContainer,t.endOffset),i=o.element.dom;return K(e,t.commonAncestorContainer,r,i,{text:function(e,t){e===i?t.fOffset+=e.length-o.offset:e===r&&(t.sOffset+=n.offset)},cef:function(t){var n,r,o,i=O(F(N.fromDom(t),"*[contenteditable=true]"),(function(t){var n=t.dom;return K(e,n,n)}));return n=i,r=function(e,t){return function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,Node.DOCUMENT_POSITION_PRECEDING)}(e.elements[0].dom,t.elements[0].dom)?1:-1},(o=x.call(n,0)).sort(r),o}},!1)},G=function(e,t){return t.collapsed?[]:Y(e,t)},X=function(e,t){var n=e.createRng();return n.selectNode(t),G(e,n)},Z=function(e,t){var n,r,o;return function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var l=e[i],u=t(l);u!==n&&(r.push(o),o=[]),n=u,o.push(l)}return 0!==o.length&&r.push(o),r}((n=e,r=function(e,n){var r=L(n),o=e.last,i=o+r.length,a=O(t,(function(e,t){return e.start<i&&e.finish>o?[{element:n,start:Math.max(o,e.start)-o,finish:Math.min(i,e.finish)-o,matchId:t}]:[]}));return{results:e.results.concat(a),last:i}},o={results:[],last:0},S(n,(function(e,t){o=r(o,e,t)})),o).results,(function(e){return e.matchId}))},J=function(e,t){return O(t,(function(t){var n=t.elements,r=k(n,L).join(""),o=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length);var o=t.regex;o.lastIndex=n;for(var i,a=[];i=o.exec(e);){var l=i[t.matchIndex],u=i.index+i[0].indexOf(l),s=u+l.length;if(s>r)break;a.push({start:u,finish:s}),o.lastIndex=s}return a}(r,e,t.sOffset,r.length-t.fOffset);return Z(n,o)}))},Q=function(e,t){_(e,(function(e,n){_(e,(function(e){var r=N.fromDom(t.cloneNode(!1));M(r,"data-mce-index",n);var o=e.element.dom;if(o.length===e.finish&&0===e.start)R(e.element,r);else{o.length!==e.finish&&o.splitText(e.finish);var i=o.splitText(e.start);R(N.fromDom(i),r)}}))}))},ee=function(e,t,n,r){var o=n.getBookmark(),i=e.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?function(e,t){return O(t,(function(t){return X(e,t)}))}(e,i):G(e,n.getRng()),l=J(t,a);return Q(l,r),n.moveToBookmark(o),l.length},te=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},ne=function(e,t,n,r){var o=e.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=e.getBody();return fe(e,t,!1),r?ee(e.dom,n,e.selection,o):function(e,t,n,r){var o=X(e,n),i=J(t,o);return Q(i,r),i.length}(e.dom,n,i,o)},re=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},oe=function(e,t){var n=[],r=w.toArray(e.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=te(r[o]);null!==i&&i.length&&(i===t.toString()&&n.push(r[o]))}return n},ie=function(e,t,n){var r=t.get(),o=r.index,i=e.dom;(n=!1!==n)?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(oe(e,r.index),"mce-match-marker-selected");var a=oe(e,o);return a.length?(i.addClass(oe(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),o):-1},ae=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},le=function(e,t,n,r,o,i){var a=function(e,t){var n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?"(?:^|\\s|"+y()+")"+n+"(?=$|\\s|"+y()+")":n}(n,o),l={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},u=ne(e,t,l,i);if(u){var s=ie(e,t,!0);t.set({index:s,count:u,text:n,matchCase:r,wholeWord:o,inSelection:i})}return u},ue=function(e,t){var r=ie(e,t,!0);t.set(n(n({},t.get()),{index:r}))},se=function(e,t){var r=ie(e,t,!1);t.set(n(n({},t.get()),{index:r}))},ce=function(e){var t=te(e);return null!==t&&t.length>0},de=function(e,t,r,o,i){var a,l=t.get(),u=l.index,s=u;o=!1!==o;for(var c=e.getBody(),d=w.grep(w.toArray(c.getElementsByTagName("span")),ce),f=0;f<d.length;f++){var p=te(d[f]),m=a=parseInt(p,10);if(i||m===l.index){for(r.length?(d[f].firstChild.nodeValue=r,re(d[f])):ae(e.dom,d[f]);d[++f];){if((m=parseInt(te(d[f]),10))!==a){f--;break}ae(e.dom,d[f])}o&&s--}else a>u&&d[f].setAttribute("data-mce-index",String(a-1))}return t.set(n(n({},l),{count:i?0:l.count-1,index:s})),o?ue(e,t):se(e,t),!i&&t.get().count>0},fe=function(e,t,r){for(var o,i,a=t.get(),l=w.toArray(e.getBody().getElementsByTagName("span")),u=0;u<l.length;u++){var s=te(l[u]);null!==s&&s.length&&(s===a.index.toString()&&(o||(o=l[u].firstChild),i=l[u].firstChild),re(l[u]))}if(t.set(n(n({},a),{index:-1,count:0,text:""})),o&&i){var c=e.dom.createRng();return c.setStart(o,0),c.setEnd(i,i.data.length),!1!==r&&e.selection.setRng(c),c}},pe=function(){var t=function(t){var n=e(b.none()),r=function(){return n.get().each(t)};return{clear:function(){r(),n.set(b.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){r(),n.set(b.some(e))}}}(s);return n(n({},t),{on:function(e){return t.get().each(e)}})},me=tinymce.util.Tools.resolve("tinymce.Env"),he=function(e,t){var r=pe();e.undoManager.add();var o=w.trim(e.selection.getContent({format:"text"})),i=function(e){(function(e,t){return t.get().count>1}(0,t)?e.enable:e.disable)("next"),(function(e,t){return t.get().count>1}(0,t)?e.enable:e.disable)("prev")},a=function(e,t){var n=t?e.disable:e.enable;S(["replace","replaceall","prev","next"],n)},l=function(e,t){me.browser.isSafari()&&me.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},u=function(n){fe(e,t,!1),a(n,!0),i(n)},s=function(n){var r=n.getData(),o=t.get();if(r.findtext.length){if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords)ue(e,t);else{var l=le(e,t,r.findtext,r.matchcase,r.wholewords,r.inselection);l<=0&&function(t){e.windowManager.alert("Could not find the specified string.",(function(){t.focus("findtext")}))}(n),a(n,0===l)}i(n)}else u(n)},c=t.get(),d={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:{findtext:o,replacetext:"",wholewords:c.wholeWord,matchcase:c.matchCase,inselection:c.inSelection},onChange:function(e,n){"findtext"===n.name&&t.get().count>0&&u(e)},onAction:function(r,o){var a=r.getData();switch(o.name){case"find":s(r);break;case"replace":de(e,t,a.replacetext)?i(r):u(r);break;case"replaceall":de(e,t,a.replacetext,!0,!0),u(r);break;case"prev":se(e,t),i(r);break;case"next":ue(e,t),i(r);break;case"matchcase":case"wholewords":case"inselection":!function(e){var r=e.getData(),o=t.get();t.set(n(n({},o),{matchCase:r.matchcase,wholeWord:r.wholewords,inSelection:r.inselection}))}(r),u(r)}l(r,o.name)},onSubmit:function(e){s(e),l(e,"find")},onClose:function(){e.focus(),fe(e,t),e.undoManager.add()}};r.set(e.windowManager.open(d,{inline:"toolbar"}))},ge=function(e,t){return function(){he(e,t)}};t.add("searchreplace",(function(t){var n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return function(e,t){e.addCommand("SearchReplace",(function(){he(e,t)}))}(t,n),function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:ge(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:ge(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",ge(e,t))}(t,n),function(e,t){return{done:function(n){return fe(e,t,n)},find:function(n,r,o,i){return void 0===i&&(i=!1),le(e,t,n,r,o,i)},next:function(){return ue(e,t)},prev:function(){return se(e,t)},replace:function(n,r,o){return de(e,t,n,r,o)}}}(t,n)}))}(),function(){var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=Object.hasOwnProperty,r=tinymce.util.Tools.resolve("tinymce.util.Tools"),o=tinymce.util.Tools.resolve("tinymce.util.URI"),i=tinymce.util.Tools.resolve("tinymce.util.XHR"),a=function(e){return e.getParam("spellchecker_rpc_url")},l=function(e){var t=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`]+',"g");return e.getParam("spellchecker_wordchar_pattern",t)},u=function(e){return e&&1===e.nodeType&&"false"===e.contentEditable},s=function(e,t){var n,r=[],o=t.dom,i=t.schema.getBlockElements(),a=t.schema.getWhiteSpaceElements(),l=t.schema.getShortEndedElements(),s=function(e,t){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}},c=function(e){if(3===e.nodeType)return e.data;if(a[e.nodeName]&&!i[e.nodeName])return"";if(u(e))return"\n";var t="";if((i[e.nodeName]||l[e.nodeName])&&(t+="\n"),e=e.firstChild)do{t+=c(e)}while(e=e.nextSibling);return t},d=function(e){for(var t=e.parentNode;e.childNodes.length>0;)t.insertBefore(e.childNodes[0],e);t.removeChild(e)},f=function(t){var n=e.getElementsByTagName("*"),r=[];t="number"==typeof t?""+t:null;for(var o=0;o<n.length;o++){var i=n[o],a=i.getAttribute("data-mce-index");null!==a&&a.length&&-1!==i.className.indexOf("mce-spellchecker-word")&&(a!==t&&null!==t||r.push(i))}return r},p=function(e){for(var t=r.length;t--;)if(r[t]===e)return t;return-1};function m(e){for(var t=0,n=r.length;t<n&&!1!==e(r[t],t);t++);return this}function h(e){var t,n=f(e?p(e):null);for(t=n.length;t--;)d(n[t]);return this}var g=function(e){var n=f(p(e)),r=t.dom.createRng();return r.setStartBefore(n[0]),r.setEndAfter(n[n.length-1]),r};var v=c(e);return{text:v,matches:r,each:m,filter:function(e){var t=[];return m((function(n,r){e(n,r)&&t.push(n)})),r=t,this},reset:function(){return r.splice(0,r.length),h(),this},matchFromElement:function(e){return r[e.getAttribute("data-mce-index")]},elementFromMatch:function(e){return f(p(e))[0]},find:function(e,t){if(v&&e.global)for(;n=e.exec(v);)r.push(s(n,t));return this},add:function(e,t,n){return r.push({start:e,end:e+t,text:v.substr(e,t),data:n}),this},wrap:function(t){return r.length&&function(e,t,n){var r,o,s,c,d,f=[],p=0,m=e,h=0;(t=t.slice(0)).sort((function(e,t){return e.start-t.start})),d=t.shift();e:for(;;){if((i[m.nodeName]||l[m.nodeName]||u(m))&&p++,3===m.nodeType&&(!o&&m.length+p>=d.end?(o=m,c=d.end-p):r&&f.push(m),!r&&m.length+p>d.start&&(r=m,s=d.start-p),p+=m.length),r&&o){if(m=n({startNode:r,startNodeIndex:s,endNode:o,endNodeIndex:c,innerNodes:f,match:d.text,matchIndex:h}),p-=o.length-c,r=null,o=null,f=[],h++,!(d=t.shift()))break}else if(a[m.nodeName]&&!i[m.nodeName]||!m.firstChild){if(m.nextSibling){m=m.nextSibling;continue}}else if(!u(m)){m=m.firstChild;continue}for(;;){if(m.nextSibling){m=m.nextSibling;break}if(m.parentNode===e)break e;m=m.parentNode}}}(e,r,function(e){var t=function(t,n){var i=r[n];i.stencil||(i.stencil=e(i));var a=i.stencil.cloneNode(!1);return a.setAttribute("data-mce-index",""+n),t&&a.appendChild(o.doc.createTextNode(t)),a};return function(e){var n,r,i,a=e.startNode,l=e.endNode,u=e.matchIndex,s=o.doc;if(a===l){var c=a;i=c.parentNode,e.startNodeIndex>0&&(n=s.createTextNode(c.data.substring(0,e.startNodeIndex)),i.insertBefore(n,c));var d=t(e.match,u);return i.insertBefore(d,c),e.endNodeIndex<c.length&&(r=s.createTextNode(c.data.substring(e.endNodeIndex)),i.insertBefore(r,c)),c.parentNode.removeChild(c),d}n=s.createTextNode(a.data.substring(0,e.startNodeIndex)),r=s.createTextNode(l.data.substring(e.endNodeIndex));for(var f=t(a.data.substring(e.startNodeIndex),u),p=0,m=e.innerNodes.length;p<m;++p){var h=e.innerNodes[p],g=t(h.data,u);h.parentNode.replaceChild(g,h)}var v=t(l.data.substring(0,e.endNodeIndex),u);return(i=a.parentNode).insertBefore(n,a),i.insertBefore(f,a),i.removeChild(a),(i=l.parentNode).insertBefore(v,l),i.insertBefore(r,l),i.removeChild(l),v}}(t)),this},unwrap:h,replace:function(e,n){var r=g(e);return r.deleteContents(),n.length>0&&r.insertNode(t.dom.doc.createTextNode(n)),r},rangeFromMatch:g,indexOf:p}},c=function(e,t){if(!t.get()){var n=s(e.getBody(),e);t.set(n)}return t.get()},d=function(e,t,n,l,u,s,c){var d=function(e){return e.getParam("spellchecker_callback")}(e);(d||function(e,t,n){return function(l,u,s,c){var d={method:l,lang:n.get()},f="";d["addToDictionary"===l?"word":"text"]=u,r.each(d,(function(e,t){f&&(f+="&"),f+=t+"="+encodeURIComponent(e)})),i.send({url:new o(t).toAbsolute(a(e)),type:"post",content_type:"application/x-www-form-urlencoded",data:f,success:function(t){var n=JSON.parse(t);if(n)n.error?c(n.error):s(n);else{var r=e.translate("Server response wasn't proper JSON.");c(r)}},error:function(){var t=e.translate("The spelling service was not found: (")+a(e)+e.translate(")");c(t)}})}}(e,t,n)).call(e.plugins.spellchecker,l,u,s,c)},f=function(e,t,n,r,o,i){if(!h(e,n,r)){e.setProgressState(!0),d(e,t,i,"spellcheck",c(e,r).text,(function(t){v(e,n,r,o,t)}),(function(t){e.notificationManager.open({text:t,type:"error"}),e.setProgressState(!1),h(e,n,r)})),e.focus()}},p=function(e,t,n){e.dom.select("span.mce-spellchecker-word").length||h(e,t,n)},m=function(e,t,n,o,i,a){e.selection.collapse(),a?r.each(e.dom.select("span.mce-spellchecker-word"),(function(t){t.getAttribute("data-mce-word")===o&&e.dom.remove(t,!0)})):e.dom.remove(i,!0),p(e,t,n)},h=function(e,t,n){var r=e.selection.getBookmark();if(c(e,n).reset(),e.selection.moveToBookmark(r),n.set(null),t.get())return t.set(!1),function(e){e.fire("SpellcheckEnd")}(e),!0},g=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},v=function(e,t,r,o,i){var a=!!i.dictionary,u=i.words;if(e.setProgressState(!1),function(e){for(var t in e)if(n.call(e,t))return!1;return!0}(u)){var s=e.translate("No misspellings found.");return e.notificationManager.open({text:s,type:"info"}),void t.set(!1)}o.set({suggestions:u,hasDictionarySupport:a});var d=e.selection.getBookmark();c(e,r).find(l(e)).filter((function(e){return!!u[e.text]})).wrap((function(t){return e.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":t.text})})),e.selection.moveToBookmark(d),t.set(!0),function(e){e.fire("SpellcheckStart")}(e)},b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y="SpellcheckStart SpellcheckEnd",w=function(e,t,n,o,i,a){var l,u,s=(l=function(e){return r.map(function(e){return e.getParam("spellchecker_languages","English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv")}(e).split(","),(function(e){var t=e.split("=");return{name:t[0],value:t[1]}}))}(e),u=[],r.each(l,(function(e){u.push({selectable:!0,text:e.name,data:e.value})})),u),c=function(){f(e,t,n,o,a,i)},d={tooltip:"Spellcheck",onAction:c,icon:"spell-check",onSetup:function(t){var r=function(){t.setActive(n.get())};return e.on(y,r),function(){e.off(y,r)}}},p=b(b({},d),{type:"splitbutton",select:function(e){return e===i.get()},fetch:function(e){e(r.map(s,(function(e){return{type:"choiceitem",value:e.data,text:e.text}})))},onItemAction:function(e,t){i.set(t)}});s.length>1?e.ui.registry.addSplitButton("spellchecker",p):e.ui.registry.addToggleButton("spellchecker",d),e.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(t){t.setActive(n.get());var r=function(){t.setActive(n.get())};return e.on(y,r),function(){e.off(y,r)}},onAction:c})},x=function(e,t,n,o,i,a,l,u){var s=[],c=n.get().suggestions[l];return r.each(c,(function(t){s.push({text:t,onAction:function(){e.insertContent(e.dom.encode(t)),e.dom.remove(u),p(e,o,i)}})})),n.get().hasDictionarySupport&&(s.push({type:"separator"}),s.push({text:"Add to dictionary",onAction:function(){!function(e,t,n,r,o,i,a){e.setProgressState(!0),d(e,t,o,"addToDictionary",i,(function(){e.setProgressState(!1),e.dom.remove(a,!0),p(e,n,r)}),(function(t){e.notificationManager.open({text:t,type:"error"}),e.setProgressState(!1)}))}(e,t,o,i,a,l,u)}})),s.push.apply(s,[{type:"separator"},{text:"Ignore",onAction:function(){m(e,o,i,l,u)}},{text:"Ignore all",onAction:function(){m(e,o,i,l,u,true)}}]),s},C=function(e,t,n,o,i,a){e.ui.registry.addContextMenu("spellchecker",{update:function(l){var u=l;if("mce-spellchecker-word"!==u.className)return[];var s=function(e,t){var n=[],o=r.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(var i=0;i<o.length;i++){var a=g(o[i]);null!==a&&a.length&&a===t.toString()&&n.push(o[i])}return n}(e,g(u));if(s.length>0){var c=e.dom.createRng();return c.setStartBefore(s[0]),c.setEndAfter(s[s.length-1]),e.selection.setRng(c),x(e,t,n,o,i,a,u.getAttribute("data-mce-word"),s)}}})};t.add("spellchecker",(function(t,n){if(!1===function(e){return!!e.hasPlugin("tinymcespellchecker",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0)}(t)){console.warn("The spellchecker plugin has been deprecated and marked for removal in TinyMCE 6.0");var r=e(!1),o=e(function(e){var t=e.getParam("language","en");return e.getParam("spellchecker_language",t)}(t)),i=e(null),a=e(null);return w(t,n,r,i,o,a),C(t,n,a,r,i,o),function(e,t,n,r,o,i){e.addCommand("mceSpellCheck",(function(){f(e,t,n,r,o,i)}))}(t,n,r,i,a,o),function(e,t,n,r,o){return{getTextMatcher:r.get,getWordCharPattern:function(){return l(e)},markErrors:function(o){v(e,t,r,n,o)},getLanguage:o.get}}(t,r,a,i,o)}}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.EditorManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),o=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=tinymce.util.Tools.resolve("tinymce.util.VK"),l=t.DOM,u=function(e){e.keyCode!==a.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};e.add("tabfocus",(function(e){!function(e){var t=function(t){var u;if(!(t.keyCode!==a.TAB||t.ctrlKey||t.altKey||t.metaKey||t.isDefaultPrevented())){var s,c=function(r){var o=l.select(":input:enabled,*[tabindex]:not(iframe)"),a=function(e){var t=e;return"BODY"===e.nodeName||"hidden"!==t.type&&"none"!==t.style.display&&"hidden"!==t.style.visibility&&a(e.parentNode)},s=function(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&n.get(t.id)&&-1!==e.tabIndex&&a(e)};if(i.each(o,(function(t,n){if(t.id===e.id)return u=n,!1})),r>0){for(var c=u+1;c<o.length;c++)if(s(o[c]))return o[c]}else for(c=u-1;c>=0;c--)if(s(o[c]))return o[c];return null},d=i.explode(function(e){return e.getParam("tab_focus",function(e){return e.getParam("tabfocus_elements",":prev,:next")}(e))}(e));if(1===d.length&&(d[1]=d[0],d[0]=":prev"),s=t.shiftKey?":prev"===d[0]?c(-1):l.get(d[0]):":next"===d[1]?c(1):l.get(d[1])){var f=n.get(s.id||s.name);s.id&&f?f.focus():o.setTimeout((function(){r.webkit||window.focus(),s.focus()}),10),t.preventDefault()}}};e.on("init",(function(){e.inline&&l.setAttrib(e.getBody(),"tabIndex",null),e.on("keyup",u),r.gecko?e.on("keypress keydown",t):e.on("keydown",t)}))}(e)}))}(),function(){var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=(e="string",function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}),r=function(e){return function(t){return typeof t===e}}("function"),o=function(){},i=function(e){return function(){return e}},a=function(e){return e};var l=i(!1),u=i(!0),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=tinymce.util.Tools.resolve("tinymce.util.XHR"),d=function(e){return e.getParam("template_mdate_classes","mdate")},f=function(e){return e.getParam("template_replace_values")},p=function(e){return e.getParam("template_mdate_format",e.translate("%Y-%m-%d"))},m=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},h=function(e,t,n){void 0===n&&(n=new Date);var r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),i="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" ");return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",m(n.getMonth()+1,2))).replace("%d",m(n.getDate(),2))).replace("%H",""+m(n.getHours(),2))).replace("%M",""+m(n.getMinutes(),2))).replace("%S",""+m(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(a[n.getMonth()]))).replace("%b",""+e.translate(i[n.getMonth()]))).replace("%A",""+e.translate(o[n.getDay()]))).replace("%a",""+e.translate(r[n.getDay()]))).replace("%%","%")},g=function(e,t){return s.each(t,(function(t,n){r(t)&&(t=t(n)),e=e.replace(new RegExp("\\{\\$"+n+"\\}","g"),t)})),e},v=function(e,t){var n=e.dom,o=f(e);s.each(n.select("*",t),(function(e){s.each(o,(function(t,o){n.hasClass(e,o)&&r(t)&&t(e)}))}))},b=function(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)},y=function(e,t,n){var r=e.dom,o=e.selection.getContent();n=g(n,f(e));var i=r.create("div",null,n),a=r.select(".mceTmpl",i);a&&a.length>0&&(i=r.create("div",null)).appendChild(a[0].cloneNode(!0)),s.each(r.select("*",i),(function(t){b(t,function(e){return e.getParam("template_cdate_classes","cdate")}(e).replace(/\s+/g,"|"))&&(t.innerHTML=h(e,function(e){return e.getParam("template_cdate_format",e.translate("%Y-%m-%d"))}(e))),b(t,d(e).replace(/\s+/g,"|"))&&(t.innerHTML=h(e,p(e))),b(t,function(e){return e.getParam("template_selected_content_classes","selcontent")}(e).replace(/\s+/g,"|"))&&(t.innerHTML=o)})),v(e,i),e.execCommand("mceInsertContent",!1,i.innerHTML),e.addVisual()},w=function(){return x},x=function(){var e=function(e){return e()},t=a;return{fold:function(e,t){return e()},isSome:l,isNone:u,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:t,orThunk:e,map:w,each:o,bind:w,exists:l,forall:u,filter:function(){return w()},toArray:function(){return[]},toString:i("none()")}}(),C=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:u,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},k={some:C,none:w,from:function(e){return null==e?x:C(e)}},S=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return k.some(i);if(n(i,r))break}return k.none()}(e,t,l)},_=tinymce.util.Tools.resolve("tinymce.Env"),O=tinymce.util.Tools.resolve("tinymce.util.Promise"),T=Object.hasOwnProperty,E=function(e,t){return T.call(e,t)},A={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},M=function(e){return e.replace(/["'<>&]/g,(function(e){return(t=A,n=e,E(t,n)?k.from(t[n]):k.none()).getOr(e);var t,n}))},D=function(e,t){var n=function(e){return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,(function(e){return{text:e.text,value:e.text}}))},r=function(e,t){return S(e,(function(e){return e.text===t}))},o=function(t){e.windowManager.alert("Could not load the specified template.",(function(){return t.focus("template")}))},i=function(e){return new O((function(t,n){e.value.url.fold((function(){return t(e.value.content.getOr(""))}),(function(e){return c.send({url:e,success:function(e){t(e)},error:function(e){n(e)}})}))}))},a=function(e,t){return function(n,a){if("template"===a.name){var l=n.getData().template;r(e,l).each((function(e){n.block("Loading..."),i(e).then((function(r){t(n,e,r)})).catch((function(){t(n,e,""),n.disable("save"),o(n)}))}))}}},l=function(t){return function(n){var a=n.getData();r(t,a.template).each((function(t){i(t).then((function(t){e.execCommand("mceInsertTemplate",!1,t),n.close()})).catch((function(){n.disable("save"),o(n)}))}))}};(function(){if(!t||0===t.length){var n=e.translate("No templates defined.");return e.notificationManager.open({text:n,type:"info"}),k.none()}return k.from(s.map(t,(function(e,t){var n=function(e){return void 0!==e.url};return{selected:0===t,text:e.title,value:{url:n(e)?k.from(e.url):k.none(),content:n(e)?k.none():k.from(e.content),description:e.description}}})))})().each((function(t){var r=n(t),u=function(e,n){return{title:"Insert Template",size:"large",body:{type:"panel",items:e},initialData:n,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:l(t),onChange:a(t,c)}},c=function(t,n,o){var i=function(e,t){if(-1===t.indexOf("<html>")){var n="",r=function(e){return e.getParam("content_style","","string")}(e),o=function(e){return e.getParam("content_css_cors",!1,"boolean")}(e)?' crossorigin="anonymous"':"";s.each(e.contentCSS,(function(t){n+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'"'+o+">"})),r&&(n+='<style type="text/css">'+r+"</style>");var i=function(e){var t=e.getParam("body_class","","string");return-1===t.indexOf("=")?t:function(e){return e.getParam("body_class","","hash")[e.id]||""}(e)}(e),a=e.dom.encode,l='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(_.mac?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",u=e.getBody().dir,c=u?' dir="'+a(u)+'"':"";t='<!DOCTYPE html><html><head><base href="'+a(e.documentBaseURI.getURI())+'">'+n+l+'</head><body class="'+a(i)+'"'+c+">"+t+"</body></html>"}return g(t,function(e){return e.getParam("template_preview_replace_values")}(e))}(e,o),a=[{type:"selectbox",name:"template",label:"Templates",items:r},{type:"htmlpanel",html:'<p aria-live="polite">'+M(n.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],l={template:n.text,preview:i};t.unblock(),t.redial(u(a,l)),t.focus("template")},d=e.windowManager.open(u([],{template:"",preview:""}));d.block("Loading..."),i(t[0]).then((function(e){c(d,t[0],e)})).catch((function(){c(d,t[0],""),d.disable("save"),o(d)}))}))},N=function(e){e.addCommand("mceInsertTemplate",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}(y,e)),e.addCommand("mceTemplate",function(e,t){return function(){var o=function(e){return e.getParam("templates")}(e);r(o)?o(t):n(o)?c.send({url:o,success:function(e){t(JSON.parse(e))}}):t(o)}}(e,function(e){return function(t){D(e,t)}}(e)))};t.add("template",(function(e){!function(e){var t=function(){return e.execCommand("mceTemplate")};e.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:t}),e.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:t})}(e),N(e),function(e){e.on("PreProcess",(function(t){var n=e.dom,r=p(e);s.each(n.select("div",t.node),(function(t){n.hasClass(t,"mceTmpl")&&(s.each(n.select("*",t),(function(t){n.hasClass(t,d(e).replace(/\s+/g,"|"))&&(t.innerHTML=h(e,r))})),v(e,t))}))}))}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var r=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},o=r("string"),i=r("object"),a=r("array"),l=function(){},u=function(e){return function(){return e}},s=function(e){return e},c=u(!1),d=u(!0),f=function(){return p},p=function(){var e=function(e){return e()},t=s;return{fold:function(e,t){return e()},isSome:c,isNone:d,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:t,orThunk:e,map:f,each:l,bind:f,exists:c,forall:d,filter:function(){return f()},toArray:function(){return[]},toString:u("none()")}}(),m=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:d,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},h={some:m,none:f,from:function(e){return null==e?p:m(e)}},g=Array.prototype.slice,v=Array.prototype.indexOf,b=function(e,t){return function(e,t){return v.call(e,t)}(e,t)>-1},y=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},w=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},x=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},C=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)}(e,(function(e,r){n=t(n,e,r)})),n},k=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return h.some(i);if(n(i,r))break}return h.none()}(e,t,c)},S=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},_=function(e){return function(e,t){return t>=0&&t<e.length?h.some(e[t]):h.none()}(e,0)},O=Object.keys,T=Object.hasOwnProperty;(function(e){if(!a(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};w(e,(function(r,o){var i=O(r);if(1!==i.length)throw new Error("one and only one name per case");var l=i[0],u=r[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!a(u))throw new Error("case arguments must be an array");t.push(l),n[l]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+u.length+" ("+u+"), got "+i);var a=function(e){var r=O(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!S(t,(function(e){return b(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[o];return i.apply(null,n)},match:a,log:function(e){console.log(e,{constructors:t,constructor:l,params:n})}}}}))})([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var E=function(e){var t=[],n=[];return w(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}},A=function(e){return{isValue:d,isError:c,getOr:u(e),getOrThunk:u(e),getOrDie:u(e),or:function(t){return A(e)},orThunk:function(t){return A(e)},fold:function(t,n){return n(e)},map:function(t){return A(t(e))},mapError:function(t){return A(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return h.some(e)}}},M=function(e){return{isValue:c,isError:d,getOr:s,getOrThunk:function(e){return e()},getOrDie:function(){return(t=String(e),function(){throw new Error(t)})();var t},or:s,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return M(e)},mapError:function(t){return M(t(e))},each:l,bind:function(t){return M(e)},exists:c,forall:d,toOptional:h.none}},D={value:A,error:M,fromOption:function(e,t){return e.fold((function(){return M(t)}),A)}},N=function(e){return"inline-command"===e.type||"inline-format"===e.type},P=function(e){return"block-command"===e.type||"block-format"===e.type},z=function(e){return t=e,n=function(e,t){return e.start.length===t.start.length?0:e.start.length>t.start.length?-1:1},(r=g.call(t,0)).sort(n),r;var t,n,r},B=function(e){var t=function(t){return D.error({message:t,pattern:e})},n=function(n,r,i){if(void 0!==e.format){var l=void 0;if(a(e.format)){if(!S(e.format,o))return t(n+" pattern has non-string items in the `format` array");l=e.format}else{if(!o(e.format))return t(n+" pattern has non-string `format` parameter");l=[e.format]}return D.value(r(l))}return void 0!==e.cmd?o(e.cmd)?D.value(i(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!i(e))return t("Raw pattern is not an object");if(!o(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!o(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");var r=e.start,l=e.end;return 0===l.length&&(l=r,r=""),n("Inline",(function(e){return{type:"inline-format",start:r,end:l,format:e}}),(function(e,t){return{type:"inline-command",start:r,end:l,cmd:e,value:t}}))}return void 0!==e.replacement?o(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):D.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(function(t){return{type:"block-format",start:e.start,format:t[0]}}),(function(t,n){return{type:"block-command",start:e.start,cmd:t,value:n}}))},R=function(e){return"block-command"===e.type?{start:e.start,cmd:e.cmd,value:e.value}:"block-format"===e.type?{start:e.start,format:e.format}:"inline-command"===e.type?"mceInsertContent"===e.cmd&&""===e.start?{start:e.end,replacement:e.value}:{start:e.start,end:e.end,cmd:e.cmd,value:e.value}:"inline-format"===e.type?{start:e.start,end:e.end,format:1===e.format.length?e.format[0]:e.format}:void 0},I=function(e){return{inlinePatterns:x(e,N),blockPatterns:z(x(e,P))}},L="undefined"!=typeof window?window:Function("return this;")(),F=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=L.console;n&&(n.error?n.error.apply(n,e):n.log.apply(n,e))},V=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],H=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},j=tinymce.util.Tools.resolve("tinymce.util.Delay"),$=tinymce.util.Tools.resolve("tinymce.util.VK"),U=tinymce.util.Tools.resolve("tinymce.util.Tools"),W=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),q=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),K=function(e,t){return{container:e,offset:t}},Y=function(e){return e.nodeType===Node.TEXT_NODE},G=function(e,t,n){if(t&&e.isEmpty(t)&&!n(t)){var r=t.parentNode;e.remove(t),G(e,r,n)}},X=function(e,t,n,r){void 0===r&&(r=!0);var o=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(Y(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Y(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),G(e,o,n),o!==i&&G(e,i,n))},Z=function(e,t){var n=t.get(e);return a(n)&&_(n).exists((function(e){return t=e,n="block",T.call(t,n);var t,n}))},J=function(e){return 0===e.start.length},Q=function(e,t){var n=h.from(e.dom.getParent(t.startContainer,e.dom.isBlock));return""===H(e)?n.orThunk((function(){return h.some(e.getBody())})):n},ee=W.DOM,te=function(e){return function(t){return e===t?-1:0}},ne=function(e,t,n){if(Y(e)&&t>=0)return h.some(K(e,t));var r=q(ee);return h.from(r.backwards(e,t,te(e),n)).map((function(e){return K(e.container,e.container.data.length)}))},re=function(e,t,n){if(!Y(e))return h.none();var r=e.textContent;if(t>=0&&t<=r.length)return h.some(K(e,t));var o=q(ee);return h.from(o.backwards(e,t,te(e),n)).bind((function(e){var r=e.container.data;return re(e.container,t+r.length,n)}))},oe=function(e,t,n){if(!Y(e))return h.none();var r=e.textContent;if(t<=r.length)return h.some(K(e,t));var o=q(ee);return h.from(o.forwards(e,t,te(e),n)).bind((function(e){return oe(e.container,t-r.length,n)}))},ie=function(e,t,n,r,o){var i=q(e,function(e){return function(t){return e.isBlock(t)||b(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}}(e));return h.from(i.backwards(t,n,r,o))},ae=function(e,t,n){if(Y(t)&&(n<0||n>t.data.length))return[];for(var r=[n],o=t;o!==e&&o.parentNode;){for(var i=o.parentNode,a=0;a<i.childNodes.length;a++)if(i.childNodes[a]===o){r.push(a);break}o=i}return o===e?r.reverse():[]},le=function(e,t,n,r,o){return{start:ae(e,t,n),end:ae(e,r,o)}},ue=function(e,t){var n,r,o,i=t.slice(),a=i.pop();return(n=i,r=function(e,t){return e.bind((function(e){return h.from(e.childNodes[t])}))},o=h.some(e),w(n,(function(e,t){o=r(o,e,t)})),o).bind((function(e){return Y(e)&&(a<0||a>e.data.length)?h.none():h.some({node:e,offset:a})}))},se=function(e,t){return ue(e,t.start).bind((function(n){var r=n.node,o=n.offset;return ue(e,t.end).map((function(e){var t=e.node,n=e.offset,i=document.createRange();return i.setStart(r,o),i.setEnd(t,n),i}))}))},ce=function(e,t,n){(function(e,t,n){if(Y(e)&&t>=e.length)return h.some(K(e,t));var r=q(ee);return h.from(r.forwards(e,t,te(e),n)).map((function(e){return K(e.container,0)}))})(t,0,t).each((function(r){var o=r.container;oe(o,n.start.length,t).each((function(n){var r=e.createRng();r.setStart(o,0),r.setEnd(n.container,n.offset),X(e,r,(function(e){return e===t}))}))}))},de=function(e,t){var n=e.dom,r=e.selection.getRng();return Q(e,r).filter((function(t){var r=H(e),o=""===r&&n.is(t,"body")||n.is(t,r);return null!==t&&o})).bind((function(e){var r=e.textContent;return function(e,t){var n=t.replace(""," ");return k(e,(function(e){return 0===t.indexOf(e.start)||0===n.indexOf(e.start)}))}(t,r).map((function(t){return U.trim(r).length===t.start.length?[]:[{pattern:t,range:le(n.getRoot(),e,0,e,0)}]}))})).getOr([])},fe=function(e,t){if(0!==t.length){var n=e.selection.getBookmark();w(t,(function(t){return function(e,t){var n=e.dom,r=t.pattern,o=se(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return Q(e,o).each((function(t){"block-format"===r.type?Z(r.format,e.formatter)&&e.undoManager.transact((function(){ce(e.dom,t,r),e.formatter.apply(r.format)})):"block-command"===r.type&&e.undoManager.transact((function(){ce(e.dom,t,r),e.execCommand(r.cmd,!1,r.value)}))})),!0}(e,t)})),e.selection.moveToBookmark(n)}},pe=0,me=function(e,t){return e.create("span",{"data-mce-type":"bookmark",id:t})},he=function(e,t){var n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},ge=function(e,t,n){var r=se(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,a=0===r.endOffset?i:i.splitText(r.endOffset),l=0===r.startOffset?o:o.splitText(r.startOffset);return{prefix:t,end:a.parentNode.insertBefore(me(e,t+"-end"),a),start:l.parentNode.insertBefore(me(e,t+"-start"),l)}},ve=function(e,t,n){G(e,e.get(t.prefix+"-end"),n),G(e,e.get(t.prefix+"-start"),n)},be=function(e,t,n,r){var o,i=t.start;return ie(e,r.container,r.offset,(o=i,function(e,t){var n=e.data.substring(0,t),r=n.lastIndexOf(o.charAt(o.length-1)),i=n.lastIndexOf(o);return-1!==i?i+o.length:-1!==r?r+1:-1}),n).bind((function(r){if(r.offset>=i.length){var o=e.createRng();return o.setStart(r.container,r.offset-i.length),o.setEnd(r.container,r.offset),h.some(o)}var a=r.offset-i.length;return re(r.container,a,n).map((function(t){var n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n})).filter((function(e){return e.toString()===i})).orThunk((function(){return be(e,t,n,K(r.container,0))}))}))},ye=function(e,t,n){var r=e.dom,o=r.getRoot(),i=n.pattern,a=n.position.container,l=n.position.offset;return re(a,l-n.pattern.end.length,t).bind((function(u){var s=le(o,u.container,u.offset,a,l);if(J(i))return h.some({matches:[{pattern:i,startRng:s,endRng:s}],position:u});var c=we(e,n.remainingPatterns,u.container,u.offset,t),d=c.getOr({matches:[],position:u}),f=d.position;return function(e,t,n,r,o,i){if(void 0===i&&(i=!1),0===t.start.length&&!i){var a=e.createRng();return a.setStart(n,r),a.setEnd(n,r),h.some(a)}return ne(n,r,o).bind((function(n){return be(e,t,o,n).bind((function(e){if(i){if(e.endContainer===n.container&&e.endOffset===n.offset)return h.none();if(0===n.offset&&e.endContainer.textContent.length===e.endOffset)return h.none()}return h.some(e)}))}))}(r,i,f.container,f.offset,t,c.isNone()).map((function(e){var t=function(e,t){return le(e,t.startContainer,t.startOffset,t.endContainer,t.endOffset)}(o,e);return{matches:d.matches.concat([{pattern:i,startRng:t,endRng:s}]),position:K(e.startContainer,e.startOffset)}}))}))},we=function(e,t,n,r,o){var i=e.dom;return ne(n,r,i.getRoot()).bind((function(a){var l=i.createRng();l.setStart(o,0),l.setEnd(n,r);for(var u,s,c=l.toString(),d=0;d<t.length;d++){var f=t[d];if(u=c,s=f.end,function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}(u,s,u.length-s.length)){var p=t.slice();p.splice(d,1);var m=ye(e,o,{pattern:f,remainingPatterns:p,position:a});if(m.isSome())return m}}return h.none()}))},xe=function(e,t,n){e.selection.setRng(n),"inline-format"===t.type?w(t.format,(function(t){e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},Ce=function(e,n){var r,o,i=(r="mce_textpattern",o=(new Date).getTime(),r+"_"+Math.floor(1e9*Math.random())+ ++pe+String(o)),a=C(n,(function(n,r){var o=ge(e,i+"_end"+n.length,r.endRng);return n.concat([t(t({},r),{endMarker:o})])}),[]);return C(a,(function(n,r){var o=a.length-n.length-1,l=J(r.pattern)?r.endMarker:ge(e,i+"_start"+o,r.startRng);return n.concat([t(t({},r),{startMarker:l})])}),[])},ke=function(e,t,n){var r=e.selection.getRng();return!1===r.collapsed?[]:Q(e,r).bind((function(o){var i=r.startOffset-(n?1:0);return we(e,t,r.startContainer,i,o)})).fold((function(){return[]}),(function(e){return e.matches}))},Se=function(e,t){if(0!==t.length){var n=e.dom,r=e.selection.getBookmark(),o=Ce(n,t);w(o,(function(t){var r=n.getParent(t.startMarker.start,n.isBlock),o=function(e){return e===r};J(t.pattern)?function(e,t,n,r){var o=he(e.dom,n);X(e.dom,o,r),xe(e,t,o)}(e,t.pattern,t.endMarker,o):function(e,t,n,r,o){var i=e.dom,a=he(i,r),l=he(i,n);X(i,l,o),X(i,a,o);var u={prefix:n.prefix,start:n.end,end:r.start},s=he(i,u);xe(e,t,s)}(e,t.pattern,t.startMarker,t.endMarker,o),ve(n,t.endMarker,o),ve(n,t.startMarker,o)})),e.selection.moveToBookmark(r)}},_e=function(e,t){var n=ke(e,t.inlinePatterns,!0);n.length>0&&e.undoManager.transact((function(){Se(e,n)}))},Oe=function(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},Te=function(e,t){var n=[",",".",";",":","!","?"],r=[32];e.on("keydown",(function(n){13!==n.keyCode||$.modifierPressed(n)||function(e,t){if(!e.selection.isCollapsed())return!1;var n=ke(e,t.inlinePatterns,!1),r=de(e,t.blockPatterns);return(r.length>0||n.length>0)&&(e.undoManager.add(),e.undoManager.extra((function(){e.execCommand("mceInsertNewLine")}),(function(){e.insertContent("\ufeff"),Se(e,n),fe(e,r);var t=e.selection.getRng(),o=ne(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),o.each((function(t){var n=t.container;"\ufeff"===n.data.charAt(t.offset-1)&&(n.deleteData(t.offset-1,1),G(e.dom,n.parentNode,(function(t){return t===e.dom.getRoot()})))}))})),!0)}(e,t.get())&&n.preventDefault()}),!0),e.on("keyup",(function(n){Oe(r,n,(function(e,t){return e===t.keyCode&&!1===$.modifierPressed(t)}))&&_e(e,t.get())})),e.on("keypress",(function(r){Oe(n,r,(function(e,t){return e.charCodeAt(0)===t.charCode}))&&j.setEditorTimeout(e,(function(){_e(e,t.get())}))}))};e.add("textpattern",(function(e){var t,r,o=(t=function(e){var t=e.getParam("textpattern_patterns",V,"array");if(!a(t))return F("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var n=E(y(t,B));return w(n.errors,(function(e){return F(e.message,e.pattern)})),I(n.values)}(e),r=t,{get:function(){return r},set:function(e){r=e}});return Te(e,o),function(e){return{setPatterns:function(t){var n=E(y(t,B));if(n.errors.length>0){var r=n.errors[0];throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}e.set(I(n.values))},getPatterns:function(){return n(n([],y(e.get().inlinePatterns,R)),y(e.get().blockPatterns,R))}}}(o)}))}(),function(){var e,t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),o=tinymce.util.Tools.resolve("tinymce.util.I18n"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(e){return e.getParam("toc_class","mce-toc")},l=function(e){var t=e.getParam("toc_header","h2");return/^h[1-6]$/.test(t)?t:"h2"},u=(e="mcetoc_",t=0,function(){var n=(new Date).getTime().toString(32);return e+n+(t++).toString(32)}),s=function(e){var t=a(e),n=l(e),r=function(e){var t,n=[];for(t=1;t<=e;t++)n.push("h"+t);return n.join(",")}(function(e){var t=parseInt(e.getParam("toc_depth","3"),10);return t>=1&&t<=9?t:3}(e)),o=e.$(r);return o.length&&/^h[1-9]$/i.test(n)&&(o=o.filter((function(n,r){return!e.dom.hasClass(r.parentNode,t)}))),i.map(o,(function(t){var n=t.id;return{id:n||u(),level:parseInt(t.nodeName.replace(/^H/i,""),10),title:e.$.text(t),element:t}}))},c=function(e){var t,n,i,a="",u=s(e),c=function(e){for(var t=9,n=0;n<e.length;n++)if(e[n].level<t&&(t=e[n].level),1===t)return t;return t}(u)-1;if(!u.length)return"";a+=(t=l(e),n=o.translate("Table of Contents"),i="</"+t+">","<"+t+' contenteditable="true">'+r.DOM.encode(n)+i);for(var d=0;d<u.length;d++){var f=u[d];f.element.id=f.id;var p=u[d+1]&&u[d+1].level;if(c===f.level)a+="<li>";else for(var m=c;m<f.level;m++)a+="<ul><li>";if(a+='<a href="#'+f.id+'">'+f.title+"</a>",p!==f.level&&p)for(m=f.level;m>p;m--)a+="</li></ul><li>";else a+="</li>",p||(a+="</ul>");c=f.level}return a},d=function(e){var t=a(e),n=e.$("."+t);!function(e,t){return!t.length||e.dom.getParents(t[0],".mce-offscreen-selection").length>0}(e,n)?f(e):e.insertContent(function(e){var t=c(e);return'<div class="'+e.dom.encode(a(e))+'" contenteditable="false">'+t+"</div>"}(e))},f=function(e){var t=a(e),n=e.$("."+t);n.length&&e.undoManager.transact((function(){n.html(c(e))}))},p=function(e){return function(t){var n=function(){return t.setDisabled(e.mode.isReadOnly()||!function(e){return s(e).length>0}(e))};return n(),e.on("LoadContent SetContent change",n),function(){return e.on("LoadContent SetContent change",n)}}},m=function(e){return function(t){return t&&e.dom.is(t,"."+a(e))&&e.getBody().contains(t)}};n.add("toc",(function(e){!function(e){e.addCommand("mceInsertToc",(function(){d(e)})),e.addCommand("mceUpdateToc",(function(){f(e)}))}(e),function(e){var t=function(){return e.execCommand("mceInsertToc")};e.ui.registry.addButton("toc",{icon:"toc",tooltip:"Table of contents",onAction:t,onSetup:p(e)}),e.ui.registry.addButton("tocupdate",{icon:"reload",tooltip:"Update",onAction:function(){return e.execCommand("mceUpdateToc")}}),e.ui.registry.addMenuItem("toc",{icon:"toc",text:"Table of contents",onAction:t,onSetup:p(e)}),e.ui.registry.addContextToolbar("toc",{items:"tocupdate",predicate:m(e),scope:"node",position:"node"})}(e),function(e){var t=e.$,n=a(e);e.on("PreProcess",(function(e){var r=t("."+n,e.node);r.length&&(r.removeAttr("contentEditable"),r.find("[contenteditable]").removeAttr("contentEditable"))})),e.on("SetContent",(function(){var e=t("."+n);e.length&&(e.attr("contentEditable",!1),e.children(":first-child").attr("contentEditable",!0))}))}(e)}))}(),function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t,n){e.dom.toggleClass(e.getBody(),"mce-visualblocks"),n.set(!n.get()),function(e,t){e.fire("VisualBlocks",{state:t})}(e,n.get())},n=function(e,t){return function(n){n.setActive(t.get());var r=function(e){return n.setActive(e.state)};return e.on("VisualBlocks",r),function(){return e.off("VisualBlocks",r)}}};e.add("visualblocks",(function(e,r){var o,i=(o=!1,{get:function(){return o},set:function(e){o=e}});!function(e,n,r){e.addCommand("mceVisualBlocks",(function(){t(e,0,r)}))}(e,0,i),function(e,t){var r=function(){return e.execCommand("mceVisualBlocks")};e.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:r,onSetup:n(e,t)}),e.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:r,onSetup:n(e,t)})}(e,i),function(e,n,r){e.on("PreviewFormats AfterPreviewFormats",(function(t){r.get()&&e.dom.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)})),e.on("init",(function(){(function(e){return e.getParam("visualblocks_default_state",!1,"boolean")})(e)&&t(e,0,r)}))}(e,0,i)}))}(),function(){var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(t){return typeof t===e}},r=(e="string",function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}),o=n("boolean"),i=n("number"),a=function(){},l=function(e){return function(){return e}},u=function(e){return e},s=l(!1),c=l(!0),d=function(){return f},f=function(){var e=function(e){return e()},t=u;return{fold:function(e,t){return e()},isSome:s,isNone:c,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:t,orThunk:e,map:d,each:a,bind:d,exists:s,forall:c,filter:function(){return d()},toArray:function(){return[]},toString:l("none()")}}(),p=function(e){var t=l(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return p(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},m=function(e){return null==e?f:p(e)},h=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},g=Object.keys,v=function(e,t){for(var n=g(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}};"undefined"!=typeof window?window:Function("return this;")();var b,y=function(e){return e.dom.nodeValue},w=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}}(3),x=function(e,t,n){!function(e,t,n){if(!(r(n)||o(n)||i(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)},C=function(e,t){e.dom.removeAttribute(t)},k=function(e,t){var n=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n}(e,t);return void 0===n||""===n?[]:n.split(" ")},S=function(e){return void 0!==e.dom.classList},_=function(e,t){return function(e,t,n){var r=k(e,t).concat([n]);return x(e,t,r.join(" ")),!0}(e,"class",t)},O=function(e,t){return function(e,t,n){var r=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(k(e,t),(function(e){return e!==n}));return r.length>0?x(e,t,r.join(" ")):C(e,t),!1}(e,"class",t)},T=function(e){0===(S(e)?e.dom.classList:function(e){return k(e,"class")}(e)).length&&C(e,"class")},E=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},A={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return E(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return E(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return E(n)},fromDom:E,fromPoint:function(e,t,n){return m(e.dom.elementFromPoint(t,n)).map(E)}},M={"":"nbsp","":"shy"},D=function(e,t){var n="";return v(e,(function(e,t){n+=t})),new RegExp("["+n+"]",t?"g":"")},N=D(M),P=D(M,!0),z=(b="",v(M,(function(e){b&&(b+=","),b+="span.mce-"+e})),b),B="mce-nbsp",R=function(e){return'<span data-mce-bogus="1" class="mce-'+M[e]+'">'+e+"</span>"},I=function(e){var t=y(e);return w(e)&&void 0!==t&&N.test(t)},L=function(e,t){var n=[],r=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e.dom.childNodes,A.fromDom);return h(r,(function(e){t(e)&&(n=n.concat([e])),n=n.concat(L(e,t))})),n},F=function(e){return"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap")},V=function(e,t){var n=L(A.fromDom(t),I);h(n,(function(t){var n,r,o=t.dom.parentNode;if(F(o))n=A.fromDom(o),r=B,S(n)?n.dom.classList.add(r):_(n,r);else{for(var i=e.dom.encode(y(t)).replace(P,R),a=e.dom.create("div",null,i),l=void 0;l=a.lastChild;)e.dom.insertAfter(l,t.dom);e.dom.remove(t.dom)}}))},H=function(e,t){var n=e.dom.select(z,t);h(n,(function(t){var n,r;F(t)?(n=A.fromDom(t),r=B,S(n)?n.dom.classList.remove(r):O(n,r),T(n)):e.dom.remove(t,!0)}))},j=function(e){var t=e.getBody(),n=e.selection.getBookmark(),r=function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}}(e.selection.getNode(),t);H(e,r=void 0!==r?r:t),V(e,r),e.selection.moveToBookmark(n)},$=function(e,t){!function(e,t){e.fire("VisualChars",{state:t})}(e,t.get());var n=e.getBody();!0===t.get()?V(e,n):H(e,n)},U=function(e,t){e.addCommand("mceVisualChars",(function(){!function(e,t){t.set(!t.get());var n=e.selection.getBookmark();$(e,t),e.selection.moveToBookmark(n)}(e,t)}))},W=tinymce.util.Tools.resolve("tinymce.util.Delay"),q=function(e,t){return function(n){n.setActive(t.get());var r=function(e){return n.setActive(e.state)};return e.on("VisualChars",r),function(){return e.off("VisualChars",r)}}};t.add("visualchars",(function(e){var t,n,r=(t=function(e){return e.getParam("visualchars_default_state",!1)}(e),n=t,{get:function(){return n},set:function(e){n=e}});return U(e,r),function(e,t){var n=function(){return e.execCommand("mceVisualChars")};e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:q(e,t)}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:q(e,t)})}(e,r),function(e,t){var n=W.debounce((function(){j(e)}),300);(function(e){return!1!==e.getParam("forced_root_block")})(e)&&e.on("keydown",(function(r){!0===t.get()&&(13===r.keyCode?j(e):n())})),e.on("remove",n.stop)}(e,r),function(e,t){e.on("init",(function(){$(e,t)}))}(e,r),function(e){return{isEnabled:function(){return e.get()}}}(r)}))}(),function(){var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return e},r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o="[-'\\.]",i="[:]",a="[+*/,;;]",l="[0-9---------------------------------]",u="\\r",s="\\n",c="[\v\f\u2028\u2029]",d="[------------------------------------------------------------------------------------------------------]",f="[----\ufeff-]",p="[-------]",m="[=_--<>]",h="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",g=0,v=1,b=2,y=3,w=4,x=5,C=6,k=7,S=8,_=9,O=10,T=11,E=12,A=13,M=[new RegExp("[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),new RegExp(o),new RegExp(i),new RegExp(a),new RegExp(l),new RegExp(u),new RegExp(s),new RegExp(c),new RegExp(d),new RegExp(f),new RegExp(p),new RegExp(m),new RegExp("@")],D=new RegExp("^"+h+"$"),N=M,P=A,z=function(e){for(var t=P,n=N.length,r=0;r<n;++r){var o=N[r];if(o&&o.test(e)){t=r;break}}return t},B=function(e){var t,n;return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,(t=z,n={},function(e){if(n[e])return n[e];var r=t(e);return n[e]=r,r}))},R=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===g&&r===g)return!1;var o=e[t+2];if(n===g&&(r===b||r===v||r===E)&&o===g)return!1;var i=e[t-1];return(n!==b&&n!==v&&r!==E||r!==g||i!==g)&&((n!==w&&n!==g||r!==w&&r!==g)&&((n!==y&&n!==v||r!==w||i!==w)&&((n!==w||r!==y&&r!==v||o!==w)&&(n!==S&&n!==_&&i!==S&&i!==_&&r!==S&&r!==_&&((n!==x||r!==C)&&(n===k||n===x||n===C||(r===k||r===x||r===C||(n!==O||r!==O)&&((r!==T||n!==g&&n!==w&&n!==O&&n!==T)&&((n!==T||r!==g&&r!==w&&r!==O)&&n!==E)))))))))},I=/^\s+$/,L=D,F=function(e){return"http"===e||"https"===e},V=function(e,t){var n=function(e,t){var n;for(n=t;n<e.length&&!I.test(e[n]);n++);return n}(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},H=function(e,t,n){n=r(r({},{includeWhitespace:!1,includePunctuation:!1}),n);for(var o=[],i=[],a=0;a<e.length;a++){var l=t(e[a]);"\ufeff"!==l&&(o.push(e[a]),i.push(l))}return function(e,t,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(e[a]),R(n,a)){var l=t[a];if((r.includeWhitespace||!I.test(l))&&(r.includePunctuation||!L.test(l))){var u=a-i.length+1,s=a+1,c=t.slice(u,s).join("");if(F(c)){var d=V(t,a),f=e.slice(s,d);Array.prototype.push.apply(i,f),a=d}o.push(i)}i=[]}return o}(o,i,B(i),n)},j=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$=function(e,t){for(var n,r=t.getBlockElements(),o=t.getShortEndedElements(),i=[],a="",l=new j(e,e);e=l.next();)3===e.nodeType?a+=e.data.replace(/\uFEFF/g,""):(r[(n=e).nodeName]||o[n.nodeName])&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},U=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},W=function(e,t){var r=$(e,t).join("\n");return H(r.split(""),n).length},q=function(e,t){var n=$(e,t).join("");return U(n)},K=function(e,t){var n=$(e,t).join("").replace(/\s/g,"");return U(n)},Y=function(e,t){return function(){return t(e.getBody(),e.schema)}},G=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},X=function(e){return Y(e,W)},Z=function(e,t){e.addCommand("mceWordCount",(function(){return function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})}(e,t)}))},J=tinymce.util.Tools.resolve("tinymce.util.Delay"),Q=function(e,t){!function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})}(e,t)};void 0===e&&(e=300),t.add("wordcount",(function(t){var n=function(e){return{body:{getWordCount:X(e),getCharacterCount:Y(e,q),getCharacterCountWithoutSpaces:Y(e,K)},selection:{getWordCount:G(e,W),getCharacterCount:G(e,q),getCharacterCountWithoutSpaces:G(e,K)},getCount:X(e)}}(t);return Z(t,n),function(e){var t=function(){return e.execCommand("mceWordCount")};e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})}(t),function(e,t,n){var r=J.debounce((function(){return Q(e,t)}),n);e.on("init",(function(){Q(e,t),J.setEditorTimeout(e,(function(){e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r)}),0)}))}(t,n,e),n}))}();var Ss=function(){this.__data__=[],this.size=0};var _s=function(e,t){return e===t||e!=e&&t!=t},Os=_s;var Ts=function(e,t){for(var n=e.length;n--;)if(Os(e[n][0],t))return n;return-1},Es=Ts,As=Array.prototype.splice;var Ms=Ts;var Ds=Ts;var Ns=Ts;var Ps=Ss,zs=function(e){var t=this.__data__,n=Es(t,e);return!(n<0)&&(n==t.length-1?t.pop():As.call(t,n,1),--this.size,!0)},Bs=function(e){var t=this.__data__,n=Ms(t,e);return n<0?void 0:t[n][1]},Rs=function(e){return Ds(this.__data__,e)>-1},Is=function(e,t){var n=this.__data__,r=Ns(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ls(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ls.prototype.clear=Ps,Ls.prototype.delete=zs,Ls.prototype.get=Bs,Ls.prototype.has=Rs,Ls.prototype.set=Is;var Fs=Ls,Vs=Fs;var Hs=function(){this.__data__=new Vs,this.size=0};var js=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var $s=function(e){return this.__data__.get(e)};var Us=function(e){return this.__data__.has(e)},Ws="object"==typeof wl&&wl&&wl.Object===Object&&wl,qs=Ws,Ks="object"==typeof self&&self&&self.Object===Object&&self,Ys=qs||Ks||Function("return this")(),Gs=Ys.Symbol,Xs=Gs,Zs=Object.prototype,Js=Zs.hasOwnProperty,Qs=Zs.toString,ec=Xs?Xs.toStringTag:void 0;var tc=function(e){var t=Js.call(e,ec),n=e[ec];try{e[ec]=void 0;var r=!0}catch(i){}var o=Qs.call(e);return r&&(t?e[ec]=n:delete e[ec]),o},nc=Object.prototype.toString;var rc=tc,oc=function(e){return nc.call(e)},ic=Gs?Gs.toStringTag:void 0;var ac=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ic&&ic in Object(e)?rc(e):oc(e)};var lc=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},uc=ac,sc=lc;var cc,dc=function(e){if(!sc(e))return!1;var t=uc(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},fc=Ys["__core-js_shared__"],pc=(cc=/[^.]+$/.exec(fc&&fc.keys&&fc.keys.IE_PROTO||""))?"Symbol(src)_1."+cc:"";var mc=function(e){return!!pc&&pc in e},hc=Function.prototype.toString;var gc=function(e){if(null!=e){try{return hc.call(e)}catch(t){}try{return e+""}catch(t){}}return""},vc=dc,bc=mc,yc=lc,wc=gc,xc=/^\[object .+?Constructor\]$/,Cc=Function.prototype,kc=Object.prototype,Sc=Cc.toString,_c=kc.hasOwnProperty,Oc=RegExp("^"+Sc.call(_c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Tc=function(e){return!(!yc(e)||bc(e))&&(vc(e)?Oc:xc).test(wc(e))},Ec=function(e,t){return null==e?void 0:e[t]};var Ac=function(e,t){var n=Ec(e,t);return Tc(n)?n:void 0},Mc=Ac(Ys,"Map"),Dc=Ac(Object,"create"),Nc=Dc;var Pc=function(){this.__data__=Nc?Nc(null):{},this.size=0};var zc=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bc=Dc,Rc=Object.prototype.hasOwnProperty;var Ic=function(e){var t=this.__data__;if(Bc){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Rc.call(t,e)?t[e]:void 0},Lc=Dc,Fc=Object.prototype.hasOwnProperty;var Vc=Dc;var Hc=Pc,jc=zc,$c=Ic,Uc=function(e){var t=this.__data__;return Lc?void 0!==t[e]:Fc.call(t,e)},Wc=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vc&&void 0===t?"__lodash_hash_undefined__":t,this};function qc(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qc.prototype.clear=Hc,qc.prototype.delete=jc,qc.prototype.get=$c,qc.prototype.has=Uc,qc.prototype.set=Wc;var Kc=qc,Yc=Fs,Gc=Mc;var Xc=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Zc=function(e,t){var n=e.__data__;return Xc(t)?n["string"==typeof t?"string":"hash"]:n.map},Jc=Zc;var Qc=Zc;var ed=Zc;var td=Zc;var nd=function(){this.size=0,this.__data__={hash:new Kc,map:new(Gc||Yc),string:new Kc}},rd=function(e){var t=Jc(this,e).delete(e);return this.size-=t?1:0,t},od=function(e){return Qc(this,e).get(e)},id=function(e){return ed(this,e).has(e)},ad=function(e,t){var n=td(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ld(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ld.prototype.clear=nd,ld.prototype.delete=rd,ld.prototype.get=od,ld.prototype.has=id,ld.prototype.set=ad;var ud=ld,sd=Fs,cd=Mc,dd=ud;var fd=Fs,pd=Hs,md=js,hd=$s,gd=Us,vd=function(e,t){var n=this.__data__;if(n instanceof sd){var r=n.__data__;if(!cd||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dd(r)}return n.set(e,t),this.size=n.size,this};function bd(e){var t=this.__data__=new fd(e);this.size=t.size}bd.prototype.clear=pd,bd.prototype.delete=md,bd.prototype.get=hd,bd.prototype.has=gd,bd.prototype.set=vd;var yd=bd;var wd=ud,xd=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Cd=function(e){return this.__data__.has(e)};function kd(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wd;++t<n;)this.add(e[t])}kd.prototype.add=kd.prototype.push=xd,kd.prototype.has=Cd;var Sd=kd;var _d=function(e,t){return e.has(t)},Od=Sd,Td=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ed=_d;var Ad=function(e,t,n,r,o,i){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var s=i.get(e),c=i.get(t);if(s&&c)return s==t&&c==e;var d=-1,f=!0,p=2&n?new Od:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var m=e[d],h=t[d];if(r)var g=a?r(h,m,d,t,e,i):r(m,h,d,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!Td(t,(function(e,t){if(!Ed(p,t)&&(m===e||o(m,e,n,r,i)))return p.push(t)}))){f=!1;break}}else if(m!==h&&!o(m,h,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},Md=Ys.Uint8Array;var Dd=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Nd=Md,Pd=_s,zd=Ad,Bd=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Rd=Dd,Id=Gs?Gs.prototype:void 0,Ld=Id?Id.valueOf:void 0;var Fd=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Nd(e),new Nd(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pd(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Bd;case"[object Set]":var u=1&r;if(l||(l=Rd),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var c=zd(l(e),l(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Ld)return Ld.call(e)==Ld.call(t)}return!1};var Vd=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Hd=Array.isArray,jd=Vd,$d=Hd;var Ud=function(e,t,n){var r=t(e);return $d(e)?r:jd(r,n(e))};var Wd=function(){return[]},qd=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},Kd=Wd,Yd=Object.prototype.propertyIsEnumerable,Gd=Object.getOwnPropertySymbols,Xd=Gd?function(e){return null==e?[]:(e=Object(e),qd(Gd(e),(function(t){return Yd.call(e,t)})))}:Kd;var Zd=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Jd=function(e){return null!=e&&"object"==typeof e},Qd=ac,ef=Jd;var tf=function(e){return ef(e)&&"[object Arguments]"==Qd(e)},nf=Jd,rf=Object.prototype,of=rf.hasOwnProperty,af=rf.propertyIsEnumerable,lf=tf(function(){return arguments}())?tf:function(e){return nf(e)&&of.call(e,"callee")&&!af.call(e,"callee")},uf={exports:{}};var sf=function(){return!1};!function(e,t){var n=Ys,r=sf,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;e.exports=l}(uf,uf.exports);var cf=/^(?:0|[1-9]\d*)$/;var df=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&cf.test(e))&&e>-1&&e%1==0&&e<t};var ff=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},pf=ac,mf=ff,hf=Jd,gf={};gf["[object Float32Array]"]=gf["[object Float64Array]"]=gf["[object Int8Array]"]=gf["[object Int16Array]"]=gf["[object Int32Array]"]=gf["[object Uint8Array]"]=gf["[object Uint8ClampedArray]"]=gf["[object Uint16Array]"]=gf["[object Uint32Array]"]=!0,gf["[object Arguments]"]=gf["[object Array]"]=gf["[object ArrayBuffer]"]=gf["[object Boolean]"]=gf["[object DataView]"]=gf["[object Date]"]=gf["[object Error]"]=gf["[object Function]"]=gf["[object Map]"]=gf["[object Number]"]=gf["[object Object]"]=gf["[object RegExp]"]=gf["[object Set]"]=gf["[object String]"]=gf["[object WeakMap]"]=!1;var vf=function(e){return hf(e)&&mf(e.length)&&!!gf[pf(e)]};var bf=function(e){return function(t){return e(t)}},yf={exports:{}};!function(e,t){var n=Ws,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=a}(yf,yf.exports);var wf=vf,xf=bf,Cf=yf.exports,kf=Cf&&Cf.isTypedArray,Sf=kf?xf(kf):wf,_f=Zd,Of=lf,Tf=Hd,Ef=uf.exports,Af=df,Mf=Sf,Df=Object.prototype.hasOwnProperty;var Nf=function(e,t){var n=Tf(e),r=!n&&Of(e),o=!n&&!r&&Ef(e),i=!n&&!r&&!o&&Mf(e),a=n||r||o||i,l=a?_f(e.length,String):[],u=l.length;for(var s in e)!t&&!Df.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Af(s,u))||l.push(s);return l},Pf=Object.prototype;var zf=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pf)};var Bf=function(e,t){return function(n){return e(t(n))}},Rf=Bf(Object.keys,Object),If=zf,Lf=Rf,Ff=Object.prototype.hasOwnProperty;var Vf=dc,Hf=ff;var jf=function(e){return null!=e&&Hf(e.length)&&!Vf(e)},$f=Nf,Uf=function(e){if(!If(e))return Lf(e);var t=[];for(var n in Object(e))Ff.call(e,n)&&"constructor"!=n&&t.push(n);return t},Wf=jf;var qf=function(e){return Wf(e)?$f(e):Uf(e)},Kf=Ud,Yf=Xd,Gf=qf;var Xf=function(e){return Kf(e,Gf,Yf)},Zf=Xf,Jf=Object.prototype.hasOwnProperty;var Qf=function(e,t,n,r,o,i){var a=1&n,l=Zf(e),u=l.length;if(u!=Zf(t).length&&!a)return!1;for(var s=u;s--;){var c=l[s];if(!(a?c in t:Jf.call(t,c)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var p=!0;i.set(e,t),i.set(t,e);for(var m=a;++s<u;){var h=e[c=l[s]],g=t[c];if(r)var v=a?r(g,h,c,t,e,i):r(h,g,c,e,t,i);if(!(void 0===v?h===g||o(h,g,n,r,i):v)){p=!1;break}m||(m="constructor"==c)}if(p&&!m){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(e),i.delete(t),p},ep=Ac(Ys,"DataView"),tp=Ac(Ys,"Promise"),np=Ac(Ys,"Set"),rp=ep,op=Mc,ip=tp,ap=np,lp=Ac(Ys,"WeakMap"),up=ac,sp=gc,cp=sp(rp),dp=sp(op),fp=sp(ip),pp=sp(ap),mp=sp(lp),hp=up;(rp&&"[object DataView]"!=hp(new rp(new ArrayBuffer(1)))||op&&"[object Map]"!=hp(new op)||ip&&"[object Promise]"!=hp(ip.resolve())||ap&&"[object Set]"!=hp(new ap)||lp&&"[object WeakMap]"!=hp(new lp))&&(hp=function(e){var t=up(e),n="[object Object]"==t?e.constructor:void 0,r=n?sp(n):"";if(r)switch(r){case cp:return"[object DataView]";case dp:return"[object Map]";case fp:return"[object Promise]";case pp:return"[object Set]";case mp:return"[object WeakMap]"}return t});var gp=hp,vp=yd,bp=Ad,yp=Fd,wp=Qf,xp=gp,Cp=Hd,kp=uf.exports,Sp=Sf,_p=Object.prototype.hasOwnProperty;var Op=function(e,t,n,r,o,i){var a=Cp(e),l=Cp(t),u=a?"[object Array]":xp(e),s=l?"[object Array]":xp(t),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),f=u==s;if(f&&kp(e)){if(!kp(t))return!1;a=!0,c=!1}if(f&&!c)return i||(i=new vp),a||Sp(e)?bp(e,t,n,r,o,i):yp(e,t,u,n,r,o,i);if(!(1&n)){var p=c&&_p.call(e,"__wrapped__"),m=d&&_p.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,g=m?t.value():t;return i||(i=new vp),o(h,g,n,r,i)}}return!!f&&(i||(i=new vp),wp(e,t,n,r,o,i))},Tp=Jd;var Ep=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Tp(t)&&!Tp(n)?t!=t&&n!=n:Op(t,n,r,o,e,i))},Ap="undefined"==typeof window;class Mp extends Error{constructor(e){super(e),this.name="ElementPlusError"}}var Dp=(e,t)=>{throw new Mp(`[${e}] ${t}`)};function Np(e,t){console.warn(new Mp(`[${e}] ${t}`))}const Pp=(e,t="")=>{let n=e;return t.split(".").map((e=>{n=null==n?void 0:n[e]})),n};function zp(e,t,n){let r=e;const o=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");let i=0;for(;i<o.length-1&&(r||n);i++){const e=o[i];if(!(e in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[e]}return{o:r,k:o[i],v:null==r?void 0:r[o[i]]}}const Bp=()=>Math.floor(1e4*Math.random()),Rp=e=>e||0===e?Array.isArray(e)?e:[e]:[],Ip=e=>"boolean"==typeof e,Lp=e=>"number"==typeof e;function Fp(e){let t=!1;return function(...n){t||(t=!0,window.requestAnimationFrame((()=>{e.apply(this,n),t=!1})))}}const Vp=e=>{clearTimeout(e.value),e.value=null};function Hp(e){return Object.keys(e).map((t=>[t,e[t]]))}function jp(e){return void 0===e}function $p(){const e=Yr();return"$ELEMENT"in e.proxy?e.proxy.$ELEMENT:{}}const Up=function(e,t){return e.find(t)};function Wp(e){return!!(!e&&0!==e||S(e)&&!e.length||D(e)&&!Object.keys(e).length)}function qp(e){return e.reduce(((e,t)=>{const n=Array.isArray(t)?qp(t):t;return e.concat(n)}),[])}function Kp(e){return Array.from(new Set(e))}function Yp(e){return e.value}function Gp(e){return A(e)?e:Lp(e)?e+"px":""}const Xp=["class","style"],Zp=/^on[A-Z]/;var Jp=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n=[]}=e,r=Yr(),o=bt({}),i=n.concat(Xp);return r.attrs=it(r.attrs),Eo((()=>{const e=Hp(r.attrs).reduce(((e,[n,r])=>(i.includes(n)||t&&Zp.test(n)||(e[n]=r),e)),{});o.value=e})),o};const Qp=function(e,t,n,r=!1){e&&t&&n&&e.addEventListener(t,n,r)},em=function(e,t,n,r=!1){e&&t&&n&&e.removeEventListener(t,n,r)};function tm(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function nm(e,t){if(!e)return;let n=e.className;const r=(t||"").split(" ");for(let o=0,i=r.length;o<i;o++){const t=r[o];t&&(e.classList?e.classList.add(t):tm(e,t)||(n+=" "+t))}e.classList||(e.className=n)}function rm(e,t){if(!e||!t)return;const n=t.split(" ");let r=" "+e.className+" ";for(let o=0,i=n.length;o<i;o++){const t=n[o];t&&(e.classList?e.classList.remove(t):tm(e,t)&&(r=r.replace(" "+t+" "," ")))}e.classList||(e.className=(r||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}const om=function(e,t){if(!Ap){if(!e||!t)return null;"float"===(t=H(t))&&(t="cssFloat");try{const n=e.style[t];if(n)return n;const r=document.defaultView.getComputedStyle(e,"");return r?r[t]:""}catch(n){return e.style[t]}}},im=(e,t)=>{if(Ap)return;return om(e,null==t?"overflow":t?"overflow-y":"overflow-x").match(/(scroll|auto|overlay)/)},am=(e,t)=>{if(Ap)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(im(n,t))return n;n=n.parentNode}return n},lm=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},um=e=>e.stopPropagation();let sm;function cm(){if(Ap)return 0;if(void 0!==sm)return sm;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const r=n.offsetWidth;return e.parentNode.removeChild(e),sm=t-r,sm}var dm=e=>{gt(e)||Dp("[useLockScreen]","You need to pass a ref param to this function");let t=0,n=!1,r="0",o=0;mn((()=>{i()}));const i=()=>{rm(document.body,"el-popup-parent--hidden"),n&&(document.body.style.paddingRight=r)};Mo(e,(e=>{if(e){n=!tm(document.body,"el-popup-parent--hidden"),n&&(r=document.body.style.paddingRight,o=parseInt(om(document.body,"paddingRight"),10)),t=cm();const e=document.documentElement.clientHeight<document.body.scrollHeight,i=om(document.body,"overflowY");t>0&&(e||"scroll"===i)&&n&&(document.body.style.paddingRight=o+t+"px"),nm(document.body,"el-popup-parent--hidden")}else i()}))},fm=(e,t)=>{let n;Mo((()=>e.value),(e=>{var r,o;e?(n=document.activeElement,gt(t)&&(null===(o=(r=t.value).focus)||void 0===o||o.call(r))):n.focus()}))};const pm={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace"},mm=e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent,hm=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter(gm).filter(mm),gm=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},vm=function(e,t,...n){let r;r=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const o=document.createEvent(r);return o.initEvent(t,...n),e.dispatchEvent(o),e},bm=[];var ym=(e,t)=>{Mo((()=>t.value),(t=>{t?bm.push(e):bm.splice(bm.findIndex((t=>t===e)),1)}))};Ap||Qp(document,"keydown",(e=>{if(0!==bm.length&&e.code===pm.esc){e.stopPropagation();bm[bm.length-1].handleClose()}}));const wm="update:modelValue",xm={validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"};var Cm="top",km="bottom",Sm="right",_m="left",Om=[Cm,km,Sm,_m],Tm=Om.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),Em=[].concat(Om,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),Am=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Mm(e){return e?(e.nodeName||"").toLowerCase():null}function Dm(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Nm(e){return e instanceof Dm(e).Element||e instanceof Element}function Pm(e){return e instanceof Dm(e).HTMLElement||e instanceof HTMLElement}function zm(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Dm(e).ShadowRoot||e instanceof ShadowRoot)}var Bm={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];Pm(o)&&Mm(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Pm(r)&&Mm(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Rm(e){return e.split("-")[0]}var Im=Math.round;function Lm(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;return Pm(e)&&t&&(r=n.width/e.offsetWidth||1,o=n.height/e.offsetHeight||1),{width:Im(n.width/r),height:Im(n.height/o),top:Im(n.top/o),right:Im(n.right/r),bottom:Im(n.bottom/o),left:Im(n.left/r),x:Im(n.left/r),y:Im(n.top/o)}}function Fm(e){var t=Lm(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Vm(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&zm(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Hm(e){return Dm(e).getComputedStyle(e)}function jm(e){return["table","td","th"].indexOf(Mm(e))>=0}function $m(e){return((Nm(e)?e.ownerDocument:e.document)||window.document).documentElement}function Um(e){return"html"===Mm(e)?e:e.assignedSlot||e.parentNode||(zm(e)?e.host:null)||$m(e)}function Wm(e){return Pm(e)&&"fixed"!==Hm(e).position?e.offsetParent:null}function qm(e){for(var t=Dm(e),n=Wm(e);n&&jm(n)&&"static"===Hm(n).position;)n=Wm(n);return n&&("html"===Mm(n)||"body"===Mm(n)&&"static"===Hm(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Pm(e)&&"fixed"===Hm(e).position)return null;for(var n=Um(e);Pm(n)&&["html","body"].indexOf(Mm(n))<0;){var r=Hm(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Km(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var Ym=Math.max,Gm=Math.min,Xm=Math.round;function Zm(e,t,n){return Ym(e,Gm(t,n))}function Jm(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Qm(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var eh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function th(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,s=e.roundOffsets,c=!0===s?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Xm(Xm(t*r)/r)||0,y:Xm(Xm(n*r)/r)||0}}(i):"function"==typeof s?s(i):i,d=c.x,f=void 0===d?0:d,p=c.y,m=void 0===p?0:p,h=i.hasOwnProperty("x"),g=i.hasOwnProperty("y"),v=_m,b=Cm,y=window;if(u){var w=qm(n),x="clientHeight",C="clientWidth";w===Dm(n)&&"static"!==Hm(w=$m(n)).position&&(x="scrollHeight",C="scrollWidth"),w=w,o===Cm&&(b=km,m-=w[x]-r.height,m*=l?1:-1),o===_m&&(v=Sm,f-=w[C]-r.width,f*=l?1:-1)}var k,S=Object.assign({position:a},u&&eh);return l?Object.assign({},S,((k={})[b]=g?"0":"",k[v]=h?"0":"",k.transform=(y.devicePixelRatio||1)<2?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},S,((t={})[b]=g?m+"px":"",t[v]=h?f+"px":"",t.transform="",t))}var nh={passive:!0};var rh={left:"right",right:"left",bottom:"top",top:"bottom"};function oh(e){return e.replace(/left|right|bottom|top/g,(function(e){return rh[e]}))}var ih={start:"end",end:"start"};function ah(e){return e.replace(/start|end/g,(function(e){return ih[e]}))}function lh(e){var t=Dm(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function uh(e){return Lm($m(e)).left+lh(e).scrollLeft}function sh(e){var t=Hm(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function ch(e){return["html","body","#document"].indexOf(Mm(e))>=0?e.ownerDocument.body:Pm(e)&&sh(e)?e:ch(Um(e))}function dh(e,t){var n;void 0===t&&(t=[]);var r=ch(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Dm(r),a=o?[i].concat(i.visualViewport||[],sh(r)?r:[]):r,l=t.concat(a);return o?l:l.concat(dh(Um(a)))}function fh(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ph(e,t){return"viewport"===t?fh(function(e){var t=Dm(e),n=$m(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,l=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,l=r.offsetTop)),{width:o,height:i,x:a+uh(e),y:l}}(e)):Pm(t)?function(e){var t=Lm(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):fh(function(e){var t,n=$m(e),r=lh(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Ym(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Ym(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+uh(e),u=-r.scrollTop;return"rtl"===Hm(o||n).direction&&(l+=Ym(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:u}}($m(e)))}function mh(e,t,n){var r="clippingParents"===t?function(e){var t=dh(Um(e)),n=["absolute","fixed"].indexOf(Hm(e).position)>=0&&Pm(e)?qm(e):e;return Nm(n)?t.filter((function(e){return Nm(e)&&Vm(e,n)&&"body"!==Mm(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=ph(e,n);return t.top=Ym(r.top,t.top),t.right=Gm(r.right,t.right),t.bottom=Gm(r.bottom,t.bottom),t.left=Ym(r.left,t.left),t}),ph(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function hh(e){return e.split("-")[1]}function gh(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Rm(o):null,a=o?hh(o):null,l=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case Cm:t={x:l,y:n.y-r.height};break;case km:t={x:l,y:n.y+n.height};break;case Sm:t={x:n.x+n.width,y:u};break;case _m:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var s=i?Km(i):null;if(null!=s){var c="y"===s?"height":"width";switch(a){case"start":t[s]=t[s]-(n[c]/2-r[c]/2);break;case"end":t[s]=t[s]+(n[c]/2-r[c]/2)}}return t}function vh(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,l=n.rootBoundary,u=void 0===l?"viewport":l,s=n.elementContext,c=void 0===s?"popper":s,d=n.altBoundary,f=void 0!==d&&d,p=n.padding,m=void 0===p?0:p,h=Jm("number"!=typeof m?m:Qm(m,Om)),g="popper"===c?"reference":"popper",v=e.elements.reference,b=e.rects.popper,y=e.elements[f?g:c],w=mh(Nm(y)?y:y.contextElement||$m(e.elements.popper),a,u),x=Lm(v),C=gh({reference:x,element:b,strategy:"absolute",placement:o}),k=fh(Object.assign({},b,C)),S="popper"===c?k:x,_={top:w.top-S.top+h.top,bottom:S.bottom-w.bottom+h.bottom,left:w.left-S.left+h.left,right:S.right-w.right+h.right},O=e.modifiersData.offset;if("popper"===c&&O){var T=O[o];Object.keys(_).forEach((function(e){var t=[Sm,km].indexOf(e)>=0?1:-1,n=[Cm,km].indexOf(e)>=0?"y":"x";_[e]+=T[n]*t}))}return _}function bh(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yh(e){return[Cm,Sm,km,_m].some((function(t){return e[t]>=0}))}function wh(e,t,n){void 0===n&&(n=!1);var r,o,i=Pm(t),a=Pm(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),l=$m(t),u=Lm(e,a),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&(("body"!==Mm(t)||sh(l))&&(s=(r=t)!==Dm(r)&&Pm(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:lh(r)),Pm(t)?((c=Lm(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):l&&(c.x=uh(l))),{x:u.left+s.scrollLeft-c.x,y:u.top+s.scrollTop-c.y,width:u.width,height:u.height}}function xh(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var Ch={placement:"bottom",modifiers:[],strategy:"absolute"};function kh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Sh(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Ch:o;return function(e,t,n){void 0===n&&(n=i);var o,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ch,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],s=!1,c={state:l,setOptions:function(n){d(),l.options=Object.assign({},i,l.options,n),l.scrollParents={reference:Nm(e)?dh(e):e.contextElement?dh(e.contextElement):[],popper:dh(t)};var o,a,s=function(e){var t=xh(e);return Am.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(r,l.options.modifiers),a=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(a).map((function(e){return a[e]}))));return l.orderedModifiers=s.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:l,name:t,instance:c,options:r}),a=function(){};u.push(i||a)}})),c.update()},forceUpdate:function(){if(!s){var e=l.elements,t=e.reference,n=e.popper;if(kh(t,n)){l.rects={reference:wh(t,qm(n),"fixed"===l.options.strategy),popper:Fm(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],i=o.fn,a=o.options,u=void 0===a?{}:a,d=o.name;"function"==typeof i&&(l=i({state:l,options:u,name:d,instance:c})||l)}else l.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){c.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){d(),s=!0}};if(!kh(e,t))return c;function d(){u.forEach((function(e){return e()})),u=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var _h=Sh({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,l=void 0===a||a,u=Dm(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&s.forEach((function(e){e.addEventListener("scroll",n.update,nh)})),l&&u.addEventListener("resize",n.update,nh),function(){i&&s.forEach((function(e){e.removeEventListener("scroll",n.update,nh)})),l&&u.removeEventListener("resize",n.update,nh)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=gh({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,l=n.roundOffsets,u=void 0===l||l,s={placement:Rm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,th(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,th(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Bm,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=Em.reduce((function(e,n){return e[n]=function(e,t,n){var r=Rm(e),o=[_m,Cm].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*o,[_m,Sm].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}(n,t.rects,i),e}),{}),l=a[t.placement],u=l.x,s=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=s),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,l=void 0===a||a,u=n.fallbackPlacements,s=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=void 0===p||p,h=n.allowedAutoPlacements,g=t.options.placement,v=Rm(g),b=u||(v===g||!m?[oh(g)]:function(e){if("auto"===Rm(e))return[];var t=oh(e);return[ah(e),t,ah(t)]}(g)),y=[g].concat(b).reduce((function(e,n){return e.concat("auto"===Rm(n)?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,s=void 0===u?Em:u,c=hh(r),d=c?l?Tm:Tm.filter((function(e){return hh(e)===c})):Om,f=d.filter((function(e){return s.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=vh(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[Rm(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:s,flipVariations:m,allowedAutoPlacements:h}):n)}),[]),w=t.rects.reference,x=t.rects.popper,C=new Map,k=!0,S=y[0],_=0;_<y.length;_++){var O=y[_],T=Rm(O),E="start"===hh(O),A=[Cm,km].indexOf(T)>=0,M=A?"width":"height",D=vh(t,{placement:O,boundary:c,rootBoundary:d,altBoundary:f,padding:s}),N=A?E?Sm:_m:E?km:Cm;w[M]>x[M]&&(N=oh(N));var P=oh(N),z=[];if(i&&z.push(D[T]<=0),l&&z.push(D[N]<=0,D[P]<=0),z.every((function(e){return e}))){S=O,k=!1;break}C.set(O,z)}if(k)for(var B=function(e){var t=y.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},R=m?3:1;R>0;R--){if("break"===B(R))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,l=void 0!==a&&a,u=n.boundary,s=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,m=n.tetherOffset,h=void 0===m?0:m,g=vh(t,{boundary:u,rootBoundary:s,padding:d,altBoundary:c}),v=Rm(t.placement),b=hh(t.placement),y=!b,w=Km(v),x="x"===w?"y":"x",C=t.modifiersData.popperOffsets,k=t.rects.reference,S=t.rects.popper,_="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,O={x:0,y:0};if(C){if(i||l){var T="y"===w?Cm:_m,E="y"===w?km:Sm,A="y"===w?"height":"width",M=C[w],D=C[w]+g[T],N=C[w]-g[E],P=p?-S[A]/2:0,z="start"===b?k[A]:S[A],B="start"===b?-S[A]:-k[A],R=t.elements.arrow,I=p&&R?Fm(R):{width:0,height:0},L=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},F=L[T],V=L[E],H=Zm(0,k[A],I[A]),j=y?k[A]/2-P-H-F-_:z-H-F-_,$=y?-k[A]/2+P+H+V+_:B+H+V+_,U=t.elements.arrow&&qm(t.elements.arrow),W=U?"y"===w?U.clientTop||0:U.clientLeft||0:0,q=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,K=C[w]+j-q-W,Y=C[w]+$-q;if(i){var G=Zm(p?Gm(D,K):D,M,p?Ym(N,Y):N);C[w]=G,O[w]=G-M}if(l){var X="x"===w?Cm:_m,Z="x"===w?km:Sm,J=C[x],Q=J+g[X],ee=J-g[Z],te=Zm(p?Gm(Q,K):Q,J,p?Ym(ee,Y):ee);C[x]=te,O[x]=te-J}}t.modifiersData[r]=O}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=Rm(n.placement),u=Km(l),s=[_m,Sm].indexOf(l)>=0?"height":"width";if(i&&a){var c=function(e,t){return Jm("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Qm(e,Om))}(o.padding,n),d=Fm(i),f="y"===u?Cm:_m,p="y"===u?km:Sm,m=n.rects.reference[s]+n.rects.reference[u]-a[u]-n.rects.popper[s],h=a[u]-n.rects.reference[u],g=qm(i),v=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,b=m/2-h/2,y=c[f],w=v-d[s]-c[p],x=v/2-d[s]/2+b,C=Zm(y,x,w),k=u;n.modifiersData[r]=((t={})[k]=C,t.centerOffset=C-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Vm(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=vh(t,{elementContext:"reference"}),l=vh(t,{altBoundary:!0}),u=bh(a,r),s=bh(l,o,i),c=yh(u),d=yh(s);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:s,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]});const Oh=new Map;let Th;function Eh(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:t.arg instanceof HTMLElement&&n.push(t.arg),function(r,o){const i=t.instance.popperRef,a=r.target,l=null==o?void 0:o.target,u=!t||!t.instance,s=!a||!l,c=e.contains(a)||e.contains(l),d=e===a,f=n.length&&n.some((e=>null==e?void 0:e.contains(a)))||n.length&&n.includes(l),p=i&&(i.contains(a)||i.contains(l));u||s||c||d||f||p||t.value(r,o)}}Ap||(Qp(document,"mousedown",(e=>Th=e)),Qp(document,"mouseup",(e=>{for(const t of Oh.values())for(const{documentHandler:n}of t)n(e,Th)})));var Ah={beforeMount(e,t){Oh.has(e)||Oh.set(e,[]),Oh.get(e).push({documentHandler:Eh(e,t),bindingFn:t.value})},updated(e,t){Oh.has(e)||Oh.set(e,[]);const n=Oh.get(e),r=n.findIndex((e=>e.bindingFn===t.oldValue)),o={documentHandler:Eh(e,t),bindingFn:t.value};r>=0?n.splice(r,1,o):n.push(o)},unmounted(e){Oh.delete(e)}},Mh={beforeMount(e,t){let n,r=null;const o=()=>t.value&&t.value(),i=()=>{Date.now()-n<100&&o(),clearInterval(r),r=null};Qp(e,"mousedown",(e=>{0===e.button&&(n=Date.now(),function(e,t,n){const r=function(...o){n&&n.apply(this,o),em(e,t,r)};Qp(e,t,r)}(document,"mouseup",i),clearInterval(r),r=setInterval(o,100))}))}};const Dh=[],Nh=e=>{if(0===Dh.length)return;const t=Dh[Dh.length-1]["_trap-focus-children"];if(t.length>0&&e.code===pm.tab){if(1===t.length)return e.preventDefault(),void(document.activeElement!==t[0]&&t[0].focus());const n=e.shiftKey,r=e.target===t[0],o=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),o&&!n&&(e.preventDefault(),t[0].focus())}};var Ph,zh,Bh,Rh,Ih,Lh,Fh,Vh,Hh,jh,$h,Uh,Wh,qh,Kh,Yh={beforeMount(e){e["_trap-focus-children"]=hm(e),Dh.push(e),Dh.length<=1&&Qp(document,"keydown",Nh)},updated(e){wo((()=>{e["_trap-focus-children"]=hm(e)}))},unmounted(){Dh.shift(),0===Dh.length&&em(document,"keydown",Nh)}},Gh=!1;function Xh(){if(!Gh){Gh=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Uh=/\b(iPhone|iP[ao]d)/.exec(e),Wh=/\b(iP[ao]d)/.exec(e),jh=/Android/i.exec(e),qh=/FBAN\/\w+;/i.exec(e),Kh=/Mobile/i.exec(e),$h=!!/Win64/.exec(e),t){(Ph=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(Ph=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);Lh=r?parseFloat(r[1])+4:Ph,zh=t[2]?parseFloat(t[2]):NaN,Bh=t[3]?parseFloat(t[3]):NaN,(Rh=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Ih=t&&t[1]?parseFloat(t[1]):NaN):Ih=NaN}else Ph=zh=Bh=Ih=Rh=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Fh=!o||parseFloat(o[1].replace("_","."))}else Fh=!1;Vh=!!n[2],Hh=!!n[3]}else Fh=Vh=Hh=!1}}var Zh,Jh={ie:function(){return Xh()||Ph},ieCompatibilityMode:function(){return Xh()||Lh>Ph},ie64:function(){return Jh.ie()&&$h},firefox:function(){return Xh()||zh},opera:function(){return Xh()||Bh},webkit:function(){return Xh()||Rh},safari:function(){return Jh.webkit()},chrome:function(){return Xh()||Ih},windows:function(){return Xh()||Vh},osx:function(){return Xh()||Fh},linux:function(){return Xh()||Hh},iphone:function(){return Xh()||Uh},mobile:function(){return Xh()||Uh||Wh||jh||Kh},nativeApp:function(){return Xh()||qh},android:function(){return Xh()||jh},ipad:function(){return Xh()||Wh}},Qh=Jh,eg=!("undefined"==typeof window||!window.document||!window.document.createElement),tg={canUseDOM:eg,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:eg&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:eg&&!!window.screen,isInWorker:!eg};tg.canUseDOM&&(Zh=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */;var ng=Qh,rg=function(e,t){if(!tg.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return!r&&Zh&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r};function og(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}og.getEventType=function(){return ng.firefox()?"DOMMouseScroll":rg("wheel")?"wheel":"mousewheel"};var ig=og;const ag="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1;var lg={beforeMount(e,t){!function(e,t){if(e&&e.addEventListener){const n=function(e){const n=ig(e);t&&t.apply(this,[e,n])};ag?e.addEventListener("DOMMouseScroll",n):e.onmousewheel=n}}(e,t.value)}},ug=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),sg="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,cg="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),dg="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(cg):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var fg=["top","right","bottom","left","width","height","size","weight"],pg="undefined"!=typeof MutationObserver,mg=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function a(){dg(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){sg&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pg?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){sg&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;fg.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),hg=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},gg=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||cg},vg=kg(0,0,0,0);function bg(e){return parseFloat(e)||0}function yg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+bg(e["border-"+n+"-width"])}),0)}function wg(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return vg;var r=gg(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=bg(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,l=bg(r.width),u=bg(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=yg(r,"left","right")+i),Math.round(u+a)!==n&&(u-=yg(r,"top","bottom")+a)),!function(e){return e===gg(e).document.documentElement}(e)){var s=Math.round(l+i)-t,c=Math.round(u+a)-n;1!==Math.abs(s)&&(l-=s),1!==Math.abs(c)&&(u-=c)}return kg(o.left,o.top,l,u)}var xg="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof gg(e).SVGGraphicsElement}:function(e){return e instanceof gg(e).SVGElement&&"function"==typeof e.getBBox};function Cg(e){return sg?xg(e)?function(e){var t=e.getBBox();return kg(0,0,t.width,t.height)}(e):wg(e):vg}function kg(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Sg=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=kg(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Cg(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_g=function(e,t){var n,r,o,i,a,l,u,s=(r=(n=t).x,o=n.y,i=n.width,a=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(l.prototype),hg(u,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),u);hg(this,{target:e,contentRect:s})},Og=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ug,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof gg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Sg(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof gg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _g(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Tg="undefined"!=typeof WeakMap?new WeakMap:new ug,Eg=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mg.getInstance(),r=new Og(t,n,this);Tg.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Eg.prototype[e]=function(){var t;return(t=Tg.get(this))[e].apply(t,arguments)}}));var Ag=void 0!==cg.ResizeObserver?cg.ResizeObserver:Eg;const Mg=function(e){for(const t of e){const e=t.target.__resizeListeners__||[];e.length&&e.forEach((e=>{e()}))}},Dg=function(e,t){!Ap&&e&&(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new Ag(Mg),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},Ng=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())};var Pg={beforeMount(e,t){e._handleResize=()=>{var n;e&&(null===(n=t.value)||void 0===n||n.call(t))},Dg(e,e._handleResize)},beforeUnmount(e){Ng(e,e._handleResize)}};var zg,Bg;(Bg=zg||(zg={}))[Bg.TEXT=1]="TEXT",Bg[Bg.CLASS=2]="CLASS",Bg[Bg.STYLE=4]="STYLE",Bg[Bg.PROPS=8]="PROPS",Bg[Bg.FULL_PROPS=16]="FULL_PROPS",Bg[Bg.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",Bg[Bg.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",Bg[Bg.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",Bg[Bg.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",Bg[Bg.NEED_PATCH=512]="NEED_PATCH",Bg[Bg.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",Bg[Bg.HOISTED=-1]="HOISTED",Bg[Bg.BAIL=-2]="BAIL";const Rg=e=>e.type===cr,Ig=e=>e.type===fr;function Lg(e,t){if(!Ig(e))return Rg(e)||(e=>"template"===e.type)(e)?t>0?Fg(e.children,t-1):void 0:e}const Fg=(e,t=3)=>Array.isArray(e)?Lg(e[0],t):Lg(e,t);function Vg(e,t,n,r,o,i){return e?function(e,t,n,r,o){return gr(),xr(e,t,n,r,o)}(t,n,r,o,i):Nr("v-if",!0)}let Hg={};const jg=e=>{e.preventDefault(),e.stopPropagation()},$g=()=>{null==Yg||Yg.doOnModalClick()};let Ug,Wg=!1;const qg=function(){if(Ap)return;let e=Yg.modalDom;return e?Wg=!0:(Wg=!1,e=document.createElement("div"),Yg.modalDom=e,Qp(e,"touchmove",jg),Qp(e,"click",$g)),e},Kg={},Yg={modalFade:!0,modalDom:void 0,zIndex:Ug,getInstance:function(e){return Kg[e]},register:function(e,t){e&&t&&(Kg[e]=t)},deregister:function(e){e&&(Kg[e]=null,delete Kg[e])},nextZIndex:function(){return++Yg.zIndex},modalStack:[],doOnModalClick:function(){const e=Yg.modalStack[Yg.modalStack.length-1];if(!e)return;const t=Yg.getInstance(e.id);t&&t.closeOnClickModal.value&&t.close()},openModal:function(e,t,n,r,o){if(Ap)return;if(!e||void 0===t)return;this.modalFade=o;const i=this.modalStack;for(let l=0,u=i.length;l<u;l++){if(i[l].id===e)return}const a=qg();if(nm(a,"v-modal"),this.modalFade&&!Wg&&nm(a,"v-modal-enter"),r){r.trim().split(/\s+/).forEach((e=>nm(a,e)))}setTimeout((()=>{rm(a,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(a):document.body.appendChild(a),t&&(a.style.zIndex=String(t)),a.tabIndex=0,a.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})},closeModal:function(e){const t=this.modalStack,n=qg();if(t.length>0){const r=t[t.length-1];if(r.id===e){if(r.modalClass){r.modalClass.trim().split(/\s+/).forEach((e=>rm(n,e)))}t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(let n=t.length-1;n>=0;n--)if(t[n].id===e){t.splice(n,1);break}}0===t.length&&(this.modalFade&&nm(n,"v-modal-leave"),setTimeout((()=>{0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",Yg.modalDom=void 0),rm(n,"v-modal-leave")}),200))}};Object.defineProperty(Yg,"zIndex",{configurable:!0,get:()=>(void 0===Ug&&(Ug=Hg["zIndex"]||2e3),Ug),set(e){Ug=e}});Ap||Qp(window,"keydown",(function(e){if(e.code===pm.esc){const e=function(){if(!Ap&&Yg.modalStack.length>0){const e=Yg.modalStack[Yg.modalStack.length-1];if(!e)return;return Yg.getInstance(e.id)}}();e&&e.closeOnPressEscape.value&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}));var Gg=Yg,Xg={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Zg={locale:{type:Object}};let Jg;function Qg(e,t,n){const r=e.split(".");let o;for(let i=0,a=r.length;i<a;i++){if(o=n[r[i]],i===a-1)return tv(o,t);if(!o)return"";n=o}}const ev=()=>{const e=Yr().props,t=Et((()=>e.locale||Xg)),n=Et((()=>t.value.name)),r={locale:t,lang:n,t:(...e)=>((...e)=>{const[n,r]=e;return Qg(n,r,t.value)})(...e)};Jg=r,jt("ElLocaleInjection",r)};function tv(e,t){return e&&t?e.replace(/\{(\w+)\}/g,((e,n)=>t[n])):e}const nv=()=>$t("ElLocaleInjection",Jg||{lang:vt(Xg.name),locale:vt(Xg),t:(...e)=>{const[t,n]=e;return Qg(t,n,Xg)}});var rv=(e=[])=>{const t=[];return{version:"1.1.0-beta.5",install:(n,r)=>{const o=Object.assign({size:"",zIndex:2e3},r);if(!t.includes(n)){if(t.push(n),e.forEach((e=>{n.use(e)})),o.locale){const e=((e=Xg)=>{const t=vt(e.name),n=vt(e);return{lang:t,locale:n,t:(...e)=>{const[t,r]=e;return Qg(t,r,n.value)}}})(r.locale);n.provide("ElLocaleInjection",e)}n.config.globalProperties.$ELEMENT=o,(e=>{Hg=e})(o)}}}},ov=Qt({name:"ElAffix",props:{zIndex:{type:Number,default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,default:"top"}},emits:["scroll","change"],setup(e,{emit:t}){const n=vt(null),r=vt(null),o=vt(null),i=it({fixed:!1,height:0,width:0,scrollTop:0,clientHeight:0,transform:0}),a=Et((()=>({height:i.fixed?`${i.height}px`:"",width:i.fixed?`${i.width}px`:""}))),l=Et((()=>{if(!i.fixed)return;const t=e.offset?`${e.offset}px`:0,n=i.transform?`translateY(${i.transform}px)`:"";return{height:`${i.height}px`,width:`${i.width}px`,top:"top"===e.position?t:"",bottom:"bottom"===e.position?t:"",transform:n,zIndex:e.zIndex}})),u=()=>{const t=r.value.getBoundingClientRect(),a=n.value.getBoundingClientRect();if(i.height=t.height,i.width=t.width,i.scrollTop=o.value===window?document.documentElement.scrollTop:o.value.scrollTop,i.clientHeight=document.documentElement.clientHeight,"top"===e.position)if(e.target){const n=a.bottom-e.offset-i.height;i.fixed=e.offset>t.top&&a.bottom>0,i.transform=n<0?n:0}else i.fixed=e.offset>t.top;else if(e.target){const n=i.clientHeight-a.top-e.offset-i.height;i.fixed=i.clientHeight-e.offset<t.bottom&&i.clientHeight>a.top,i.transform=n<0?-n:0}else i.fixed=i.clientHeight-e.offset<t.bottom},s=()=>{u(),t("scroll",{scrollTop:i.scrollTop,fixed:i.fixed})};return Mo((()=>i.fixed),(()=>{t("change",i.fixed)})),cn((()=>{if(e.target){if(n.value=document.querySelector(e.target),!n.value)throw new Error(`target is not existed: ${e.target}`)}else n.value=document.documentElement;o.value=am(r.value),Qp(o.value,"scroll",s),Dg(r.value,u)})),pn((()=>{em(o.value,"scroll",s),Ng(r.value,u)})),{root:r,state:i,rootStyle:a,affixStyle:l,update:u}}});ov.render=function(e,t,n,o,i,a){return gr(),wr("div",{ref:"root",class:"el-affix",style:r(e.rootStyle)},[Tr("div",{class:l({"el-affix--fixed":e.state.fixed}),style:r(e.affixStyle)},[Fr(e.$slots,"default")],6)],4)},ov.__file="packages/components/affix/src/index.vue",ov.install=e=>{e.component(ov.name,ov)};const iv=ov,av={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"};var lv=Qt({name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:e=>["light","dark"].indexOf(e)>-1}},emits:["close"],setup(e,t){const n=vt(!0),r=Et((()=>`el-alert--${e.type}`)),o=Et((()=>av[e.type]||"el-icon-info")),i=Et((()=>e.description||t.slots.default?"is-big":"")),a=Et((()=>e.description||t.slots.default?"is-bold":""));return{visible:n,typeClass:r,iconClass:o,isBigIcon:i,isBoldTitle:a,close:e=>{n.value=!1,t.emit("close",e)}}}});const uv={class:"el-alert__content"},sv={key:1,class:"el-alert__description"};lv.render=function(e,t,n,r,o,i){return gr(),xr(ei,{name:"el-alert-fade"},{default:It((()=>[$n(Tr("div",{class:l(["el-alert",[e.typeClass,e.center?"is-center":"","is-"+e.effect]]),role:"alert"},[e.showIcon?(gr(),wr("i",{key:0,class:l(["el-alert__icon",[e.iconClass,e.isBigIcon]])},null,2)):Nr("v-if",!0),Tr("div",uv,[e.title||e.$slots.title?(gr(),wr("span",{key:0,class:l(["el-alert__title",[e.isBoldTitle]])},[Fr(e.$slots,"title",{},(()=>[Dr(d(e.title),1)]))],2)):Nr("v-if",!0),e.$slots.default||e.description?(gr(),wr("p",sv,[Fr(e.$slots,"default",{},(()=>[Dr(d(e.description),1)]))])):Nr("v-if",!0),e.closable?(gr(),wr("i",{key:2,class:l(["el-alert__closebtn",{"is-customed":""!==e.closeText,"el-icon-close":""===e.closeText}]),onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},d(e.closeText),3)):Nr("v-if",!0)])],2),[[Ri,e.visible]])])),_:3})},lv.__file="packages/components/alert/src/index.vue",lv.install=e=>{e.component(lv.name,lv)};const cv=lv;var dv=Ys,fv=/\s/;var pv=function(e){for(var t=e.length;t--&&fv.test(e.charAt(t)););return t},mv=/^\s+/;var hv=ac,gv=Jd;var vv=function(e){return e?e.slice(0,pv(e)+1).replace(mv,""):e},bv=lc,yv=function(e){return"symbol"==typeof e||gv(e)&&"[object Symbol]"==hv(e)},wv=/^[-+]0x[0-9a-f]+$/i,xv=/^0b[01]+$/i,Cv=/^0o[0-7]+$/i,kv=parseInt;var Sv=lc,_v=function(){return dv.Date.now()},Ov=function(e){if("number"==typeof e)return e;if(yv(e))return NaN;if(bv(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=bv(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=vv(e);var n=xv.test(e);return n||Cv.test(e)?kv(e.slice(2),n?2:8):wv.test(e)?NaN:+e},Tv=Math.max,Ev=Math.min;var Av=function(e,t,n){var r,o,i,a,l,u,s=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function m(e){return s=e,l=setTimeout(g,t),c?p(e):a}function h(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-s>=i}function g(){var e=_v();if(h(e))return v(e);l=setTimeout(g,function(e){var n=t-(e-u);return d?Ev(n,i-(e-s)):n}(e))}function v(e){return l=void 0,f&&r?p(e):(r=o=void 0,a)}function b(){var e=_v(),n=h(e);if(r=arguments,o=this,u=e,n){if(void 0===l)return m(u);if(d)return clearTimeout(l),l=setTimeout(g,t),p(u)}return void 0===l&&(l=setTimeout(g,t)),a}return t=Ov(t)||0,Sv(n)&&(c=!!n.leading,i=(d="maxWait"in n)?Tv(Ov(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==l&&clearTimeout(l),s=0,r=u=o=l=void 0},b.flush=function(){return void 0===l?a:v(_v())},b};const Mv="el.form.addField",Dv="el.form.removeField";function Nv(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}const Pv=e=>["","large","medium","small","mini"].includes(e),zv=e=>["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"].includes(e);let Bv;const Rv=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Iv(e,t=1,n=null){var r;Bv||(Bv=document.createElement("textarea"),document.body.appendChild(Bv));const{paddingSize:o,borderSize:i,boxSizing:a,contextStyle:l}=function(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Rv.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:r,borderSize:o,boxSizing:n}}(e);Bv.setAttribute("style",`${l};\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`),Bv.value=e.value||e.placeholder||"";let u=Bv.scrollHeight;const s={};"border-box"===a?u+=i:"content-box"===a&&(u-=o),Bv.value="";const c=Bv.scrollHeight-o;if(null!==t){let e=c*t;"border-box"===a&&(e=e+o+i),u=Math.max(e,u),s.minHeight=`${e}px`}if(null!==n){let e=c*n;"border-box"===a&&(e=e+o+i),u=Math.min(e,u)}return s.height=`${u}px`,null==(r=Bv.parentNode)||r.removeChild(Bv),Bv=null,s}var Lv=Object.defineProperty,Fv=Object.defineProperties,Vv=Object.getOwnPropertyDescriptors,Hv=Object.getOwnPropertySymbols,jv=Object.prototype.hasOwnProperty,$v=Object.prototype.propertyIsEnumerable,Uv=(e,t,n)=>t in e?Lv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wv=(e,t)=>{for(var n in t||(t={}))jv.call(t,n)&&Uv(e,n,t[n]);if(Hv)for(var n of Hv(t))$v.call(t,n)&&Uv(e,n,t[n]);return e};const qv={suffix:"append",prefix:"prepend"};var Kv=Qt({name:"ElInput",inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},size:{type:String,validator:Pv},resize:{type:String,validator:e=>["none","both","horizontal","vertical"].includes(e)},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},placeholder:{type:String},form:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:String,default:""},prefixIcon:{type:String,default:""},label:{type:String},tabindex:{type:[Number,String]},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Object,default:()=>({})},maxlength:{type:[Number,String]}},emits:[wm,"input","change","focus","blur","clear","mouseleave","mouseenter","keydown"],setup(e,t){const n=Yr(),r=Jp(),o=$p(),i=$t("elForm",{}),a=$t("elFormItem",{}),l=vt(null),u=vt(null),s=vt(!1),c=vt(!1),d=vt(!1),f=vt(!1),p=bt(e.inputStyle),m=Et((()=>l.value||u.value)),h=Et((()=>e.size||a.size||o.size)),g=Et((()=>i.statusIcon)),v=Et((()=>a.validateState||"")),b=Et((()=>xm[v.value])),y=Et((()=>{return t=Wv(Wv({},e.inputStyle),p.value),n={resize:e.resize},Fv(t,Vv(n));var t,n})),w=Et((()=>e.disabled||i.disabled)),x=Et((()=>null===e.modelValue||void 0===e.modelValue?"":String(e.modelValue))),C=Et((()=>e.clearable&&!w.value&&!e.readonly&&x.value&&(s.value||c.value))),k=Et((()=>e.showPassword&&!w.value&&!e.readonly&&(!!x.value||s.value))),S=Et((()=>e.showWordLimit&&e.maxlength&&("text"===e.type||"textarea"===e.type)&&!w.value&&!e.readonly&&!e.showPassword)),_=Et((()=>Array.from(x.value).length)),O=Et((()=>S.value&&_.value>Number(e.maxlength))),T=()=>{const{type:t,autosize:n}=e;if(!Ap&&"textarea"===t)if(n){const e=D(n)?n.minRows:void 0,t=D(n)?n.maxRows:void 0;p.value=Wv({},Iv(u.value,e,t))}else p.value={minHeight:Iv(u.value).minHeight}},E=()=>{const e=m.value;e&&e.value!==x.value&&(e.value=x.value)},A=e=>{const{el:r}=n.vnode,o=Array.from(r.querySelectorAll(`.el-input__${e}`)).find((e=>e.parentNode===r));if(!o)return;const i=qv[e];t.slots[i]?o.style.transform=`translateX(${"suffix"===e?"-":""}${r.querySelector(`.el-input-group__${i}`).offsetWidth}px)`:o.removeAttribute("style")},M=()=>{A("prefix"),A("suffix")},N=n=>{let{value:r}=n.target;if(!d.value&&r!==x.value){if(e.maxlength){const t=O.value?_.value:e.maxlength;r=Array.from(r).slice(0,Number(t)).join("")}t.emit(wm,r),t.emit("input",r),wo(E)}},P=()=>{wo((()=>{m.value.focus()}))};Mo((()=>e.modelValue),(t=>{var n;wo(T),e.validateEvent&&(null==(n=a.formItemMitt)||n.emit("el.form.change",[t]))})),Mo(x,(()=>{E()})),Mo((()=>e.type),(()=>{wo((()=>{E(),T(),M()}))})),cn((()=>{E(),M(),wo(T)})),fn((()=>{wo(M)}));return{input:l,textarea:u,attrs:r,inputSize:h,validateState:v,validateIcon:b,computedTextareaStyle:y,resizeTextarea:T,inputDisabled:w,showClear:C,showPwdVisible:k,isWordLimitVisible:S,textLength:_,hovering:c,inputExceed:O,passwordVisible:f,inputOrTextarea:m,handleInput:N,handleChange:e=>{t.emit("change",e.target.value)},handleFocus:e=>{s.value=!0,t.emit("focus",e)},handleBlur:n=>{var r;s.value=!1,t.emit("blur",n),e.validateEvent&&(null==(r=a.formItemMitt)||r.emit("el.form.blur",[e.modelValue]))},handleCompositionStart:()=>{d.value=!0},handleCompositionUpdate:e=>{const t=e.target.value,n=t[t.length-1]||"";d.value=!Nv(n)},handleCompositionEnd:e=>{d.value&&(d.value=!1,N(e))},handlePasswordVisible:()=>{f.value=!f.value,P()},clear:()=>{t.emit(wm,""),t.emit("change",""),t.emit("clear"),t.emit("input","")},select:()=>{m.value.select()},focus:P,blur:()=>{m.value.blur()},getSuffixVisible:()=>t.slots.suffix||e.suffixIcon||C.value||e.showPassword||S.value||v.value&&g.value,onMouseLeave:e=>{c.value=!1,t.emit("mouseleave",e)},onMouseEnter:e=>{c.value=!0,t.emit("mouseenter",e)},handleKeydown:e=>{t.emit("keydown",e)}}}});const Yv={key:0,class:"el-input-group__prepend"},Gv=["type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder"],Xv={key:2,class:"el-input__prefix"},Zv={key:3,class:"el-input__suffix"},Jv={class:"el-input__suffix-inner"},Qv={key:3,class:"el-input__count"},eb={class:"el-input__count-inner"},tb={key:4,class:"el-input-group__append"},nb=["tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],rb={key:2,class:"el-input__count"};Kv.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:l(["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,"el-input--suffix--password-clear":e.clearable&&e.showPassword},e.$attrs.class]),style:r(e.$attrs.style),onMouseenter:t[19]||(t[19]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[20]||(t[20]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},["textarea"!==e.type?(gr(),wr(cr,{key:0},[Nr("  "),e.$slots.prepend?(gr(),wr("div",Yv,[Fr(e.$slots,"prepend")])):Nr("v-if",!0),"textarea"!==e.type?(gr(),wr("input",Rr({key:1,ref:"input",class:"el-input__inner"},e.attrs,{type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:t[0]||(t[0]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[1]||(t[1]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[2]||(t[2]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onInput:t[3]||(t[3]=(...t)=>e.handleInput&&e.handleInput(...t)),onFocus:t[4]||(t[4]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[5]||(t[5]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onChange:t[6]||(t[6]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[7]||(t[7]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))}),null,16,Gv)):Nr("v-if",!0),Nr("  "),e.$slots.prefix||e.prefixIcon?(gr(),wr("span",Xv,[Fr(e.$slots,"prefix"),e.prefixIcon?(gr(),wr("i",{key:0,class:l(["el-input__icon",e.prefixIcon])},null,2)):Nr("v-if",!0)])):Nr("v-if",!0),Nr("  "),e.getSuffixVisible()?(gr(),wr("span",Zv,[Tr("span",Jv,[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?Nr("v-if",!0):(gr(),wr(cr,{key:0},[Fr(e.$slots,"suffix"),e.suffixIcon?(gr(),wr("i",{key:0,class:l(["el-input__icon",e.suffixIcon])},null,2)):Nr("v-if",!0)],64)),e.showClear?(gr(),wr("i",{key:1,class:"el-input__icon el-icon-circle-close el-input__clear",onMousedown:t[8]||(t[8]=Pi((()=>{}),["prevent"])),onClick:t[9]||(t[9]=(...t)=>e.clear&&e.clear(...t))},null,32)):Nr("v-if",!0),e.showPwdVisible?(gr(),wr("i",{key:2,class:"el-input__icon el-icon-view el-input__clear",onClick:t[10]||(t[10]=(...t)=>e.handlePasswordVisible&&e.handlePasswordVisible(...t))})):Nr("v-if",!0),e.isWordLimitVisible?(gr(),wr("span",Qv,[Tr("span",eb,d(e.textLength)+"/"+d(e.maxlength),1)])):Nr("v-if",!0)]),e.validateState?(gr(),wr("i",{key:0,class:l(["el-input__icon","el-input__validateIcon",e.validateIcon])},null,2)):Nr("v-if",!0)])):Nr("v-if",!0),Nr("  "),e.$slots.append?(gr(),wr("div",tb,[Fr(e.$slots,"append")])):Nr("v-if",!0)],64)):(gr(),wr("textarea",Rr({key:1,ref:"textarea",class:"el-textarea__inner"},e.attrs,{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autocomplete,style:e.computedTextareaStyle,"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:t[11]||(t[11]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[12]||(t[12]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[13]||(t[13]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onInput:t[14]||(t[14]=(...t)=>e.handleInput&&e.handleInput(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[16]||(t[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onChange:t[17]||(t[17]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[18]||(t[18]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))}),"\n    ",16,nb)),e.isWordLimitVisible&&"textarea"===e.type?(gr(),wr("span",rb,d(e.textLength)+"/"+d(e.maxlength),1)):Nr("v-if",!0)],38)},Kv.__file="packages/components/input/src/index.vue",Kv.install=e=>{e.component(Kv.name,Kv)};const ob=Kv,ib=ob,ab={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var lb=Math.pow,ub=Qt({name:"Bar",props:{vertical:Boolean,size:String,move:Number,ratio:Number,always:Boolean},setup(e){const t=vt(null),n=vt(null),r=$t("scrollbar",{}),o=$t("scrollbar-wrap",{}),i=Et((()=>ab[e.vertical?"vertical":"horizontal"])),a=vt({}),l=vt(null),u=vt(null),s=vt(!1);let c=null;const d=Et((()=>lb(t.value[i.value.offset],2)/o.value[i.value.scrollSize]/e.ratio/n.value[i.value.offset])),f=e=>{e.stopImmediatePropagation(),l.value=!0,Qp(document,"mousemove",p),Qp(document,"mouseup",m),c=document.onselectstart,document.onselectstart=()=>!1},p=e=>{if(!1===l.value)return;const r=a.value[i.value.axis];if(!r)return;const u=100*(-1*(t.value.getBoundingClientRect()[i.value.direction]-e[i.value.client])-(n.value[i.value.offset]-r))*d.value/t.value[i.value.offset];o.value[i.value.scroll]=u*o.value[i.value.scrollSize]/100},m=()=>{l.value=!1,a.value[i.value.axis]=0,em(document,"mousemove",p),document.onselectstart=c,u.value&&(s.value=!1)},h=Et((()=>function({move:e,size:t,bar:n}){const r={},o=`translate${n.axis}(${e}%)`;return r[n.size]=t,r.transform=o,r.msTransform=o,r.webkitTransform=o,r}({size:e.size,move:e.move,bar:i.value}))),g=()=>{u.value=!1,s.value=!!e.size},v=()=>{u.value=!0,s.value=l.value};return cn((()=>{Qp(r.value,"mousemove",g),Qp(r.value,"mouseleave",v)})),pn((()=>{em(document,"mouseup",m),em(r.value,"mousemove",g),em(r.value,"mouseleave",v)})),{instance:t,thumb:n,bar:i,clickTrackHandler:e=>{const r=100*(Math.abs(e.target.getBoundingClientRect()[i.value.direction]-e[i.value.client])-n.value[i.value.offset]/2)*d.value/t.value[i.value.offset];o.value[i.value.scroll]=r*o.value[i.value.scrollSize]/100},clickThumbHandler:e=>{e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button)||(window.getSelection().removeAllRanges(),f(e),a.value[i.value.axis]=e.currentTarget[i.value.offset]-(e[i.value.client]-e.currentTarget.getBoundingClientRect()[i.value.direction]))},thumbStyle:h,visible:s}}});ub.render=function(e,t,n,o,i,a){return gr(),xr(ei,{name:"el-scrollbar-fade"},{default:It((()=>[$n(Tr("div",{ref:"instance",class:l(["el-scrollbar__bar","is-"+e.bar.key]),onMousedown:t[1]||(t[1]=(...t)=>e.clickTrackHandler&&e.clickTrackHandler(...t))},[Tr("div",{ref:"thumb",class:"el-scrollbar__thumb",style:r(e.thumbStyle),onMousedown:t[0]||(t[0]=(...t)=>e.clickThumbHandler&&e.clickThumbHandler(...t))},null,36)],34),[[Ri,e.always||e.visible]])])),_:1})},ub.__file="packages/components/scrollbar/src/bar.vue";var sb=Math.pow,cb=Qt({name:"ElScrollbar",components:{Bar:ub},props:{height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}},emits:["scroll"],setup(e,{emit:t}){const n=vt("0"),r=vt("0"),o=vt(0),i=vt(0),a=vt(null),l=vt(null),u=vt(null),s=vt(1),c=vt(1);jt("scrollbar",a),jt("scrollbar-wrap",l);const d=()=>{if(!l.value)return;const t=l.value.offsetHeight-4,o=l.value.offsetWidth-4,i=sb(t,2)/l.value.scrollHeight,a=sb(o,2)/l.value.scrollWidth,u=Math.max(i,e.minSize),d=Math.max(a,e.minSize);s.value=i/(t-i)/(u/(t-u)),c.value=a/(o-a)/(d/(o-d)),r.value=u+4<t?u+"px":"",n.value=d+4<o?d+"px":""},f=Et((()=>{let t=e.wrapStyle;return S(t)?(t=function(e){const t={};for(let n=0;n<e.length;n++)e[n]&&w(t,e[n]);return t}(t),t.height=Gp(e.height),t.maxHeight=Gp(e.maxHeight)):A(t)&&(t+=Gp(e.height)?`height: ${Gp(e.height)};`:"",t+=Gp(e.maxHeight)?`max-height: ${Gp(e.maxHeight)};`:""),t}));return cn((()=>{e.native||wo(d),e.noresize||(Dg(u.value,d),addEventListener("resize",d))})),pn((()=>{e.noresize||(Ng(u.value,d),removeEventListener("resize",d))})),{moveX:o,moveY:i,ratioX:c,ratioY:s,sizeWidth:n,sizeHeight:r,style:f,scrollbar:a,wrap:l,resize:u,update:d,handleScroll:()=>{if(l.value){const e=l.value.offsetHeight-4,n=l.value.offsetWidth-4;i.value=100*l.value.scrollTop/e*s.value,o.value=100*l.value.scrollLeft/n*c.value,t("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft})}},setScrollTop:e=>{Lp(e)&&(l.value.scrollTop=e)},setScrollLeft:e=>{Lp(e)&&(l.value.scrollLeft=e)}}}});const db={ref:"scrollbar",class:"el-scrollbar"};cb.render=function(e,t,n,o,i,a){const u=or("bar");return gr(),wr("div",db,[Tr("div",{ref:"wrap",class:l([e.wrapClass,"el-scrollbar__wrap",e.native?"":"el-scrollbar__wrap--hidden-default"]),style:r(e.style),onScroll:t[0]||(t[0]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[(gr(),xr(ar(e.tag),{ref:"resize",class:l(["el-scrollbar__view",e.viewClass]),style:r(e.viewStyle)},{default:It((()=>[Fr(e.$slots,"default")])),_:3},8,["class","style"]))],38),e.native?Nr("v-if",!0):(gr(),wr(cr,{key:0},[Er(u,{move:e.moveX,ratio:e.ratioX,size:e.sizeWidth,always:e.always},null,8,["move","ratio","size","always"]),Er(u,{move:e.moveY,ratio:e.ratioY,size:e.sizeHeight,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))],512)},cb.__file="packages/components/scrollbar/src/index.vue",cb.install=e=>{e.component(cb.name,cb)};const fb=cb,pb=fb;function mb(e,t=[]){const{arrow:n,arrowOffset:r,offset:o,gpuAcceleration:i,fallbackPlacements:a}=e,l=[{name:"offset",options:{offset:[0,null!=o?o:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:null!=a?a:[]}},{name:"computeStyles",options:{gpuAcceleration:i,adaptive:i}}];return n&&l.push({name:"arrow",options:{element:n,padding:null!=r?r:5}}),l.push(...t),l}var hb,gb,vb=Object.defineProperty,bb=Object.defineProperties,yb=Object.getOwnPropertyDescriptors,wb=Object.getOwnPropertySymbols,xb=Object.prototype.hasOwnProperty,Cb=Object.prototype.propertyIsEnumerable,kb=(e,t,n)=>t in e?vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Sb(e,t){return Et((()=>{var n,r,o;return r=((e,t)=>{for(var n in t||(t={}))xb.call(t,n)&&kb(e,n,t[n]);if(wb)for(var n of wb(t))Cb.call(t,n)&&kb(e,n,t[n]);return e})({placement:e.placement},e.popperOptions),o={modifiers:mb({arrow:t.arrow.value,arrowOffset:e.arrowOffset,offset:e.offset,gpuAcceleration:e.gpuAcceleration,fallbackPlacements:e.fallbackPlacements},null==(n=e.popperOptions)?void 0:n.modifiers)},bb(r,yb(o))}))}(gb=hb||(hb={})).DARK="dark",gb.LIGHT="light";var _b={arrowOffset:{type:Number,default:5},appendToBody:{type:Boolean,default:!0},autoClose:{type:Number,default:0},boundariesPadding:{type:Number,default:0},content:{type:String,default:""},class:{type:String,default:""},style:Object,hideAfter:{type:Number,default:200},cutoff:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},effect:{type:String,default:hb.DARK},enterable:{type:Boolean,default:!0},manualMode:{type:Boolean,default:!1},showAfter:{type:Number,default:0},offset:{type:Number,default:12},placement:{type:String,default:"bottom"},popperClass:{type:String,default:""},pure:{type:Boolean,default:!1},popperOptions:{type:Object,default:()=>null},showArrow:{type:Boolean,default:!0},strategy:{type:String,default:"fixed"},transition:{type:String,default:"el-fade-in-linear"},trigger:{type:[String,Array],default:"hover"},visible:{type:Boolean,default:void 0},stopPopperMouseEvent:{type:Boolean,default:!0},gpuAcceleration:{type:Boolean,default:!0},fallbackPlacements:{type:Array,default:[]}};function Ob(e,{emit:t}){const n=vt(null),r=vt(null),o=vt(null),i=`el-popper-${Bp()}`;let a=null,l=null,u=null,s=!1;const c=()=>e.manualMode||"manual"===e.trigger,d=vt({zIndex:Gg.nextZIndex()}),f=Sb(e,{arrow:n}),p=it({visible:!!e.visible}),m=Et({get:()=>!e.disabled&&(Ip(e.visible)?e.visible:p.visible),set(n){c()||(Ip(e.visible)?t("update:visible",n):p.visible=n)}});function h(){e.autoClose>0&&(u=window.setTimeout((()=>{g()}),e.autoClose)),m.value=!0}function g(){m.value=!1}function v(){clearTimeout(l),clearTimeout(u)}const b=()=>{c()||e.disabled||(v(),0===e.showAfter?h():l=window.setTimeout((()=>{h()}),e.showAfter))},y=()=>{c()||(v(),e.hideAfter>0?u=window.setTimeout((()=>{w()}),e.hideAfter):w())},w=()=>{g(),e.disabled&&C(!0)};function x(){if(!Yp(m))return;const e=Yp(r),t=B(e).startsWith("HTML")?e:e.$el;a=_h(t,Yp(o),Yp(f)),a.update()}function C(e){!a||Yp(m)&&!e||k()}function k(){var e;null==(e=null==a?void 0:a.destroy)||e.call(a),a=null}const _={};if(!c()){const t=()=>{Yp(m)?y():b()},n=e=>{switch(e.stopPropagation(),e.type){case"click":s?s=!1:t();break;case"mouseenter":b();break;case"mouseleave":y();break;case"focus":s=!0,b();break;case"blur":s=!1,y()}},r={click:["onClick"],hover:["onMouseenter","onMouseleave"],focus:["onFocus","onBlur"]},o=e=>{r[e].forEach((e=>{_[e]=n}))};S(e.trigger)?Object.values(e.trigger).forEach(o):o(e.trigger)}return Mo(f,(e=>{a&&(a.setOptions(e),a.update())})),Mo(m,(function(e){e&&(d.value.zIndex=Gg.nextZIndex(),x())})),{update:function(){Yp(m)&&(a?a.update():x())},doDestroy:C,show:b,hide:y,onPopperMouseEnter:function(){e.enterable&&"click"!==e.trigger&&clearTimeout(u)},onPopperMouseLeave:function(){const{trigger:t}=e;A(t)&&("click"===t||"focus"===t)||1===t.length&&("click"===t[0]||"focus"===t[0])||y()},onAfterEnter:()=>{t("after-enter")},onAfterLeave:()=>{k(),t("after-leave")},onBeforeEnter:()=>{t("before-enter")},onBeforeLeave:()=>{t("before-leave")},initializePopper:x,isManualMode:c,arrowRef:n,events:_,popperId:i,popperInstance:a,popperRef:o,popperStyle:d,triggerRef:r,visibility:m}}function Tb(e,t){const{effect:n,name:r,stopPopperMouseEvent:o,popperClass:i,popperStyle:a,popperRef:l,pure:u,popperId:s,visibility:c,onMouseenter:d,onMouseleave:f,onAfterEnter:p,onAfterLeave:m,onBeforeEnter:g,onBeforeLeave:v}=e,b=[i,"el-popper","is-"+n,u?"is-pure":""],y=o?um:h;return Bo(ei,{name:r,onAfterEnter:p,onAfterLeave:m,onBeforeEnter:g,onBeforeLeave:v},{default:It((()=>[$n(Bo("div",{"aria-hidden":String(!c),class:b,style:null!=a?a:{},id:s,ref:null!=l?l:"popperRef",role:"tooltip",onMouseenter:d,onMouseleave:f,onClick:um,onMousedown:y,onMouseup:y},t),[[Ri,c]])]))})}function Eb(e,t){const n=Fg(e,1);return n||Dp("renderTrigger","trigger expects single rooted node"),Mr(n,t,!0)}function Ab(e){return e?Bo("div",{ref:"arrowRef",class:"el-popper__arrow","data-popper-arrow":""},null):Bo(fr,null,"")}var Mb=Object.defineProperty,Db=Object.getOwnPropertySymbols,Nb=Object.prototype.hasOwnProperty,Pb=Object.prototype.propertyIsEnumerable,zb=(e,t,n)=>t in e?Mb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Bb=Qt({name:"ElPopper",props:_b,emits:["update:visible","after-enter","after-leave","before-enter","before-leave"],setup(e,t){t.slots.trigger||Dp("ElPopper","Trigger must be provided");const n=Ob(e,t),r=()=>n.doDestroy(!0);return cn(n.initializePopper),pn(r),nn(n.initializePopper),rn(r),n},render(){var e;const{$slots:t,appendToBody:n,class:r,style:o,effect:i,hide:a,onPopperMouseEnter:l,onPopperMouseLeave:u,onAfterEnter:s,onAfterLeave:c,onBeforeEnter:f,onBeforeLeave:p,popperClass:m,popperId:h,popperStyle:g,pure:v,showArrow:b,transition:y,visibility:w,stopPopperMouseEvent:x}=this,C=this.isManualMode(),k=Ab(b),S=Tb({effect:i,name:y,popperClass:m,popperId:h,popperStyle:g,pure:v,stopPopperMouseEvent:x,onMouseenter:l,onMouseleave:u,onAfterEnter:s,onAfterLeave:c,onBeforeEnter:f,onBeforeLeave:p,visibility:w},[Fr(t,"default",{},(()=>[d(this.content)])),k]),_=null==(e=t.trigger)?void 0:e.call(t),O=((e,t)=>{for(var n in t||(t={}))Nb.call(t,n)&&zb(e,n,t[n]);if(Db)for(var n of Db(t))Pb.call(t,n)&&zb(e,n,t[n]);return e})({"aria-describedby":h,class:r,style:o,ref:"triggerRef"},this.events),T=C?Eb(_,O):$n(Eb(_,O),[[Ah,a]]);return Bo(cr,null,[T,Bo(rr,{to:"body",disabled:!n},[S])])}});Bb.__file="packages/components/popper/src/index.vue",Bb.install=e=>{e.component(Bb.name,Bb)};const Rb=Bb,Ib=Rb;var Lb=Qt({name:"ElAutocomplete",components:{ElPopper:Rb,ElInput:ob,ElScrollbar:fb},directives:{clickoutside:Ah},inheritAttrs:!1,props:{valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:String,validator:e=>["top","top-start","top-end","bottom","bottom-start","bottom-end"].includes(e),default:"bottom-start"},fetchSuggestions:{type:Function,default:h},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},emits:[wm,"input","change","focus","blur","clear","select"],setup(e,t){const n=Jp(),r=vt([]),o=vt(-1),i=vt(""),a=vt(!1),l=vt(!1),u=vt(!1),s=vt(null),c=vt(null),d=vt(null),f=Et((()=>`el-autocomplete-${Bp()}`)),p=Et((()=>(S(r.value)&&r.value.length>0||u.value)&&a.value)),m=Et((()=>!e.hideLoading&&u.value)),h=()=>{wo(d.value.update)};Mo(p,(()=>{i.value=`${s.value.$el.offsetWidth}px`})),cn((()=>{s.value.inputOrTextarea.setAttribute("role","textbox"),s.value.inputOrTextarea.setAttribute("aria-autocomplete","list"),s.value.inputOrTextarea.setAttribute("aria-controls","id"),s.value.inputOrTextarea.setAttribute("aria-activedescendant",`${f.value}-item-${o.value}`);const e=c.value.querySelector(".el-autocomplete-suggestion__list");e.setAttribute("role","listbox"),e.setAttribute("id",f.value)})),fn(h);const g=t=>{l.value||(u.value=!0,h(),e.fetchSuggestions(t,(t=>{u.value=!1,l.value||(S(t)?(r.value=t,o.value=e.highlightFirstItem?0:-1):Dp("ElAutocomplete","autocomplete suggestions must be an array"))})))},v=Av(g,e.debounce),b=n=>{t.emit("input",n[e.valueKey]),t.emit(wm,n[e.valueKey]),t.emit("select",n),wo((()=>{r.value=[],o.value=-1}))};return{attrs:n,suggestions:r,highlightedIndex:o,dropdownWidth:i,activated:a,suggestionDisabled:l,loading:u,inputRef:s,regionRef:c,popper:d,id:f,suggestionVisible:p,suggestionLoading:m,getData:g,handleInput:n=>{if(t.emit("input",n),t.emit(wm,n),l.value=!1,!e.triggerOnFocus&&!n)return l.value=!0,void(r.value=[]);v(n)},handleChange:e=>{t.emit("change",e)},handleFocus:n=>{a.value=!0,t.emit("focus",n),e.triggerOnFocus&&v(e.modelValue)},handleBlur:e=>{t.emit("blur",e)},handleClear:()=>{a.value=!1,t.emit(wm,""),t.emit("clear")},handleKeyEnter:()=>{p.value&&o.value>=0&&o.value<r.value.length?b(r.value[o.value]):e.selectWhenUnmatched&&(t.emit("select",{value:e.modelValue}),wo((()=>{r.value=[],o.value=-1})))},close:()=>{a.value=!1},focus:()=>{s.value.focus()},select:b,highlight:e=>{if(!p.value||u.value)return;if(e<0)return void(o.value=-1);e>=r.value.length&&(e=r.value.length-1);const t=c.value.querySelector(".el-autocomplete-suggestion__wrap"),n=t.querySelectorAll(".el-autocomplete-suggestion__list li")[e],i=t.scrollTop,{offsetTop:a,scrollHeight:l}=n;a+l>i+t.clientHeight&&(t.scrollTop+=l),a<i&&(t.scrollTop-=l),o.value=e,s.value.inputOrTextarea.setAttribute("aria-activedescendant",`${f.value}-item-${o.value}`)}}}});const Fb=["aria-expanded","aria-owns"],Vb={key:0},Hb=[Tr("i",{class:"el-icon-loading"},null,-1)],jb=["id","aria-selected","onClick"];Lb.render=function(e,t,n,o,i,a){const u=or("el-input"),s=or("el-scrollbar"),c=or("el-popper"),f=lr("clickoutside");return gr(),xr(c,{ref:"popper",visible:e.suggestionVisible,"onUpdate:visible":t[2]||(t[2]=t=>e.suggestionVisible=t),placement:e.placement,"popper-class":`el-autocomplete__popper ${e.popperClass}`,"append-to-body":e.popperAppendToBody,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:"el-zoom-in-top","gpu-acceleration":!1},{trigger:It((()=>[$n(Tr("div",{class:l(["el-autocomplete",e.$attrs.class]),style:r(e.$attrs.style),role:"combobox","aria-haspopup":"listbox","aria-expanded":e.suggestionVisible,"aria-owns":e.id},[Er(u,Rr({ref:"inputRef"},e.attrs,{"model-value":e.modelValue,onInput:e.handleInput,onChange:e.handleChange,onFocus:e.handleFocus,onBlur:e.handleBlur,onClear:e.handleClear,onKeydown:[t[0]||(t[0]=Bi(Pi((t=>e.highlight(e.highlightedIndex-1)),["prevent"]),["up"])),t[1]||(t[1]=Bi(Pi((t=>e.highlight(e.highlightedIndex+1)),["prevent"]),["down"])),Bi(e.handleKeyEnter,["enter"]),Bi(e.close,["tab"])]}),Lr({_:2},[e.$slots.prepend?{name:"prepend",fn:It((()=>[Fr(e.$slots,"prepend")]))}:void 0,e.$slots.append?{name:"append",fn:It((()=>[Fr(e.$slots,"append")]))}:void 0,e.$slots.prefix?{name:"prefix",fn:It((()=>[Fr(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:It((()=>[Fr(e.$slots,"suffix")]))}:void 0]),1040,["model-value","onInput","onChange","onFocus","onBlur","onClear","onKeydown"])],14,Fb),[[f,e.close]])])),default:It((()=>[Tr("div",{ref:"regionRef",class:l(["el-autocomplete-suggestion",e.suggestionLoading&&"is-loading"]),style:r({width:e.dropdownWidth,outline:"none"}),role:"region"},[Er(s,{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"},{default:It((()=>[e.suggestionLoading?(gr(),wr("li",Vb,Hb)):(gr(!0),wr(cr,{key:1},Ir(e.suggestions,((t,n)=>(gr(),wr("li",{id:`${e.id}-item-${n}`,key:n,class:l({highlighted:e.highlightedIndex===n}),role:"option","aria-selected":e.highlightedIndex===n,onClick:n=>e.select(t)},[Fr(e.$slots,"default",{item:t},(()=>[Dr(d(t[e.valueKey]),1)]))],10,jb)))),128))])),_:3})],6)])),_:3},8,["visible","placement","popper-class","append-to-body"])},Lb.__file="packages/components/autocomplete/src/index.vue",Lb.install=e=>{e.component(Lb.name,Lb)};const $b=Lb;var Ub=Qt({name:"ElAvatar",props:{size:{type:[Number,String],validator:e=>"string"==typeof e?["large","medium","small"].includes(e):"number"==typeof e,default:"large"},shape:{type:String,default:"circle",validator:e=>["circle","square"].includes(e)},icon:String,src:{type:String,default:""},alt:String,srcSet:String,fit:{type:String,default:"cover"}},emits:["error"],setup(e,{emit:t}){const n=vt(!1);Mo(Ot(e,"src"),(()=>{n.value=!1}));const r=Et((()=>{const{size:t,icon:n,shape:r}=e,o=["el-avatar"];return t&&"string"==typeof t&&o.push(`el-avatar--${t}`),n&&o.push("el-avatar--icon"),r&&o.push(`el-avatar--${r}`),o})),o=Et((()=>{const{size:t}=e;return"number"==typeof t?{height:`${t}px`,width:`${t}px`,lineHeight:`${t}px`}:{}})),i=Et((()=>({objectFit:e.fit})));return{hasLoadError:n,avatarClass:r,sizeStyle:o,handleError:function(e){n.value=!0,t("error",e)},fitStyle:i}}});const Wb=["src","alt","srcset"];Ub.render=function(e,t,n,o,i,a){return gr(),wr("span",{class:l(e.avatarClass),style:r(e.sizeStyle)},[!e.src&&!e.srcSet||e.hasLoadError?e.icon?(gr(),wr("i",{key:1,class:l(e.icon)},null,2)):Fr(e.$slots,"default",{key:2}):(gr(),wr("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:r(e.fitStyle),onError:t[0]||(t[0]=(...t)=>e.handleError&&e.handleError(...t))},null,44,Wb))],6)},Ub.__file="packages/components/avatar/src/index.vue",Ub.install=e=>{e.component(Ub.name,Ub)};const qb=Ub;var Kb=Av,Yb=lc;var Gb=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Yb(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Kb(e,t,{leading:r,maxWait:t,trailing:o})};const Xb=e=>Math.pow(e,3);var Zb=Qt({name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},emits:["click"],setup(e,t){const n=vt(null),r=vt(null),o=vt(!1),i=Et((()=>`${e.bottom}px`)),a=Et((()=>`${e.right}px`)),l=()=>{const e=Date.now(),t=n.value.scrollTop,r=window.requestAnimationFrame||(e=>setTimeout(e,16)),o=()=>{const i=(Date.now()-e)/500;var a;i<1?(n.value.scrollTop=t*(1-((a=i)<.5?Xb(2*a)/2:1-Xb(2*(1-a))/2)),r(o)):n.value.scrollTop=0};r(o)},u=Gb((()=>{o.value=n.value.scrollTop>=e.visibilityHeight}),300);return cn((()=>{r.value=document,n.value=document.documentElement,e.target&&(n.value=document.querySelector(e.target),n.value||Dp("ElBackTop",`target is not existed: ${e.target}`),r.value=n.value),Qp(r.value,"scroll",u)})),pn((()=>{em(r.value,"scroll",u)})),{el:n,container:r,visible:o,styleBottom:i,styleRight:a,handleClick:e=>{l(),t.emit("click",e)}}}});const Jb=Tr("i",{class:"el-icon-caret-top"},null,-1);Zb.render=function(e,t,n,o,i,a){return gr(),xr(ei,{name:"el-fade-in"},{default:It((()=>[e.visible?(gr(),wr("div",{key:0,style:r({right:e.styleRight,bottom:e.styleBottom}),class:"el-backtop",onClick:t[0]||(t[0]=Pi(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"]))},[Fr(e.$slots,"default",{},(()=>[Jb]))],4)):Nr("v-if",!0)])),_:3})},Zb.__file="packages/components/backtop/src/index.vue",Zb.install=e=>{e.component(Zb.name,Zb)};const Qb=Zb;var ey=Qt({name:"ElBadge",props:{value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,default:"primary",validator:e=>["primary","success","warning","info","danger"].includes(e)}},setup:e=>({content:Et((()=>{if(!e.isDot)return"number"==typeof e.value&&"number"==typeof e.max&&e.max<e.value?`${e.max}+`:e.value}))})});const ty={class:"el-badge"},ny=["textContent"];ey.render=function(e,t,n,r,o,i){return gr(),wr("div",ty,[Fr(e.$slots,"default"),Er(ei,{name:"el-zoom-in-center"},{default:It((()=>[$n(Tr("sup",{class:l(["el-badge__content",[e.isDot?"is-dot":"el-badge__content--"+e.type,{"is-fixed":e.$slots.default}]]),textContent:d(e.content)},null,10,ny),[[Ri,!e.hidden&&(e.content||0===e.content||e.isDot)]])])),_:1})])},ey.__file="packages/components/badge/src/index.vue",ey.install=e=>{e.component(ey.name,ey)};const ry=ey;var oy=Qt({name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},setup(e){const t=vt(null);return jt("breadcrumb",e),cn((()=>{const e=t.value.querySelectorAll(".el-breadcrumb__item");e.length&&e[e.length-1].setAttribute("aria-current","page")})),{breadcrumb:t}}});const iy={ref:"breadcrumb",class:"el-breadcrumb","aria-label":"Breadcrumb",role:"navigation"};oy.render=function(e,t,n,r,o,i){return gr(),wr("div",iy,[Fr(e.$slots,"default")],512)},oy.__file="packages/components/breadcrumb/src/index.vue";var ay=Qt({name:"ElBreadcrumbItem",props:{to:{type:[String,Object],default:""},replace:{type:Boolean,default:!1}},setup(e){const t=vt(null),n=$t("breadcrumb"),r=Yr().appContext.config.globalProperties.$router;return cn((()=>{t.value.setAttribute("role","link"),t.value.addEventListener("click",(()=>{e.to&&r&&(e.replace?r.replace(e.to):r.push(e.to))}))})),{link:t,separator:null==n?void 0:n.separator,separatorClass:null==n?void 0:n.separatorClass}}});const ly={class:"el-breadcrumb__item"},uy={key:1,class:"el-breadcrumb__separator",role:"presentation"};ay.render=function(e,t,n,r,o,i){return gr(),wr("span",ly,[Tr("span",{ref:"link",class:l(["el-breadcrumb__inner",e.to?"is-link":""]),role:"link"},[Fr(e.$slots,"default")],2),e.separatorClass?(gr(),wr("i",{key:0,class:l(["el-breadcrumb__separator",e.separatorClass])},null,2)):(gr(),wr("span",uy,d(e.separator),1))])},ay.__file="packages/components/breadcrumb/src/item.vue",oy.install=e=>{e.component(oy.name,oy),e.component(ay.name,ay)},oy.BreadcrumbItem=ay;const sy=oy;var cy=Qt({name:"ElButton",props:{type:{type:String,default:"default",validator:e=>["default","primary","success","warning","info","danger","text"].includes(e)},size:{type:String,validator:Pv},icon:{type:String,default:""},nativeType:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},emits:["click"],setup(e,{emit:t}){const n=$p(),r=$t("elForm",{}),o=$t("elFormItem",{});return{buttonSize:Et((()=>e.size||o.size||n.size)),buttonDisabled:Et((()=>e.disabled||r.disabled)),handleClick:e=>{t("click",e)}}}});const dy=["disabled","autofocus","type"],fy={key:0,class:"el-icon-loading"},py={key:2};cy.render=function(e,t,n,r,o,i){return gr(),wr("button",{class:l(["el-button",e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}]),disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType,onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.loading?(gr(),wr("i",fy)):Nr("v-if",!0),e.icon&&!e.loading?(gr(),wr("i",{key:1,class:l(e.icon)},null,2)):Nr("v-if",!0),e.$slots.default?(gr(),wr("span",py,[Fr(e.$slots,"default")])):Nr("v-if",!0)],10,dy)},cy.__file="packages/components/button/src/button.vue";var my=Qt({name:"ElButtonGroup"});const hy={class:"el-button-group"};my.render=function(e,t,n,r,o,i){return gr(),wr("div",hy,[Fr(e.$slots,"default")])},my.__file="packages/components/button/src/button-group.vue",cy.install=e=>{e.component(cy.name,cy),e.component(my.name,my)},cy.ButtonGroup=my;const gy=cy,vy=gy;var by={exports:{}},yy=by.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",l="day",u="week",s="month",c="quarter",d="year",f="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,s),i=n-o<0,a=t.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:s,y:d,w:u,d:l,D:f,h:a,m:i,s:o,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",w={};w[y]=g;var x=function(e){return e instanceof _},C=function(e,t,n){var r;if(!e)return y;if("string"==typeof e)w[e]&&(r=e),t&&(w[e]=t,r=e);else{var o=e.name;w[o]=e,r=o}return!n&&r&&(y=r),r||!n&&y},k=function(e,t){if(x(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new _(n)},S=b;S.l=C,S.i=x,S.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function g(e){this.$L=C(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return k(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<k(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!S.u(t)||t,c=S.p(e),p=function(e,t){var o=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(l)},m=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,g=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(c){case d:return r?p(1,0):p(31,11);case s:return r?p(1,g):p(0,g+1);case u:var y=this.$locale().weekStart||0,w=(h<y?h+7:h)-y;return p(r?v-w:v+(6-w),g);case l:case f:return m(b+"Hours",0);case a:return m(b+"Minutes",1);case i:return m(b+"Seconds",2);case o:return m(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,u=S.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[l]=c+"Date",n[f]=c+"Date",n[s]=c+"Month",n[d]=c+"FullYear",n[a]=c+"Hours",n[i]=c+"Minutes",n[o]=c+"Seconds",n[r]=c+"Milliseconds",n)[u],m=u===l?this.$D+(t-this.$W):t;if(u===s||u===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(r,c){var f,p=this;r=Number(r);var m=S.p(c),h=function(e){var t=k(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(m===s)return this.set(s,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===l)return h(1);if(m===u)return h(7);var g=(f={},f[i]=t,f[a]=n,f[o]=e,f)[m]||1,v=this.$d.getTime()+r*g;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),i=this.$H,a=this.$m,l=this.$M,u=n.weekdays,s=n.months,c=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].substr(0,i)},d=function(e){return S.s(i%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:S.s(l+1,2,"0"),MMM:c(n.monthsShort,l,s,3),MMMM:c(s,l),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,u,2),ddd:c(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:S.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,a,!0),A:f(i,a,!1),m:String(a),mm:S.s(a,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:o};return r.replace(h,(function(e,t){return t||m[e]||o.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,p){var m,h=S.p(f),g=k(r),v=(g.utcOffset()-this.utcOffset())*t,b=this-g,y=S.m(this,g);return y=(m={},m[d]=y/12,m[s]=y,m[c]=y/3,m[u]=(b-v)/6048e5,m[l]=(b-v)/864e5,m[a]=b/n,m[i]=b/t,m[o]=b/e,m)[h]||b,p?y:S.a(y)},v.daysInMonth=function(){return this.endOf(s).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),O=_.prototype;return k.prototype=O,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",l],["$M",s],["$y",d],["$D",f]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,_,k),e.$i=!0),k},k.locale=C,k.isDayjs=x,k.unix=function(e){return k(1e3*e)},k.en=w[y],k.Ls=w,k.p={},k}(),wy={exports:{}},xy=wy.exports=function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,n,r,i){var a=e.name?e:e.$locale(),l=o(a[t]),u=o(a[n]),s=l||u.map((function(e){return e.substr(0,r)}));if(!i)return s;var c=a.weekStart;return s.map((function(e,t){return s[(t+(c||0))%7]}))},a=function(){return n.Ls[n.locale()]},l=function(e,t){return e.formats[t]||e.formats[t.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))},u=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return l(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return u.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return l(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return i(a(),"months")},n.monthsShort=function(){return i(a(),"monthsShort","months",3)},n.weekdays=function(e){return i(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}},Cy={exports:{}},ky=Cy.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,i={},a=function(e){return(e=+e)+(e>68?1900:2e3)},l=function(e){return function(t){this[e]=+t}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],s=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(e,t){var n,r=i.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=c(e,!1)}],a:[o,function(e){this.afternoon=c(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,l("seconds")],ss:[r,l("seconds")],m:[r,l("minutes")],mm:[r,l("minutes")],H:[r,l("hours")],h:[r,l("hours")],HH:[r,l("hours")],hh:[r,l("hours")],D:[r,l("day")],DD:[n,l("day")],Do:[o,function(e){var t=i.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,l("month")],MM:[n,l("month")],MMM:[o,function(e){var t=s("months"),n=(s("monthsShort")||t.map((function(e){return e.substr(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=s("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,l("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,l("year")],Z:u,ZZ:u};function f(n){var r,o;r=n,o=i&&i.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),l=a.length,u=0;u<l;u+=1){var s=a[u],c=d[s],f=c&&c[0],p=c&&c[1];a[u]=p?{regex:f,parser:p}:s.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<l;n+=1){var o=a[n];if("string"==typeof o)r+=o.length;else{var i=o.regex,u=o.parser,s=e.substr(r),c=i.exec(s)[0];u.call(t,c),e=e.replace(c,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var l=a[1];if("string"==typeof l){var u=!0===a[2],s=!0===a[3],c=u||s,d=a[2];s&&(d=a[2]),i=this.$locale(),!u&&d&&(i=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=f(t)(e),o=r.year,i=r.month,a=r.day,l=r.hours,u=r.minutes,s=r.seconds,c=r.milliseconds,d=r.zone,p=new Date,m=a||(o||i?1:p.getDate()),h=o||p.getFullYear(),g=0;o&&!i||(g=i>0?i-1:p.getMonth());var v=l||0,b=u||0,y=s||0,w=c||0;return d?new Date(Date.UTC(h,g,m,v,b,y,w+60*d.offset*1e3)):n?new Date(Date.UTC(h,g,m,v,b,y,w)):new Date(h,g,m,v,b,y,w)}catch(x){return new Date("")}}(t,l,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),c&&t!==this.format(l)&&(this.$d=new Date("")),i={}}else if(l instanceof Array)for(var p=l.length,m=1;m<=p;m+=1){a[1]=l[m-1];var h=n.apply(this,a);if(h.isValid()){this.$d=h.$d,this.$L=h.$L,this.init();break}m===p&&(this.$d=new Date(""))}else o.call(this,e)}}}(),Sy=Ep;var _y=function(e,t){return Sy(e,t)},Oy=lf,Ty=Hd,Ey=Gs?Gs.isConcatSpreadable:void 0;var Ay=Vd,My=function(e){return Ty(e)||Oy(e)||!!(Ey&&e&&e[Ey])};var Dy=function e(t,n,r,o,i){var a=-1,l=t.length;for(r||(r=My),i||(i=[]);++a<l;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):Ay(i,u):o||(i[i.length]=u)}return i};var Ny=function(e){return e};var Py=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},zy=Math.max;var By=function(e,t,n){return t=zy(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=zy(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),Py(e,this,l)}};var Ry=function(e){return function(){return e}},Iy=Ac,Ly=function(){try{var e=Iy(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Fy=Ry,Vy=Ly,Hy=Vy?function(e,t){return Vy(e,"toString",{configurable:!0,enumerable:!1,value:Fy(t),writable:!0})}:Ny,jy=Date.now;var $y=function(e){var t=0,n=0;return function(){var r=jy(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Hy),Uy=Ny,Wy=By,qy=$y;var Ky=function(e,t){return qy(Wy(e,t,Uy),e+"")};var Yy=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1},Gy=function(e){return e!=e},Xy=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var Zy=function(e,t,n){return t==t?Xy(e,t,n):Yy(e,Gy,n)};var Jy=function(e,t){return!!(null==e?0:e.length)&&Zy(e,t,0)>-1};var Qy=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1};var ew=np,tw=function(){},nw=ew&&1/Dd(new ew([,-0]))[1]==1/0?function(e){return new ew(e)}:tw,rw=Sd,ow=Jy,iw=Qy,aw=_d,lw=nw,uw=Dd;var sw=jf,cw=Jd;var dw=Dy,fw=function(e,t,n){var r=-1,o=ow,i=e.length,a=!0,l=[],u=l;if(n)a=!1,o=iw;else if(i>=200){var s=t?null:lw(e);if(s)return uw(s);a=!1,o=aw,u=new rw}else u=t?[]:l;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),l.push(c)}else o(u,d,n)||(u!==l&&u.push(d),l.push(c))}return l},pw=function(e){return cw(e)&&sw(e)},mw=Ky((function(e){return fw(dw(e,1,pw,!0))}));const hw={date:"YYYY-MM-DD",week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:"YYYY-MM-DD HH:mm:ss",monthrange:"YYYY-MM",daterange:"YYYY-MM-DD",datetimerange:"YYYY-MM-DD HH:mm:ss"},gw={name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:String,default:"el-icon-circle-close"},editable:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},size:{type:String,validator:Pv},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean},vw=function(e,t){const n=e instanceof Date,r=t instanceof Date;return n&&r?e.getTime()===t.getTime():!n&&!r&&e===t},bw=function(e,t){const n=e instanceof Array,r=t instanceof Array;return n&&r?e.length===t.length&&e.every(((e,n)=>vw(e,t[n]))):!n&&!r&&vw(e,t)},yw=function(e,t,n){const r=Wp(t)?yy(e).locale(n):yy(e,t).locale(n);return r.isValid()?r:void 0},ww=function(e,t,n){return Wp(t)?e:yy(e).locale(n).format(t)};var xw=Qt({name:"Picker",components:{ElInput:ob,ElPopper:Rb},directives:{clickoutside:Ah},props:gw,emits:["update:modelValue","change","focus","blur","calendar-change"],setup(e,t){const n=$p(),{lang:r}=nv(),o=$t("elForm",{}),i=$t("elFormItem",{}),a=$t("ElPopperOptions",{}),l=vt(null),u=vt(!1),s=vt(!1),c=vt(null);Mo(u,(n=>{var r;n?c.value=e.modelValue:(O.value=null,wo((()=>{d(e.modelValue)})),t.emit("blur"),E(),e.validateEvent&&(null==(r=i.formItemMitt)||r.emit("el.form.blur")))}));const d=(n,r)=>{var o;!r&&bw(n,c.value)||(t.emit("change",n),e.validateEvent&&(null==(o=i.formItemMitt)||o.emit("el.form.change",n)))},f=n=>{if(!bw(e.modelValue,n)){let o;Array.isArray(n)?o=n.map((t=>ww(t,e.valueFormat,r.value))):n&&(o=ww(n,e.valueFormat,r.value)),t.emit("update:modelValue",n?o:n,r.value)}},p=Et((()=>{if(l.value.triggerRef){const e=k.value?l.value.triggerRef:l.value.triggerRef.$el;return[].slice.call(e.querySelectorAll("input"))}return[]})),m=Et((()=>e.disabled||o.disabled)),h=Et((()=>{let t;if(C.value?N.value.getDefaultValue&&(t=N.value.getDefaultValue()):t=Array.isArray(e.modelValue)?e.modelValue.map((t=>yw(t,e.valueFormat,r.value))):yw(e.modelValue,e.valueFormat,r.value),N.value.getRangeAvailableTime){const e=N.value.getRangeAvailableTime(t);_y(e,t)||(t=e,f(Array.isArray(t)?t.map((e=>e.toDate())):t.toDate()))}return Array.isArray(t)&&t.some((e=>!e))&&(t=[]),t})),g=Et((()=>{if(!N.value.panelReady)return;const e=M(h.value);return Array.isArray(O.value)?[O.value[0]||e&&e[0]||"",O.value[1]||e&&e[1]||""]:null!==O.value?O.value:!b.value&&C.value||!u.value&&C.value?void 0:e?y.value?e.join(", "):e:""})),v=Et((()=>-1!==e.type.indexOf("time"))),b=Et((()=>0===e.type.indexOf("time"))),y=Et((()=>"dates"===e.type)),w=Et((()=>e.prefixIcon||(v.value?"el-icon-time":"el-icon-date"))),x=vt(!1),C=Et((()=>!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)),k=Et((()=>e.type.indexOf("range")>-1)),S=Et((()=>e.size||i.size||n.size)),_=Et((()=>{var e;return null==(e=l.value)?void 0:e.popperRef})),O=vt(null),T=()=>{if(O.value){const e=A(g.value);e&&D(e)&&(f(Array.isArray(e)?e.map((e=>e.toDate())):e.toDate()),O.value=null)}""===O.value&&(f(null),d(null),O.value=null)},E=()=>{p.value.forEach((e=>e.blur()))},A=e=>e?N.value.parseUserInput(e):null,M=e=>e?N.value.formatToString(e):null,D=e=>N.value.isValidValue(e),N=vt({});return jt("EP_PICKER_BASE",{props:e}),{elPopperOptions:a,isDatesPicker:y,handleEndChange:()=>{const e=A(O.value&&O.value[1]);if(e&&e.isValid()){O.value=[g.value[0],M(e)];const t=[h.value&&h.value[0],e];D(t)&&(f(t),O.value=null)}},handleStartChange:()=>{const e=A(O.value&&O.value[0]);if(e&&e.isValid()){O.value=[M(e),g.value[1]];const t=[e,h.value&&h.value[1]];D(t)&&(f(t),O.value=null)}},handleStartInput:e=>{O.value?O.value=[e.target.value,O.value[1]]:O.value=[e.target.value,null]},handleEndInput:e=>{O.value?O.value=[O.value[0],e.target.value]:O.value=[null,e.target.value]},onUserInput:e=>{O.value=e},handleChange:T,handleKeydown:e=>{const t=e.code;return t===pm.esc?(u.value=!1,void e.stopPropagation()):t!==pm.tab?t===pm.enter?((""===O.value||D(A(g.value)))&&(T(),u.value=!1),void e.stopPropagation()):void(O.value?e.stopPropagation():N.value.handleKeydown&&N.value.handleKeydown(e)):void(k.value?setTimeout((()=>{-1===p.value.indexOf(document.activeElement)&&(u.value=!1,E())}),0):(T(),u.value=!1,e.stopPropagation()))},popperPaneRef:_,onClickOutside:()=>{u.value&&(u.value=!1)},pickerSize:S,isRangeInput:k,onMouseLeave:()=>{x.value=!1},onMouseEnter:()=>{e.readonly||m.value||!C.value&&e.clearable&&(x.value=!0)},onClearIconClick:t=>{e.readonly||m.value||x.value&&(t.stopPropagation(),f(null),d(null,!0),x.value=!1,u.value=!1,N.value.handleClear&&N.value.handleClear())},showClose:x,triggerClass:w,onPick:(e="",t=!1)=>{let n;u.value=t,n=Array.isArray(e)?e.map((e=>e.toDate())):e?e.toDate():e,O.value=null,f(n)},handleFocus:n=>{e.readonly||m.value||u.value||(u.value=!0,t.emit("focus",n))},handleBlur:()=>{u.value=!1,E()},pickerVisible:u,pickerActualVisible:s,displayValue:g,parsedValue:h,setSelectionRange:(e,t,n)=>{const r=p.value;r.length&&(n&&"min"!==n?"max"===n&&(r[1].setSelectionRange(e,t),r[1].focus()):(r[0].setSelectionRange(e,t),r[0].focus()))},refPopper:l,pickerDisabled:m,onSetPickerOption:e=>{N.value[e[0]]=e[1],N.value.panelReady=!0},onCalendarChange:e=>{t.emit("calendar-change",e)}}}});const Cw=["name","placeholder","value","disabled","readonly"],kw={class:"el-range-separator"},Sw=["name","placeholder","value","disabled","readonly"];xw.render=function(e,t,n,r,o,i){const a=or("el-input"),u=or("el-popper"),s=lr("clickoutside");return gr(),xr(u,Rr({ref:"refPopper",visible:e.pickerVisible,"onUpdate:visible":t[18]||(t[18]=t=>e.pickerVisible=t),"manual-mode":"",effect:"light",pure:"",trigger:"click"},e.$attrs,{"popper-class":`el-picker__popper ${e.popperClass}`,"popper-options":e.elPopperOptions,"fallback-placements":["bottom","top","right","left"],transition:"el-zoom-in-top","gpu-acceleration":!1,"stop-popper-mouse-event":!1,"append-to-body":"",onBeforeEnter:t[19]||(t[19]=t=>e.pickerActualVisible=!0),onAfterLeave:t[20]||(t[20]=t=>e.pickerActualVisible=!1)}),{trigger:It((()=>[e.isRangeInput?$n((gr(),wr("div",{key:1,class:l(["el-date-editor el-range-editor el-input__inner",["el-date-editor--"+e.type,e.pickerSize?`el-range-editor--${e.pickerSize}`:"",e.pickerDisabled?"is-disabled":"",e.pickerVisible?"is-active":""]]),onClick:t[9]||(t[9]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onMouseenter:t[10]||(t[10]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[11]||(t[11]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onKeydown:t[12]||(t[12]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[Tr("i",{class:l(["el-input__icon","el-range__icon",e.triggerClass])},null,2),Tr("input",{autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.displayValue&&e.displayValue[0],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:"el-range-input",onInput:t[2]||(t[2]=(...t)=>e.handleStartInput&&e.handleStartInput(...t)),onChange:t[3]||(t[3]=(...t)=>e.handleStartChange&&e.handleStartChange(...t)),onFocus:t[4]||(t[4]=(...t)=>e.handleFocus&&e.handleFocus(...t))},null,40,Cw),Fr(e.$slots,"range-separator",{},(()=>[Tr("span",kw,d(e.rangeSeparator),1)])),Tr("input",{autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.displayValue&&e.displayValue[1],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:"el-range-input",onFocus:t[5]||(t[5]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[6]||(t[6]=(...t)=>e.handleEndInput&&e.handleEndInput(...t)),onChange:t[7]||(t[7]=(...t)=>e.handleEndChange&&e.handleEndChange(...t))},null,40,Sw),Tr("i",{class:l([[e.showClose?""+e.clearIcon:""],"el-input__icon el-range__close-icon"]),onClick:t[8]||(t[8]=(...t)=>e.onClearIconClick&&e.onClearIconClick(...t))},null,2)],34)),[[s,e.onClickOutside,e.popperPaneRef]]):$n((gr(),xr(a,{key:0,"model-value":e.displayValue,name:e.name,size:e.pickerSize,disabled:e.pickerDisabled,placeholder:e.placeholder,class:l(["el-date-editor","el-date-editor--"+e.type]),readonly:!e.editable||e.readonly||e.isDatesPicker||"week"===e.type,onInput:e.onUserInput,onFocus:e.handleFocus,onKeydown:e.handleKeydown,onChange:e.handleChange,onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{prefix:It((()=>[Tr("i",{class:l(["el-input__icon",e.triggerClass]),onClick:t[0]||(t[0]=(...t)=>e.handleFocus&&e.handleFocus(...t))},null,2)])),suffix:It((()=>[Tr("i",{class:l(["el-input__icon",[e.showClose?""+e.clearIcon:""]]),onClick:t[1]||(t[1]=(...t)=>e.onClearIconClick&&e.onClearIconClick(...t))},null,2)])),_:1},8,["model-value","name","size","disabled","placeholder","class","readonly","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave"])),[[s,e.onClickOutside,e.popperPaneRef]])])),default:It((()=>[Fr(e.$slots,"default",{visible:e.pickerVisible,actualVisible:e.pickerActualVisible,parsedValue:e.parsedValue,format:e.format,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:t[13]||(t[13]=(...t)=>e.onPick&&e.onPick(...t)),onSelectRange:t[14]||(t[14]=(...t)=>e.setSelectionRange&&e.setSelectionRange(...t)),onSetPickerOption:t[15]||(t[15]=(...t)=>e.onSetPickerOption&&e.onSetPickerOption(...t)),onCalendarChange:t[16]||(t[16]=(...t)=>e.onCalendarChange&&e.onCalendarChange(...t)),onMousedown:t[17]||(t[17]=Pi((()=>{}),["stop"]))})])),_:3},16,["visible","popper-class","popper-options"])},xw.__file="packages/components/time-picker/src/common/picker.vue";const _w=(e,t,n)=>{const r=[],o=t&&n();for(let i=0;i<e;i++)r[i]=!!o&&o.includes(i);return r},Ow=e=>e.map(((e,t)=>e||t)).filter((e=>!0!==e)),Tw=(e,t,n)=>({getHoursList:(t,n)=>_w(24,e,(()=>e(t,n))),getMinutesList:(e,n,r)=>_w(60,t,(()=>t(e,n,r))),getSecondsList:(e,t,r,o)=>_w(60,n,(()=>n(e,t,r,o)))}),Ew=(e,t,n)=>{const{getHoursList:r,getMinutesList:o,getSecondsList:i}=Tw(e,t,n);return{getAvailableHours:(e,t)=>Ow(r(e,t)),getAvailableMinutes:(e,t,n)=>Ow(o(e,t,n)),getAvailableSeconds:(e,t,n,r)=>Ow(i(e,t,n,r))}},Aw=e=>{const t=vt(e.parsedValue);return Mo((()=>e.visible),(n=>{n||(t.value=e.parsedValue)})),t};var Mw=Qt({directives:{repeatClick:Mh},components:{ElScrollbar:fb},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(e,t){let n=!1;const r=Av((e=>{n=!1,k(e)}),200),o=vt(null),i=vt(null),a=vt(null),l=vt(null),u={hours:i,minutes:a,seconds:l},s=Et((()=>{const t=["hours","minutes","seconds"];return e.showSeconds?t:t.slice(0,2)})),c=Et((()=>e.spinnerDate.hour())),d=Et((()=>e.spinnerDate.minute())),f=Et((()=>e.spinnerDate.second())),p=Et((()=>({hours:c,minutes:d,seconds:f}))),m=Et((()=>D(e.role))),h=Et((()=>N(c.value,e.role))),g=Et((()=>P(c.value,d.value,e.role))),v=Et((()=>({hours:m,minutes:h,seconds:g}))),b=Et((()=>{const e=c.value;return[e>0?e-1:void 0,e,e<23?e+1:void 0]})),y=Et((()=>{const e=d.value;return[e>0?e-1:void 0,e,e<59?e+1:void 0]})),w=Et((()=>{const e=f.value;return[e>0?e-1:void 0,e,e<59?e+1:void 0]})),x=Et((()=>({hours:b,minutes:y,seconds:w}))),C=e=>{"hours"===e?t.emit("select-range",0,2):"minutes"===e?t.emit("select-range",3,5):"seconds"===e&&t.emit("select-range",6,8),o.value=e},k=e=>{_(e,p.value[e].value)},S=()=>{k("hours"),k("minutes"),k("seconds")},_=(t,n)=>{if(e.arrowControl)return;const r=u[t];r.value&&(r.value.$el.querySelector(".el-scrollbar__wrap").scrollTop=Math.max(0,n*O(t)))},O=e=>u[e].value.$el.querySelector("li").offsetHeight,T=e=>{o.value||C("hours");const t=o.value;let n=p.value[t].value;const r="hours"===o.value?24:60;n=(n+e+r)%r,E(t,n),_(t,n),wo((()=>C(o.value)))},E=(n,r)=>{if(!v.value[n].value[r])switch(n){case"hours":t.emit("change",e.spinnerDate.hour(r).minute(d.value).second(f.value));break;case"minutes":t.emit("change",e.spinnerDate.hour(c.value).minute(r).second(f.value));break;case"seconds":t.emit("change",e.spinnerDate.hour(c.value).minute(d.value).second(r))}},A=e=>u[e].value.$el.offsetHeight,M=()=>{const e=e=>{u[e].value&&(u[e].value.$el.querySelector(".el-scrollbar__wrap").onscroll=()=>{(e=>{n=!0,r(e);const t=Math.min(Math.round((u[e].value.$el.querySelector(".el-scrollbar__wrap").scrollTop-(.5*A(e)-10)/O(e)+3)/O(e)),"hours"===e?23:59);E(e,t)})(e)})};e("hours"),e("minutes"),e("seconds")};cn((()=>{wo((()=>{!e.arrowControl&&M(),S(),"start"===e.role&&C("hours")}))}));t.emit("set-option",[`${e.role}_scrollDown`,T]),t.emit("set-option",[`${e.role}_emitSelectRange`,C]);const{getHoursList:D,getMinutesList:N,getSecondsList:P}=Tw(e.disabledHours,e.disabledMinutes,e.disabledSeconds);return Mo((()=>e.spinnerDate),(()=>{n||S()})),{getRefId:e=>`list${e.charAt(0).toUpperCase()+e.slice(1)}Ref`,spinnerItems:s,currentScrollbar:o,hours:c,minutes:d,seconds:f,hoursList:m,minutesList:h,arrowHourList:b,arrowMinuteList:y,arrowSecondList:w,getAmPmFlag:t=>{if(!!!e.amPmMode)return"";let n=t<12?" am":" pm";return"A"===e.amPmMode&&(n=n.toUpperCase()),n},emitSelectRange:C,adjustCurrentSpinner:k,typeItemHeight:O,listHoursRef:i,listMinutesRef:a,listSecondsRef:l,onIncreaseClick:()=>{T(1)},onDecreaseClick:()=>{T(-1)},handleClick:(e,{value:t,disabled:n})=>{n||(E(e,t),C(e),_(e,t))},secondsList:g,timePartsMap:p,arrowListMap:x,listMap:v}}});const Dw=["onClick"],Nw=["onMouseenter"],Pw={class:"el-time-spinner__arrow el-icon-arrow-up"},zw={class:"el-time-spinner__arrow el-icon-arrow-down"},Bw={class:"el-time-spinner__list"};Mw.render=function(e,t,n,r,o,i){const a=or("el-scrollbar"),u=lr("repeat-click");return gr(),wr("div",{class:l(["el-time-spinner",{"has-seconds":e.showSeconds}])},[e.arrowControl?Nr("v-if",!0):(gr(!0),wr(cr,{key:0},Ir(e.spinnerItems,(t=>(gr(),xr(a,{key:t,ref:e.getRefId(t),class:"el-time-spinner__wrapper","wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul",onMouseenter:n=>e.emitSelectRange(t),onMousemove:n=>e.adjustCurrentSpinner(t)},{default:It((()=>[(gr(!0),wr(cr,null,Ir(e.listMap[t].value,((n,r)=>(gr(),wr("li",{key:r,class:l(["el-time-spinner__item",{active:r===e.timePartsMap[t].value,disabled:n}]),onClick:o=>e.handleClick(t,{value:r,disabled:n})},["hours"===t?(gr(),wr(cr,{key:0},[Dr(d(("0"+(e.amPmMode?r%12||12:r)).slice(-2))+d(e.getAmPmFlag(r)),1)],2112)):(gr(),wr(cr,{key:1},[Dr(d(("0"+r).slice(-2)),1)],2112))],10,Dw)))),128))])),_:2},1032,["onMouseenter","onMousemove"])))),128)),e.arrowControl?(gr(!0),wr(cr,{key:1},Ir(e.spinnerItems,(t=>(gr(),wr("div",{key:t,class:"el-time-spinner__wrapper is-arrow",onMouseenter:n=>e.emitSelectRange(t)},[$n(Tr("i",Pw,null,512),[[u,e.onDecreaseClick]]),$n(Tr("i",zw,null,512),[[u,e.onIncreaseClick]]),Tr("ul",Bw,[(gr(!0),wr(cr,null,Ir(e.arrowListMap[t].value,((n,r)=>(gr(),wr("li",{key:r,class:l(["el-time-spinner__item",{active:n===e.timePartsMap[t].value,disabled:e.listMap[t].value[n]}])},d(void 0===n?"":("0"+(e.amPmMode?n%12||12:n)).slice(-2)+e.getAmPmFlag(n)),3)))),128))])],40,Nw)))),128)):Nr("v-if",!0)],2)},Mw.__file="packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue";var Rw=Qt({components:{TimeSpinner:Mw},props:{visible:Boolean,actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(e,t){const{t:n,lang:r}=nv(),o=vt([0,2]),i=Aw(e),a=Et((()=>void 0===e.actualVisible?"el-zoom-in-top":"")),l=Et((()=>e.format.includes("ss"))),u=Et((()=>e.format.includes("A")?"A":e.format.includes("a")?"a":"")),s=t=>{const n={hour:v,minute:b,second:y};let r=t;return["hour","minute","second"].forEach((t=>{if(n[t]){let o;const i=n[t];o="minute"===t?i(r.hour(),e.datetimeRole):"second"===t?i(r.hour(),r.minute(),e.datetimeRole):i(e.datetimeRole),o&&o.length&&!o.includes(r[t]())&&(r=r[t](o[0]))}})),r};t.emit("set-picker-option",["isValidValue",e=>{const t=yy(e).locale(r.value),n=s(t);return t.isSame(n)}]),t.emit("set-picker-option",["formatToString",t=>t?t.format(e.format):null]),t.emit("set-picker-option",["parseUserInput",t=>t?yy(t,e.format).locale(r.value):null]),t.emit("set-picker-option",["handleKeydown",e=>{const t=e.code;if(t===pm.left||t===pm.right){return(e=>{const t=[0,3].concat(l.value?[6]:[]),n=["hours","minutes"].concat(l.value?["seconds"]:[]),r=(t.indexOf(o.value[0])+e+t.length)%t.length;c.start_emitSelectRange(n[r])})(t===pm.left?-1:1),void e.preventDefault()}if(t===pm.up||t===pm.down){const n=t===pm.up?-1:1;return c.start_scrollDown(n),void e.preventDefault()}}]),t.emit("set-picker-option",["getRangeAvailableTime",s]),t.emit("set-picker-option",["getDefaultValue",()=>yy(g).locale(r.value)]);const c={},d=$t("EP_PICKER_BASE"),{arrowControl:f,disabledHours:p,disabledMinutes:m,disabledSeconds:h,defaultValue:g}=d.props,{getAvailableHours:v,getAvailableMinutes:b,getAvailableSeconds:y}=Ew(p,m,h);return{transitionName:a,arrowControl:f,onSetOption:e=>{c[e[0]]=e[1]},t:n,handleConfirm:(n=!1,r)=>{r||t.emit("pick",e.parsedValue,n)},handleChange:n=>{if(!e.visible)return;const r=s(n).millisecond(0);t.emit("pick",r,!0)},setSelectionRange:(e,n)=>{t.emit("select-range",e,n),o.value=[e,n]},amPmMode:u,showSeconds:l,handleCancel:()=>{t.emit("pick",i.value,!1)},disabledHours:p,disabledMinutes:m,disabledSeconds:h}}});const Iw={key:0,class:"el-time-panel"},Lw={class:"el-time-panel__footer"};Rw.render=function(e,t,n,r,o,i){const a=or("time-spinner");return gr(),xr(ei,{name:e.transitionName},{default:It((()=>[e.actualVisible||e.visible?(gr(),wr("div",Iw,[Tr("div",{class:l(["el-time-panel__content",{"has-seconds":e.showSeconds}])},[Er(a,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":e.arrowControl,"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"spinner-date":e.parsedValue,"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,onChange:e.handleChange,onSetOption:e.onSetOption,onSelectRange:e.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),Tr("div",Lw,[Tr("button",{type:"button",class:"el-time-panel__btn cancel",onClick:t[0]||(t[0]=(...t)=>e.handleCancel&&e.handleCancel(...t))},d(e.t("el.datepicker.cancel")),1),Tr("button",{type:"button",class:"el-time-panel__btn confirm",onClick:t[1]||(t[1]=t=>e.handleConfirm())},d(e.t("el.datepicker.confirm")),1)])])):Nr("v-if",!0)])),_:1},8,["name"])},Rw.__file="packages/components/time-picker/src/time-picker-com/panel-time-pick.vue";const Fw=(e,t)=>{const n=[];for(let r=e;r<=t;r++)n.push(r);return n};var Vw=Qt({components:{TimeSpinner:Mw},props:{visible:Boolean,actualVisible:Boolean,parsedValue:{type:[Array,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(e,t){const{t:n,lang:r}=nv(),o=Et((()=>e.parsedValue[0])),i=Et((()=>e.parsedValue[1])),a=Aw(e),l=Et((()=>e.format.includes("ss"))),u=Et((()=>e.format.includes("A")?"A":e.format.includes("a")?"a":"")),s=vt([]),c=vt([]),d=(e,n)=>{t.emit("pick",[e,n],!0)},f=Et((()=>o.value>i.value)),p=vt([0,2]),m=Et((()=>l.value?11:8)),h=(e,t)=>{const n=O?O(e):[],r="start"===e,a=(t||(r?i.value:o.value)).hour(),l=r?Fw(a+1,23):Fw(0,a-1);return mw(n,l)},g=(e,t,n)=>{const r=T?T(e,t):[],a="start"===t,l=n||(a?i.value:o.value);if(e!==l.hour())return r;const u=l.minute(),s=a?Fw(u+1,59):Fw(0,u-1);return mw(r,s)},v=(e,t,n,r)=>{const a=E?E(e,t,n):[],l="start"===n,u=r||(l?i.value:o.value),s=u.hour(),c=u.minute();if(e!==s||t!==c)return a;const d=u.second(),f=l?Fw(d+1,59):Fw(0,d-1);return mw(a,f)},b=e=>e.map(((t,n)=>C(e[0],e[1],0===n?"start":"end"))),{getAvailableHours:y,getAvailableMinutes:w,getAvailableSeconds:x}=Ew(h,g,v),C=(e,t,n)=>{const r={hour:y,minute:w,second:x},o="start"===n;let i=o?e:t;const a=o?t:e;return["hour","minute","second"].forEach((e=>{if(r[e]){let t;const l=r[e];if(t="minute"===e?l(i.hour(),n,a):"second"===e?l(i.hour(),i.minute(),n,a):l(n,a),t&&t.length&&!t.includes(i[e]())){const n=o?0:t.length-1;i=i[e](t[n])}}})),i};t.emit("set-picker-option",["formatToString",t=>t?Array.isArray(t)?t.map((t=>t.format(e.format))):t.format(e.format):null]),t.emit("set-picker-option",["parseUserInput",t=>t?Array.isArray(t)?t.map((t=>yy(t,e.format).locale(r.value))):yy(t,e.format).locale(r.value):null]),t.emit("set-picker-option",["isValidValue",e=>{const t=e.map((e=>yy(e).locale(r.value))),n=b(t);return t[0].isSame(n[0])&&t[1].isSame(n[1])}]),t.emit("set-picker-option",["handleKeydown",e=>{const t=e.code;if(t===pm.left||t===pm.right){return(e=>{const t=l.value?[0,3,6,11,14,17]:[0,3,8,11],n=["hours","minutes"].concat(l.value?["seconds"]:[]),r=(t.indexOf(p.value[0])+e+t.length)%t.length,o=t.length/2;r<o?k.start_emitSelectRange(n[r]):k.end_emitSelectRange(n[r-o])})(t===pm.left?-1:1),void e.preventDefault()}if(t===pm.up||t===pm.down){const n=t===pm.up?-1:1,r=p.value[0]<m.value?"start":"end";return k[`${r}_scrollDown`](n),void e.preventDefault()}}]),t.emit("set-picker-option",["getDefaultValue",()=>{if(Array.isArray(A))return A.map((e=>yy(e).locale(r.value)));const e=yy(A).locale(r.value);return[e,e.add(60,"m")]}]),t.emit("set-picker-option",["getRangeAvailableTime",b]);const k={},S=$t("EP_PICKER_BASE"),{arrowControl:_,disabledHours:O,disabledMinutes:T,disabledSeconds:E,defaultValue:A}=S.props;return{arrowControl:_,onSetOption:e=>{k[e[0]]=e[1]},setMaxSelectionRange:(e,n)=>{t.emit("select-range",e,n,"max"),p.value=[e+m.value,n+m.value]},setMinSelectionRange:(e,n)=>{t.emit("select-range",e,n,"min"),p.value=[e,n]},btnConfirmDisabled:f,handleCancel:()=>{t.emit("pick",a.value,null)},handleConfirm:(e=!1)=>{t.emit("pick",[o.value,i.value],e)},t:n,showSeconds:l,minDate:o,maxDate:i,amPmMode:u,handleMinChange:e=>{d(e.millisecond(0),i.value)},handleMaxChange:e=>{d(o.value,e.millisecond(0))},minSelectableRange:s,maxSelectableRange:c,disabledHours_:h,disabledMinutes_:g,disabledSeconds_:v}}});const Hw={key:0,class:"el-time-range-picker el-picker-panel"},jw={class:"el-time-range-picker__content"},$w={class:"el-time-range-picker__cell"},Uw={class:"el-time-range-picker__header"},Ww={class:"el-time-range-picker__cell"},qw={class:"el-time-range-picker__header"},Kw={class:"el-time-panel__footer"},Yw=["disabled"];Vw.render=function(e,t,n,r,o,i){const a=or("time-spinner");return e.actualVisible?(gr(),wr("div",Hw,[Tr("div",jw,[Tr("div",$w,[Tr("div",Uw,d(e.t("el.datepicker.startTime")),1),Tr("div",{class:l([{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[Er(a,{ref:"minSpinner",role:"start","show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,"spinner-date":e.minDate,"disabled-hours":e.disabledHours_,"disabled-minutes":e.disabledMinutes_,"disabled-seconds":e.disabledSeconds_,onChange:e.handleMinChange,onSetOption:e.onSetOption,onSelectRange:e.setMinSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)]),Tr("div",Ww,[Tr("div",qw,d(e.t("el.datepicker.endTime")),1),Tr("div",{class:l([{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[Er(a,{ref:"maxSpinner",role:"end","show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,"spinner-date":e.maxDate,"disabled-hours":e.disabledHours_,"disabled-minutes":e.disabledMinutes_,"disabled-seconds":e.disabledSeconds_,onChange:e.handleMaxChange,onSetOption:e.onSetOption,onSelectRange:e.setMaxSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)])]),Tr("div",Kw,[Tr("button",{type:"button",class:"el-time-panel__btn cancel",onClick:t[0]||(t[0]=t=>e.handleCancel())},d(e.t("el.datepicker.cancel")),1),Tr("button",{type:"button",class:"el-time-panel__btn confirm",disabled:e.btnConfirmDisabled,onClick:t[1]||(t[1]=t=>e.handleConfirm())},d(e.t("el.datepicker.confirm")),9,Yw)])])):Nr("v-if",!0)},Vw.__file="packages/components/time-picker/src/time-picker-com/panel-time-range.vue";var Gw=Object.defineProperty,Xw=Object.defineProperties,Zw=Object.getOwnPropertyDescriptors,Jw=Object.getOwnPropertySymbols,Qw=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,tx=(e,t,n)=>t in e?Gw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nx=(e,t)=>{for(var n in t||(t={}))Qw.call(t,n)&&tx(e,n,t[n]);if(Jw)for(var n of Jw(t))ex.call(t,n)&&tx(e,n,t[n]);return e},rx=(e,t)=>Xw(e,Zw(t));yy.extend(ky);var ox=Qt({name:"ElTimePicker",install:null,props:rx(nx({},gw),{isRange:{type:Boolean,default:!1}}),emits:["update:modelValue"],setup(e,t){const n=vt(null),r=e.isRange?"timerange":"time",o=e.isRange?Vw:Rw,i=rx(nx({},e),{focus:()=>{var e;null==(e=n.value)||e.handleFocus()},blur:()=>{var e;null==(e=n.value)||e.handleBlur()}});return jt("ElPopperOptions",e.popperOptions),t.expose(i),()=>{var i;const a=null!=(i=e.format)?i:"HH:mm:ss";return Bo(xw,rx(nx({},e),{format:a,type:r,ref:n,"onUpdate:modelValue":e=>t.emit("update:modelValue",e)}),{default:e=>Bo(o,e)})}}});const ix=e=>Array.from(Array(e).keys()),ax=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),lx=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),ux=ox;ux.install=e=>{e.component(ux.name,ux)};const sx=ux;yy.extend(xy);var cx=Qt({props:{selectedDay:{type:Object},range:{type:Array},date:{type:Object},hideHeader:{type:Boolean}},emits:["pick"],setup(e,t){const{lang:n}=nv(),r=vt(yy().locale(n.value).localeData().weekdaysShort()),o=yy().locale(n.value),i=o.$locale().weekStart||0,a=(t,n)=>{let r;return r="prev"===n?e.date.startOf("month").subtract(1,"month").date(t):"next"===n?e.date.startOf("month").add(1,"month").date(t):e.date.date(t),r},l=Et((()=>e.range&&e.range.length)),u=Et((()=>{let t=[];if(l.value){const[n,r]=e.range,o=ix(r.date()-n.date()+1).map(((e,t)=>({text:n.date()+t,type:"current"})));let i=o.length%7;i=0===i?0:7-i;const a=ix(i).map(((e,t)=>({text:t+1,type:"next"})));t=o.concat(a)}else{const n=e.date.startOf("month").day()||7;t=[...((e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return ix(t).map(((e,r)=>n-(t-r-1)))})(e.date,n-i).map((e=>({text:e,type:"prev"}))),...(e=>{const t=e.daysInMonth();return ix(t).map(((e,t)=>t+1))})(e.date).map((e=>({text:e,type:"current"})))];const r=ix(42-t.length).map(((e,t)=>({text:t+1,type:"next"})));t=t.concat(r)}return(e=>ix(e.length/7).map(((t,n)=>{const r=7*n;return e.slice(r,r+7)})))(t)})),s=Et((()=>{const e=i;return 0===e?r.value:r.value.slice(e).concat(r.value.slice(0,e))}));return{isInRange:l,weekDays:s,rows:u,getCellClass:({text:t,type:n})=>{const r=[n];if("current"===n){const i=a(t,n);i.isSame(e.selectedDay,"day")&&r.push("is-selected"),i.isSame(o,"day")&&r.push("is-today")}return r},pickDay:({text:e,type:n})=>{const r=a(e,n);t.emit("pick",r)},getSlotData:({text:t,type:n})=>{const r=a(t,n);return{isSelected:r.isSame(e.selectedDay),type:`${n}-month`,day:r.format("YYYY-MM-DD"),date:r.toDate()}}}}});const dx={key:0},fx=["onClick"],px={class:"el-calendar-day"};cx.render=function(e,t,n,r,o,i){return gr(),wr("table",{class:l({"el-calendar-table":!0,"is-range":e.isInRange}),cellspacing:"0",cellpadding:"0"},[e.hideHeader?Nr("v-if",!0):(gr(),wr("thead",dx,[(gr(!0),wr(cr,null,Ir(e.weekDays,(e=>(gr(),wr("th",{key:e},d(e),1)))),128))])),Tr("tbody",null,[(gr(!0),wr(cr,null,Ir(e.rows,((t,n)=>(gr(),wr("tr",{key:n,class:l({"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===n&&e.hideHeader})},[(gr(!0),wr(cr,null,Ir(t,((t,n)=>(gr(),wr("td",{key:n,class:l(e.getCellClass(t)),onClick:n=>e.pickDay(t)},[Tr("div",px,[Fr(e.$slots,"dateCell",{data:e.getSlotData(t)},(()=>[Tr("span",null,d(t.text),1)]))])],10,fx)))),128))],2)))),128))])],2)},cx.__file="packages/components/calendar/src/date-table.vue";const{ButtonGroup:mx}=gy;var hx=Qt({name:"ElCalendar",components:{DateTable:cx,ElButton:gy,ElButtonGroup:mx},props:{modelValue:{type:Date},range:{type:Array,validator:e=>!!Array.isArray(e)&&(2===e.length&&e.every((e=>e instanceof Date)))}},emits:["input","update:modelValue"],setup(e,t){const{t:n,lang:r}=nv(),o=vt(null),i=yy().locale(r.value),a=Et((()=>d.value.subtract(1,"month"))),l=Et((()=>yy(d.value).locale(r.value).format("YYYY-MM"))),u=Et((()=>d.value.add(1,"month"))),s=Et((()=>{const e=`el.datepicker.month${d.value.format("M")}`;return`${d.value.year()} ${n("el.datepicker.year")} ${n(e)}`})),c=Et({get:()=>e.modelValue?d.value:o.value,set(e){o.value=e;const n=e.toDate();t.emit("input",n),t.emit("update:modelValue",n)}}),d=Et((()=>e.modelValue?yy(e.modelValue).locale(r.value):c.value?c.value:f.value.length?f.value[0][0]:i)),f=Et((()=>{if(!e.range)return[];const t=e.range.map((e=>yy(e).locale(r.value))),[n,o]=t;if(n.isAfter(o))return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(n.isSame(o,"month"))return[[n.startOf("week"),o.endOf("week")]];{if(n.add(1,"month").month()!==o.month())return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];const e=o.startOf("month"),t=e.startOf("week");let r=e;return e.isSame(t,"month")||(r=e.endOf("week").add(1,"day")),[[n.startOf("week"),n.endOf("month")],[r,o.endOf("week")]]}})),p=e=>{c.value=e};return{selectedDay:o,curMonthDatePrefix:l,i18nDate:s,realSelectedDay:c,date:d,validatedRange:f,pickDay:p,selectDate:e=>{let t;t="prev-month"===e?a.value:"next-month"===e?u.value:i,t.isSame(d.value,"day")||p(t)},t:n}}});const gx={class:"el-calendar"},vx={class:"el-calendar__header"},bx={class:"el-calendar__title"},yx={key:0,class:"el-calendar__button-group"},wx={key:0,class:"el-calendar__body"},xx={key:1,class:"el-calendar__body"};hx.render=function(e,t,n,r,o,i){const a=or("el-button"),l=or("el-button-group"),s=or("date-table");return gr(),wr("div",gx,[Tr("div",vx,[Tr("div",bx,d(e.i18nDate),1),0===e.validatedRange.length?(gr(),wr("div",yx,[Er(l,null,{default:It((()=>[Er(a,{size:"mini",onClick:t[0]||(t[0]=t=>e.selectDate("prev-month"))},{default:It((()=>[Dr(d(e.t("el.datepicker.prevMonth")),1)])),_:1}),Er(a,{size:"mini",onClick:t[1]||(t[1]=t=>e.selectDate("today"))},{default:It((()=>[Dr(d(e.t("el.datepicker.today")),1)])),_:1}),Er(a,{size:"mini",onClick:t[2]||(t[2]=t=>e.selectDate("next-month"))},{default:It((()=>[Dr(d(e.t("el.datepicker.nextMonth")),1)])),_:1})])),_:1})])):Nr("v-if",!0)]),0===e.validatedRange.length?(gr(),wr("div",wx,[Er(s,{date:e.date,"selected-day":e.realSelectedDay,onPick:e.pickDay},Lr({_:2},[e.$slots.dateCell?{name:"dateCell",fn:It((t=>[Fr(e.$slots,"dateCell",u(Ar(t)))]))}:void 0]),1032,["date","selected-day","onPick"])])):(gr(),wr("div",xx,[(gr(!0),wr(cr,null,Ir(e.validatedRange,((t,n)=>(gr(),xr(s,{key:n,date:t[0],"selected-day":e.realSelectedDay,range:t,"hide-header":0!==n,onPick:e.pickDay},Lr({_:2},[e.$slots.dateCell?{name:"dateCell",fn:It((t=>[Fr(e.$slots,"dateCell",u(Ar(t)))]))}:void 0]),1032,["date","selected-day","range","hide-header","onPick"])))),128))]))])},hx.__file="packages/components/calendar/src/index.vue",hx.install=e=>{e.component(hx.name,hx)};const Cx=hx;var kx=Qt({name:"ElCard",props:{header:{type:String,default:""},bodyStyle:{type:[String,Object,Array],default:""},shadow:{type:String,default:""}}});const Sx={key:0,class:"el-card__header"};kx.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:l(["el-card",e.shadow?"is-"+e.shadow+"-shadow":"is-always-shadow"])},[e.$slots.header||e.header?(gr(),wr("div",Sx,[Fr(e.$slots,"header",{},(()=>[Dr(d(e.header),1)]))])):Nr("v-if",!0),Tr("div",{class:"el-card__body",style:r(e.bodyStyle)},[Fr(e.$slots,"default")],4)],2)},kx.__file="packages/components/card/src/index.vue",kx.install=e=>{e.component(kx.name,kx)};const _x=kx;var Ox=Qt({name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},pauseOnHover:{type:Boolean,default:!0}},emits:["change"],setup(e,{emit:t}){const n=it({activeIndex:-1,containerWidth:0,timer:null,hover:!1}),r=vt(null),o=vt([]),i=Et((()=>"never"!==e.arrow&&"vertical"!==e.direction)),a=Et((()=>o.value.some((e=>e.label.toString().length>0)))),l=Et((()=>{const t=["el-carousel","el-carousel--"+e.direction];return"card"===e.type&&t.push("el-carousel--card"),t})),u=Et((()=>{const t=["el-carousel__indicators","el-carousel__indicators--"+e.direction];return a.value&&t.push("el-carousel__indicators--labels"),"outside"!==e.indicatorPosition&&"card"!==e.type||t.push("el-carousel__indicators--outside"),t})),s=Gb((e=>{m(e)}),300,{trailing:!0}),c=Gb((t=>{!function(t){"hover"===e.trigger&&t!==n.activeIndex&&(n.activeIndex=t)}(t)}),300);function d(){n.timer&&(clearInterval(n.timer),n.timer=null)}function f(){e.interval<=0||!e.autoplay||n.timer||(n.timer=setInterval((()=>p()),e.interval))}const p=()=>{n.activeIndex<o.value.length-1?n.activeIndex=n.activeIndex+1:e.loop&&(n.activeIndex=0)};function m(t){if("string"==typeof t){const e=o.value.filter((e=>e.name===t));e.length>0&&(t=o.value.indexOf(e[0]))}if(t=Number(t),isNaN(t)||t!==Math.floor(t))return void console.warn("[Element Warn][Carousel]index must be an integer.");let r=o.value.length;const i=n.activeIndex;n.activeIndex=t<0?e.loop?r-1:0:t>=r?e.loop?0:r-1:t,i===n.activeIndex&&h(i)}function h(e){o.value.forEach(((t,r)=>{t.translateItem(r,n.activeIndex,e)}))}function g(){m(n.activeIndex+1)}return Mo((()=>n.activeIndex),((e,n)=>{h(n),n>-1&&t("change",e,n)})),Mo((()=>e.autoplay),(e=>{e?f():d()})),Mo((()=>e.loop),(()=>{m(n.activeIndex)})),cn((()=>{wo((()=>{Dg(r.value,h),e.initialIndex<o.value.length&&e.initialIndex>=0&&(n.activeIndex=e.initialIndex),f()}))})),pn((()=>{r.value&&Ng(r.value,h),d()})),jt("injectCarouselScope",{root:r,direction:e.direction,type:e.type,items:o,loop:e.loop,addItem:function(e){o.value.push(e)},removeItem:function(e){const t=o.value.findIndex((t=>t.uid===e));-1!==t&&(o.value.splice(t,1),n.activeIndex===t&&g())},setActiveItem:m}),{data:n,props:e,items:o,arrowDisplay:i,carouselClasses:l,indicatorsClasses:u,hasLabel:a,handleMouseEnter:function(){n.hover=!0,e.pauseOnHover&&d()},handleMouseLeave:function(){n.hover=!1,f()},handleIndicatorClick:function(e){n.activeIndex=e},throttledArrowClick:s,throttledIndicatorHover:c,handleButtonEnter:function(t){"vertical"!==e.direction&&o.value.forEach(((e,n)=>{t===function(e,t){const n=o.value.length;return t===n-1&&e.inStage&&o.value[0].active||e.inStage&&o.value[t+1]&&o.value[t+1].active?"left":!!(0===t&&e.inStage&&o.value[n-1].active||e.inStage&&o.value[t-1]&&o.value[t-1].active)&&"right"}(e,n)&&(e.hover=!0)}))},handleButtonLeave:function(){"vertical"!==e.direction&&o.value.forEach((e=>{e.hover=!1}))},prev:function(){m(n.activeIndex-1)},next:g,setActiveItem:m,root:r}}});const Tx=[Tr("i",{class:"el-icon-arrow-left"},null,-1)],Ex=[Tr("i",{class:"el-icon-arrow-right"},null,-1)],Ax=["onMouseenter","onClick"],Mx={class:"el-carousel__button"},Dx={key:0};Ox.render=function(e,t,n,o,i,a){return gr(),wr("div",{ref:"root",class:l(e.carouselClasses),onMouseenter:t[6]||(t[6]=Pi(((...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),["stop"])),onMouseleave:t[7]||(t[7]=Pi(((...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),["stop"]))},[Tr("div",{class:"el-carousel__container",style:r({height:e.height})},[e.arrowDisplay?(gr(),xr(ei,{key:0,name:"carousel-arrow-left"},{default:It((()=>[$n(Tr("button",{type:"button",class:"el-carousel__arrow el-carousel__arrow--left",onMouseenter:t[0]||(t[0]=t=>e.handleButtonEnter("left")),onMouseleave:t[1]||(t[1]=(...t)=>e.handleButtonLeave&&e.handleButtonLeave(...t)),onClick:t[2]||(t[2]=Pi((t=>e.throttledArrowClick(e.data.activeIndex-1)),["stop"]))},Tx,544),[[Ri,("always"===e.arrow||e.data.hover)&&(e.props.loop||e.data.activeIndex>0)]])])),_:1})):Nr("v-if",!0),e.arrowDisplay?(gr(),xr(ei,{key:1,name:"carousel-arrow-right"},{default:It((()=>[$n(Tr("button",{type:"button",class:"el-carousel__arrow el-carousel__arrow--right",onMouseenter:t[3]||(t[3]=t=>e.handleButtonEnter("right")),onMouseleave:t[4]||(t[4]=(...t)=>e.handleButtonLeave&&e.handleButtonLeave(...t)),onClick:t[5]||(t[5]=Pi((t=>e.throttledArrowClick(e.data.activeIndex+1)),["stop"]))},Ex,544),[[Ri,("always"===e.arrow||e.data.hover)&&(e.props.loop||e.data.activeIndex<e.items.length-1)]])])),_:1})):Nr("v-if",!0),Fr(e.$slots,"default")],4),"none"!==e.indicatorPosition?(gr(),wr("ul",{key:0,class:l(e.indicatorsClasses)},[(gr(!0),wr(cr,null,Ir(e.items,((t,n)=>(gr(),wr("li",{key:n,class:l(["el-carousel__indicator","el-carousel__indicator--"+e.direction,{"is-active":n===e.data.activeIndex}]),onMouseenter:t=>e.throttledIndicatorHover(n),onClick:Pi((t=>e.handleIndicatorClick(n)),["stop"])},[Tr("button",Mx,[e.hasLabel?(gr(),wr("span",Dx,d(t.label),1)):Nr("v-if",!0)])],42,Ax)))),128))],2)):Nr("v-if",!0)],34)},Ox.__file="packages/components/carousel/src/main.vue";var Nx=Object.defineProperty,Px=Object.defineProperties,zx=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,Rx=Object.prototype.hasOwnProperty,Ix=Object.prototype.propertyIsEnumerable,Lx=(e,t,n)=>t in e?Nx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fx=(e,t)=>{for(var n in t||(t={}))Rx.call(t,n)&&Lx(e,n,t[n]);if(Bx)for(var n of Bx(t))Ix.call(t,n)&&Lx(e,n,t[n]);return e};var Vx=Qt({name:"ElCarouselItem",props:{name:{type:String,default:""},label:{type:[String,Number],default:""}},setup(e){const t=Yr();t.uid;const n=it({hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}),r=$t("injectCarouselScope"),o=Et((()=>r.direction)),i=Et((()=>function(e){const t=["ms-","webkit-"];return["transform","transition","animation"].forEach((n=>{const r=e[n];n&&r&&t.forEach((t=>{e[t+n]=r}))})),e}({transform:`${"vertical"===o.value?"translateY":"translateX"}(${n.translate}px) scale(${n.scale})`})));const a=(e,t,i)=>{const a=r.type,l=r.items.value.length;if("card"!==a&&void 0!==i&&(n.animating=e===t||e===i),e!==t&&l>2&&r.loop&&(e=function(e,t,n){return 0===t&&e===n-1?-1:t===n-1&&0===e?n:e<t-1&&t-e>=n/2?n+1:e>t+1&&e-t>=n/2?-2:e}(e,t,l)),"card"===a)"vertical"===o.value&&console.warn("[Element Warn][Carousel]vertical direction is not supported in card mode"),n.inStage=Math.round(Math.abs(e-t))<=1,n.active=e===t,n.translate=function(e,t){var o;const i=(null==(o=r.root.value)?void 0:o.offsetWidth)||0;return n.inStage?i*(1.17*(e-t)+1)/4:e<t?-1.83*i/4:3.83*i/4}(e,t),n.scale=n.active?1:.83;else{n.active=e===t;const i="vertical"===o.value;n.translate=function(e,t,n){var o,i;return((n?null==(o=r.root.value)?void 0:o.offsetHeight:null==(i=r.root.value)?void 0:i.offsetWidth)||0)*(e-t)}(e,t,i)}n.ready=!0};return cn((()=>{var o;r.addItem&&r.addItem((o=Fx(Fx({uid:t.uid},e),St(n)),Px(o,zx({translateItem:a}))))})),mn((()=>{r.removeItem&&r.removeItem(t.uid)})),{data:n,itemStyle:i,translateItem:a,type:r.type,handleItemClick:function(){if(r&&"card"===r.type){const e=r.items.value.map((e=>e.uid)).indexOf(t.uid);r.setActiveItem(e)}}}}});const Hx={key:0,class:"el-carousel__mask"};Vx.render=function(e,t,n,o,i,a){return $n((gr(),wr("div",{class:l(["el-carousel__item",{"is-active":e.data.active,"el-carousel__item--card":"card"===e.type,"is-in-stage":e.data.inStage,"is-hover":e.data.hover,"is-animating":e.data.animating}]),style:r(e.itemStyle),onClick:t[0]||(t[0]=(...t)=>e.handleItemClick&&e.handleItemClick(...t))},["card"===e.type?$n((gr(),wr("div",Hx,null,512)),[[Ri,!e.data.active]]):Nr("v-if",!0),Fr(e.$slots,"default")],6)),[[Ri,e.data.ready]])},Vx.__file="packages/components/carousel/src/item.vue",Ox.install=e=>{e.component(Ox.name,Ox),e.component(Vx.name,Vx)},Ox.CarouselItem=Vx;const jx=Ox;function $x(e,t){if(Ap)return;if(!t)return void(e.scrollTop=0);const n=[];let r=t.offsetParent;for(;null!==r&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const o=t.offsetTop+n.reduce(((e,t)=>e+t.offsetTop),0),i=o+t.offsetHeight,a=e.scrollTop,l=a+e.clientHeight;o<a?e.scrollTop=o:i>l&&(e.scrollTop=i-e.clientHeight)}const Ux={modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},size:String},Wx=()=>{const e=$p(),t=$t("elForm",{}),n=$t("elFormItem",{}),r=$t("CheckboxGroup",{}),o=Et((()=>r&&"ElCheckboxGroup"===(null==r?void 0:r.name))),i=Et((()=>n.size));return{isGroup:o,checkboxGroup:r,elForm:t,ELEMENT:e,elFormItemSize:i,elFormItem:n}},qx=e=>{const{model:t,isLimitExceeded:n}=(e=>{const t=vt(!1),{emit:n}=Yr(),{isGroup:r,checkboxGroup:o}=Wx(),i=vt(!1),a=Et((()=>{var t;return o?null==(t=o.modelValue)?void 0:t.value:e.modelValue}));return{model:Et({get(){var n;return r.value?a.value:null!=(n=e.modelValue)?n:t.value},set(e){var a;r.value&&Array.isArray(e)?(i.value=!1,void 0!==o.min&&e.length<o.min.value&&(i.value=!0),void 0!==o.max&&e.length>o.max.value&&(i.value=!0),!1===i.value&&(null==(a=null==o?void 0:o.changeEvent)||a.call(o,e))):(n(wm,e),t.value=e)}}),isLimitExceeded:i}})(e),{focus:r,size:o,isChecked:i,checkboxSize:a}=((e,{model:t})=>{const{isGroup:n,checkboxGroup:r,elFormItemSize:o,ELEMENT:i}=Wx(),a=vt(!1),l=Et((()=>{var e;return(null==(e=null==r?void 0:r.checkboxGroupSize)?void 0:e.value)||o.value||i.size}));return{isChecked:Et((()=>{const n=t.value;return"[object Boolean]"===z(n)?n:Array.isArray(n)?n.includes(e.label):null!=n?n===e.trueLabel:void 0})),focus:a,size:l,checkboxSize:Et((()=>{var t;const a=e.size||o.value||i.size;return n.value&&(null==(t=null==r?void 0:r.checkboxGroupSize)?void 0:t.value)||a}))}})(e,{model:t}),{isDisabled:l}=((e,{model:t,isChecked:n})=>{const{elForm:r,isGroup:o,checkboxGroup:i}=Wx(),a=Et((()=>{var e,r;const o=null==(e=i.max)?void 0:e.value,a=null==(r=i.min)?void 0:r.value;return!(!o&&!a)&&t.value.length>=o&&!n.value||t.value.length<=a&&n.value}));return{isDisabled:Et((()=>{var t;const n=e.disabled||r.disabled;return o.value?(null==(t=i.disabled)?void 0:t.value)||n||a.value:e.disabled||r.disabled})),isLimitDisabled:a}})(e,{model:t,isChecked:i}),{handleChange:u}=((e,{isLimitExceeded:t})=>{const{elFormItem:n}=Wx(),{emit:r}=Yr();return Mo((()=>e.modelValue),(e=>{var t;null==(t=n.formItemMitt)||t.emit("el.form.change",[e])})),{handleChange:function(n){var o,i;if(t.value)return;const a=n.target.checked?null==(o=e.trueLabel)||o:null!=(i=e.falseLabel)&&i;r("change",a,n)}}})(e,{isLimitExceeded:n});return((e,{model:t})=>{e.checked&&(Array.isArray(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0)})(e,{model:t}),{isChecked:i,isDisabled:l,checkboxSize:a,model:t,handleChange:u,focus:r,size:o}};var Kx=Qt({name:"ElCheckbox",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:Pv}},emits:[wm,"change"],setup:e=>qx(e)});const Yx=["id","aria-controls"],Gx=["tabindex","role","aria-checked"],Xx=Tr("span",{class:"el-checkbox__inner"},null,-1),Zx=["checked","aria-hidden","name","disabled","true-value","false-value"],Jx=["aria-hidden","disabled","value","name"],Qx={key:0,class:"el-checkbox__label"};Kx.render=function(e,t,n,r,o,i){return gr(),wr("label",{id:e.id,class:l(["el-checkbox",[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}]]),"aria-controls":e.indeterminate?e.controls:null},[Tr("span",{class:l(["el-checkbox__input",{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus}]),tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"},[Xx,e.trueLabel||e.falseLabel?$n((gr(),wr("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),checked:e.isChecked,class:"el-checkbox__original",type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[2]||(t[2]=t=>e.focus=!0),onBlur:t[3]||(t[3]=t=>e.focus=!1)},null,40,Zx)),[[Oi,e.model]]):$n((gr(),wr("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=t=>e.model=t),class:"el-checkbox__original",type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,value:e.label,name:e.name,onChange:t[5]||(t[5]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[6]||(t[6]=t=>e.focus=!0),onBlur:t[7]||(t[7]=t=>e.focus=!1)},null,40,Jx)),[[Oi,e.model]])],10,Gx),e.$slots.default||e.label?(gr(),wr("span",Qx,[Fr(e.$slots,"default"),e.$slots.default?Nr("v-if",!0):(gr(),wr(cr,{key:0},[Dr(d(e.label),1)],2112))])):Nr("v-if",!0)],10,Yx)},Kx.__file="packages/components/checkbox/src/checkbox.vue";var eC=Qt({name:"ElCheckboxButton",props:Ux,emits:[wm,"change"],setup(e){const{focus:t,isChecked:n,isDisabled:r,size:o,model:i,handleChange:a}=qx(e),{checkboxGroup:l}=Wx();return{focus:t,isChecked:n,isDisabled:r,model:i,handleChange:a,activeStyle:Et((()=>{var e,t,n,r;const o=null!=(t=null==(e=null==l?void 0:l.fill)?void 0:e.value)?t:"";return{backgroundColor:o,borderColor:o,color:null!=(r=null==(n=null==l?void 0:l.textColor)?void 0:n.value)?r:"",boxShadow:o?`-1px 0 0 0 ${o}`:null}})),size:o}}});const tC=["aria-checked","aria-disabled"],nC=["checked","name","disabled","true-value","false-value"],rC=["name","disabled","value"];eC.render=function(e,t,n,o,i,a){return gr(),wr("label",{class:l(["el-checkbox-button",[e.size?"el-checkbox-button--"+e.size:"",{"is-disabled":e.isDisabled},{"is-checked":e.isChecked},{"is-focus":e.focus}]]),role:"checkbox","aria-checked":e.isChecked,"aria-disabled":e.isDisabled},[e.trueLabel||e.falseLabel?$n((gr(),wr("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),checked:e.isChecked,class:"el-checkbox-button__original",type:"checkbox",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[2]||(t[2]=t=>e.focus=!0),onBlur:t[3]||(t[3]=t=>e.focus=!1)},null,40,nC)),[[Oi,e.model]]):$n((gr(),wr("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=t=>e.model=t),class:"el-checkbox-button__original",type:"checkbox",name:e.name,disabled:e.isDisabled,value:e.label,onChange:t[5]||(t[5]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[6]||(t[6]=t=>e.focus=!0),onBlur:t[7]||(t[7]=t=>e.focus=!1)},null,40,rC)),[[Oi,e.model]]),e.$slots.default||e.label?(gr(),wr("span",{key:2,class:"el-checkbox-button__inner",style:r(e.isChecked?e.activeStyle:null)},[Fr(e.$slots,"default",{},(()=>[Dr(d(e.label),1)]))],4)):Nr("v-if",!0)],10,tC)},eC.__file="packages/components/checkbox/src/checkbox-button.vue";var oC=Object.defineProperty,iC=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,lC=Object.getOwnPropertySymbols,uC=Object.prototype.hasOwnProperty,sC=Object.prototype.propertyIsEnumerable,cC=(e,t,n)=>t in e?oC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dC=Qt({name:"ElCheckboxGroup",props:{modelValue:{type:[Object,Boolean,Array],default:()=>{}},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:Pv},fill:{type:String,default:void 0},textColor:{type:String,default:void 0}},emits:[wm,"change"],setup(e,t){const{elFormItem:n,elFormItemSize:r,ELEMENT:o}=Wx(),i=Et((()=>e.size||r.value||o.size)),a=e=>{t.emit(wm,e),wo((()=>{t.emit("change",e)}))},l=Et({get:()=>e.modelValue,set(e){a(e)}});var u;jt("CheckboxGroup",(u=((e,t)=>{for(var n in t||(t={}))uC.call(t,n)&&cC(e,n,t[n]);if(lC)for(var n of lC(t))sC.call(t,n)&&cC(e,n,t[n]);return e})({name:"ElCheckboxGroup",modelValue:l},St(e)),iC(u,aC({checkboxGroupSize:i,changeEvent:a})))),Mo((()=>e.modelValue),(e=>{var t;null==(t=n.formItemMitt)||t.emit("el.form.change",[e])}))}});const fC={class:"el-checkbox-group",role:"group","aria-label":"checkbox-group"};dC.render=function(e,t,n,r,o,i){return gr(),wr("div",fC,[Fr(e.$slots,"default")])},dC.__file="packages/components/checkbox/src/checkbox-group.vue",Kx.install=e=>{e.component(Kx.name,Kx),e.component(eC.name,eC),e.component(dC.name,dC)},Kx.CheckboxButton=eC,Kx.CheckboxGroup=dC;const pC=Kx,mC=pC,hC=dC,gC=()=>{const e=$p(),t=$t("elForm",{}),n=$t("elFormItem",{}),r=$t("RadioGroup",{}),o=vt(!1),i=Et((()=>"ElRadioGroup"===(null==r?void 0:r.name))),a=Et((()=>n.size||e.size));return{isGroup:i,focus:o,radioGroup:r,elForm:t,ELEMENT:e,elFormItemSize:a}},vC=(e,{isGroup:t,radioGroup:n,elForm:r,model:o})=>{const i=Et((()=>t.value?n.disabled||e.disabled||r.disabled:e.disabled||r.disabled)),a=Et((()=>i.value||t.value&&o.value!==e.label?-1:0));return{isDisabled:i,tabIndex:a}};var bC=Qt({name:"ElRadio",componentName:"ElRadio",props:{modelValue:{type:[String,Number,Boolean],default:""},label:{type:[String,Number,Boolean],default:""},disabled:Boolean,name:{type:String,default:""},border:Boolean,size:{type:String,validator:Pv}},emits:[wm,"change"],setup(e,t){const{isGroup:n,radioGroup:r,elFormItemSize:o,ELEMENT:i,focus:a,elForm:l}=gC(),u=vt(),s=Et({get:()=>n.value?r.modelValue:e.modelValue,set(o){n.value?r.changeEvent(o):t.emit(wm,o),u.value.checked=e.modelValue===e.label}}),{tabIndex:c,isDisabled:d}=vC(e,{isGroup:n,radioGroup:r,elForm:l,model:s}),f=Et((()=>{const t=e.size||o.value||i.size;return n.value&&r.radioGroupSize||t}));return{focus:a,isGroup:n,isDisabled:d,model:s,tabIndex:c,radioSize:f,handleChange:function(){wo((()=>{t.emit("change",s.value)}))},radioRef:u}}});const yC=["aria-checked","aria-disabled","tabindex"],wC=Tr("span",{class:"el-radio__inner"},null,-1),xC=["value","name","disabled"];bC.render=function(e,t,n,r,o,i){return gr(),wr("label",{class:l(["el-radio",{[`el-radio--${e.radioSize||""}`]:e.border&&e.radioSize,"is-disabled":e.isDisabled,"is-focus":e.focus,"is-bordered":e.border,"is-checked":e.model===e.label}]),role:"radio","aria-checked":e.model===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex,onKeydown:t[5]||(t[5]=Bi(Pi((t=>e.model=e.isDisabled?e.model:e.label),["stop","prevent"]),["space"]))},[Tr("span",{class:l(["el-radio__input",{"is-disabled":e.isDisabled,"is-checked":e.model===e.label}])},[wC,$n(Tr("input",{ref:"radioRef","onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),class:"el-radio__original",value:e.label,type:"radio","aria-hidden":"true",name:e.name,disabled:e.isDisabled,tabindex:"-1",onFocus:t[1]||(t[1]=t=>e.focus=!0),onBlur:t[2]||(t[2]=t=>e.focus=!1),onChange:t[3]||(t[3]=(...t)=>e.handleChange&&e.handleChange(...t))},null,40,xC),[[Ei,e.model]])],2),Tr("span",{class:"el-radio__label",onKeydown:t[4]||(t[4]=Pi((()=>{}),["stop"]))},[Fr(e.$slots,"default",{},(()=>[Dr(d(e.label),1)]))],32)],42,yC)},bC.__file="packages/components/radio/src/radio.vue";var CC=Qt({name:"ElRadioButton",props:{label:{type:[String,Number,Boolean],default:""},disabled:Boolean,name:{type:String,default:""}},setup(e){const{isGroup:t,radioGroup:n,elFormItemSize:r,ELEMENT:o,focus:i,elForm:a}=gC(),l=Et((()=>n.radioGroupSize||r.value||o.size)),u=vt(),s=Et({get:()=>n.modelValue,set(t){n.changeEvent(t),u.value.checked=n.modelValue===e.label}}),{isDisabled:c,tabIndex:d}=vC(e,{model:s,elForm:a,radioGroup:n,isGroup:t});return{isGroup:t,size:l,isDisabled:c,tabIndex:d,value:s,focus:i,activeStyle:Et((()=>({backgroundColor:n.fill||"",borderColor:n.fill||"",boxShadow:n.fill?`-1px 0 0 0 ${n.fill}`:"",color:n.textColor||""}))),radioRef:u}}});const kC=["aria-checked","aria-disabled","tabindex"],SC=["value","name","disabled"];CC.render=function(e,t,n,o,i,a){return gr(),wr("label",{class:l(["el-radio-button",[e.size?"el-radio-button--"+e.size:"",{"is-active":e.value===e.label,"is-disabled":e.isDisabled,"is-focus":e.focus}]]),role:"radio","aria-checked":e.value===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex,onKeydown:t[4]||(t[4]=Bi(Pi((t=>e.value=e.isDisabled?e.value:e.label),["stop","prevent"]),["space"]))},[$n(Tr("input",{ref:"radioRef","onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),class:"el-radio-button__original-radio",value:e.label,type:"radio",name:e.name,disabled:e.isDisabled,tabindex:"-1",onFocus:t[1]||(t[1]=t=>e.focus=!0),onBlur:t[2]||(t[2]=t=>e.focus=!1)},null,40,SC),[[Ei,e.value]]),Tr("span",{class:"el-radio-button__inner",style:r(e.value===e.label?e.activeStyle:null),onKeydown:t[3]||(t[3]=Pi((()=>{}),["stop"]))},[Fr(e.$slots,"default",{},(()=>[Dr(d(e.label),1)]))],36)],42,kC)},CC.__file="packages/components/radio/src/radio-button.vue";var _C=Object.defineProperty,OC=Object.defineProperties,TC=Object.getOwnPropertyDescriptors,EC=Object.getOwnPropertySymbols,AC=Object.prototype.hasOwnProperty,MC=Object.prototype.propertyIsEnumerable,DC=(e,t,n)=>t in e?_C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NC=Qt({name:"ElRadioGroup",componentName:"ElRadioGroup",props:{modelValue:{type:[String,Number,Boolean],default:""},size:{type:String,validator:Pv},fill:{type:String,default:""},textColor:{type:String,default:""},disabled:Boolean},emits:[wm,"change"],setup(e,t){const n=vt(null),r=$t("elFormItem",{}),o=Et((()=>e.size||r.size));var i;jt("RadioGroup",it((i=((e,t)=>{for(var n in t||(t={}))AC.call(t,n)&&DC(e,n,t[n]);if(EC)for(var n of EC(t))MC.call(t,n)&&DC(e,n,t[n]);return e})({name:"ElRadioGroup"},St(e)),OC(i,TC({radioGroupSize:o,changeEvent:e=>{t.emit(wm,e),wo((()=>{t.emit("change",e)}))}}))))),Mo((()=>e.modelValue),(e=>{var t;null==(t=r.formItemMitt)||t.emit("el.form.change",[e])}));return cn((()=>{const e=n.value.querySelectorAll("[type=radio]"),t=e[0];!Array.from(e).some((e=>e.checked))&&t&&(t.tabIndex=0)})),{handleKeydown:e=>{const t=e.target,r="INPUT"===t.nodeName?"[type=radio]":"[role=radio]",o=n.value.querySelectorAll(r),i=o.length,a=Array.from(o).indexOf(t),l=n.value.querySelectorAll("[role=radio]");let u=null;switch(e.code){case pm.left:case pm.up:e.stopPropagation(),e.preventDefault(),u=0===a?i-1:a-1;break;case pm.right:case pm.down:e.stopPropagation(),e.preventDefault(),u=a===i-1?0:a+1}null!==u&&(l[u].click(),l[u].focus())},radioGroupSize:o,radioGroup:n}}});NC.render=function(e,t,n,r,o,i){return gr(),wr("div",{ref:"radioGroup",class:"el-radio-group",role:"radiogroup",onKeydown:t[0]||(t[0]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[Fr(e.$slots,"default")],544)},NC.__file="packages/components/radio/src/radio-group.vue",bC.install=e=>{e.component(bC.name,bC),e.component(CC.name,CC),e.component(NC.name,NC)},bC.RadioButton=CC,bC.RadioGroup=NC;const PC=bC,zC=PC;var BC,RC,IC=Qt({name:"NodeContent",render(){const{node:e,panel:t}=this.$parent,{data:n,label:r}=e,{renderLabelFn:o}=t;return Bo("span",{class:"el-cascader-node__label"},o?o({node:e,data:n}):r)}});(RC=BC||(BC={})).CLICK="click",RC.HOVER="hover";const LC=Symbol();var FC=Qt({name:"ElCascaderNode",components:{ElCheckbox:pC,ElRadio:PC,NodeContent:IC},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=$t(LC),r=Et((()=>n.isHoverMenu)),o=Et((()=>n.config.multiple)),i=Et((()=>n.config.checkStrictly)),a=Et((()=>{var e;return null==(e=n.checkedNodes[0])?void 0:e.uid})),l=Et((()=>e.node.isDisabled)),u=Et((()=>e.node.isLeaf)),s=Et((()=>i.value&&!u.value||!l.value)),c=Et((()=>f(n.expandingNode))),d=Et((()=>i.value&&n.checkedNodes.some(f))),f=t=>{var n;const{level:r,uid:o}=e.node;return(null==(n=null==t?void 0:t.pathNodes[r-1])?void 0:n.uid)===o},p=()=>{c.value||n.expandNode(e.node)},m=()=>{n.lazyLoad(e.node,(()=>{u.value||p()}))},h=()=>{const{node:t}=e;s.value&&!t.loading&&(t.loaded?p():m())},g=t=>{e.node.loaded?((t=>{const{node:r}=e;t!==r.checked&&n.handleCheckChange(r,t)})(t),!i.value&&p()):m()};return{panel:n,isHoverMenu:r,multiple:o,checkStrictly:i,checkedNodeId:a,isDisabled:l,isLeaf:u,expandable:s,inExpandingPath:c,inCheckedPath:d,handleHoverExpand:e=>{r.value&&(h(),!u.value&&t("expand",e))},handleExpand:h,handleClick:()=>{r.value&&!u.value||(!u.value||l.value||i.value||o.value?h():g(!0))},handleCheck:g}}});const VC=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],HC=Tr("span",null,null,-1),jC={key:2,class:"el-icon-check el-cascader-node__prefix"},$C={key:0,class:"el-icon-loading el-cascader-node__postfix"},UC={key:1,class:"el-icon-arrow-right el-cascader-node__postfix"};FC.render=function(e,t,n,r,o,i){const a=or("el-checkbox"),u=or("el-radio"),s=or("node-content");return gr(),wr("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:null,class:l(["el-cascader-node",e.checkStrictly&&"is-selectable",e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path",e.node.checked&&"is-active",!e.expandable&&"is-disabled"]),onMouseenter:t[2]||(t[2]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onFocus:t[3]||(t[3]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onClick:t[4]||(t[4]=(...t)=>e.handleClick&&e.handleClick(...t))},[Nr(" prefix "),e.multiple?(gr(),xr(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=Pi((()=>{}),["stop"])),"onUpdate:modelValue":e.handleCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(gr(),xr(u,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleCheck,onClick:t[1]||(t[1]=Pi((()=>{}),["stop"]))},{default:It((()=>[Nr("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),HC])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(gr(),wr("i",jC)):Nr("v-if",!0),Nr(" content "),Er(s),Nr(" postfix "),e.isLeaf?Nr("v-if",!0):(gr(),wr(cr,{key:3},[e.node.loading?(gr(),wr("i",$C)):(gr(),wr("i",UC))],2112))],42,VC)},FC.__file="packages/components/cascader-panel/src/node.vue";var WC=Qt({name:"ElCascaderMenu",components:{ElScrollbar:fb,ElCascaderNode:FC},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Yr(),{t:n}=nv(),r=Bp();let o=null,i=null;const a=$t(LC),l=vt(null),u=Et((()=>!e.nodes.length)),s=Et((()=>`cascader-menu-${r}-${e.index}`)),c=()=>{i&&(clearTimeout(i),i=null)},d=()=>{l.value&&(l.value.innerHTML="",c())};return{panel:a,hoverZone:l,isEmpty:u,menuId:s,t:n,handleExpand:e=>{o=e.target},handleMouseMove:e=>{if(a.isHoverMenu&&o&&l.value)if(o.contains(e.target)){c();const n=t.vnode.el,{left:r}=n.getBoundingClientRect(),{offsetWidth:i,offsetHeight:a}=n,u=e.clientX-r,s=o.offsetTop,d=s+o.offsetHeight;l.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${u} ${s} L${i} 0 V${s} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${u} ${d} L${i} ${a} V${d} Z" />\n        `}else i||(i=window.setTimeout(d,a.config.hoverThreshold))},clearHoverZone:d}}});const qC={key:0,class:"el-cascader-menu__empty-text"},KC={key:1,ref:"hoverZone",class:"el-cascader-menu__hover-zone"};var YC;WC.render=function(e,t,n,r,o,i){const a=or("el-cascader-node"),l=or("el-scrollbar");return gr(),xr(l,{id:e.menuId,tag:"ul",role:"menu",class:"el-cascader-menu","wrap-class":"el-cascader-menu__wrap","view-class":["el-cascader-menu__list",e.isEmpty&&"is-empty"],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:It((()=>[(gr(!0),wr(cr,null,Ir(e.nodes,(t=>(gr(),xr(a,{key:t.uid,node:t,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isEmpty?(gr(),wr("div",qC,d(e.t("el.cascader.noData")),1)):e.panel.isHoverMenu?(gr(),wr("svg",KC,null,512)):Nr("v-if",!0)])),_:1},8,["id","view-class","onMousemove","onMouseleave"])},WC.__file="packages/components/cascader-panel/src/menu.vue",function(e){e.CLICK="click",e.HOVER="hover"}(YC||(YC={}));let GC=0;class XC{constructor(e,t,n,r=!1){this.data=e,this.config=t,this.parent=n,this.root=r,this.uid=GC++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:i,children:a}=t,l=e[a],u=(e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t})(this);this.level=r?0:n?n.level+1:1,this.value=e[o],this.label=e[i],this.pathNodes=u,this.pathValues=u.map((e=>e.value)),this.pathLabels=u.map((e=>e.label)),this.childrenData=l,this.children=(l||[]).map((e=>new XC(e,t,this))),this.loaded=!t.lazy||this.isLeaf||!Wp(l)}get isDisabled(){const{data:e,parent:t,config:n}=this,{disabled:r,checkStrictly:o}=n;return(E(r)?r(e,this):!!e[r])||!o&&(null==t?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:n,loaded:r}=this,{lazy:o,leaf:i}=t,a=E(i)?i(e,this):e[i];return jp(a)?!(o&&!r)&&!Array.isArray(n):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:n}=this,r=new XC(e,this.config,this);return Array.isArray(t)?t.push(e):this.childrenData=[e],n.push(r),r}calcText(e,t){const n=e?this.pathLabels.join(t):this.label;return this.text=n,n}broadcast(e,...t){const n=`onParent${U(e)}`;this.children.forEach((r=>{r&&(r.broadcast(e,...t),r[n]&&r[n](...t))}))}emit(e,...t){const{parent:n}=this,r=`onChild${U(e)}`;n&&(n[r]&&n[r](...t),n.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter((e=>!e.isDisabled)),n=!!t.length&&t.every((e=>e.checked));this.setCheckState(n)}setCheckState(e){const t=this.children.length,n=this.children.reduce(((e,t)=>e+(t.checked?1:t.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&n!==t&&n>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:n}=this.config;t||!n?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const ZC=(e,t)=>e.reduce(((e,n)=>(n.isLeaf?e.push(n):(!t&&e.push(n),e=e.concat(ZC(n.children,t))),e)),[]);class JC{constructor(e,t){this.config=t;const n=(e||[]).map((e=>new XC(e,this.config)));this.nodes=n,this.allNodes=ZC(n,!1),this.leafNodes=ZC(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const n=t?t.appendChild(e):new XC(e,this.config);t||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(e,t){e.forEach((e=>this.appendNode(e,t)))}getNodeByValue(e,t=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(t).filter((t=>_y(t.value,e)||_y(t.pathValues,e)))[0]||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).filter((({value:t,level:n})=>_y(e.value,t)&&e.level===n))[0]||null}}var QC=Object.defineProperty,ek=Object.getOwnPropertySymbols,tk=Object.prototype.hasOwnProperty,nk=Object.prototype.propertyIsEnumerable,rk=(e,t,n)=>t in e?QC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ok=(e,t)=>{for(var n in t||(t={}))tk.call(t,n)&&rk(e,n,t[n]);if(ek)for(var n of ek(t))nk.call(t,n)&&rk(e,n,t[n]);return e};const ik={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},ak={expandTrigger:YC.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:h,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},lk=e=>!e.getAttribute("aria-owns"),uk=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},sk=e=>{e&&(e.focus(),!lk(e)&&e.click())};var ck,dk,fk=Object.defineProperty,pk=Object.defineProperties,mk=Object.getOwnPropertyDescriptors,hk=Object.getOwnPropertySymbols,gk=Object.prototype.hasOwnProperty,vk=Object.prototype.propertyIsEnumerable,bk=(e,t,n)=>t in e?fk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yk=Qt({name:"ElCascaderPanel",components:{ElCascaderMenu:WC},props:(ck=((e,t)=>{for(var n in t||(t={}))gk.call(t,n)&&bk(e,n,t[n]);if(hk)for(var n of hk(t))vk.call(t,n)&&bk(e,n,t[n]);return e})({},ik),dk={border:{type:Boolean,default:!0},renderLabel:Function},pk(ck,mk(dk))),emits:[wm,"change","close","expand-change"],setup(e,{emit:t,slots:n}){let r=!0,o=!1;const i=(e=>Et((()=>ok(ok({},ak),e.props))))(e),a=vt(null),l=vt([]),u=vt(null),s=vt([]),c=vt(null),d=vt([]),f=Et((()=>i.value.expandTrigger===YC.HOVER)),p=Et((()=>e.renderLabel||n.default)),m=(e,t)=>{const n=i.value;(e=e||new XC({},n,null,!0)).loading=!0;n.lazyLoad(e,(n=>{const r=e.root?null:e;n&&a.value.appendNodes(n,r),e.loading=!1,e.loaded=!0,t&&t(n)}))},h=(e,n)=>{var r;const{level:o}=e,i=s.value.slice(0,o);let a;e.isLeaf?a=e.pathNodes[o-2]:(a=e,i.push(e.children)),(null==(r=c.value)?void 0:r.uid)!==(null==a?void 0:a.uid)&&(c.value=e,s.value=i,!n&&t("expand-change",(null==e?void 0:e.pathValues)||[]))},g=(e,n,r=!0)=>{const{checkStrictly:a,multiple:l}=i.value,u=d.value[0];o=!0,!l&&(null==u||u.doCheck(!1)),e.doCheck(n),y(),r&&!l&&!a&&t("close")},v=e=>a.value.getFlattedNodes(e),b=e=>v(e).filter((e=>!1!==e.checked)),y=()=>{var e;const{checkStrictly:t,multiple:n}=i.value,r=((e,t)=>{const n=t.slice(0),r=n.map((e=>e.uid)),o=e.reduce(((e,t)=>{const o=r.indexOf(t.uid);return o>-1&&(e.push(t),n.splice(o,1),r.splice(o,1)),e}),[]);return o.push(...n),o})(d.value,b(!t)),o=r.map((e=>e.valueByOption));d.value=r,u.value=n?o:null!=(e=o[0])?e:null},w=(t=!1,n=!1)=>{const{modelValue:l}=e,{lazy:s,multiple:c,checkStrictly:d}=i.value,f=!d;if(r&&!o&&(n||!_y(l,u.value)))if(s&&!t){const e=Kp(qp(Rp(l))).map((e=>a.value.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{m(e,(()=>w(!1,n)))})):w(!0,n)}else{const e=Kp((c?Rp(l):[l]).map((e=>a.value.getNodeByValue(e,f))));x(e,!1),u.value=l}},x=(e,t=!0)=>{const{checkStrictly:n}=i.value,r=d.value,o=e.filter((e=>!!e&&(n||e.isLeaf))),l=a.value.getSameNode(c.value),u=t&&l||o[0];u?u.pathNodes.forEach((e=>h(e,!0))):c.value=null,r.forEach((e=>e.doCheck(!1))),o.forEach((e=>e.doCheck(!0))),d.value=o,wo(C)},C=()=>{Ap||l.value.forEach((e=>{const t=null==e?void 0:e.$el;if(t){$x(t.querySelector(".el-scrollbar__wrap"),t.querySelector(".el-cascader-node.is-active")||t.querySelector(".el-cascader-node.in-active-path"))}}))};return jt(LC,it({config:i,expandingNode:c,checkedNodes:d,isHoverMenu:f,renderLabelFn:p,lazyLoad:m,expandNode:h,handleCheckChange:g})),Mo([i,()=>e.options],(()=>{const{options:t}=e,n=i.value;o=!1,a.value=new JC(t,n),s.value=[a.value.getNodes()],n.lazy&&Wp(e.options)?(r=!1,m(null,(()=>{r=!0,w(!1,!0)}))):w(!1,!0)}),{deep:!0,immediate:!0}),Mo((()=>e.modelValue),(()=>{o=!1,w()})),Mo(u,(n=>{_y(n,e.modelValue)||(t(wm,n),t("change",n))})),dn((()=>l.value=[])),cn((()=>!Wp(e.modelValue)&&w())),{menuList:l,menus:s,checkedNodes:d,handleKeyDown:e=>{const n=e.target,{code:r}=e;switch(r){case pm.up:case pm.down:const e=r===pm.up?-1:1;sk(((e,t)=>{const{parentNode:n}=e;if(!n)return null;const r=n.querySelectorAll('.el-cascader-node[tabindex="-1"]');return r[Array.prototype.indexOf.call(r,e)+t]||null})(n,e));break;case pm.left:const o=l.value[uk(n)-1],i=null==o?void 0:o.$el.querySelector('.el-cascader-node[aria-expanded="true"]');sk(i);break;case pm.right:const a=l.value[uk(n)+1],u=null==a?void 0:a.$el.querySelector('.el-cascader-node[tabindex="-1"]');sk(u);break;case pm.enter:(e=>{if(!e)return;const t=e.querySelector("input");t?t.click():lk(e)&&e.click()})(n);break;case pm.esc:case pm.tab:t("close")}},handleCheckChange:g,getFlattedNodes:v,getCheckedNodes:b,clearCheckedNodes:()=>{d.value.forEach((e=>e.doCheck(!1))),y()},calculateCheckedValue:y,scrollToExpandingNode:C}}});yk.render=function(e,t,n,r,o,i){const a=or("el-cascader-menu");return gr(),wr("div",{class:l(["el-cascader-panel",e.border&&"is-bordered"]),onKeydown:t[0]||(t[0]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t))},[(gr(!0),wr(cr,null,Ir(e.menus,((t,n)=>(gr(),xr(a,{key:n,ref:t=>e.menuList[n]=t,index:n,nodes:t},null,8,["index","nodes"])))),128))],34)},yk.__file="packages/components/cascader-panel/src/index.vue",yk.install=e=>{e.component(yk.name,yk)};const wk=yk,xk=wk;var Ck=Qt({name:"ElTag",props:{closable:Boolean,type:{type:String,default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,validator:Pv},effect:{type:String,default:"light",validator:e=>-1!==["dark","light","plain"].indexOf(e)}},emits:["close","click"],setup(e,t){const n=$p(),r=Et((()=>e.size||n.size)),o=Et((()=>{const{type:t,hit:n,effect:o}=e;return["el-tag",t?`el-tag--${t}`:"",r.value?`el-tag--${r.value}`:"",o?`el-tag--${o}`:"",n&&"is-hit"]}));return{tagSize:r,classes:o,handleClose:e=>{e.stopPropagation(),t.emit("close",e)},handleClick:e=>{t.emit("click",e)}}}});Ck.render=function(e,t,n,o,i,a){return e.disableTransitions?(gr(),xr(ei,{key:1,name:"el-zoom-in-center"},{default:It((()=>[Tr("span",{class:l(e.classes),style:r({backgroundColor:e.color}),onClick:t[3]||(t[3]=(...t)=>e.handleClick&&e.handleClick(...t))},[Fr(e.$slots,"default"),e.closable?(gr(),wr("i",{key:0,class:"el-tag__close el-icon-close",onClick:t[2]||(t[2]=(...t)=>e.handleClose&&e.handleClose(...t))})):Nr("v-if",!0)],6)])),_:3})):(gr(),wr("span",{key:0,class:l(e.classes),style:r({backgroundColor:e.color}),onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[Fr(e.$slots,"default"),e.closable?(gr(),wr("i",{key:0,class:"el-tag__close el-icon-close",onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))})):Nr("v-if",!0)],6))},Ck.__file="packages/components/tag/src/index.vue",Ck.install=e=>{e.component(Ck.name,Ck)};const kk=Ck,Sk=kk;var _k=Object.defineProperty,Ok=Object.defineProperties,Tk=Object.getOwnPropertyDescriptors,Ek=Object.getOwnPropertySymbols,Ak=Object.prototype.hasOwnProperty,Mk=Object.prototype.propertyIsEnumerable,Dk=(e,t,n)=>t in e?_k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Nk={medium:36,small:32,mini:28},Pk={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:t,placement:n}=e;["right","left"].includes(n)||(t.arrow.x=35)},requires:["arrow"]}]};var zk=Qt({name:"ElCascader",components:{ElCascaderPanel:wk,ElInput:ob,ElPopper:Rb,ElScrollbar:fb,ElTag:kk},directives:{Clickoutside:Ah},props:((e,t)=>Ok(e,Tk(t)))(((e,t)=>{for(var n in t||(t={}))Ak.call(t,n)&&Dk(e,n,t[n]);if(Ek)for(var n of Ek(t))Mk.call(t,n)&&Dk(e,n,t[n]);return e})({},ik),{size:{type:String,validator:Pv},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},popperAppendToBody:{type:Boolean,default:!0}}),emits:[wm,"change","focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:t}){let n=0,r=0;const{t:o}=nv(),i=$p(),a=$t("elForm",{}),l=$t("elFormItem",{}),u=vt(null),s=vt(null),c=vt(null),d=vt(null),f=vt(null),p=vt(!1),m=vt(!1),h=vt(!1),g=vt(""),v=vt(""),b=vt([]),y=vt([]),w=Et((()=>e.disabled||a.disabled)),x=Et((()=>e.placeholder||o("el.cascader.placeholder"))),C=Et((()=>e.size||l.size||i.size)),k=Et((()=>["small","mini"].includes(C.value)?"mini":"small")),S=Et((()=>!!e.props.multiple)),_=Et((()=>!e.filterable||S.value)),O=Et((()=>S.value?v.value:g.value)),T=Et((()=>{var e;return(null==(e=d.value)?void 0:e.checkedNodes)||[]})),E=Et((()=>!(!e.clearable||w.value||h.value||!m.value)&&!!T.value.length)),A=Et((()=>{const{showAllLevels:t,separator:n}=e,r=T.value;return r.length?S.value?" ":r[0].calcText(t,n):""})),M=Et({get:()=>e.modelValue,set(e){var n;t(wm,e),t("change",e),null==(n=l.formItemMitt)||n.emit("el.form.change",[e])}}),D=Et((()=>{var e;return null==(e=u.value)?void 0:e.popperRef})),P=n=>{if(!w.value&&(n=null!=n?n:!p.value)!==p.value){if(p.value=n,s.value.input.setAttribute("aria-expanded",n),n)z(),wo(d.value.scrollToExpandingNode);else if(e.filterable){const{value:e}=A;g.value=e,v.value=e}t("visible-change",n)}},z=()=>{wo(u.value.update)},B=()=>{h.value=!1},R=t=>{const{showAllLevels:n,separator:r}=e;return{node:t,key:t.uid,text:t.calcText(n,r),hitState:!1,closable:!w.value&&!t.isDisabled}},I=e=>{const{node:n}=e;n.doCheck(!1),d.value.calculateCheckedValue(),t("remove-tag",n.valueByOption)},L=()=>{const{filterMethod:t,showAllLevels:n,separator:r}=e,o=d.value.getFlattedNodes(!e.props.checkStrictly).filter((e=>!e.isDisabled&&(e.calcText(n,r),t(e,O.value))));S.value&&b.value.forEach((e=>{e.hitState=!1})),h.value=!0,y.value=o,z()},F=()=>{var e;let t=null;t=h.value&&f.value?f.value.$el.querySelector(".el-cascader__suggestion-item"):null==(e=d.value)?void 0:e.$el.querySelector('.el-cascader-node[tabindex="-1"]'),t&&(t.focus(),!h.value&&t.click())},V=()=>{var e;const t=s.value.input,r=c.value,o=null==(e=f.value)?void 0:e.$el;if(!Ap&&t){if(o){o.querySelector(".el-cascader__suggestion-list").style.minWidth=t.offsetWidth+"px"}if(r){const{offsetHeight:e}=r,o=b.value.length>0?Math.max(e+6,n)+"px":`${n}px`;t.style.height=o,z()}}},H=Av((()=>{const{value:t}=O;if(!t)return;const n=e.beforeFilter(t);N(n)?n.then(L).catch((()=>{})):!1!==n?L():B()}),e.debounce);return Mo(h,z),Mo([T,w],(()=>{if(!S.value)return;const t=T.value,n=[];if(t.length){const[r,...o]=t,i=o.length;n.push(R(r)),i&&(e.collapseTags?n.push({key:-1,text:`+ ${i}`,closable:!1}):o.forEach((e=>n.push(R(e)))))}b.value=n})),Mo(b,(()=>wo(V))),Mo(A,(e=>g.value=e),{immediate:!0}),cn((()=>{const e=s.value.$el;n=(null==e?void 0:e.offsetHeight)||Nk[C.value]||40,Dg(e,V)})),pn((()=>{Ng(s.value.$el,V)})),{popperOptions:Pk,popper:u,popperPaneRef:D,input:s,tagWrapper:c,panel:d,suggestionPanel:f,popperVisible:p,inputHover:m,inputPlaceholder:x,filtering:h,presentText:A,checkedValue:M,inputValue:g,searchInputValue:v,presentTags:b,suggestions:y,isDisabled:w,realSize:C,tagSize:k,multiple:S,readonly:_,clearBtnVisible:E,t:o,togglePopperVisible:P,hideSuggestionPanel:B,deleteTag:I,focusFirstNode:F,getCheckedNodes:e=>d.value.getCheckedNodes(e),handleExpandChange:e=>{z(),t("expand-change",e)},handleKeyDown:e=>{switch(e.code){case pm.enter:P();break;case pm.down:P(!0),wo(F),event.preventDefault();break;case pm.esc:case pm.tab:P(!1)}},handleClear:()=>{d.value.clearCheckedNodes(),P(!1)},handleSuggestionClick:e=>{const{checked:t}=e;S.value?d.value.handleCheckChange(e,!t,!1):(!t&&d.value.handleCheckChange(e,!0,!1),P(!1))},handleDelete:()=>{const e=b.value,t=e[e.length-1];r=v.value?0:r+1,t&&r&&(t.hitState?I(t):t.hitState=!0)},handleInput:(e,t)=>{!p.value&&P(!0),(null==t?void 0:t.isComposing)||(e?H():B())}}}});const Bk={key:0,ref:"tagWrapper",class:"el-cascader__tags"},Rk=["placeholder"],Ik=["onClick"],Lk={key:0,class:"el-icon-check"},Fk={class:"el-cascader__empty-text"};zk.render=function(e,t,n,r,o,i){const a=or("el-input"),u=or("el-tag"),s=or("el-cascader-panel"),c=or("el-scrollbar"),f=or("el-popper"),p=lr("clickoutside");return gr(),xr(f,{ref:"popper",visible:e.popperVisible,"onUpdate:visible":t[15]||(t[15]=t=>e.popperVisible=t),"manual-mode":"","append-to-body":e.popperAppendToBody,placement:"bottom-start","popper-class":`el-cascader__dropdown ${e.popperClass}`,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],"stop-popper-mouse-event":!1,transition:"el-zoom-in-top","gpu-acceleration":!1,effect:"light",pure:"",onAfterLeave:e.hideSuggestionPanel},{trigger:It((()=>[$n(Tr("div",{class:l(["el-cascader",e.realSize&&`el-cascader--${e.realSize}`,{"is-disabled":e.isDisabled}]),onClick:t[9]||(t[9]=()=>e.togglePopperVisible(!e.readonly||void 0)),onKeydown:t[10]||(t[10]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t)),onMouseenter:t[11]||(t[11]=t=>e.inputHover=!0),onMouseleave:t[12]||(t[12]=t=>e.inputHover=!1)},[Er(a,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.inputValue=t),modelModifiers:{trim:!0},placeholder:e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:l({"is-focus":e.popperVisible}),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t)),onBlur:t[4]||(t[4]=t=>e.$emit("blur",t)),onInput:e.handleInput},{suffix:It((()=>[e.clearBtnVisible?(gr(),wr("i",{key:"clear",class:"el-input__icon el-icon-circle-close",onClick:t[0]||(t[0]=Pi(((...t)=>e.handleClear&&e.handleClear(...t)),["stop"]))})):(gr(),wr("i",{key:"arrow-down",class:l(["el-input__icon","el-icon-arrow-down",e.popperVisible&&"is-reverse"]),onClick:t[1]||(t[1]=Pi((t=>e.togglePopperVisible()),["stop"]))},null,2))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onInput"]),e.multiple?(gr(),wr("div",Bk,[(gr(!0),wr(cr,null,Ir(e.presentTags,(t=>(gr(),xr(u,{key:t.key,type:"info",size:e.tagSize,hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:n=>e.deleteTag(t)},{default:It((()=>[Tr("span",null,d(t.text),1)])),_:2},1032,["size","hit","closable","onClose"])))),128)),e.filterable&&!e.isDisabled?$n((gr(),wr("input",{key:0,"onUpdate:modelValue":t[5]||(t[5]=t=>e.searchInputValue=t),type:"text",class:"el-cascader__search-input",placeholder:e.presentText?"":e.inputPlaceholder,onInput:t[6]||(t[6]=t=>e.handleInput(e.searchInputValue,t)),onClick:t[7]||(t[7]=Pi((t=>e.togglePopperVisible(!0)),["stop"])),onKeydown:t[8]||(t[8]=Bi(((...t)=>e.handleDelete&&e.handleDelete(...t)),["delete"]))},null,40,Rk)),[[_i,e.searchInputValue,void 0,{trim:!0}]]):Nr("v-if",!0)],512)):Nr("v-if",!0)],34),[[p,()=>e.togglePopperVisible(!1),e.popperPaneRef]])])),default:It((()=>[$n(Er(s,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":t[13]||(t[13]=t=>e.checkedValue=t),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:t[14]||(t[14]=t=>e.togglePopperVisible(!1))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Ri,!e.filtering]]),e.filterable?$n((gr(),xr(c,{key:0,ref:"suggestionPanel",tag:"ul",class:"el-cascader__suggestion-panel","view-class":"el-cascader__suggestion-list"},{default:It((()=>[e.suggestions.length?(gr(!0),wr(cr,{key:0},Ir(e.suggestions,(t=>(gr(),wr("li",{key:t.uid,class:l(["el-cascader__suggestion-item",t.checked&&"is-checked"]),tabindex:-1,onClick:n=>e.handleSuggestionClick(t)},[Tr("span",null,d(t.text),1),t.checked?(gr(),wr("i",Lk)):Nr("v-if",!0)],10,Ik)))),128)):Fr(e.$slots,"empty",{key:1},(()=>[Tr("li",Fk,d(e.t("el.cascader.noMatch")),1)]))])),_:3},512)),[[Ri,e.filtering]]):Nr("v-if",!0)])),_:3},8,["visible","append-to-body","popper-class","popper-options","onAfterLeave"])},zk.__file="packages/components/cascader/src/index.vue",zk.install=e=>{e.component(zk.name,zk)};const Vk=zk;var Hk=Qt({name:"ElCheckTag",props:{checked:Boolean},emits:["change"],setup:(e,{emit:t})=>({onChange:()=>{t("change",!e.checked)}})});Hk.render=function(e,t,n,r,o,i){return gr(),wr("span",{class:l({"el-check-tag":!0,"is-checked":e.checked}),onClick:t[0]||(t[0]=(...t)=>e.onChange&&e.onChange(...t))},[Fr(e.$slots,"default")],2)},Hk.__file="packages/components/check-tag/src/index.vue",Hk.install=e=>{e.component(Hk.name,Hk)};const jk=Hk,$k=Qt({name:"ElCol",props:{tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:[Number,Object],default:()=>({})},sm:{type:[Number,Object],default:()=>({})},md:{type:[Number,Object],default:()=>({})},lg:{type:[Number,Object],default:()=>({})},xl:{type:[Number,Object],default:()=>({})}},setup(e,{slots:t}){const{gutter:n}=$t("ElRow",{gutter:{value:0}}),r=Et((()=>n.value?{paddingLeft:n.value/2+"px",paddingRight:n.value/2+"px"}:{})),o=Et((()=>{const t=[];["span","offset","pull","push"].forEach((n=>{const r=e[n];"number"==typeof r&&("span"===n?t.push(`el-col-${e[n]}`):r>0&&t.push(`el-col-${n}-${e[n]}`))}));return["xs","sm","md","lg","xl"].forEach((n=>{if("number"==typeof e[n])t.push(`el-col-${n}-${e[n]}`);else if("object"==typeof e[n]){const r=e[n];Object.keys(r).forEach((e=>{t.push("span"!==e?`el-col-${n}-${e}-${r[e]}`:`el-col-${n}-${r[e]}`)}))}})),n.value&&t.push("is-guttered"),t}));return()=>{var n;return Bo(e.tag,{class:["el-col",o.value],style:r.value},null==(n=t.default)?void 0:n.call(t))}}});$k.install=e=>{e.component($k.name,$k)};const Uk=$k;function Wk(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}}}var qk=Qt({name:"ElCollapseTransition",setup:()=>({on:{beforeEnter(e){nm(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){rm(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(nm(e,"collapse-transition"),e.style.transitionProperty="height",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){rm(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}})});qk.render=function(e,t,n,r,o,i){return gr(),xr(ei,Hr(e.on),{default:It((()=>[Fr(e.$slots,"default")])),_:3},16)},qk.__file="packages/components/collapse-transition/src/collapse-transition.vue",qk.install=e=>{e.component(qk.name,qk)};const Kk=qk,Yk=Kk;var Gk=Qt({name:"ElCollapse",props:{accordion:Boolean,modelValue:{type:[Array,String,Number],default:()=>[]}},emits:[wm,"change"],setup(e,{emit:t}){const n=vt([].concat(e.modelValue)),r=Wk(),o=r=>{n.value=[].concat(r);const o=e.accordion?n.value[0]:n.value;t(wm,o),t("change",o)},i=t=>{if(e.accordion)o(!n.value[0]&&0!==n.value[0]||n.value[0]!==t?t:"");else{const e=n.value.slice(0),r=e.indexOf(t);r>-1?e.splice(r,1):e.push(t),o(e)}};return Mo((()=>e.modelValue),(()=>{n.value=[].concat(e.modelValue)})),r.on("item-click",i),mn((()=>{r.all.clear()})),jt("collapse",{activeNames:n,collapseMitt:r}),{activeNames:n,setActiveNames:o,handleItemClick:i}}});const Xk={class:"el-collapse",role:"tablist","aria-multiselectable":"true"};Gk.render=function(e,t,n,r,o,i){return gr(),wr("div",Xk,[Fr(e.$slots,"default")])},Gk.__file="packages/components/collapse/src/collapse.vue";var Zk=Qt({name:"ElCollapseItem",components:{ElCollapseTransition:Kk},props:{title:{type:String,default:""},name:{type:[String,Number],default:()=>Bp()},disabled:Boolean},setup(e){const t=$t("collapse"),n=null==t?void 0:t.collapseMitt,r=vt({height:"auto",display:"block"}),o=vt(0),i=vt(!1),a=vt(!1),l=vt(Bp());return{isActive:Et((()=>(null==t?void 0:t.activeNames.value.indexOf(e.name))>-1)),contentWrapStyle:r,contentHeight:o,focusing:i,isClick:a,id:l,handleFocus:()=>{setTimeout((()=>{a.value?a.value=!1:i.value=!0}),50)},handleHeaderClick:()=>{e.disabled||(null==n||n.emit("item-click",e.name),i.value=!1,a.value=!0)},handleEnterClick:()=>{null==n||n.emit("item-click",e.name)},collapse:t}}});const Jk=["aria-expanded","aria-controls","aria-describedby"],Qk=["id","tabindex"],eS=["id","aria-hidden","aria-labelledby"],tS={class:"el-collapse-item__content"};Zk.render=function(e,t,n,r,o,i){const a=or("el-collapse-transition");return gr(),wr("div",{class:l(["el-collapse-item",{"is-active":e.isActive,"is-disabled":e.disabled}])},[Tr("div",{role:"tab","aria-expanded":e.isActive,"aria-controls":`el-collapse-content-${e.id}`,"aria-describedby":`el-collapse-content-${e.id}`},[Tr("div",{id:`el-collapse-head-${e.id}`,class:l(["el-collapse-item__header",{focusing:e.focusing,"is-active":e.isActive}]),role:"button",tabindex:e.disabled?-1:0,onClick:t[0]||(t[0]=(...t)=>e.handleHeaderClick&&e.handleHeaderClick(...t)),onKeyup:t[1]||(t[1]=Bi(Pi(((...t)=>e.handleEnterClick&&e.handleEnterClick(...t)),["stop"]),["space","enter"])),onFocus:t[2]||(t[2]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[3]||(t[3]=t=>e.focusing=!1)},[Fr(e.$slots,"title",{},(()=>[Dr(d(e.title),1)])),Tr("i",{class:l(["el-collapse-item__arrow el-icon-arrow-right",{"is-active":e.isActive}])},null,2)],42,Qk)],8,Jk),Er(a,null,{default:It((()=>[$n(Tr("div",{id:`el-collapse-content-${e.id}`,class:"el-collapse-item__wrap",role:"tabpanel","aria-hidden":!e.isActive,"aria-labelledby":`el-collapse-head-${e.id}`},[Tr("div",tS,[Fr(e.$slots,"default")])],8,eS),[[Ri,e.isActive]])])),_:3})],2)},Zk.__file="packages/components/collapse/src/collapse-item.vue",Gk.install=e=>{e.component(Gk.name,Gk),e.component(Zk.name,Zk)},Zk.CollapseItem=Zk;const nS=Gk;let rS=!1;function oS(e,t){if(Ap)return;const n=function(e){var n;null==(n=t.drag)||n.call(t,e)},r=function(e){var o;em(document,"mousemove",n),em(document,"mouseup",r),document.onselectstart=null,document.ondragstart=null,rS=!1,null==(o=t.end)||o.call(t,e)};Qp(e,"mousedown",(function(e){var o;rS||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,Qp(document,"mousemove",n),Qp(document,"mouseup",r),rS=!0,null==(o=t.start)||o.call(t,e))}))}var iS=Qt({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(e){const t=Yr(),n=vt(null),r=vt(null),o=vt(0),i=vt(0),a=vt(null);function l(r){const o=t.vnode.el.getBoundingClientRect();if(e.vertical){let t=r.clientY-o.top;t=Math.max(n.value.offsetHeight/2,t),t=Math.min(t,o.height-n.value.offsetHeight/2),e.color.set("alpha",Math.round((t-n.value.offsetHeight/2)/(o.height-n.value.offsetHeight)*100))}else{let t=r.clientX-o.left;t=Math.max(n.value.offsetWidth/2,t),t=Math.min(t,o.width-n.value.offsetWidth/2),e.color.set("alpha",Math.round((t-n.value.offsetWidth/2)/(o.width-n.value.offsetWidth)*100))}}function u(){o.value=function(){if(e.vertical)return 0;const r=t.vnode.el,o=e.color.get("alpha");return r?Math.round(o*(r.offsetWidth-n.value.offsetWidth/2)/100):0}(),i.value=function(){const r=t.vnode.el;if(!e.vertical)return 0;const o=e.color.get("alpha");return r?Math.round(o*(r.offsetHeight-n.value.offsetHeight/2)/100):0}(),a.value=function(){if(e.color&&e.color.value){const{r:t,g:n,b:r}=e.color.toRgb();return`linear-gradient(to right, rgba(${t}, ${n}, ${r}, 0) 0%, rgba(${t}, ${n}, ${r}, 1) 100%)`}return null}()}return Mo((()=>e.color.get("alpha")),(()=>{u()})),Mo((()=>e.color.value),(()=>{u()})),cn((()=>{const e={drag:e=>{l(e)},end:e=>{l(e)}};oS(r.value,e),oS(n.value,e),u()})),{thumb:n,bar:r,thumbLeft:o,thumbTop:i,background:a,handleClick:function(e){e.target!==n.value&&l(e)},update:u}}});iS.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:l(["el-color-alpha-slider",{"is-vertical":e.vertical}])},[Tr("div",{ref:"bar",class:"el-color-alpha-slider__bar",style:r({background:e.background}),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},null,4),Tr("div",{ref:"thumb",class:"el-color-alpha-slider__thumb",style:r({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,4)],2)},iS.__file="packages/components/color-picker/src/components/alpha-slider.vue";var aS=Qt({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=Yr(),n=vt(null),r=vt(null),o=vt(0),i=vt(0),a=Et((()=>e.color.get("hue")));function l(r){const o=t.vnode.el.getBoundingClientRect();let i;if(e.vertical){let e=r.clientY-o.top;e=Math.min(e,o.height-n.value.offsetHeight/2),e=Math.max(n.value.offsetHeight/2,e),i=Math.round((e-n.value.offsetHeight/2)/(o.height-n.value.offsetHeight)*360)}else{let e=r.clientX-o.left;e=Math.min(e,o.width-n.value.offsetWidth/2),e=Math.max(n.value.offsetWidth/2,e),i=Math.round((e-n.value.offsetWidth/2)/(o.width-n.value.offsetWidth)*360)}e.color.set("hue",i)}function u(){o.value=function(){const r=t.vnode.el;if(e.vertical)return 0;const o=e.color.get("hue");return r?Math.round(o*(r.offsetWidth-n.value.offsetWidth/2)/360):0}(),i.value=function(){const r=t.vnode.el;if(!e.vertical)return 0;const o=e.color.get("hue");return r?Math.round(o*(r.offsetHeight-n.value.offsetHeight/2)/360):0}()}return Mo((()=>a.value),(()=>{u()})),cn((()=>{const e={drag:e=>{l(e)},end:e=>{l(e)}};oS(r.value,e),oS(n.value,e),u()})),{bar:r,thumb:n,thumbLeft:o,thumbTop:i,hueValue:a,handleClick:function(e){e.target!==n.value&&l(e)},update:u}}});aS.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:l(["el-color-hue-slider",{"is-vertical":e.vertical}])},[Tr("div",{ref:"bar",class:"el-color-hue-slider__bar",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},null,512),Tr("div",{ref:"thumb",class:"el-color-hue-slider__thumb",style:r({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,4)],2)},aS.__file="packages/components/color-picker/src/components/hue-slider.vue";const lS=Symbol(),uS=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},sS=function(e,t){var n;"string"==typeof(n=e)&&-1!==n.indexOf(".")&&1===parseFloat(n)&&(e="100%");const r=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e+""))),r&&(e=parseInt(e*t+"",10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)},cS={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},dS={A:10,B:11,C:12,D:13,E:14,F:15},fS=function(e){return 2===e.length?16*(dS[e[0].toUpperCase()]||+e[0])+(dS[e[1].toUpperCase()]||+e[1]):dS[e[1].toUpperCase()]||+e[1]},pS=function(e,t,n){e=sS(e,255),t=sS(t,255),n=sS(n,255);const r=Math.max(e,t,n),o=Math.min(e,t,n);let i;const a=r,l=r-o,u=0===r?0:l/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:360*i,s:100*u,v:100*a}},mS=function(e,t,n){e=6*sS(e,360),t=sS(t,100),n=sS(n,100);const r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6,s=[n,a,i,i,l,n][u],c=[l,n,n,a,i,i][u],d=[i,i,l,n,n,a][u];return{r:Math.round(255*s),g:Math.round(255*c),b:Math.round(255*d)}};class hS{constructor(e){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{};for(const t in e)k(e,t)&&(this[t]=e[t]);this.doOnChange()}set(e,t){if(1!==arguments.length||"object"!=typeof e)this["_"+e]=t,this.doOnChange();else for(const n in e)k(e,n)&&this.set(n,e[n])}get(e){return this["_"+e]}toRgb(){return mS(this._hue,this._saturation,this._value)}fromString(e){if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();const t=(e,t,n)=>{this._hue=Math.max(0,Math.min(360,e)),this._saturation=Math.max(0,Math.min(100,t)),this._value=Math.max(0,Math.min(100,n)),this.doOnChange()};if(-1!==e.indexOf("hsl")){const n=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?parseFloat(e):parseInt(e,10)));if(4===n.length?this._alpha=Math.floor(100*parseFloat(n[3])):3===n.length&&(this._alpha=100),n.length>=3){const{h:e,s:r,v:o}=function(e,t,n){n/=100;let r=t/=100;const o=Math.max(n,.01);return t*=(n*=2)<=1?n:2-n,r*=o<=1?o:2-o,{h:e,s:100*(0===n?2*r/(o+r):2*t/(n+t)),v:(n+t)/2*100}}(n[0],n[1],n[2]);t(e,r,o)}}else if(-1!==e.indexOf("hsv")){const n=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?parseFloat(e):parseInt(e,10)));4===n.length?this._alpha=Math.floor(100*parseFloat(n[3])):3===n.length&&(this._alpha=100),n.length>=3&&t(n[0],n[1],n[2])}else if(-1!==e.indexOf("rgb")){const n=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?parseFloat(e):parseInt(e,10)));if(4===n.length?this._alpha=Math.floor(100*parseFloat(n[3])):3===n.length&&(this._alpha=100),n.length>=3){const{h:e,s:r,v:o}=pS(n[0],n[1],n[2]);t(e,r,o)}}else if(-1!==e.indexOf("#")){const n=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let r,o,i;3===n.length?(r=fS(n[0]+n[0]),o=fS(n[1]+n[1]),i=fS(n[2]+n[2])):6!==n.length&&8!==n.length||(r=fS(n.substring(0,2)),o=fS(n.substring(2,4)),i=fS(n.substring(4,6))),8===n.length?this._alpha=Math.floor(fS(n.substring(6))/255*100):3!==n.length&&6!==n.length||(this._alpha=100);const{h:a,s:l,v:u}=pS(r,o,i);t(a,l,u)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:n,_alpha:r,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const o=uS(e,t/100,n/100);this.value=`hsla(${e}, ${Math.round(100*o[1])}%, ${Math.round(100*o[2])}%, ${r/100})`;break}case"hsv":this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(n)}%, ${r/100})`;break;default:{const{r:o,g:i,b:a}=mS(e,t,n);this.value=`rgba(${o}, ${i}, ${a}, ${r/100})`}}else switch(o){case"hsl":{const r=uS(e,t/100,n/100);this.value=`hsl(${e}, ${Math.round(100*r[1])}%, ${Math.round(100*r[2])}%)`;break}case"hsv":this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(n)}%)`;break;case"rgb":{const{r:r,g:o,b:i}=mS(e,t,n);this.value=`rgb(${r}, ${o}, ${i})`;break}default:this.value=function({r:e,g:t,b:n}){const r=function(e){e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return""+(cS[t]||t)+(cS[n]||n)};return isNaN(e)||isNaN(t)||isNaN(n)?"":"#"+r(e)+r(t)+r(n)}(mS(e,t,n))}}}var gS=Qt({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const{currentColor:t}=$t(lS),n=vt(r(e.colors,e.color));function r(e,t){return e.map((e=>{const n=new hS;return n.enableAlpha=!0,n.format="rgba",n.fromString(e),n.selected=n.value===t.value,n}))}return Mo((()=>t.value),(e=>{const t=new hS;t.fromString(e),n.value.forEach((e=>{e.selected=t.compare(e)}))})),Eo((()=>{n.value=r(e.colors,e.color)})),{rgbaColors:n,handleSelect:function(t){e.color.fromString(e.colors[t])}}}});const vS={class:"el-color-predefine"},bS={class:"el-color-predefine__colors"},yS=["onClick"];gS.render=function(e,t,n,o,i,a){return gr(),wr("div",vS,[Tr("div",bS,[(gr(!0),wr(cr,null,Ir(e.rgbaColors,((t,n)=>(gr(),wr("div",{key:e.colors[n],class:l(["el-color-predefine__color-selector",{selected:t.selected,"is-alpha":t._alpha<100}]),onClick:t=>e.handleSelect(n)},[Tr("div",{style:r({backgroundColor:t.value})},null,4)],10,yS)))),128))])])},gS.__file="packages/components/color-picker/src/components/predefine.vue";var wS=Qt({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=Yr(),n=vt(0),r=vt(0),o=vt("hsl(0, 100%, 50%)"),i=Et((()=>({hue:e.color.get("hue"),value:e.color.get("value")})));function a(){const i=e.color.get("saturation"),a=e.color.get("value"),l=t.vnode.el;let{clientWidth:u,clientHeight:s}=l;r.value=i*u/100,n.value=(100-a)*s/100,o.value="hsl("+e.color.get("hue")+", 100%, 50%)"}function l(o){const i=t.vnode.el.getBoundingClientRect();let a=o.clientX-i.left,l=o.clientY-i.top;a=Math.max(0,a),a=Math.min(a,i.width),l=Math.max(0,l),l=Math.min(l,i.height),r.value=a,n.value=l,e.color.set({saturation:a/i.width*100,value:100-l/i.height*100})}return Mo((()=>i.value),(()=>{a()})),cn((()=>{oS(t.vnode.el,{drag:e=>{l(e)},end:e=>{l(e)}}),a()})),{cursorTop:n,cursorLeft:r,background:o,colorValue:i,handleDrag:l,update:a}}});const xS=Tr("div",{class:"el-color-svpanel__white"},null,-1),CS=Tr("div",{class:"el-color-svpanel__black"},null,-1),kS=[Tr("div",null,null,-1)];wS.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:"el-color-svpanel",style:r({backgroundColor:e.background})},[xS,CS,Tr("div",{class:"el-color-svpanel__cursor",style:r({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},kS,4)],4)},wS.__file="packages/components/color-picker/src/components/sv-panel.vue";var SS=Qt({name:"ElColorPicker",components:{ElButton:gy,ElPopper:Rb,ElInput:ob,SvPanel:wS,HueSlider:aS,AlphaSlider:iS,Predefine:gS},directives:{ClickOutside:Ah},props:{modelValue:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:Pv},popperClass:String,predefine:Array},emits:["change","active-change",wm],setup(e,{emit:t}){const n=$p(),{t:r}=nv(),o=$t("elForm",{}),i=$t("elFormItem",{}),a=vt(null),l=vt(null),u=vt(null),s=vt(null),c=it(new hS({enableAlpha:e.showAlpha,format:e.colorFormat})),d=vt(!1),f=vt(!1),p=vt(""),m=Et((()=>e.modelValue||f.value?function(e,t){if(!(e instanceof hS))throw Error("color should be instance of _color Class");const{r:n,g:r,b:o}=e.toRgb();return t?`rgba(${n}, ${r}, ${o}, ${e.get("alpha")/100})`:`rgb(${n}, ${r}, ${o})`}(c,e.showAlpha):"transparent")),h=Et((()=>e.size||i.size||n.size)),g=Et((()=>e.disabled||o.disabled)),v=Et((()=>e.modelValue||f.value?c.value:""));Mo((()=>e.modelValue),(e=>{e?e&&e!==c.value&&c.fromString(e):f.value=!1})),Mo((()=>v.value),(e=>{p.value=e,t("active-change",e)})),Mo((()=>c.value),(()=>{e.modelValue||f.value||(f.value=!0)}));const b=Av((function(e){d.value=e}),100);function y(){wo((()=>{e.modelValue?c.fromString(e.modelValue):f.value=!1}))}return cn((()=>{e.modelValue&&(c.fromString(e.modelValue),p.value=v.value)})),Mo((()=>d.value),(()=>{wo((()=>{var e,t,n;null==(e=a.value)||e.update(),null==(t=l.value)||t.update(),null==(n=u.value)||n.update()}))})),jt(lS,{currentColor:v}),{color:c,colorDisabled:g,colorSize:h,displayedColor:m,showPanelColor:f,showPicker:d,customInput:p,handleConfirm:function(){c.fromString(p.value)},hide:function(){b(!1),y()},handleTrigger:function(){g.value||b(!d.value)},clear:function(){var n;b(!1),t(wm,null),t("change",null),null!==e.modelValue&&(null==(n=i.formItemMitt)||n.emit("el.form.change",null)),y()},confirmValue:function(){var n;const r=c.value;t(wm,r),t("change",r),null==(n=i.formItemMitt)||n.emit("el.form.change",r),b(!1),wo((()=>{const t=new hS({enableAlpha:e.showAlpha,format:e.colorFormat});t.fromString(e.modelValue),c.compare(t)||y()}))},t:r,hue:a,svPanel:l,alpha:u,popper:s}}});const _S={class:"el-color-dropdown__main-wrapper"},OS={class:"el-color-dropdown__btns"},TS={class:"el-color-dropdown__value"},ES={key:0,class:"el-color-picker__mask"},AS={key:0,class:"el-color-picker__empty el-icon-close"},MS={class:"el-color-picker__icon el-icon-arrow-down"};SS.render=function(e,t,n,o,i,a){const u=or("hue-slider"),s=or("sv-panel"),c=or("alpha-slider"),f=or("predefine"),p=or("el-input"),m=or("el-button"),h=or("el-popper"),g=lr("click-outside");return gr(),xr(h,{ref:"popper",visible:e.showPicker,"onUpdate:visible":t[2]||(t[2]=t=>e.showPicker=t),effect:"light","manual-mode":"",trigger:"click","show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,transition:"el-zoom-in-top","gpu-acceleration":!1,"popper-class":`el-color-picker__panel el-color-dropdown ${e.popperClass}`,"stop-popper-mouse-event":!1},{default:It((()=>[$n(Tr("div",null,[Tr("div",_S,[Er(u,{ref:"hue",class:"hue-slider",color:e.color,vertical:""},null,8,["color"]),Er(s,{ref:"svPanel",color:e.color},null,8,["color"])]),e.showAlpha?(gr(),xr(c,{key:0,ref:"alpha",color:e.color},null,8,["color"])):Nr("v-if",!0),e.predefine?(gr(),xr(f,{key:1,ref:"predefine",color:e.color,colors:e.predefine},null,8,["color","colors"])):Nr("v-if",!0),Tr("div",OS,[Tr("span",TS,[Er(p,{modelValue:e.customInput,"onUpdate:modelValue":t[0]||(t[0]=t=>e.customInput=t),"validate-event":!1,size:"mini",onKeyup:Bi(e.handleConfirm,["enter"]),onBlur:e.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])]),Er(m,{size:"mini",type:"text",class:"el-color-dropdown__link-btn",onClick:e.clear},{default:It((()=>[Dr(d(e.t("el.colorpicker.clear")),1)])),_:1},8,["onClick"]),Er(m,{plain:"",size:"mini",class:"el-color-dropdown__btn",onClick:e.confirmValue},{default:It((()=>[Dr(d(e.t("el.colorpicker.confirm")),1)])),_:1},8,["onClick"])])],512),[[g,e.hide]])])),trigger:It((()=>[Tr("div",{class:l(["el-color-picker",e.colorDisabled?"is-disabled":"",e.colorSize?`el-color-picker--${e.colorSize}`:""])},[e.colorDisabled?(gr(),wr("div",ES)):Nr("v-if",!0),Tr("div",{class:"el-color-picker__trigger",onClick:t[1]||(t[1]=(...t)=>e.handleTrigger&&e.handleTrigger(...t))},[Tr("span",{class:l(["el-color-picker__color",{"is-alpha":e.showAlpha}])},[Tr("span",{class:"el-color-picker__color-inner",style:r({backgroundColor:e.displayedColor})},null,4),e.modelValue||e.showPanelColor?Nr("v-if",!0):(gr(),wr("span",AS))],2),$n(Tr("span",MS,null,512),[[Ri,e.modelValue||e.showPanelColor]])])],2)])),_:1},8,["visible","popper-class"])},SS.__file="packages/components/color-picker/src/index.vue",SS.install=e=>{e.component(SS.name,SS)};const DS=SS;var NS=Object.defineProperty,PS=Object.getOwnPropertySymbols,zS=Object.prototype.hasOwnProperty,BS=Object.prototype.propertyIsEnumerable,RS=(e,t,n)=>t in e?NS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const IS=Qt({name:"ElConfigProvider",props:((e,t)=>{for(var n in t||(t={}))zS.call(t,n)&&RS(e,n,t[n]);if(PS)for(var n of PS(t))BS.call(t,n)&&RS(e,n,t[n]);return e})({},Zg),setup:(e,{slots:t})=>(ev(),()=>t.default())}),LS=((FS=IS).install=e=>{e.component(FS.name,FS)},FS);var FS,VS=Qt({name:"ElContainer",props:{direction:{type:String,default:""}},setup:(e,{slots:t})=>({isVertical:Et((()=>{if("vertical"===e.direction)return!0;if("horizontal"===e.direction)return!1;if(t&&t.default){return t.default().some((e=>{const t=e.type.name;return"ElHeader"===t||"ElFooter"===t}))}return!1}))})});VS.render=function(e,t,n,r,o,i){return gr(),wr("section",{class:l(["el-container",{"is-vertical":e.isVertical}])},[Fr(e.$slots,"default")],2)},VS.__file="packages/components/container/src/container.vue";var HS=Qt({name:"ElAside",props:{width:{type:String,default:null}},setup:e=>({style:Et((()=>e.width?{"--el-aside-width":e.width}:{}))})});HS.render=function(e,t,n,o,i,a){return gr(),wr("aside",{class:"el-aside",style:r(e.style)},[Fr(e.$slots,"default")],4)},HS.__file="packages/components/container/src/aside.vue";var jS=Qt({name:"ElFooter",props:{height:{type:String,default:null}},setup:e=>({style:Et((()=>e.height?{"--el-footer-height":e.height}:{}))})});jS.render=function(e,t,n,o,i,a){return gr(),wr("footer",{class:"el-footer",style:r(e.style)},[Fr(e.$slots,"default")],4)},jS.__file="packages/components/container/src/footer.vue";var $S=Qt({name:"ElHeader",props:{height:{type:String,default:null}},setup:e=>({style:Et((()=>e.height?{"--el-header-height":e.height}:{}))})});$S.render=function(e,t,n,o,i,a){return gr(),wr("header",{class:"el-header",style:r(e.style)},[Fr(e.$slots,"default")],4)},$S.__file="packages/components/container/src/header.vue";var US=Qt({name:"ElMain"});const WS={class:"el-main"};US.render=function(e,t,n,r,o,i){return gr(),wr("main",WS,[Fr(e.$slots,"default")])},US.__file="packages/components/container/src/main.vue",VS.install=e=>{e.component(VS.name,VS),e.component(HS.name,HS),e.component(jS.name,jS),e.component($S.name,$S),e.component(US.name,US)},VS.Aside=HS,VS.Footer=jS,VS.Header=$S,VS.Main=US;const qS=VS;var KS={exports:{}},YS=KS.exports=function(e,t,n){var r=t.prototype,o=r.format;n.en.ordinal=function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},r.format=function(e){var t=this,n=this.$locale(),r=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return o.bind(this)(i)}},GS={exports:{}},XS=GS.exports=function(){var e="week",t="year";return function(n,r,o){var i=r.prototype;i.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=o(this).startOf(t).add(1,t).date(r),a=o(this).endOf(e);if(i.isBefore(a))return 1}var l=o(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),u=this.diff(l,e,!0);return u<0?o(this).startOf("week").week():Math.ceil(u)},i.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}(),ZS={exports:{}},JS=ZS.exports=function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}},QS={exports:{}},e_=QS.exports=function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"day")}},t_={exports:{}},n_=t_.exports=function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}},r_={exports:{}},o_=r_.exports=function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}},i_=Qt({props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,t){const{t:n,lang:r}=nv(),o=vt(null),i=vt(null),a=vt([[],[],[],[],[],[]]),l=e.date.$locale().weekStart||7,u=e.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),s=Et((()=>l>3?7-l:-l)),c=Et((()=>{const t=e.date.startOf("month");return t.subtract(t.day()||7,"day")})),d=Et((()=>u.concat(u).slice(l,l+7))),f=Et((()=>{var t;const n=e.date.startOf("month"),o=n.day()||7,i=n.daysInMonth(),l=n.subtract(1,"month").daysInMonth(),u=s.value,d=a.value;let f=1;const p="dates"===e.selectionMode?Rp(e.parsedValue):[],h=yy().locale(r.value).startOf("day");for(let r=0;r<6;r++){const n=d[r];e.showWeekNumber&&(n[0]||(n[0]={type:"week",text:c.value.add(7*r+1,"day").week()}));for(let a=0;a<7;a++){let s=n[e.showWeekNumber?a+1:a];s||(s={row:r,column:a,type:"normal",inRange:!1,start:!1,end:!1});const d=7*r+a,m=c.value.add(d-u,"day");s.type="normal";const g=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;s.inRange=e.minDate&&m.isSameOrAfter(e.minDate,"day")&&g&&m.isSameOrBefore(g,"day")||e.minDate&&m.isSameOrBefore(e.minDate,"day")&&g&&m.isSameOrAfter(g,"day"),(null==(t=e.minDate)?void 0:t.isSameOrAfter(g))?(s.start=g&&m.isSame(g,"day"),s.end=e.minDate&&m.isSame(e.minDate,"day")):(s.start=e.minDate&&m.isSame(e.minDate,"day"),s.end=g&&m.isSame(g,"day"));if(m.isSame(h,"day")&&(s.type="today"),r>=0&&r<=1){const e=o+u<0?7+o+u:o+u;a+7*r>=e?s.text=f++:(s.text=l-(e-a%7)+1+7*r,s.type="prev-month")}else f<=i?s.text=f++:(s.text=f++-i,s.type="next-month");const v=m.toDate();s.selected=p.find((e=>e.valueOf()===m.valueOf())),s.disabled=e.disabledDate&&e.disabledDate(v),s.customClass=e.cellClassName&&e.cellClassName(v),n[e.showWeekNumber?a+1:a]=s}if("week"===e.selectionMode){const t=e.showWeekNumber?1:0,r=e.showWeekNumber?7:6,o=m(n[t+1]);n[t].inRange=o,n[t].start=o,n[r].inRange=o,n[r].end=o}}return d})),p=(t,n)=>{const r=7*t+(n-(e.showWeekNumber?1:0))-s.value;return c.value.add(r,"day")},m=t=>{if("week"!==e.selectionMode)return!1;let n=e.date.startOf("day");if("prev-month"===t.type&&(n=n.subtract(1,"month")),"next-month"===t.type&&(n=n.add(1,"month")),n=n.date(parseInt(t.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const t=(e.parsedValue.day()-l+7)%7-1;return e.parsedValue.subtract(t,"day").isSame(n,"day")}return!1};return{handleMouseMove:n=>{if(!e.rangeState.selecting)return;let r=n.target;if("SPAN"===r.tagName&&(r=r.parentNode.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const a=r.parentNode.rowIndex-1,l=r.cellIndex;f.value[a][l].disabled||a===o.value&&l===i.value||(o.value=a,i.value=l,t.emit("changerange",{selecting:!0,endDate:p(a,l)}))},t:n,rows:f,isWeekActive:m,getCellClasses:t=>{let n=[];return"normal"!==t.type&&"today"!==t.type||t.disabled?n.push(t.type):(n.push("available"),"today"===t.type&&n.push("today")),"day"!==e.selectionMode||"normal"!==t.type&&"today"!==t.type||!((t,n)=>!!n&&yy(n).locale(r.value).isSame(e.date.date(Number(t.text)),"day"))(t,e.parsedValue)||n.push("current"),!t.inRange||"normal"!==t.type&&"today"!==t.type&&"week"!==e.selectionMode||(n.push("in-range"),t.start&&n.push("start-date"),t.end&&n.push("end-date")),t.disabled&&n.push("disabled"),t.selected&&n.push("selected"),t.customClass&&n.push(t.customClass),n.join(" ")},WEEKS:d,handleClick:n=>{let r=n.target;if("SPAN"===r.tagName&&(r=r.parentNode.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const o=r.parentNode.rowIndex-1,i=r.cellIndex,a=f.value[o][i];if(a.disabled||"week"===a.type)return;const l=p(o,i);if("range"===e.selectionMode)e.rangeState.selecting?(l>=e.minDate?t.emit("pick",{minDate:e.minDate,maxDate:l}):t.emit("pick",{minDate:l,maxDate:e.minDate}),t.emit("select",!1)):(t.emit("pick",{minDate:l,maxDate:null}),t.emit("select",!0));else if("day"===e.selectionMode)t.emit("pick",l);else if("week"===e.selectionMode){const e=l.week(),n=l.year()+"w"+e;t.emit("pick",{year:l.year(),week:e,value:n,date:l.startOf("week")})}else if("dates"===e.selectionMode){const n=a.selected?Rp(e.parsedValue).filter((e=>e.valueOf()!==l.valueOf())):Rp(e.parsedValue).concat([l]);t.emit("pick",n)}}}}});const a_={key:0};i_.render=function(e,t,n,r,o,i){return gr(),wr("table",{cellspacing:"0",cellpadding:"0",class:l(["el-date-table",{"is-week-mode":"week"===e.selectionMode}]),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t))},[Tr("tbody",null,[Tr("tr",null,[e.showWeekNumber?(gr(),wr("th",a_,d(e.t("el.datepicker.week")),1)):Nr("v-if",!0),(gr(!0),wr(cr,null,Ir(e.WEEKS,((t,n)=>(gr(),wr("th",{key:n},d(e.t("el.datepicker.weeks."+t)),1)))),128))]),(gr(!0),wr(cr,null,Ir(e.rows,((t,n)=>(gr(),wr("tr",{key:n,class:l(["el-date-table__row",{current:e.isWeekActive(t[1])}])},[(gr(!0),wr(cr,null,Ir(t,((t,n)=>(gr(),wr("td",{key:n,class:l(e.getCellClasses(t))},[Tr("div",null,[Tr("span",null,d(t.text),1)])],2)))),128))],2)))),128))])],34)},i_.__file="packages/components/date-picker/src/date-picker-com/basic-date-table.vue";var l_=Qt({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,t){const{t:n,lang:r}=nv(),o=vt(e.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),i=vt([[],[],[]]),a=vt(null),l=vt(null),u=Et((()=>{var t;const n=i.value,o=yy().locale(r.value).startOf("month");for(let r=0;r<3;r++){const i=n[r];for(let n=0;n<4;n++){let a=i[n];a||(a={row:r,column:n,type:"normal",inRange:!1,start:!1,end:!1}),a.type="normal";const l=4*r+n,u=e.date.startOf("year").month(l),s=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;a.inRange=e.minDate&&u.isSameOrAfter(e.minDate,"month")&&s&&u.isSameOrBefore(s,"month")||e.minDate&&u.isSameOrBefore(e.minDate,"month")&&s&&u.isSameOrAfter(s,"month"),(null==(t=e.minDate)?void 0:t.isSameOrAfter(s))?(a.start=s&&u.isSame(s,"month"),a.end=e.minDate&&u.isSame(e.minDate,"month")):(a.start=e.minDate&&u.isSame(e.minDate,"month"),a.end=s&&u.isSame(s,"month"));o.isSame(u)&&(a.type="today"),a.text=l;let c=u.toDate();a.disabled=e.disabledDate&&e.disabledDate(c),i[n]=a}}return n}));return{handleMouseMove:n=>{if(!e.rangeState.selecting)return;let r=n.target;if("A"===r.tagName&&(r=r.parentNode.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const o=r.parentNode.rowIndex,i=r.cellIndex;u.value[o][i].disabled||o===a.value&&i===l.value||(a.value=o,l.value=i,t.emit("changerange",{selecting:!0,endDate:e.date.startOf("year").month(4*o+i)}))},handleMonthTableClick:n=>{let r=n.target;if("A"===r.tagName&&(r=r.parentNode.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;if(tm(r,"disabled"))return;const o=r.cellIndex,i=4*r.parentNode.rowIndex+o,a=e.date.startOf("year").month(i);"range"===e.selectionMode?e.rangeState.selecting?(a>=e.minDate?t.emit("pick",{minDate:e.minDate,maxDate:a}):t.emit("pick",{minDate:a,maxDate:e.minDate}),t.emit("select",!1)):(t.emit("pick",{minDate:a,maxDate:null}),t.emit("select",!0)):t.emit("pick",i)},rows:u,getCellStyle:t=>{const n={},o=e.date.year(),i=new Date,a=t.text;return n.disabled=!!e.disabledDate&&((e,t,n)=>{const r=yy().locale(n).startOf("month").month(t).year(e),o=r.daysInMonth();return ix(o).map((e=>r.add(e,"day").toDate()))})(o,a,r.value).every(e.disabledDate),n.current=Rp(e.parsedValue).findIndex((e=>e.year()===o&&e.month()===a))>=0,n.today=i.getFullYear()===o&&i.getMonth()===a,t.inRange&&(n["in-range"]=!0,t.start&&(n["start-date"]=!0),t.end&&(n["end-date"]=!0)),n},t:n,months:o}}});const u_={class:"cell"};l_.render=function(e,t,n,r,o,i){return gr(),wr("table",{class:"el-month-table",onClick:t[0]||(t[0]=(...t)=>e.handleMonthTableClick&&e.handleMonthTableClick(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t))},[Tr("tbody",null,[(gr(!0),wr(cr,null,Ir(e.rows,((t,n)=>(gr(),wr("tr",{key:n},[(gr(!0),wr(cr,null,Ir(t,((t,n)=>(gr(),wr("td",{key:n,class:l(e.getCellStyle(t))},[Tr("div",null,[Tr("a",u_,d(e.t("el.datepicker.months."+e.months[t.text])),1)])],2)))),128))])))),128))])],32)},l_.__file="packages/components/date-picker/src/date-picker-com/basic-month-table.vue";var s_=Qt({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object}},emits:["pick"],setup(e,t){const{lang:n}=nv();return{startYear:Et((()=>10*Math.floor(e.date.year()/10))),getCellStyle:t=>{const r={},o=yy().locale(n.value);return r.disabled=!!e.disabledDate&&((e,t)=>{const n=yy(String(e)).locale(t).startOf("year"),r=n.endOf("year").dayOfYear();return ix(r).map((e=>n.add(e,"day").toDate()))})(t,n.value).every(e.disabledDate),r.current=Rp(e.parsedValue).findIndex((e=>e.year()===t))>=0,r.today=o.year()===t,r},handleYearTableClick:e=>{const n=e.target;if("A"===n.tagName){if(tm(n.parentNode,"disabled"))return;const e=n.textContent||n.innerText;t.emit("pick",Number(e))}}}}});const c_={class:"cell"},d_={class:"cell"},f_={class:"cell"},p_={class:"cell"},m_={class:"cell"},h_={class:"cell"},g_={class:"cell"},v_={class:"cell"},b_={class:"cell"},y_={class:"cell"},w_=Tr("td",null,null,-1),x_=Tr("td",null,null,-1);s_.render=function(e,t,n,r,o,i){return gr(),wr("table",{class:"el-year-table",onClick:t[0]||(t[0]=(...t)=>e.handleYearTableClick&&e.handleYearTableClick(...t))},[Tr("tbody",null,[Tr("tr",null,[Tr("td",{class:l(["available",e.getCellStyle(e.startYear+0)])},[Tr("a",c_,d(e.startYear),1)],2),Tr("td",{class:l(["available",e.getCellStyle(e.startYear+1)])},[Tr("a",d_,d(e.startYear+1),1)],2),Tr("td",{class:l(["available",e.getCellStyle(e.startYear+2)])},[Tr("a",f_,d(e.startYear+2),1)],2),Tr("td",{class:l(["available",e.getCellStyle(e.startYear+3)])},[Tr("a",p_,d(e.startYear+3),1)],2)]),Tr("tr",null,[Tr("td",{class:l(["available",e.getCellStyle(e.startYear+4)])},[Tr("a",m_,d(e.startYear+4),1)],2),Tr("td",{class:l(["available",e.getCellStyle(e.startYear+5)])},[Tr("a",h_,d(e.startYear+5),1)],2),Tr("td",{class:l(["available",e.getCellStyle(e.startYear+6)])},[Tr("a",g_,d(e.startYear+6),1)],2),Tr("td",{class:l(["available",e.getCellStyle(e.startYear+7)])},[Tr("a",v_,d(e.startYear+7),1)],2)]),Tr("tr",null,[Tr("td",{class:l(["available",e.getCellStyle(e.startYear+8)])},[Tr("a",b_,d(e.startYear+8),1)],2),Tr("td",{class:l(["available",e.getCellStyle(e.startYear+9)])},[Tr("a",y_,d(e.startYear+9),1)],2),w_,x_])])])},s_.__file="packages/components/date-picker/src/date-picker-com/basic-year-table.vue";var C_=Qt({components:{DateTable:i_,ElInput:ob,ElButton:gy,TimePickPanel:Rw,MonthTable:l_,YearTable:s_},directives:{clickoutside:Ah},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:""},type:{type:String,required:!0,validator:zv}},emits:["pick","set-picker-option"],setup(e,t){const{t:n,lang:r}=nv(),o=vt(yy().locale(r.value)),i=Et((()=>o.value.month())),a=Et((()=>o.value.year())),l=vt([]),u=vt(null),s=vt(null),c=t=>!(l.value.length>0)||(l.value,e.format,!0),d=e=>{if(M){return yy(M).locale(r.value).year(e.year()).month(e.month()).date(e.date())}return v.value?e.millisecond(0):e.startOf("day")},f=(e,...n)=>{if(e)if(Array.isArray(e)){const r=e.map(d);t.emit("pick",r,...n)}else t.emit("pick",d(e),...n);else t.emit("pick",e,...n);u.value=null,s.value=null},p=vt("date"),m=Et((()=>{const e=n("el.datepicker.year");if("year"===p.value){const t=10*Math.floor(a.value/10);return e?t+" "+e+" - "+(t+9)+" "+e:t+" - "+(t+9)}return a.value+" "+e})),h=Et((()=>["week","month","year","dates"].includes(e.type)?e.type:"day"));Mo((()=>h.value),(e=>{["month","year"].includes(e)?p.value=e:p.value="date"}),{immediate:!0});const g=Et((()=>!!T.length)),v=Et((()=>"datetime"===e.type||"datetimerange"===e.type)),b=Et((()=>v.value||"dates"===h.value)),y=Et((()=>lx(e.format))),w=Et((()=>ax(e.format))),x=Et((()=>s.value?s.value:e.parsedValue||D?(e.parsedValue||o.value).format(y.value):void 0)),C=Et((()=>u.value?u.value:e.parsedValue||D?(e.parsedValue||o.value).format(w.value):void 0)),k=vt(!1),S=()=>yy(D).locale(r.value),_=e=>{const n={year:{38:-4,40:4,37:-1,39:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{38:-4,40:4,37:-1,39:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{38:-1,40:1,37:-1,39:1,offset:(e,t)=>e.setDate(e.getDate()+7*t)},day:{38:-7,40:7,37:-1,39:1,offset:(e,t)=>e.setDate(e.getDate()+t)}},i=o.value.toDate();for(;Math.abs(o.value.diff(i,"year",!0))<1;){const a=n[h.value];if(a.offset(i,a[e]),E&&E(i))continue;const l=yy(i).locale(r.value);o.value=l,t.emit("pick",l,!0);break}};t.emit("set-picker-option",["isValidValue",e=>e.isValid()&&(!E||!E(e.toDate()))]),t.emit("set-picker-option",["formatToString",t=>"dates"===h.value?t.map((t=>t.format(e.format))):t.format(e.format)]),t.emit("set-picker-option",["parseUserInput",t=>yy(t,e.format).locale(r.value)]),t.emit("set-picker-option",["handleKeydown",t=>{const{code:n,keyCode:r}=t,i=[pm.up,pm.down,pm.left,pm.right];e.visible&&!k.value&&(i.includes(n)&&(_(r),t.stopPropagation(),t.preventDefault()),n===pm.enter&&null===u.value&&null===s.value&&f(o,!1))}]);const O=$t("EP_PICKER_BASE"),{shortcuts:T,disabledDate:E,cellClassName:A,defaultTime:M,defaultValue:D,arrowControl:N}=O.props;return Mo((()=>e.parsedValue),(e=>{if(e){if("dates"===h.value)return;if(Array.isArray(e))return;o.value=e}else o.value=S()}),{immediate:!0}),{handleTimePick:(t,n,r)=>{const i=e.parsedValue?e.parsedValue.hour(t.hour()).minute(t.minute()).second(t.second()):t;o.value=i,f(o.value,!0),r||(k.value=n)},handleTimePickClose:()=>{k.value=!1},onTimePickerInputFocus:()=>{k.value=!0},timePickerVisible:k,visibleTime:x,visibleDate:C,showTime:v,changeToNow:()=>{const e=yy().locale(r.value).toDate();E&&E(e)||!c()||(o.value=yy().locale(r.value),f(o.value))},onConfirm:()=>{if("dates"===h.value)f(e.parsedValue);else{let t=e.parsedValue;if(!t){const e=yy(M).locale(r.value),n=S();t=e.year(n.year()).month(n.month()).date(n.date())}o.value=t,f(t)}},footerVisible:b,handleYearPick:e=>{"year"===h.value?(o.value=o.value.startOf("year").year(e),f(o.value)):(o.value=o.value.year(e),p.value="month")},showMonthPicker:()=>{p.value="month"},showYearPicker:()=>{p.value="year"},handleMonthPick:e=>{o.value=o.value.startOf("month").month(e),"month"===h.value?f(o.value):p.value="date"},hasShortcuts:g,shortcuts:T,arrowControl:N,disabledDate:E,cellClassName:A,selectionMode:h,handleShortcutClick:e=>{const n="function"==typeof e.value?e.value():e.value;n?f(yy(n).locale(r.value)):e.onClick&&e.onClick(t)},prevYear_:()=>{"year"===p.value?o.value=o.value.subtract(10,"year"):o.value=o.value.subtract(1,"year")},nextYear_:()=>{"year"===p.value?o.value=o.value.add(10,"year"):o.value=o.value.add(1,"year")},prevMonth_:()=>{o.value=o.value.subtract(1,"month")},nextMonth_:()=>{o.value=o.value.add(1,"month")},innerDate:o,t:n,yearLabel:m,currentView:p,month:i,handleDatePick:t=>{if("day"===h.value){let n=e.parsedValue?e.parsedValue.year(t.year()).month(t.month()).date(t.date()):t;c()||(n=l.value[0][0].year(t.year()).month(t.month()).date(t.date())),o.value=n,f(n,v.value)}else"week"===h.value?f(t.date):"dates"===h.value&&f(t,!0)},handleVisibleTimeChange:e=>{const t=yy(e,y.value).locale(r.value);t.isValid()&&c()&&(o.value=t.year(o.value.year()).month(o.value.month()).date(o.value.date()),s.value=null,k.value=!1,f(o.value,!0))},handleVisibleDateChange:e=>{const t=yy(e,w.value).locale(r.value);if(t.isValid()){if(E&&E(t.toDate()))return;o.value=t.hour(o.value.hour()).minute(o.value.minute()).second(o.value.second()),u.value=null,f(o.value,!0)}},timeFormat:y,userInputTime:s,userInputDate:u}}});const k_={class:"el-picker-panel__body-wrapper"},S_={key:0,class:"el-picker-panel__sidebar"},__=["onClick"],O_={class:"el-picker-panel__body"},T_={key:0,class:"el-date-picker__time-header"},E_={class:"el-date-picker__editor-wrap"},A_={class:"el-date-picker__editor-wrap"},M_=["aria-label"],D_=["aria-label"],N_=["aria-label"],P_=["aria-label"],z_={class:"el-picker-panel__content"},B_={class:"el-picker-panel__footer"};C_.render=function(e,t,n,r,o,i){const a=or("el-input"),u=or("time-pick-panel"),s=or("date-table"),c=or("year-table"),f=or("month-table"),p=or("el-button"),m=lr("clickoutside");return gr(),wr("div",{class:l(["el-picker-panel el-date-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]])},[Tr("div",k_,[Fr(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(gr(),wr("div",S_,[(gr(!0),wr(cr,null,Ir(e.shortcuts,((t,n)=>(gr(),wr("button",{key:n,type:"button",class:"el-picker-panel__shortcut",onClick:n=>e.handleShortcutClick(t)},d(t.text),9,__)))),128))])):Nr("v-if",!0),Tr("div",O_,[e.showTime?(gr(),wr("div",T_,[Tr("span",E_,[Er(a,{placeholder:e.t("el.datepicker.selectDate"),"model-value":e.visibleDate,size:"small",onInput:t[0]||(t[0]=t=>e.userInputDate=t),onChange:e.handleVisibleDateChange},null,8,["placeholder","model-value","onChange"])]),$n(Tr("span",A_,[Er(a,{placeholder:e.t("el.datepicker.selectTime"),"model-value":e.visibleTime,size:"small",onFocus:e.onTimePickerInputFocus,onInput:t[1]||(t[1]=t=>e.userInputTime=t),onChange:e.handleVisibleTimeChange},null,8,["placeholder","model-value","onFocus","onChange"]),Er(u,{visible:e.timePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.innerDate,onPick:e.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[m,e.handleTimePickClose]])])):Nr("v-if",!0),$n(Tr("div",{class:l(["el-date-picker__header",{"el-date-picker__header--bordered":"year"===e.currentView||"month"===e.currentView}])},[Tr("button",{type:"button","aria-label":e.t("el.datepicker.prevYear"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",onClick:t[2]||(t[2]=(...t)=>e.prevYear_&&e.prevYear_(...t))},null,8,M_),$n(Tr("button",{type:"button","aria-label":e.t("el.datepicker.prevMonth"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",onClick:t[3]||(t[3]=(...t)=>e.prevMonth_&&e.prevMonth_(...t))},null,8,D_),[[Ri,"date"===e.currentView]]),Tr("span",{role:"button",class:"el-date-picker__header-label",onClick:t[4]||(t[4]=(...t)=>e.showYearPicker&&e.showYearPicker(...t))},d(e.yearLabel),1),$n(Tr("span",{role:"button",class:l(["el-date-picker__header-label",{active:"month"===e.currentView}]),onClick:t[5]||(t[5]=(...t)=>e.showMonthPicker&&e.showMonthPicker(...t))},d(e.t(`el.datepicker.month${e.month+1}`)),3),[[Ri,"date"===e.currentView]]),Tr("button",{type:"button","aria-label":e.t("el.datepicker.nextYear"),class:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",onClick:t[6]||(t[6]=(...t)=>e.nextYear_&&e.nextYear_(...t))},null,8,N_),$n(Tr("button",{type:"button","aria-label":e.t("el.datepicker.nextMonth"),class:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",onClick:t[7]||(t[7]=(...t)=>e.nextMonth_&&e.nextMonth_(...t))},null,8,P_),[[Ri,"date"===e.currentView]])],2),[[Ri,"time"!==e.currentView]]),Tr("div",z_,["date"===e.currentView?(gr(),xr(s,{key:0,"selection-mode":e.selectionMode,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,onPick:e.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","onPick"])):Nr("v-if",!0),"year"===e.currentView?(gr(),xr(c,{key:1,date:e.innerDate,"disabled-date":e.disabledDate,"parsed-value":e.parsedValue,onPick:e.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):Nr("v-if",!0),"month"===e.currentView?(gr(),xr(f,{key:2,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,onPick:e.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):Nr("v-if",!0)])])]),$n(Tr("div",B_,[$n(Er(p,{size:"mini",type:"text",class:"el-picker-panel__link-btn",onClick:e.changeToNow},{default:It((()=>[Dr(d(e.t("el.datepicker.now")),1)])),_:1},8,["onClick"]),[[Ri,"dates"!==e.selectionMode]]),Er(p,{plain:"",size:"mini",class:"el-picker-panel__link-btn",onClick:e.onConfirm},{default:It((()=>[Dr(d(e.t("el.datepicker.confirm")),1)])),_:1},8,["onClick"])],512),[[Ri,e.footerVisible&&"date"===e.currentView]])],2)},C_.__file="packages/components/date-picker/src/date-picker-com/panel-date-pick.vue";var R_=Qt({directives:{clickoutside:Ah},components:{TimePickPanel:Rw,DateTable:i_,ElInput:ob,ElButton:gy},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0,validator:zv}},emits:["pick","set-picker-option","calendar-change"],setup(e,t){const{t:n,lang:r}=nv(),o=vt(yy().locale(r.value)),i=vt(yy().locale(r.value).add(1,"month")),a=vt(null),l=vt(null),u=vt({min:null,max:null}),s=vt({min:null,max:null}),c=Et((()=>o.value.year()+" "+n("el.datepicker.year")+" "+n(`el.datepicker.month${o.value.month()+1}`))),d=Et((()=>i.value.year()+" "+n("el.datepicker.year")+" "+n(`el.datepicker.month${i.value.month()+1}`))),f=Et((()=>o.value.year())),p=Et((()=>o.value.month())),m=Et((()=>i.value.year())),h=Et((()=>i.value.month())),g=Et((()=>!!R.length)),v=Et((()=>null!==u.value.min?u.value.min:a.value?a.value.format(C.value):"")),b=Et((()=>null!==u.value.max?u.value.max:l.value||a.value?(l.value||a.value).format(C.value):"")),y=Et((()=>null!==s.value.min?s.value.min:a.value?a.value.format(x.value):"")),w=Et((()=>null!==s.value.max?s.value.max:l.value||a.value?(l.value||a.value).format(x.value):"")),x=Et((()=>lx(F))),C=Et((()=>ax(F))),k=Et((()=>{const t=(p.value+1)%12,n=p.value+1>=12?1:0;return e.unlinkPanels&&new Date(f.value+n,t)<new Date(m.value,h.value)})),S=Et((()=>e.unlinkPanels&&12*m.value+h.value-(12*f.value+p.value+1)>=12)),_=e=>Array.isArray(e)&&e[0]&&e[1]&&e[0].valueOf()<=e[1].valueOf(),O=vt({endDate:null,selecting:!1}),T=Et((()=>!(a.value&&l.value&&!O.value.selecting&&_([a.value,l.value])))),E=Et((()=>"datetime"===e.type||"datetimerange"===e.type)),A=(e=!1)=>{_([a.value,l.value])&&t.emit("pick",[a.value,l.value],e)},M=(e,t)=>{if(e){if(V){return yy(V[t]||V).locale(r.value).year(e.year()).month(e.month()).date(e.date())}return e}},D=vt(!1),N=vt(!1),P=()=>{o.value=z()[0],i.value=o.value.add(1,"month"),t.emit("pick",null)},z=()=>{let t;if(Array.isArray(H)){const t=yy(H[0]);let n=yy(H[1]);return e.unlinkPanels||(n=t.add(1,"month")),[t,n]}return t=H?yy(H):yy(),t=t.locale(r.value),[t,t.add(1,"month")]};t.emit("set-picker-option",["isValidValue",_]),t.emit("set-picker-option",["parseUserInput",e=>Array.isArray(e)?e.map((e=>yy(e,F).locale(r.value))):yy(e,F).locale(r.value)]),t.emit("set-picker-option",["formatToString",e=>Array.isArray(e)?e.map((e=>e.format(F))):e.format(F)]),t.emit("set-picker-option",["handleClear",P]);const B=$t("EP_PICKER_BASE"),{shortcuts:R,disabledDate:I,cellClassName:L,format:F,defaultTime:V,defaultValue:H,arrowControl:j,clearable:$}=B.props;return Mo((()=>e.parsedValue),(t=>{if(t&&2===t.length)if(a.value=t[0],l.value=t[1],o.value=a.value,e.unlinkPanels&&l.value){const e=a.value.year(),t=a.value.month(),n=l.value.year(),r=l.value.month();i.value=e===n&&t===r?l.value.add(1,"month"):l.value}else i.value=o.value.add(1,"month"),l.value&&(i.value=i.value.hour(l.value.hour()).minute(l.value.minute()).second(l.value.second()));else{const e=z();a.value=null,l.value=null,o.value=e[0],i.value=e[1]}}),{immediate:!0}),{shortcuts:R,disabledDate:I,cellClassName:L,minTimePickerVisible:D,maxTimePickerVisible:N,handleMinTimeClose:()=>{D.value=!1},handleMaxTimeClose:()=>{N.value=!1},handleShortcutClick:e=>{const n="function"==typeof e.value?e.value():e.value;n?t.emit("pick",[yy(n[0]).locale(r.value),yy(n[1]).locale(r.value)]):e.onClick&&e.onClick(t)},rangeState:O,minDate:a,maxDate:l,handleRangePick:(e,n=!0)=>{const r=e.minDate,o=e.maxDate,i=M(r,0),u=M(o,1);l.value===u&&a.value===i||(t.emit("calendar-change",[r.toDate(),o&&o.toDate()]),l.value=u,a.value=i,n&&!E.value&&A())},onSelect:e=>{O.value.selecting=e,e||(O.value.endDate=null)},handleChangeRange:e=>{O.value=e},btnDisabled:T,enableYearArrow:S,enableMonthArrow:k,rightPrevMonth:()=>{i.value=i.value.subtract(1,"month")},rightPrevYear:()=>{i.value=i.value.subtract(1,"year")},rightNextMonth:()=>{e.unlinkPanels?i.value=i.value.add(1,"month"):(o.value=o.value.add(1,"month"),i.value=o.value.add(1,"month"))},rightNextYear:()=>{e.unlinkPanels?i.value=i.value.add(1,"year"):(o.value=o.value.add(1,"year"),i.value=o.value.add(1,"month"))},leftPrevMonth:()=>{o.value=o.value.subtract(1,"month"),e.unlinkPanels||(i.value=o.value.add(1,"month"))},leftPrevYear:()=>{o.value=o.value.subtract(1,"year"),e.unlinkPanels||(i.value=o.value.add(1,"month"))},leftNextMonth:()=>{o.value=o.value.add(1,"month")},leftNextYear:()=>{o.value=o.value.add(1,"year")},hasShortcuts:g,leftLabel:c,rightLabel:d,leftDate:o,rightDate:i,showTime:E,t:n,minVisibleDate:v,maxVisibleDate:b,minVisibleTime:y,maxVisibleTime:w,arrowControl:j,handleDateInput:(t,n)=>{u.value[n]=t;const s=yy(t,C.value).locale(r.value);if(s.isValid()){if(I&&I(s.toDate()))return;"min"===n?(o.value=s,a.value=(a.value||o.value).year(s.year()).month(s.month()).date(s.date()),e.unlinkPanels||(i.value=s.add(1,"month"),l.value=a.value.add(1,"month"))):(i.value=s,l.value=(l.value||i.value).year(s.year()).month(s.month()).date(s.date()),e.unlinkPanels||(o.value=s.subtract(1,"month"),a.value=l.value.subtract(1,"month")))}},handleDateChange:(e,t)=>{u.value[t]=null},handleTimeInput:(e,t)=>{s.value[t]=e;const n=yy(e,x.value).locale(r.value);n.isValid()&&("min"===t?(D.value=!0,a.value=(a.value||o.value).hour(n.hour()).minute(n.minute()).second(n.second()),l.value&&!l.value.isBefore(a.value)||(l.value=a.value)):(N.value=!0,l.value=(l.value||i.value).hour(n.hour()).minute(n.minute()).second(n.second()),i.value=l.value,l.value&&l.value.isBefore(a.value)&&(a.value=l.value)))},handleTimeChange:(e,t)=>{s.value[t]=null,"min"===t?(o.value=a.value,D.value=!1):(i.value=l.value,N.value=!1)},handleMinTimePick:(e,t,n)=>{s.value.min||(e&&(o.value=e,a.value=(a.value||o.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(D.value=t),l.value&&!l.value.isBefore(a.value)||(l.value=a.value,i.value=e))},handleMaxTimePick:(e,t,n)=>{s.value.max||(e&&(i.value=e,l.value=(l.value||i.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(N.value=t),l.value&&l.value.isBefore(a.value)&&(a.value=l.value))},handleClear:P,handleConfirm:A,timeFormat:x,clearable:$}}});const I_={class:"el-picker-panel__body-wrapper"},L_={key:0,class:"el-picker-panel__sidebar"},F_=["onClick"],V_={class:"el-picker-panel__body"},H_={key:0,class:"el-date-range-picker__time-header"},j_={class:"el-date-range-picker__editors-wrap"},$_={class:"el-date-range-picker__time-picker-wrap"},U_={class:"el-date-range-picker__time-picker-wrap"},W_=Tr("span",{class:"el-icon-arrow-right"},null,-1),q_={class:"el-date-range-picker__editors-wrap is-right"},K_={class:"el-date-range-picker__time-picker-wrap"},Y_={class:"el-date-range-picker__time-picker-wrap"},G_={class:"el-picker-panel__content el-date-range-picker__content is-left"},X_={class:"el-date-range-picker__header"},Z_=["disabled"],J_=["disabled"],Q_={class:"el-picker-panel__content el-date-range-picker__content is-right"},eO={class:"el-date-range-picker__header"},tO=["disabled"],nO=["disabled"],rO={key:0,class:"el-picker-panel__footer"};R_.render=function(e,t,n,r,o,i){const a=or("el-input"),u=or("time-pick-panel"),s=or("date-table"),c=or("el-button"),f=lr("clickoutside");return gr(),wr("div",{class:l(["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]])},[Tr("div",I_,[Fr(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(gr(),wr("div",L_,[(gr(!0),wr(cr,null,Ir(e.shortcuts,((t,n)=>(gr(),wr("button",{key:n,type:"button",class:"el-picker-panel__shortcut",onClick:n=>e.handleShortcutClick(t)},d(t.text),9,F_)))),128))])):Nr("v-if",!0),Tr("div",V_,[e.showTime?(gr(),wr("div",H_,[Tr("span",j_,[Tr("span",$_,[Er(a,{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startDate"),class:"el-date-range-picker__editor","model-value":e.minVisibleDate,onInput:t[0]||(t[0]=t=>e.handleDateInput(t,"min")),onChange:t[1]||(t[1]=t=>e.handleDateChange(t,"min"))},null,8,["disabled","placeholder","model-value"])]),$n(Tr("span",U_,[Er(a,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startTime"),"model-value":e.minVisibleTime,onFocus:t[2]||(t[2]=t=>e.minTimePickerVisible=!0),onInput:t[3]||(t[3]=t=>e.handleTimeInput(t,"min")),onChange:t[4]||(t[4]=t=>e.handleTimeChange(t,"min"))},null,8,["disabled","placeholder","model-value"]),Er(u,{visible:e.minTimePickerVisible,format:e.timeFormat,"datetime-role":"start","time-arrow-control":e.arrowControl,"parsed-value":e.leftDate,onPick:e.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[f,e.handleMinTimeClose]])]),W_,Tr("span",q_,[Tr("span",K_,[Er(a,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endDate"),"model-value":e.maxVisibleDate,readonly:!e.minDate,onInput:t[5]||(t[5]=t=>e.handleDateInput(t,"max")),onChange:t[6]||(t[6]=t=>e.handleDateChange(t,"max"))},null,8,["disabled","placeholder","model-value","readonly"])]),$n(Tr("span",Y_,[Er(a,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endTime"),"model-value":e.maxVisibleTime,readonly:!e.minDate,onFocus:t[7]||(t[7]=t=>e.minDate&&(e.maxTimePickerVisible=!0)),onInput:t[8]||(t[8]=t=>e.handleTimeInput(t,"max")),onChange:t[9]||(t[9]=t=>e.handleTimeChange(t,"max"))},null,8,["disabled","placeholder","model-value","readonly"]),Er(u,{"datetime-role":"end",visible:e.maxTimePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.rightDate,onPick:e.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[f,e.handleMaxTimeClose]])])])):Nr("v-if",!0),Tr("div",G_,[Tr("div",X_,[Tr("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-left",onClick:t[10]||(t[10]=(...t)=>e.leftPrevYear&&e.leftPrevYear(...t))}),Tr("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-arrow-left",onClick:t[11]||(t[11]=(...t)=>e.leftPrevMonth&&e.leftPrevMonth(...t))}),e.unlinkPanels?(gr(),wr("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:l([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-right"]),onClick:t[12]||(t[12]=(...t)=>e.leftNextYear&&e.leftNextYear(...t))},null,10,Z_)):Nr("v-if",!0),e.unlinkPanels?(gr(),wr("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:l([{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn el-icon-arrow-right"]),onClick:t[13]||(t[13]=(...t)=>e.leftNextMonth&&e.leftNextMonth(...t))},null,10,J_)):Nr("v-if",!0),Tr("div",null,d(e.leftLabel),1)]),Er(s,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),Tr("div",Q_,[Tr("div",eO,[e.unlinkPanels?(gr(),wr("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:l([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-left"]),onClick:t[14]||(t[14]=(...t)=>e.rightPrevYear&&e.rightPrevYear(...t))},null,10,tO)):Nr("v-if",!0),e.unlinkPanels?(gr(),wr("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:l([{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn el-icon-arrow-left"]),onClick:t[15]||(t[15]=(...t)=>e.rightPrevMonth&&e.rightPrevMonth(...t))},null,10,nO)):Nr("v-if",!0),Tr("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-right",onClick:t[16]||(t[16]=(...t)=>e.rightNextYear&&e.rightNextYear(...t))}),Tr("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-arrow-right",onClick:t[17]||(t[17]=(...t)=>e.rightNextMonth&&e.rightNextMonth(...t))}),Tr("div",null,d(e.rightLabel),1)]),Er(s,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),e.showTime?(gr(),wr("div",rO,[e.clearable?(gr(),xr(c,{key:0,size:"mini",type:"text",class:"el-picker-panel__link-btn",onClick:e.handleClear},{default:It((()=>[Dr(d(e.t("el.datepicker.clear")),1)])),_:1},8,["onClick"])):Nr("v-if",!0),Er(c,{plain:"",size:"mini",class:"el-picker-panel__link-btn",disabled:e.btnDisabled,onClick:t[18]||(t[18]=t=>e.handleConfirm(!1))},{default:It((()=>[Dr(d(e.t("el.datepicker.confirm")),1)])),_:1},8,["disabled"])])):Nr("v-if",!0)],2)},R_.__file="packages/components/date-picker/src/date-picker-com/panel-date-range.vue";var oO=Qt({components:{MonthTable:l_},props:{unlinkPanels:Boolean,parsedValue:{type:Array}},emits:["pick","set-picker-option"],setup(e,t){const{t:n,lang:r}=nv(),o=vt(yy().locale(r.value)),i=vt(yy().locale(r.value).add(1,"year")),a=Et((()=>!!v.length)),l=Et((()=>`${o.value.year()} ${n("el.datepicker.year")}`)),u=Et((()=>`${i.value.year()} ${n("el.datepicker.year")}`)),s=Et((()=>o.value.year())),c=Et((()=>i.value.year()===o.value.year()?o.value.year()+1:i.value.year())),d=Et((()=>e.unlinkPanels&&c.value>s.value+1)),f=vt(null),p=vt(null),m=vt({endDate:null,selecting:!1}),h=(e=!1)=>{var n;n=[f.value,p.value],Array.isArray(n)&&n&&n[0]&&n[1]&&n[0].valueOf()<=n[1].valueOf()&&t.emit("pick",[f.value,p.value],e)};t.emit("set-picker-option",["formatToString",e=>e.map((e=>e.format(y)))]);const g=$t("EP_PICKER_BASE"),{shortcuts:v,disabledDate:b,format:y,defaultValue:w}=g.props;return Mo((()=>e.parsedValue),(t=>{if(t&&2===t.length)if(f.value=t[0],p.value=t[1],o.value=f.value,e.unlinkPanels&&p.value){const e=f.value.year(),t=p.value.year();i.value=e===t?p.value.add(1,"year"):p.value}else i.value=o.value.add(1,"year");else{const t=(()=>{let t;if(Array.isArray(w)){const t=yy(w[0]);let n=yy(w[1]);return e.unlinkPanels||(n=t.add(1,"year")),[t,n]}return t=w?yy(w):yy(),t=t.locale(r.value),[t,t.add(1,"year")]})();o.value=t[0],i.value=t[1]}}),{immediate:!0}),{shortcuts:v,disabledDate:b,onSelect:e=>{m.value.selecting=e,e||(m.value.endDate=null)},handleRangePick:(e,t=!0)=>{const n=e.minDate,r=e.maxDate;p.value===r&&f.value===n||(p.value=r,f.value=n,t&&h())},rangeState:m,handleChangeRange:e=>{m.value=e},minDate:f,maxDate:p,enableYearArrow:d,leftLabel:l,rightLabel:u,leftNextYear:()=>{o.value=o.value.add(1,"year")},leftPrevYear:()=>{o.value=o.value.subtract(1,"year"),e.unlinkPanels||(i.value=i.value.subtract(1,"year"))},rightNextYear:()=>{e.unlinkPanels||(o.value=o.value.add(1,"year")),i.value=i.value.add(1,"year")},rightPrevYear:()=>{i.value=i.value.subtract(1,"year")},t:n,leftDate:o,rightDate:i,hasShortcuts:a,handleShortcutClick:e=>{const n="function"==typeof e.value?e.value():e.value;n?t.emit("pick",[yy(n[0]).locale(r.value),yy(n[1]).locale(r.value)]):e.onClick&&e.onClick(t)}}}});const iO={class:"el-picker-panel__body-wrapper"},aO={key:0,class:"el-picker-panel__sidebar"},lO=["onClick"],uO={class:"el-picker-panel__body"},sO={class:"el-picker-panel__content el-date-range-picker__content is-left"},cO={class:"el-date-range-picker__header"},dO=["disabled"],fO={class:"el-picker-panel__content el-date-range-picker__content is-right"},pO={class:"el-date-range-picker__header"},mO=["disabled"];oO.render=function(e,t,n,r,o,i){const a=or("month-table");return gr(),wr("div",{class:l(["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts}]])},[Tr("div",iO,[Fr(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(gr(),wr("div",aO,[(gr(!0),wr(cr,null,Ir(e.shortcuts,((t,n)=>(gr(),wr("button",{key:n,type:"button",class:"el-picker-panel__shortcut",onClick:n=>e.handleShortcutClick(t)},d(t.text),9,lO)))),128))])):Nr("v-if",!0),Tr("div",uO,[Tr("div",sO,[Tr("div",cO,[Tr("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-left",onClick:t[0]||(t[0]=(...t)=>e.leftPrevYear&&e.leftPrevYear(...t))}),e.unlinkPanels?(gr(),wr("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:l([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-right"]),onClick:t[1]||(t[1]=(...t)=>e.leftNextYear&&e.leftNextYear(...t))},null,10,dO)):Nr("v-if",!0),Tr("div",null,d(e.leftLabel),1)]),Er(a,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])]),Tr("div",fO,[Tr("div",pO,[e.unlinkPanels?(gr(),wr("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:l([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-left"]),onClick:t[2]||(t[2]=(...t)=>e.rightPrevYear&&e.rightPrevYear(...t))},null,10,mO)):Nr("v-if",!0),Tr("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-right",onClick:t[3]||(t[3]=(...t)=>e.rightNextYear&&e.rightNextYear(...t))}),Tr("div",null,d(e.rightLabel),1)]),Er(a,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])])])])],2)},oO.__file="packages/components/date-picker/src/date-picker-com/panel-month-range.vue";var hO=Object.defineProperty,gO=Object.defineProperties,vO=Object.getOwnPropertyDescriptors,bO=Object.getOwnPropertySymbols,yO=Object.prototype.hasOwnProperty,wO=Object.prototype.propertyIsEnumerable,xO=(e,t,n)=>t in e?hO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CO=(e,t)=>{for(var n in t||(t={}))yO.call(t,n)&&xO(e,n,t[n]);if(bO)for(var n of bO(t))wO.call(t,n)&&xO(e,n,t[n]);return e},kO=(e,t)=>gO(e,vO(t));yy.extend(xy),yy.extend(YS),yy.extend(ky),yy.extend(XS),yy.extend(JS),yy.extend(e_),yy.extend(n_),yy.extend(o_);const SO=Qt({name:"ElDatePicker",install:null,props:kO(CO({},gw),{type:{type:String,default:"date"}}),emits:["update:modelValue"],setup(e,t){jt("ElPopperOptions",e.popperOptions);const n=vt(null),r=kO(CO({},e),{focus:()=>{var e;null==(e=n.value)||e.handleFocus()}});return t.expose(r),()=>{var r;const o=null!=(r=e.format)?r:hw[e.type]||"YYYY-MM-DD";return Bo(xw,kO(CO({},e),{format:o,type:e.type,ref:n,"onUpdate:modelValue":e=>t.emit("update:modelValue",e)}),{default:t=>{return Bo("daterange"===(n=e.type)||"datetimerange"===n?R_:"monthrange"===n?oO:C_,t);var n}})}}});SO.install=e=>{e.component(SO.name,SO)};const _O=SO;var OO=Qt({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup:()=>({descriptions:$t("elDescriptions",{})}),render(){var e,t,n,r,o,i;const a=(e=>{if(!Cr(e))return void Np("VNode","value must be a VNode");const t=e.props||{},n=e.type.props||{},r={};return Object.keys(n).forEach((e=>{k(n[e],"default")&&(r[e]=n[e].default)})),Object.keys(t).forEach((e=>{r[H(e)]=t[e]})),r})(this.cell),l=(null==(n=null==(t=null==(e=this.cell)?void 0:e.children)?void 0:t.label)?void 0:n.call(t))||a.label,u=null==(i=null==(o=null==(r=this.cell)?void 0:r.children)?void 0:o.default)?void 0:i.call(o),s=a.span,c=a.align?`is-${a.align}`:"",d=a.labelAlign?`is-${a.labelAlign}`:c,f=a.className,p=a.labelClassName,m={width:Gp(a.width),minWidth:Gp(a.minWidth)};switch(this.type){case"label":return Bo(this.tag,{style:m,class:["el-descriptions__cell","el-descriptions__label",{"is-bordered-label":this.descriptions.border},d,p],colSpan:"vertical"===this.descriptions.direction?s:1},l);case"content":return Bo(this.tag,{style:m,class:["el-descriptions__cell","el-descriptions__content",c,f],colSpan:"vertical"===this.descriptions.direction?s:2*s-1},u);default:return Bo("td",{style:m,class:[c],colSpan:s},[Bo("span",{class:["el-descriptions__cell","el-descriptions__label",p]},l),Bo("span",{class:["el-descriptions__cell","el-descriptions__content",f]},u)])}}}),TO=Qt({name:"ElDescriptionsRow",components:{[OO.name]:OO},props:{row:{type:Array}},setup:()=>({descriptions:$t("elDescriptions",{})})});const EO={key:1};TO.render=function(e,t,n,r,o,i){const a=or("el-descriptions-cell");return"vertical"===e.descriptions.direction?(gr(),wr(cr,{key:0},[Tr("tr",null,[(gr(!0),wr(cr,null,Ir(e.row,((e,t)=>(gr(),xr(a,{key:`tr1-${t}`,cell:e,tag:"th",type:"label"},null,8,["cell"])))),128))]),Tr("tr",null,[(gr(!0),wr(cr,null,Ir(e.row,((e,t)=>(gr(),xr(a,{key:`tr2-${t}`,cell:e,tag:"td",type:"content"},null,8,["cell"])))),128))])],64)):(gr(),wr("tr",EO,[(gr(!0),wr(cr,null,Ir(e.row,((t,n)=>(gr(),wr(cr,{key:`tr3-${n}`},[e.descriptions.border?(gr(),wr(cr,{key:0},[Er(a,{cell:t,tag:"td",type:"label"},null,8,["cell"]),Er(a,{cell:t,tag:"td",type:"content"},null,8,["cell"])],64)):(gr(),xr(a,{key:1,cell:t,tag:"td",type:"both"},null,8,["cell"]))],64)))),128))]))},TO.__file="packages/components/descriptions/src/descriptions-row.vue";var AO=Qt({name:"ElDescriptions",components:{[TO.name]:TO},props:{border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,default:"horizontal"},size:{type:String,validator:Pv},title:{type:String,default:""},extra:{type:String,default:""}},setup(e,{slots:t}){jt("elDescriptions",e);const n=$p(),r=Et((()=>e.size||n.size)),o=e=>{const t=Array.isArray(e)?e:[e],n=[];return t.forEach((e=>{Array.isArray(e.children)?n.push(...o(e.children)):n.push(e)})),n},i=(e,t,n,r=!1)=>(e.props||(e.props={}),t>n&&(e.props.span=n),r&&(e.props.span=t),e);return{descriptionsSize:r,getRows:()=>{var n;const r=o(null==(n=t.default)?void 0:n.call(t)).filter((e=>{var t;return"ElDescriptionsItem"===(null==(t=null==e?void 0:e.type)?void 0:t.name)})),a=[];let l=[],u=e.column,s=0;return r.forEach(((t,n)=>{var o;let c=(null==(o=t.props)?void 0:o.span)||1;if(n<r.length-1&&(s+=c>u?u:c),n===r.length-1){const n=e.column-s%e.column;return l.push(i(t,n,u,!0)),void a.push(l)}c<u?(u-=c,l.push(t)):(l.push(i(t,c,u)),a.push(l),u=e.column,l=[])})),a}}}});const MO={class:"el-descriptions"},DO={key:0,class:"el-descriptions__header"},NO={class:"el-descriptions__title"},PO={class:"el-descriptions__extra"},zO={class:"el-descriptions__body"};AO.render=function(e,t,n,r,o,i){const a=or("el-descriptions-row");return gr(),wr("div",MO,[e.title||e.extra||e.$slots.title||e.$slots.extra?(gr(),wr("div",DO,[Tr("div",NO,[Fr(e.$slots,"title",{},(()=>[Dr(d(e.title),1)]))]),Tr("div",PO,[Fr(e.$slots,"extra",{},(()=>[Dr(d(e.extra),1)]))])])):Nr("v-if",!0),Tr("div",zO,[Tr("table",{class:l(["el-descriptions__table",{"is-bordered":e.border},e.descriptionsSize?`el-descriptions--${e.descriptionsSize}`:""])},[Tr("tbody",null,[(gr(!0),wr(cr,null,Ir(e.getRows(),((e,t)=>(gr(),xr(a,{key:t,row:e},null,8,["row"])))),128))])],2)])])},AO.__file="packages/components/descriptions/src/index.vue";var BO=Qt({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});AO.install=e=>{e.component(AO.name,AO),e.component(IO.name,IO)},AO.DescriptionsItem=BO;const RO=AO,IO=BO;var LO=Qt({name:"ElOverlay",props:{mask:{type:Boolean,default:!0},overlayClass:{type:[String,Array,Object]},zIndex:{type:Number}},emits:["click"],setup(e,{slots:t,emit:n}){let r=!1,o=!1;const i=e=>{r&&o&&n("click",e),r=o=!1};return()=>e.mask?Er("div",{class:["el-overlay",e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:t=>{e.mask&&(r=t.target===t.currentTarget)},onMouseup:t=>{e.mask&&(o=t.target===t.currentTarget)}},[Fr(t,"default")],zg.STYLE|zg.CLASS|zg.PROPS,["onClick","onMouseup","onMousedown"]):Bo("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Fr(t,"default")])}});LO.__file="packages/components/overlay/src/index.vue";const FO=["close","closed","open","opened",wm],VO={appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String,default:"15vh"},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number],default:"50%",validator:e=>!!Lp(e)||["px","rem","em","vw","%","vmin","vmax"].some((t=>e.endsWith(t)))},zIndex:{type:Number}};function HO(e,t,n){const r=vt(!1),o=vt(!1),i=vt(null),a=vt(null),l=vt(null),u=vt(!1),s=vt(e.zIndex||Gg.nextZIndex()),c=vt(null),d=Et((()=>{const t={};return e.fullscreen||(t.marginTop=e.top,e.width&&(t.width=Lp(e.width)?`${e.width}px`:e.width)),t}));function f(){Vp(l),Vp(a),e.openDelay&&e.openDelay>0?a.value=window.setTimeout((()=>{a.value=null,g()}),e.openDelay):g()}function p(){Vp(a),Vp(l),e.closeDelay&&e.closeDelay>0?l.value=window.setTimeout((()=>{l.value=null,v()}),e.closeDelay):v()}function m(e){e||(o.value=!0,r.value=!1)}function h(){e.beforeClose?e.beforeClose(m):p()}function g(){Ap||(r.value=!0)}function v(){r.value=!1}return e.lockScroll&&dm(r),e.closeOnPressEscape&&ym({handleClose:h},r),fm(r),Mo((()=>e.modelValue),(i=>{i?(o.value=!1,f(),u.value=!0,t.emit("open"),s.value=e.zIndex?s.value++:Gg.nextZIndex(),wo((()=>{n.value&&(n.value.scrollTop=0)}))):r.value&&p()})),cn((()=>{e.modelValue&&(r.value=!0,u.value=!0,f())})),{afterEnter:function(){t.emit("opened")},afterLeave:function(){t.emit("closed"),t.emit(wm,!1),e.destroyOnClose&&(u.value=!1)},beforeLeave:function(){t.emit("close")},handleClose:h,onModalClick:function(){e.closeOnClickModal&&h()},closed:o,dialogRef:i,style:d,rendered:u,modalRef:c,visible:r,zIndex:s}}var jO=Object.defineProperty,$O=Object.defineProperties,UO=Object.getOwnPropertyDescriptors,WO=Object.getOwnPropertySymbols,qO=Object.prototype.hasOwnProperty,KO=Object.prototype.propertyIsEnumerable,YO=(e,t,n)=>t in e?jO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GO=Qt({name:"ElDialog",components:{"el-overlay":LO},directives:{TrapFocus:Yh},props:VO,emits:FO,setup(e,t){const n=vt(null);return((e,t)=>$O(e,UO(t)))(((e,t)=>{for(var n in t||(t={}))qO.call(t,n)&&YO(e,n,t[n]);if(WO)for(var n of WO(t))KO.call(t,n)&&YO(e,n,t[n]);return e})({},HO(e,t,n)),{dialogRef:n})}});const XO=["aria-label"],ZO={class:"el-dialog__header"},JO={class:"el-dialog__title"},QO=[Tr("i",{class:"el-dialog__close el-icon el-icon-close"},null,-1)],eT={key:0,class:"el-dialog__body"},tT={key:1,class:"el-dialog__footer"};GO.render=function(e,t,n,o,i,a){const u=or("el-overlay"),s=lr("trap-focus");return gr(),xr(rr,{to:"body",disabled:!e.appendToBody},[Er(ei,{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave},{default:It((()=>[$n(Er(u,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:It((()=>[$n(Tr("div",{ref:"dialogRef",class:l(["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass]),"aria-modal":"true",role:"dialog","aria-label":e.title||"dialog",style:r(e.style),onClick:t[1]||(t[1]=Pi((()=>{}),["stop"]))},[Tr("div",ZO,[Fr(e.$slots,"title",{},(()=>[Tr("span",JO,d(e.title),1)])),e.showClose?(gr(),wr("button",{key:0,"aria-label":"close",class:"el-dialog__headerbtn",type:"button",onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))},QO)):Nr("v-if",!0)]),e.rendered?(gr(),wr("div",eT,[Fr(e.$slots,"default")])):Nr("v-if",!0),e.$slots.footer?(gr(),wr("div",tT,[Fr(e.$slots,"footer")])):Nr("v-if",!0)],14,XO),[[s]])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Ri,e.visible]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])},GO.__file="packages/components/dialog/src/index.vue",GO.install=e=>{e.component(GO.name,GO)};const nT=GO;var rT=Qt({name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:e=>-1!==["horizontal","vertical"].indexOf(e)},contentPosition:{type:String,default:"center",validator:e=>-1!==["left","center","right"].indexOf(e)}}});rT.render=function(e,t,n,r,o,i){return gr(),wr("div",{class:l(["el-divider",`el-divider--${e.direction}`])},[e.$slots.default&&"vertical"!==e.direction?(gr(),wr("div",{key:0,class:l(["el-divider__text",`is-${e.contentPosition}`])},[Fr(e.$slots,"default")],2)):Nr("v-if",!0)],2)},rT.__file="packages/components/divider/src/index.vue",rT.install=e=>{e.component(rT.name,rT)};const oT=rT;var iT=Object.defineProperty,aT=Object.defineProperties,lT=Object.getOwnPropertyDescriptors,uT=Object.getOwnPropertySymbols,sT=Object.prototype.hasOwnProperty,cT=Object.prototype.propertyIsEnumerable,dT=(e,t,n)=>t in e?iT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fT=(e,t)=>{for(var n in t||(t={}))sT.call(t,n)&&dT(e,n,t[n]);if(uT)for(var n of uT(t))cT.call(t,n)&&dT(e,n,t[n]);return e},pT=(e,t)=>aT(e,lT(t)),mT=Qt({name:"ElDrawer",components:{[LO.name]:LO},directives:{TrapFocus:Yh},props:pT(fT({},VO),{direction:{type:String,default:"rtl",validator:e=>-1!==["ltr","rtl","ttb","btt"].indexOf(e)},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),emits:FO,setup(e,t){const n=vt(null);return pT(fT({},HO(e,t,n)),{drawerRef:n,isHorizontal:Et((()=>"rtl"===e.direction||"ltr"===e.direction)),drawerSize:Et((()=>"number"==typeof e.size?`${e.size}px`:e.size))})}});const hT=["aria-label"],gT={key:0,id:"el-drawer__title",class:"el-drawer__header"},vT=["title"],bT=["aria-label"],yT=[Tr("i",{class:"el-drawer__close el-icon el-icon-close"},null,-1)],wT={key:1,class:"el-drawer__body"};mT.render=function(e,t,n,o,i,a){const u=or("el-overlay"),s=lr("trap-focus");return gr(),xr(rr,{to:"body",disabled:!e.appendToBody},[Er(ei,{name:"el-drawer-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave},{default:It((()=>[$n(Er(u,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:It((()=>[$n(Tr("div",{ref:"drawerRef","aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":e.title,class:l(["el-drawer",e.direction,e.customClass]),style:r(e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize),role:"dialog",onClick:t[1]||(t[1]=Pi((()=>{}),["stop"]))},[e.withHeader?(gr(),wr("header",gT,[Fr(e.$slots,"title",{},(()=>[Tr("span",{role:"heading",title:e.title},d(e.title),9,vT)])),e.showClose?(gr(),wr("button",{key:0,"aria-label":"close "+(e.title||"drawer"),class:"el-drawer__close-btn",type:"button",onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))},yT,8,bT)):Nr("v-if",!0)])):Nr("v-if",!0),e.rendered?(gr(),wr("section",wT,[Fr(e.$slots,"default")])):Nr("v-if",!0)],14,hT),[[s]])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Ri,e.visible]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])},mT.__file="packages/components/drawer/src/index.vue",mT.install=e=>{e.component(mT.name,mT)};const xT=mT,CT=()=>{const e=$p(),t=$t("elDropdown",{}),n=Et((()=>null==t?void 0:t.dropdownSize));return{ELEMENT:e,elDropdown:t,_elDropdownSize:n}},kT=(e,t,n)=>{const r=vt(null),o=vt(null),i=vt(null),a=vt(`dropdown-menu-${Bp()}`);function l(){var e;t.setAttribute("tabindex","-1"),null==(e=o.value)||e.forEach((e=>{e.setAttribute("tabindex","-1")}))}function u(e){l(),null==e||e.setAttribute("tabindex","0")}function s(e){const t=e.code;[pm.up,pm.down].includes(t)?(l(),u(r.value[0]),r.value[0].focus(),e.preventDefault(),e.stopPropagation()):t===pm.enter?n.handleClick():[pm.tab,pm.esc].includes(t)&&n.hide()}function c(e){const t=e.code,i=e.target,a=o.value.indexOf(i),s=o.value.length-1;let c;[pm.up,pm.down].includes(t)?(c=t===pm.up?0!==a?a-1:0:a<s?a+1:s,l(),u(r.value[c]),r.value[c].focus(),e.preventDefault(),e.stopPropagation()):t===pm.enter?(d(),i.click(),n.props.hideOnClick&&n.hide()):[pm.tab,pm.esc].includes(t)&&(n.hide(),d())}function d(){t.focus()}i.value=null==e?void 0:e.subTree.el,r.value=i.value.querySelectorAll("[tabindex='-1']"),o.value=[].slice.call(r.value),Qp(t,"keydown",s),Qp(i.value,"keydown",c,!0),i.value.setAttribute("id",a.value),t.setAttribute("aria-haspopup","list"),t.setAttribute("aria-controls",a.value),n.props.splitButton||(t.setAttribute("role","button"),t.setAttribute("tabindex",n.props.tabindex),nm(t,"el-dropdown-selfdefine"))},{ButtonGroup:ST}=gy;var _T=Qt({name:"ElDropdown",components:{ElButton:gy,ElButtonGroup:ST,ElScrollbar:fb,ElPopper:Rb},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom"},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:[Number,String],default:0},effect:{type:String,default:"light"},maxHeight:{type:[Number,String],default:""}},emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Yr(),{ELEMENT:r}=CT(),o=vt(null),i=vt(!1),a=vt(null),l=Et((()=>`max-height: ${Gp(e.maxHeight)}`));Mo((()=>i.value),(e=>{var n,r;e&&(null==(r=null==(n=c.value)?void 0:n.focus)||r.call(n)),e||function(){var e,t;null==(t=null==(e=c.value)?void 0:e.blur)||t.call(e)}(),t("visible-change",e)}));const u=vt(!1);Mo((()=>u.value),(e=>{const t=c.value;t&&(e?nm(t,"focusing"):rm(t,"focusing"))}));const s=vt(null),c=Et((()=>{var t,n,r,o;const i=null!=(r=null==(n=null==(t=s.value)?void 0:t.$refs.triggerRef)?void 0:n.children[0])?r:{};return e.splitButton?null==(o=i.children)?void 0:o[1]:i}));function d(){var e;(null==(e=c.value)?void 0:e.disabled)||(i.value?p():f())}function f(){var t;(null==(t=c.value)?void 0:t.disabled)||(o.value&&clearTimeout(o.value),o.value=window.setTimeout((()=>{i.value=!0}),["click","contextmenu"].includes(e.trigger)?0:e.showTimeout))}function p(){var t;(null==(t=c.value)?void 0:t.disabled)||(m(),e.tabindex>=0&&h(c.value),clearTimeout(o.value),o.value=window.setTimeout((()=>{i.value=!1}),["click","contextmenu"].includes(e.trigger)?0:e.hideTimeout))}function m(){var e;null==(e=c.value)||e.setAttribute("tabindex","-1")}function h(e){m(),null==e||e.setAttribute("tabindex","0")}const g=Et((()=>e.size||r.size));jt("elDropdown",{instance:n,dropdownSize:g,visible:i,handleClick:d,commandHandler:function(...e){t("command",...e)},show:f,hide:p,trigger:Et((()=>e.trigger)),hideOnClick:Et((()=>e.hideOnClick)),triggerElm:c}),cn((()=>{e.splitButton||(Qp(c.value,"focus",(()=>{u.value=!0})),Qp(c.value,"blur",(()=>{u.value=!1})),Qp(c.value,"click",(()=>{u.value=!1}))),"hover"===e.trigger?(Qp(c.value,"mouseenter",f),Qp(c.value,"mouseleave",p)):"click"===e.trigger?Qp(c.value,"click",d):"contextmenu"===e.trigger&&Qp(c.value,"contextmenu",(e=>{e.preventDefault(),d()})),Object.assign(n,{handleClick:d,hide:p,resetTabindex:h})}));return{visible:i,scrollbar:a,wrapStyle:l,dropdownSize:g,handlerMainButtonClick:e=>{t("click",e),p()},triggerVnode:s}}});const OT=Tr("i",{class:"el-dropdown__icon el-icon-arrow-down"},null,-1);_T.render=function(e,t,n,r,o,i){const a=or("el-scrollbar"),u=or("el-button"),s=or("el-button-group"),c=or("el-popper");return gr(),xr(c,{ref:"triggerVnode",visible:e.visible,"onUpdate:visible":t[0]||(t[0]=t=>e.visible=t),placement:e.placement,"fallback-placements":["bottom","top","right","left"],effect:e.effect,pure:"","manual-mode":!0,trigger:[e.trigger],"popper-class":"el-dropdown__popper","append-to-body":"",transition:"el-zoom-in-top","stop-popper-mouse-event":!1,"gpu-acceleration":!1},{default:It((()=>[Er(a,{ref:"scrollbar",tag:"ul","wrap-style":e.wrapStyle,"view-class":"el-dropdown__list"},{default:It((()=>[Fr(e.$slots,"dropdown")])),_:3},8,["wrap-style"])])),trigger:It((()=>[Tr("div",{class:l(["el-dropdown",e.dropdownSize?"el-dropdown--"+e.dropdownSize:""])},[e.splitButton?(gr(),xr(s,{key:1},{default:It((()=>[Er(u,{size:e.dropdownSize,type:e.type,onClick:e.handlerMainButtonClick},{default:It((()=>[Fr(e.$slots,"default")])),_:3},8,["size","type","onClick"]),Er(u,{size:e.dropdownSize,type:e.type,class:"el-dropdown__caret-button"},{default:It((()=>[OT])),_:1},8,["size","type"])])),_:3})):Fr(e.$slots,"default",{key:0})],2)])),_:3},8,["visible","placement","effect","trigger"])},_T.__file="packages/components/dropdown/src/dropdown.vue";var TT=Qt({name:"ElDropdownItem",props:{command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,icon:String},setup(e){const{elDropdown:t}=CT(),n=Yr();return{handleClick:function(r){var o,i;e.disabled?r.stopImmediatePropagation():(t.hideOnClick.value&&(null==(o=t.handleClick)||o.call(t)),null==(i=t.commandHandler)||i.call(t,e.command,n,r))}}}});const ET=["aria-disabled","tabindex"];TT.render=function(e,t,n,r,o,i){return gr(),wr("li",{class:l(["el-dropdown-menu__item",{"is-disabled":e.disabled,"el-dropdown-menu__item--divided":e.divided}]),"aria-disabled":e.disabled,tabindex:e.disabled?null:-1,onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.icon?(gr(),wr("i",{key:0,class:l(e.icon)},null,2)):Nr("v-if",!0),Fr(e.$slots,"default")],10,ET)},TT.__file="packages/components/dropdown/src/dropdown-item.vue";var AT=Qt({name:"ElDropdownMenu",directives:{ClickOutside:Ah},setup(){const{_elDropdownSize:e,elDropdown:t}=CT(),n=e.value;function r(){var e;null==(e=t.hide)||e.call(t)}return cn((()=>{const e=Yr();kT(e,t.triggerElm.value,t.instance)})),{size:n,show:function(){var e;["click","contextmenu"].includes(t.trigger.value)||null==(e=t.show)||e.call(t)},hide:function(){["click","contextmenu"].includes(t.trigger.value)||r()},innerHide:r,triggerElm:t.triggerElm}}});AT.render=function(e,t,n,r,o,i){const a=lr("clickOutside");return $n((gr(),wr("ul",{class:l([[e.size&&`el-dropdown-menu--${e.size}`],"el-dropdown-menu"]),onMouseenter:t[0]||(t[0]=Pi(((...t)=>e.show&&e.show(...t)),["stop"])),onMouseleave:t[1]||(t[1]=Pi(((...t)=>e.hide&&e.hide(...t)),["stop"]))},[Fr(e.$slots,"default")],34)),[[a,e.innerHide,e.triggerElm]])},AT.__file="packages/components/dropdown/src/dropdown-menu.vue",_T.install=e=>{e.component(_T.name,_T),e.component(TT.name,TT),e.component(AT.name,AT)},_T.DropdownItem=TT,_T.DropdownMenu=AT;const MT=_T;let DT=0;var NT=Qt({name:"ImgEmpty",setup:()=>({id:++DT})});const PT={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},zT=["id"],BT=[Tr("stop",{"stop-color":"#FCFCFD",offset:"0%"},null,-1),Tr("stop",{"stop-color":"#EEEFF3",offset:"100%"},null,-1)],RT=["id"],IT=[Tr("stop",{"stop-color":"#FCFCFD",offset:"0%"},null,-1),Tr("stop",{"stop-color":"#E9EBEF",offset:"100%"},null,-1)],LT=["id"],FT={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},VT={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},HT={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},jT=Tr("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"#F7F8FC"},null,-1),$T=Tr("polygon",{id:"Rectangle-Copy-14",fill:"#E5E7E9",transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,-1),UT={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},WT=Tr("polygon",{id:"Rectangle-Copy-10",fill:"#E5E7E9",transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,-1),qT=Tr("polygon",{id:"Rectangle-Copy-11",fill:"#EDEEF2",points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,-1),KT=["fill"],YT=Tr("polygon",{id:"Rectangle-Copy-13",fill:"#F8F9FB",transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,-1),GT=["fill"],XT={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},ZT=["id"],JT=["xlink:href"],QT=["xlink:href"],eE=["mask"],tE=Tr("polygon",{id:"Rectangle-Copy-18",fill:"#F8F9FB",transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,-1);NT.render=function(e,t,n,r,o,i){return gr(),wr("svg",PT,[Tr("defs",null,[Tr("linearGradient",{id:`linearGradient-1-${e.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},BT,8,zT),Tr("linearGradient",{id:`linearGradient-2-${e.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},IT,8,RT),Tr("rect",{id:`path-3-${e.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,LT)]),Tr("g",FT,[Tr("g",VT,[Tr("g",HT,[jT,$T,Tr("g",UT,[WT,qT,Tr("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,KT),YT]),Tr("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,GT),Tr("g",XT,[Tr("mask",{id:`mask-4-${e.id}`,fill:"white"},[Tr("use",{"xlink:href":`#path-3-${e.id}`},null,8,JT)],8,ZT),Tr("use",{id:"Mask",fill:"#E0E3E9",transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${e.id}`},null,8,QT),Tr("polygon",{id:"Rectangle-Copy",fill:"#D5D7DE",mask:`url(#mask-4-${e.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 -1.70530257e-13 16"},null,8,eE)]),tE])])])])},NT.__file="packages/components/empty/src/img-empty.vue";var nE=Qt({name:"ElEmpty",components:{[NT.name]:NT},props:{image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},setup(e){const{t:t}=nv();return{emptyDescription:Et((()=>e.description||t("el.table.emptyText"))),imageStyle:Et((()=>({width:e.imageSize?`${e.imageSize}px`:""})))}}});const rE={class:"el-empty"},oE=["src"],iE={class:"el-empty__description"},aE={key:1},lE={key:0,class:"el-empty__bottom"};nE.render=function(e,t,n,o,i,a){const l=or("img-empty");return gr(),wr("div",rE,[Tr("div",{class:"el-empty__image",style:r(e.imageStyle)},[e.image?(gr(),wr("img",{key:0,src:e.image,ondragstart:"return false"},null,8,oE)):Fr(e.$slots,"image",{key:1},(()=>[Er(l)]))],4),Tr("div",iE,[e.$slots.description?Fr(e.$slots,"description",{key:0}):(gr(),wr("p",aE,d(e.emptyDescription),1))]),e.$slots.default?(gr(),wr("div",lE,[Fr(e.$slots,"default")])):Nr("v-if",!0)])},nE.__file="packages/components/empty/src/index.vue",nE.install=e=>{e.component(nE.name,nE)};const uE=nE;function sE(){return(sE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cE(e){return(cE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dE(e,t){return(dE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pE(e,t,n){return(pE=fE()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&dE(o,n.prototype),o}).apply(null,arguments)}function mE(e){var t="function"==typeof Map?new Map:void 0;return(mE=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return pE(e,arguments,cE(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dE(r,e)})(e)}var hE=/%[sdj%]/g,gE=function(){};function vE(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function bE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,o=t[0],i=t.length;if("function"==typeof o)return o.apply(null,t.slice(1));if("string"==typeof o){var a=String(o).replace(hE,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(n){return"[Circular]"}break;default:return e}}));return a}return o}function yE(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function wE(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var l=r;r+=1,l<o?t(e[l],i):n([])}}([])}"undefined"!=typeof process&&process.env;var xE=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,dE(t,n),r}(mE(Error));function CE(e,t,n,r){if(t.first){var o=new Promise((function(t,o){wE(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e),n,(function(e){return r(e),e.length?o(new xE(e,vE(e))):t()}))}));return o.catch((function(e){return e})),o}var i=t.firstFields||[];!0===i&&(i=Object.keys(e));var a=Object.keys(e),l=a.length,u=0,s=[],c=new Promise((function(t,o){var c=function(e){if(s.push.apply(s,e),++u===l)return r(s),s.length?o(new xE(s,vE(s))):t()};a.length||(r(s),t()),a.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?wE(r,n,c):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e),++o===i&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,c)}))}));return c.catch((function(e){return e})),c}function kE(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function SE(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=sE({},e[n],r):e[n]=r}return e}function _E(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!yE(t,i||e.type)||r.push(bE(o.messages.required,e.fullField))}var OE={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},TE={integer:function(e){return TE.number(e)&&parseInt(e,10)===e},float:function(e){return TE.number(e)&&!TE.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!TE.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(OE.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(OE.url)},hex:function(e){return"string"==typeof e&&!!e.match(OE.hex)}};var EE={required:_E,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(bE(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)_E(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?TE[i](t)||r.push(bE(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(bE(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,l="number"==typeof e.max,u=t,s=null,c="number"==typeof t,d="string"==typeof t,f=Array.isArray(t);if(c?s="number":d?s="string":f&&(s="array"),!s)return!1;f&&(u=t.length),d&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?u!==e.len&&r.push(bE(o.messages[s].len,e.fullField,e.len)):a&&!l&&u<e.min?r.push(bE(o.messages[s].min,e.fullField,e.min)):l&&!a&&u>e.max?r.push(bE(o.messages[s].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&r.push(bE(o.messages[s].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(bE(o.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(bE(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(bE(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};function AE(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t,i)&&!e.required)return n();EE.required(e,t,r,a,o,i),yE(t,i)||EE.type(e,t,r,a,o)}n(a)}var ME={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t,"string")&&!e.required)return n();EE.required(e,t,r,i,o,"string"),yE(t,"string")||(EE.type(e,t,r,i,o),EE.range(e,t,r,i,o),EE.pattern(e,t,r,i,o),!0===e.whitespace&&EE.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),void 0!==t&&EE.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),void 0!==t&&(EE.type(e,t,r,i,o),EE.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),void 0!==t&&EE.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),yE(t)||EE.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),void 0!==t&&(EE.type(e,t,r,i,o),EE.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),void 0!==t&&(EE.type(e,t,r,i,o),EE.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();EE.required(e,t,r,i,o,"array"),null!=t&&(EE.type(e,t,r,i,o),EE.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),void 0!==t&&EE.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o),void 0!==t&&EE.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t,"string")&&!e.required)return n();EE.required(e,t,r,i,o),yE(t,"string")||EE.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t,"date")&&!e.required)return n();var a;if(EE.required(e,t,r,i,o),!yE(t,"date"))a=t instanceof Date?t:new Date(t),EE.type(e,a,r,i,o),a&&EE.range(e,a.getTime(),r,i,o)}n(i)},url:AE,hex:AE,email:AE,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;EE.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(yE(t)&&!e.required)return n();EE.required(e,t,r,i,o)}n(i)}};function DE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var NE=DE();function PE(e){this.rules=null,this._messages=NE,this.define(e)}PE.prototype={messages:function(e){return e&&(this._messages=SE(DE(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=function(){});var o,i,a=e,l=t,u=n;if("function"==typeof l&&(u=l,l={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(),Promise.resolve();if(l.messages){var s=this.messages();s===NE&&(s=DE()),SE(s,l.messages),l.messages=s}else l.messages=this.messages();var c={};(l.keys||Object.keys(this.rules)).forEach((function(t){o=r.rules[t],i=a[t],o.forEach((function(n){var o=n;"function"==typeof o.transform&&(a===e&&(a=sE({},a)),i=a[t]=o.transform(i)),(o="function"==typeof o?{validator:o}:sE({},o)).validator=r.getValidationMethod(o),o.field=t,o.fullField=o.fullField||t,o.type=r.getType(o),o.validator&&(c[t]=c[t]||[],c[t].push({rule:o,value:i,source:a,field:t}))}))}));var d={};return CE(c,l,(function(e,t){var n,r=e.rule,o=!("object"!==r.type&&"array"!==r.type||"object"!=typeof r.fields&&"object"!=typeof r.defaultField);function i(e,t){return sE({},t,{fullField:r.fullField+"."+e})}function a(n){void 0===n&&(n=[]);var a=n;if(Array.isArray(a)||(a=[a]),!l.suppressWarning&&a.length&&PE.warning("async-validator:",a),a.length&&void 0!==r.message&&(a=[].concat(r.message)),a=a.map(kE(r)),l.first&&a.length)return d[r.field]=1,t(a);if(o){if(r.required&&!e.value)return void 0!==r.message?a=[].concat(r.message).map(kE(r)):l.error&&(a=[l.error(r,bE(l.messages.required,r.field))]),t(a);var u={};if(r.defaultField)for(var s in e.value)e.value.hasOwnProperty(s)&&(u[s]=r.defaultField);for(var c in u=sE({},u,e.rule.fields))if(u.hasOwnProperty(c)){var f=Array.isArray(u[c])?u[c]:[u[c]];u[c]=f.map(i.bind(null,c))}var p=new PE(u);p.messages(l.messages),e.rule.options&&(e.rule.options.messages=l.messages,e.rule.options.error=l.error),p.validate(e.value,e.rule.options||l,(function(e){var n=[];a&&a.length&&n.push.apply(n,a),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(a)}o=o&&(r.required||!r.required&&e.value),r.field=e.field,r.asyncValidator?n=r.asyncValidator(r,e.value,a,e.source,l):r.validator&&(!0===(n=r.validator(r,e.value,a,e.source,l))?a():!1===n?a(r.message||r.field+" fails"):n instanceof Array?a(n):n instanceof Error&&a(n.message)),n&&n.then&&n.then((function(){return a()}),(function(e){return a(e)}))}),(function(e){!function(e){var t,n,r,o=[],i={};for(t=0;t<e.length;t++)n=e[t],r=void 0,Array.isArray(n)?o=(r=o).concat.apply(r,n):o.push(n);o.length?i=vE(o):(o=null,i=null),u(o,i)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!ME.hasOwnProperty(e.type))throw new Error(bE("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?ME.required:ME[this.getType(e)]||!1}},PE.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");ME[e]=t},PE.warning=gE,PE.messages=NE,PE.validators=ME;var zE=Object.defineProperty,BE=Object.defineProperties,RE=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,LE=Object.prototype.hasOwnProperty,FE=Object.prototype.propertyIsEnumerable,VE=(e,t,n)=>t in e?zE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HE=(e,t)=>{for(var n in t||(t={}))LE.call(t,n)&&VE(e,n,t[n]);if(IE)for(var n of IE(t))FE.call(t,n)&&VE(e,n,t[n]);return e};var jE=Qt({name:"ElForm",props:{model:Object,rules:Object,labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},emits:["validate"],setup(e,{emit:t}){const n=Wk(),r=[];Mo((()=>e.rules),(()=>{r.forEach((e=>{e.removeValidateEvents(),e.addValidateEvents()})),e.validateOnRuleChange&&a((()=>({})))})),n.on(Mv,(e=>{e&&r.push(e)})),n.on(Dv,(e=>{e.prop&&r.splice(r.indexOf(e),1)}));const o=()=>{e.model?r.forEach((e=>{e.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},i=(e=[])=>{(e.length?"string"==typeof e?r.filter((t=>e===t.prop)):r.filter((t=>e.indexOf(t.prop)>-1)):r).forEach((e=>{e.clearValidate()}))},a=t=>{if(!e.model)return void console.warn("[Element Warn][Form]model is required for validate to work!");let n;"function"!=typeof t&&(n=new Promise(((e,n)=>{t=function(t,r){t?e(!0):n(r)}}))),0===r.length&&t(!0);let o=!0,i=0,a={};for(const e of r)e.validate("",((e,n)=>{e&&(o=!1),a=HE(HE({},a),n),++i===r.length&&t(o,a)}));return n},l=(e,t)=>{e=[].concat(e);const n=r.filter((t=>-1!==e.indexOf(t.prop)));r.length?n.forEach((e=>{e.validate("",t)})):console.warn("[Element Warn]please pass correct props!")};return jt("elForm",it(HE(((e,t)=>BE(e,RE(t)))(HE({formMitt:n},St(e)),{resetFields:o,clearValidate:i,validateField:l,emit:t}),function(){const e=vt([]);function t(t){const n=e.value.indexOf(t);return-1===n&&console.warn("[Element Warn][ElementForm]unexpected width "+t),n}return{autoLabelWidth:Et((()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?`${t}px`:""})),registerLabelWidth:function(n,r){if(n&&r){const o=t(r);e.value.splice(o,1,n)}else n&&e.value.push(n)},deregisterLabelWidth:function(n){const r=t(n);r>-1&&e.value.splice(r,1)}}}()))),{validate:a,resetFields:o,clearValidate:i,validateField:l}}});jE.render=function(e,t,n,r,o,i){return gr(),wr("form",{class:l(["el-form",[e.labelPosition?"el-form--label-"+e.labelPosition:"",{"el-form--inline":e.inline}]])},[Fr(e.$slots,"default")],2)},jE.__file="packages/components/form/src/form.vue";var $E=Qt({name:"ElLabelWrap",props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=vt(null),r=$t("elForm"),o=$t("elFormItem"),i=vt(0);Mo(i,((t,n)=>{e.updateAll&&(r.registerLabelWidth(t,n),o.updateComputedLabelWidth(t))}));const a=(o="update")=>{wo((()=>{t.default&&e.isAutoWidth&&("update"===o?i.value=(()=>{var e;if(null==(e=n.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(n.value.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0})():"remove"===o&&r.deregisterLabelWidth(i.value))}))},l=()=>a("update");return cn((()=>{Dg(n.value.firstElementChild,l),l()})),fn(l),pn((()=>{a("remove"),Ng(n.value.firstElementChild,l)})),function(){var o,a;if(!t)return null;if(e.isAutoWidth){const e=r.autoLabelWidth,a={};if(e&&"auto"!==e){const t=Math.max(0,parseInt(e,10)-i.value),n="left"===r.labelPosition?"marginRight":"marginLeft";t&&(a[n]=t+"px")}return Bo("div",{ref:n,class:["el-form-item__label-wrap"],style:a},null==(o=t.default)?void 0:o.call(t))}return Bo(cr,{ref:n},null==(a=t.default)?void 0:a.call(t))}}}),UE=Object.defineProperty,WE=Object.defineProperties,qE=Object.getOwnPropertyDescriptors,KE=Object.getOwnPropertySymbols,YE=Object.prototype.hasOwnProperty,GE=Object.prototype.propertyIsEnumerable,XE=(e,t,n)=>t in e?UE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZE=(e,t)=>{for(var n in t||(t={}))YE.call(t,n)&&XE(e,n,t[n]);if(KE)for(var n of KE(t))GE.call(t,n)&&XE(e,n,t[n]);return e},JE=Qt({name:"ElFormItem",componentName:"ElFormItem",components:{LabelWrap:$E},props:{label:String,labelWidth:{type:[String,Number],default:""},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,validator:Pv}},setup(e,{slots:t}){const n=Wk(),r=$p(),o=$t("elForm",{}),i=vt(""),a=vt(""),l=vt(!1),u=vt(""),s=Yr(),c=Et((()=>{let e=s.parent;for(;e&&"ElForm"!==e.type.name;){if("ElFormItem"===e.type.name)return!0;e=e.parent}return!1}));let d;Mo((()=>e.error),(e=>{a.value=e,i.value=e?"error":""}),{immediate:!0}),Mo((()=>e.validateStatus),(e=>{i.value=e}));const f=Et((()=>e.for||e.prop)),p=Et((()=>{const t={};if("top"===o.labelPosition)return t;const n=Gp(e.labelWidth)||Gp(o.labelWidth);return n&&(t.width=n),t})),m=Et((()=>{const n={};if("top"===o.labelPosition||o.inline)return n;if(!e.label&&!e.labelWidth&&c.value)return n;const r=Gp(e.labelWidth)||Gp(o.labelWidth);return e.label||t.label||(n.marginLeft=r),n})),g=Et((()=>{const t=o.model;if(!t||!e.prop)return;let n=e.prop;return-1!==n.indexOf(":")&&(n=n.replace(/:/,".")),zp(t,n,!0).v})),v=Et((()=>{let e=k(),t=!1;return e&&e.length&&e.every((e=>!e.required||(t=!0,!1))),t})),b=Et((()=>e.size||o.size)),y=Et((()=>b.value||r.size)),w=(t,n=h)=>{l.value=!1;const r=S(t);if((!r||0===r.length)&&void 0===e.required)return void n();i.value="validating";const u={};r&&r.length>0&&r.forEach((e=>{delete e.trigger})),u[e.prop]=r;const s=new PE(u),c={};c[e.prop]=g.value,s.validate(c,{firstFields:!0},((t,r)=>{var l;i.value=t?"error":"success",a.value=t?t[0].message:"",n(a.value,r),null==(l=o.emit)||l.call(o,"validate",e.prop,!t,a.value||null)}))},x=()=>{i.value="",a.value="",l.value=!1},C=()=>{i.value="",a.value="";let t=o.model,n=g.value,r=e.prop;-1!==r.indexOf(":")&&(r=r.replace(/:/,"."));let u=zp(t,r,!0);l.value=!0,Array.isArray(n)?u.o[u.k]=[].concat(d):u.o[u.k]=d,wo((()=>{l.value=!1}))},k=()=>{const t=o.rules,n=e.rules,r=void 0!==e.required?{required:!!e.required}:[],i=zp(t,e.prop||"",!1),a=t?i.o[e.prop||""]||i.v:[];return[].concat(n||a||[]).concat(r)},S=e=>k().filter((t=>!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e))).map((e=>ZE({},e))),_=()=>{w("blur")},O=()=>{l.value?l.value=!1:w("change")},T=()=>{(k().length||void 0!==e.required)&&(n.on("el.form.blur",_),n.on("el.form.change",O))},E=it(((e,t)=>WE(e,qE(t)))(ZE({},St(e)),{size:y,validateState:i,removeValidateEvents:()=>{n.off("el.form.blur",_),n.off("el.form.change",O)},addValidateEvents:T,resetField:C,clearValidate:x,validate:w,formItemMitt:n,updateComputedLabelWidth:e=>{u.value=e?`${e}px`:""}}));cn((()=>{var t;if(e.prop){null==(t=o.formMitt)||t.emit(Mv,E);let e=g.value;d=Array.isArray(e)?[...e]:e,T()}})),pn((()=>{var e;null==(e=o.formMitt)||e.emit(Dv,E)})),jt("elFormItem",E);return{formItemClass:Et((()=>[{"el-form-item--feedback":o.statusIcon,"is-error":"error"===i.value,"is-validating":"validating"===i.value,"is-success":"success"===i.value,"is-required":v.value||e.required,"is-no-asterisk":o.hideRequiredAsterisk},y.value?"el-form-item--"+y.value:""])),shouldShowError:Et((()=>"error"===i.value&&e.showMessage&&o.showMessage)),elForm:o,labelStyle:p,contentStyle:m,validateMessage:a,labelFor:f,resetField:C,clearValidate:x}}});const QE=["for"];JE.render=function(e,t,n,o,i,a){const u=or("LabelWrap");return gr(),wr("div",{class:l(["el-form-item",e.formItemClass])},[Er(u,{"is-auto-width":"auto"===e.labelStyle.width,"update-all":"auto"===e.elForm.labelWidth},{default:It((()=>[e.label||e.$slots.label?(gr(),wr("label",{key:0,for:e.labelFor,class:"el-form-item__label",style:r(e.labelStyle)},[Fr(e.$slots,"label",{label:e.label+e.elForm.labelSuffix},(()=>[Dr(d(e.label+e.elForm.labelSuffix),1)]))],12,QE)):Nr("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),Tr("div",{class:"el-form-item__content",style:r(e.contentStyle)},[Fr(e.$slots,"default"),Er(ei,{name:"el-zoom-in-top"},{default:It((()=>[e.shouldShowError?Fr(e.$slots,"error",{key:0,error:e.validateMessage},(()=>[Tr("div",{class:l(["el-form-item__error",{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm.inlineMessage||!1}])},d(e.validateMessage),3)])):Nr("v-if",!0)])),_:3})],4)],2)},JE.__file="packages/components/form/src/form-item.vue",jE.install=e=>{e.component(jE.name,jE),e.component(JE.name,JE)},jE.FormItem=JE;const eA=jE;var tA=Object.defineProperty,nA=Object.getOwnPropertySymbols,rA=Object.prototype.hasOwnProperty,oA=Object.prototype.propertyIsEnumerable,iA=(e,t,n)=>t in e?tA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aA=(e,t)=>{for(var n in t||(t={}))rA.call(t,n)&&iA(e,n,t[n]);if(nA)for(var n of nA(t))oA.call(t,n)&&iA(e,n,t[n]);return e},lA=Qt({name:"ElIcon",props:{size:{type:Number},color:{type:String}},setup:e=>({style:Et((()=>e.size||e.color?aA(aA({},e.size?{"--font-size":`${e.size}px`}:{}),e.color?{"--color":e.color}:{}):{}))})});lA.render=function(e,t,n,r,o,i){return gr(),wr("i",Rr({class:"el-icon",style:e.style},e.$attrs),[Fr(e.$slots,"default")],16)},lA.__file="packages/components/icon/src/index.vue",lA.install=e=>{e.component(lA.name,lA)};const uA=lA;var sA=Object.defineProperty,cA=Object.defineProperties,dA=Object.getOwnPropertyDescriptors,fA=Object.getOwnPropertySymbols,pA=Object.prototype.hasOwnProperty,mA=Object.prototype.propertyIsEnumerable,hA=(e,t,n)=>t in e?sA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gA=(e,t)=>{for(var n in t||(t={}))pA.call(t,n)&&hA(e,n,t[n]);if(fA)for(var n of fA(t))mA.call(t,n)&&hA(e,n,t[n]);return e};const vA={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},bA=!Ap&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel";var yA=Qt({name:"ElImageViewer",props:{urlList:{type:Array,default:[]},zIndex:{type:Number,default:2e3},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1}},emits:["close","switch"],setup(e,{emit:t}){const{t:n}=nv();let r=null,o=null,i=null;const a=vt(!0),l=vt(e.initialIndex),u=vt(null),s=vt(null),c=vt(vA.CONTAIN);let d=vt({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1});const f=Et((()=>{const{urlList:t}=e;return t.length<=1})),p=Et((()=>0===l.value)),m=Et((()=>l.value===e.urlList.length-1)),h=Et((()=>e.urlList[l.value])),g=Et((()=>{const{scale:e,deg:t,offsetX:n,offsetY:r,enableTransition:o}=d.value,i={transform:`scale(${e}) rotate(${t}deg)`,transition:o?"transform .3s":"",marginLeft:`${n}px`,marginTop:`${r}px`};return c.value.name===vA.CONTAIN.name&&(i.maxWidth=i.maxHeight="100%"),i}));function v(){em(document,"keydown",r),em(document,bA,o),r=null,o=null,t("close")}function b(){d.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function y(){if(a.value)return;const e=Object.keys(vA),t=Object.values(vA),n=c.value.name,r=(t.findIndex((e=>e.name===n))+1)%e.length;c.value=vA[e[r]],b()}function w(){if(p.value&&!e.infinite)return;const t=e.urlList.length;l.value=(l.value-1+t)%t}function x(){if(m.value&&!e.infinite)return;const t=e.urlList.length;l.value=(l.value+1)%t}function C(e,t={}){if(a.value)return;const{zoomRate:n,rotateDeg:r,enableTransition:o}=gA({zoomRate:.2,rotateDeg:90,enableTransition:!0},t);switch(e){case"zoomOut":d.value.scale>.2&&(d.value.scale=parseFloat((d.value.scale-n).toFixed(3)));break;case"zoomIn":d.value.scale=parseFloat((d.value.scale+n).toFixed(3));break;case"clocelise":d.value.deg+=r;break;case"anticlocelise":d.value.deg-=r}d.value.enableTransition=o}return Mo(h,(()=>{wo((()=>{s.value.complete||(a.value=!0)}))})),Mo(l,(e=>{b(),t("switch",e)})),cn((()=>{var e,t;r=Fp((e=>{switch(e.code){case pm.esc:v();break;case pm.space:y();break;case pm.left:w();break;case pm.up:C("zoomIn");break;case pm.right:x();break;case pm.down:C("zoomOut")}})),o=Fp((e=>{C((e.wheelDelta?e.wheelDelta:-e.detail)>0?"zoomIn":"zoomOut",{zoomRate:.015,enableTransition:!1})})),Qp(document,"keydown",r),Qp(document,bA,o),null==(t=null==(e=u.value)?void 0:e.focus)||t.call(e)})),{index:l,wrapper:u,img:s,isSingle:f,isFirst:p,isLast:m,currentImg:h,imgStyle:g,mode:c,handleActions:C,prev:w,next:x,hide:v,toggleMode:y,handleImgLoad:function(){a.value=!1},handleImgError:function(e){a.value=!1,e.target.alt=n("el.image.error")},handleMouseDown:function(e){if(a.value||0!==e.button)return;const{offsetX:t,offsetY:n}=d.value,r=e.pageX,o=e.pageY;i=Fp((e=>{d.value=((e,t)=>cA(e,dA(t)))(gA({},d.value),{offsetX:t+e.pageX-r,offsetY:n+e.pageY-o})})),Qp(document,"mousemove",i),Qp(document,"mouseup",(()=>{em(document,"mousemove",i)})),e.preventDefault()}}}});const wA=[Tr("i",{class:"el-icon-close"},null,-1)],xA=[Tr("i",{class:"el-icon-arrow-left"},null,-1)],CA=[Tr("i",{class:"el-icon-arrow-right"},null,-1)],kA={class:"el-image-viewer__btn el-image-viewer__actions"},SA={class:"el-image-viewer__actions__inner"},_A=Tr("i",{class:"el-image-viewer__actions__divider"},null,-1),OA=Tr("i",{class:"el-image-viewer__actions__divider"},null,-1),TA={class:"el-image-viewer__canvas"},EA=["src"];yA.render=function(e,t,n,o,i,a){return gr(),xr(ei,{name:"viewer-fade"},{default:It((()=>[Tr("div",{ref:"wrapper",tabindex:-1,class:"el-image-viewer__wrapper",style:r({zIndex:e.zIndex})},[Tr("div",{class:"el-image-viewer__mask",onClick:t[0]||(t[0]=Pi((t=>e.hideOnClickModal&&e.hide()),["self"]))}),Nr(" CLOSE "),Tr("span",{class:"el-image-viewer__btn el-image-viewer__close",onClick:t[1]||(t[1]=(...t)=>e.hide&&e.hide(...t))},wA),Nr(" ARROW "),e.isSingle?Nr("v-if",!0):(gr(),wr(cr,{key:0},[Tr("span",{class:l(["el-image-viewer__btn el-image-viewer__prev",{"is-disabled":!e.infinite&&e.isFirst}]),onClick:t[2]||(t[2]=(...t)=>e.prev&&e.prev(...t))},xA,2),Tr("span",{class:l(["el-image-viewer__btn el-image-viewer__next",{"is-disabled":!e.infinite&&e.isLast}]),onClick:t[3]||(t[3]=(...t)=>e.next&&e.next(...t))},CA,2)],64)),Nr(" ACTIONS "),Tr("div",kA,[Tr("div",SA,[Tr("i",{class:"el-icon-zoom-out",onClick:t[4]||(t[4]=t=>e.handleActions("zoomOut"))}),Tr("i",{class:"el-icon-zoom-in",onClick:t[5]||(t[5]=t=>e.handleActions("zoomIn"))}),_A,Tr("i",{class:l(e.mode.icon),onClick:t[6]||(t[6]=(...t)=>e.toggleMode&&e.toggleMode(...t))},null,2),OA,Tr("i",{class:"el-icon-refresh-left",onClick:t[7]||(t[7]=t=>e.handleActions("anticlocelise"))}),Tr("i",{class:"el-icon-refresh-right",onClick:t[8]||(t[8]=t=>e.handleActions("clocelise"))})])]),Nr(" CANVAS "),Tr("div",TA,[(gr(!0),wr(cr,null,Ir(e.urlList,((n,o)=>$n((gr(),wr("img",{ref:"img",key:n,src:n,style:r(e.imgStyle),class:"el-image-viewer__img",onLoad:t[9]||(t[9]=(...t)=>e.handleImgLoad&&e.handleImgLoad(...t)),onError:t[10]||(t[10]=(...t)=>e.handleImgError&&e.handleImgError(...t)),onMousedown:t[11]||(t[11]=(...t)=>e.handleMouseDown&&e.handleMouseDown(...t))},null,44,EA)),[[Ri,o===e.index]]))),128))])],4)])),_:1})},yA.__file="packages/components/image-viewer/src/index.vue",yA.install=e=>{e.component(yA.name,yA)};const AA=yA,MA=()=>void 0!==document.documentElement.style.objectFit,DA="none",NA="contain",PA="cover",zA="fill",BA="scale-down";let RA="";var IA=Qt({name:"ElImage",components:{ImageViewer:yA},inheritAttrs:!1,props:{appendToBody:{type:Boolean,default:!1},hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,default:""},lazy:{type:Boolean,default:!1},scrollContainer:{type:[String,Object],default:null},previewSrcList:{type:Array,default:()=>[]},zIndex:{type:Number,default:2e3}},emits:["error"],setup(e,{emit:t}){const{t:n}=nv(),r=Jp(),o=vt(!1),i=vt(!0),a=vt(0),l=vt(0),u=vt(!1),s=vt(null);let c=null,d=null;const f=Et((()=>{const{fit:t}=e;return!Ap&&t?MA()?{"object-fit":t}:function(e){const t=a.value,n=l.value;if(!s.value)return{};const{clientWidth:r,clientHeight:o}=s.value;if(!(t&&n&&r&&o))return{};const i=t/n,u=r/o;if(e===BA){e=t<r&&n<o?DA:NA}switch(e){case DA:return{width:"auto",height:"auto"};case NA:return i<u?{width:"auto"}:{height:"auto"};case PA:return i<u?{height:"auto"}:{width:"auto"};default:return{}}}(t):{}})),p=Et((()=>{const{fit:t}=e;return!Ap&&!MA()&&t!==zA})),m=Et((()=>{const{previewSrcList:t}=e;return Array.isArray(t)&&t.length>0})),h=Et((()=>{const{src:t,previewSrcList:n}=e;let r=0;const o=n.indexOf(t);return o>=0&&(r=o),r}));const g=()=>{if(Ap)return;const t=r.value;i.value=!0,o.value=!1;const n=new Image;n.onload=e=>function(e,t){a.value=t.width,l.value=t.height,i.value=!1,o.value=!1}(0,n),n.onerror=v,Object.keys(t).forEach((e=>{if("onload"===e.toLowerCase())return;const r=t[e];n.setAttribute(e,r)})),n.src=e.src};function v(e){i.value=!1,o.value=!0,t("error",e)}function b(){((e,t)=>{if(Ap||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right})(s.value,c)&&(g(),w())}function y(){if(Ap)return;const{scrollContainer:t}=e;var n;c=(n=t)&&1===n.nodeType?t:A(t)&&""!==t?document.querySelector(t):am(s.value),c&&(d=Gb(b,200),Qp(c,"scroll",d),setTimeout((()=>b()),100))}function w(){!Ap&&c&&d&&(em(c,"scroll",d),c=null,d=null)}return Mo((()=>e.src),(()=>{g()})),cn((()=>{e.lazy?wo(y):g()})),pn((()=>{e.lazy&&w()})),{attrs:r,loading:i,hasLoadError:o,showViewer:u,imgWidth:a,imgHeight:l,imageStyle:f,alignCenter:p,preview:m,imageIndex:h,clickHandler:function(){m.value&&(RA=document.body.style.overflow,document.body.style.overflow="hidden",u.value=!0)},closeViewer:function(){document.body.style.overflow=RA,u.value=!1},container:s,handleError:v,t:n}}});const LA=Tr("div",{class:"el-image__placeholder"},null,-1),FA={class:"el-image__error"},VA=["src"];IA.render=function(e,t,n,o,i,a){const u=or("image-viewer");return gr(),wr("div",{ref:"container",class:l(["el-image",e.$attrs.class]),style:r(e.$attrs.style)},[e.loading?Fr(e.$slots,"placeholder",{key:0},(()=>[LA])):e.hasLoadError?Fr(e.$slots,"error",{key:1},(()=>[Tr("div",FA,d(e.t("el.image.error")),1)])):(gr(),wr("img",Rr({key:2,class:"el-image__inner"},e.attrs,{src:e.src,style:e.imageStyle,class:{"el-image__inner--center":e.alignCenter,"el-image__preview":e.preview},onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t))}),null,16,VA)),(gr(),xr(rr,{to:"body",disabled:!e.appendToBody},[e.preview?(gr(),wr(cr,{key:0},[e.showViewer?(gr(),xr(u,{key:0,"z-index":e.zIndex,"initial-index":e.imageIndex,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,onClose:e.closeViewer},null,8,["z-index","initial-index","url-list","hide-on-click-modal","onClose"])):Nr("v-if",!0)],2112)):Nr("v-if",!0)],8,["disabled"]))],6)},IA.__file="packages/components/image/src/index.vue",IA.install=e=>{e.component(IA.name,IA)};const HA=IA;var jA=Qt({name:"ElInputNumber",components:{ElInput:ob},directives:{RepeatClick:Mh},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},modelValue:{required:!0,type:Number},disabled:{type:Boolean,default:!1},size:{type:String,validator:Pv},controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===parseInt(e+"",10)}},emits:["update:modelValue","change","input","blur","focus"],setup(e,{emit:t}){const n=$p(),r=$t("elForm",{}),o=$t("elFormItem",{}),i=vt(null),a=it({currentValue:e.modelValue,userInput:null}),l=Et((()=>v(e.modelValue)<e.min)),u=Et((()=>g(e.modelValue)>e.max)),s=Et((()=>{const t=h(e.step);return void 0!==e.precision?(t>e.precision&&console.warn("[ElementPlus Warn][InputNumber] precision should not be less than the decimal places of step"),e.precision):Math.max(h(e.modelValue),t)})),c=Et((()=>e.controls&&"right"===e.controlsPosition)),d=Et((()=>e.size||o.size||n.size)),f=Et((()=>e.disabled||r.disabled)),p=Et((()=>{if(null!==a.userInput)return a.userInput;let t=a.currentValue;return"number"==typeof t&&void 0!==e.precision&&(t=t.toFixed(e.precision)),t})),m=(e,t)=>(void 0===t&&(t=s.value),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)+"")),h=e=>{if(void 0===e)return 0;const t=e.toString(),n=t.indexOf(".");let r=0;return-1!==n&&(r=t.length-n-1),r},g=t=>{if("number"!=typeof t&&void 0!==t)return a.currentValue;const n=Math.pow(10,s.value);return m((n*t+n*e.step)/n)},v=t=>{if("number"!=typeof t&&void 0!==t)return a.currentValue;const n=Math.pow(10,s.value);return m((n*t-n*e.step)/n)},b=n=>{const r=a.currentValue;"number"==typeof n&&void 0!==e.precision&&(n=m(n,e.precision)),void 0!==n&&n>=e.max&&(n=e.max),void 0!==n&&n<=e.min&&(n=e.min),r!==n&&(a.userInput=null,t("update:modelValue",n),t("input",n),t("change",n,r),a.currentValue=n)};return Mo((()=>e.modelValue),(n=>{let r=void 0===n?n:Number(n);if(void 0!==r){if(isNaN(r))return;if(e.stepStrictly){const t=h(e.step),n=Math.pow(10,t);r=Math.round(r/e.step)*n*e.step/n}void 0!==e.precision&&(r=m(r,e.precision))}void 0!==r&&r>=e.max&&(r=e.max,t("update:modelValue",r)),void 0!==r&&r<=e.min&&(r=e.min,t("update:modelValue",r)),a.currentValue=r,a.userInput=null}),{immediate:!0}),cn((()=>{let n=i.value.input;n.setAttribute("role","spinbutton"),n.setAttribute("aria-valuemax",e.max),n.setAttribute("aria-valuemin",e.min),n.setAttribute("aria-valuenow",a.currentValue),n.setAttribute("aria-disabled",f.value),"Number"!==B(e.modelValue)&&void 0!==e.modelValue&&t("update:modelValue",void 0)})),fn((()=>{i.value.input.setAttribute("aria-valuenow",a.currentValue)})),{input:i,displayValue:p,handleInput:e=>a.userInput=e,handleInputChange:e=>{const t=""===e?void 0:Number(e);isNaN(t)&&""!==e||b(t),a.userInput=null},controlsAtRight:c,decrease:()=>{if(f.value||l.value)return;const t=e.modelValue||0,n=v(t);b(n)},increase:()=>{if(f.value||u.value)return;const t=e.modelValue||0,n=g(t);b(n)},inputNumberSize:d,inputNumberDisabled:f,maxDisabled:u,minDisabled:l}}});jA.render=function(e,t,n,r,o,i){const a=or("el-input"),u=lr("repeat-click");return gr(),wr("div",{class:l(["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}]),onDragstart:t[4]||(t[4]=Pi((()=>{}),["prevent"]))},[e.controls?$n((gr(),wr("span",{key:0,class:l(["el-input-number__decrease",{"is-disabled":e.minDisabled}]),role:"button",onKeydown:t[0]||(t[0]=Bi(((...t)=>e.decrease&&e.decrease(...t)),["enter"]))},[Tr("i",{class:l("el-icon-"+(e.controlsAtRight?"arrow-down":"minus"))},null,2)],34)),[[u,e.decrease]]):Nr("v-if",!0),e.controls?$n((gr(),wr("span",{key:1,class:l(["el-input-number__increase",{"is-disabled":e.maxDisabled}]),role:"button",onKeydown:t[1]||(t[1]=Bi(((...t)=>e.increase&&e.increase(...t)),["enter"]))},[Tr("i",{class:l("el-icon-"+(e.controlsAtRight?"arrow-up":"plus"))},null,2)],34)),[[u,e.increase]]):Nr("v-if",!0),Er(a,{ref:"input","model-value":e.displayValue,placeholder:e.placeholder,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label,onKeydown:[Bi(Pi(e.increase,["prevent"]),["up"]),Bi(Pi(e.decrease,["prevent"]),["down"])],onBlur:t[2]||(t[2]=t=>e.$emit("blur",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t)),onInput:e.handleInput,onChange:e.handleInputChange},null,8,["model-value","placeholder","disabled","size","max","min","name","label","onKeydown","onInput","onChange"])],34)},jA.__file="packages/components/input-number/src/index.vue",jA.install=e=>{e.component(jA.name,jA)};const $A=jA,UA=$A;var WA=Qt({name:"ElLink",props:{type:{type:String,default:"default",validator:e=>["default","primary","success","warning","info","danger"].includes(e)},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:String,default:""}},emits:["click"],setup:(e,{emit:t})=>({handleClick:function(n){e.disabled||t("click",n)}})});const qA=["href"],KA={key:1,class:"el-link--inner"};WA.render=function(e,t,n,r,o,i){return gr(),wr("a",{class:l(["el-link",e.type?`el-link--${e.type}`:"",e.disabled&&"is-disabled",e.underline&&!e.disabled&&"is-underline"]),href:e.disabled||!e.href?null:e.href,onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.icon?(gr(),wr("i",{key:0,class:l(e.icon)},null,2)):Nr("v-if",!0),e.$slots.default?(gr(),wr("span",KA,[Fr(e.$slots,"default")])):Nr("v-if",!0),e.$slots.icon?Fr(e.$slots,"icon",{key:2}):Nr("v-if",!0)],10,qA)},WA.__file="packages/components/link/src/index.vue",WA.install=e=>{e.component(WA.name,WA)};const YA=WA;var GA=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(t=>{t.addEventListener("keydown",(t=>{let n=!1;switch(t.code){case pm.down:this.gotoSubIndex(this.subIndex+1),n=!0;break;case pm.up:this.gotoSubIndex(this.subIndex-1),n=!0;break;case pm.tab:vm(e,"mouseleave");break;case pm.enter:case pm.space:n=!0,t.currentTarget.click()}return n&&(t.preventDefault(),t.stopPropagation()),!1}))}))}};var XA=class{constructor(e){this.domNode=e,this.submenu=null,this.submenu=null,this.init()}init(){this.domNode.setAttribute("tabindex","0");const e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new GA(this,e)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(e=>{let t=!1;switch(e.code){case pm.down:vm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case pm.up:vm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case pm.tab:vm(e.currentTarget,"mouseleave");break;case pm.enter:case pm.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()}))}};var ZA=class{constructor(e){this.domNode=e,this.init()}init(){const e=this.domNode.childNodes;[].filter.call(e,(e=>1===e.nodeType)).forEach((e=>{new XA(e)}))}},JA=Object.defineProperty,QA=Object.defineProperties,eM=Object.getOwnPropertyDescriptors,tM=Object.getOwnPropertySymbols,nM=Object.prototype.hasOwnProperty,rM=Object.prototype.propertyIsEnumerable,oM=(e,t,n)=>t in e?JA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iM=(e,t)=>{for(var n in t||(t={}))nM.call(t,n)&&oM(e,n,t[n]);if(tM)for(var n of tM(t))rM.call(t,n)&&oM(e,n,t[n]);return e},aM=(e,t)=>QA(e,eM(t)),lM=Qt({name:"ElTooltip",components:{ElPopper:Rb},props:aM(iM({},_b),{manual:{type:Boolean,default:!1},modelValue:{type:Boolean,validator:e=>"boolean"==typeof e,default:void 0},openDelay:{type:Number,default:0},visibleArrow:{type:Boolean,default:!0},tabindex:{type:[String,Number],default:"0"}}),emits:[wm],setup(e,t){e.manual&&void 0===e.modelValue&&Dp("[ElTooltip]","You need to pass a v-model to el-tooltip when `manual` is true");const n=vt(null);return{popper:n,onUpdateVisible:e=>{t.emit(wm,e)},updatePopper:()=>n.value.update()}},render(){const{$slots:e,content:t,manual:n,openDelay:r,onUpdateVisible:o,showAfter:i,visibleArrow:a,modelValue:l,tabindex:u}=this,s=()=>{Dp("[ElTooltip]","you need to provide a valid default slot.")};return Bo(Rb,aM(iM({},Object.keys(_b).reduce(((e,t)=>aM(iM({},e),{[t]:this[t]})),{})),{ref:"popper",manualMode:n,showAfter:r||i,showArrow:a,visible:l,"onUpdate:visible":o}),{default:()=>e.content?e.content():t,trigger:()=>{if(e.default){const t=Fg(e.default(),1);return t||s(),Mr(t,{tabindex:u},!0)}s()}})}});lM.install=e=>{e.component(lM.name,lM)};const uM=lM,sM=uM;var cM=Qt({name:"ElMenuCollapseTransition",setup:()=>({on:{beforeEnter(e){e.style.opacity="0.2"},enter(e,t){nm(e,"el-opacity-transition"),e.style.opacity="1",t()},afterEnter(e){rm(e,"el-opacity-transition"),e.style.opacity=""},beforeLeave(e){e.dataset||(e.dataset={}),tm(e,"el-menu--collapse")?(rm(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),nm(e,"el-menu--collapse")):(nm(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),rm(e,"el-menu--collapse")),e.style.width=e.scrollWidth+"px",e.style.overflow="hidden"},leave(e){nm(e,"horizontal-collapse-transition"),e.style.width=e.dataset.scrollWidth+"px"}}})});function dM(e){return Et((()=>{const t=e.backgroundColor;return t?function(e,t=.2){let{red:n,green:r,blue:o}=function(e){let t=e.replace("#","");if(/^[0-9a-fA-F]{3}$/.test(t)){const e=t.split("");for(let t=2;t>=0;t--)e.splice(t,0,e[t]);t=e.join("")}return/^[0-9a-fA-F]{6}$/.test(t)?{red:parseInt(t.slice(0,2),16),green:parseInt(t.slice(2,4),16),blue:parseInt(t.slice(4,6),16)}:{red:255,green:255,blue:255}}(e);t>0?(n*=1-t,r*=1-t,o*=1-t):(n+=(255-n)*t,r+=(255-r)*t,o+=(255-o)*t);return`rgb(${Math.round(n)}, ${Math.round(r)}, ${Math.round(o)})`}(t):""}))}cM.render=function(e,t,n,r,o,i){return gr(),xr(ei,Rr({mode:"out-in"},Hr(e.on)),{default:It((()=>[Fr(e.$slots,"default")])),_:3},16)},cM.__file="packages/components/menu/src/menu-collapse-transition.vue";var fM=Qt({name:"ElMenu",componentName:"ElMenu",components:{ElMenuCollapseTransition:cM},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:{type:String},textColor:{type:String},activeTextColor:{type:String},collapseTransition:{type:Boolean,default:!0}},emits:["close","open","select"],setup(e,t){const n=vt(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),r=Yr(),o=vt(e.defaultActive),i=vt({}),a=vt({}),l=vt(!1),u=Wk(),s=r.appContext.config.globalProperties.$router,c=dM(e),d=Et((()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse)),f=()=>{const t=o.value,n=i.value[t];if(!n||"horizontal"===e.mode||e.collapse)return;n.indexPath.forEach((e=>{let t=a.value[e];t&&h(e,null==t?void 0:t.indexPath)}))},p=e=>{a.value[e.index]=e},m=e=>{delete a.value[e.index]},h=(t,r)=>{n.value.includes(t)||(e.uniqueOpened&&(n.value=n.value.filter((e=>-1!==(gt(r)?r.value:r).indexOf(e)))),n.value.push(t))},g=e=>{const t=n.value.indexOf(e);-1!==t&&n.value.splice(t,1)},v=e=>{const{index:r,indexPath:o}=e;n.value.includes(r)?(g(r),t.emit("close",r,o.value)):(h(r,o),t.emit("open",r,o.value))},b=r=>{const{index:i,indexPath:a}=r,l=null!==r.index,u=[i,a.value,r];if(("horizontal"===e.mode||e.collapse)&&(n.value=[]),l)if(e.router&&s){let e=r.route||r.index;const n=s.push(e).then((e=>(e||(o.value=r.index),e)));t.emit("select",...u.concat(n))}else o.value=r.index,t.emit("select",...u)},y=t=>{const n=i.value,r=n[t]||n[o.value]||n[e.defaultActive];r?(o.value=r.index,f()):l.value?l.value=!1:o.value=null};return Mo((()=>e.defaultActive),(e=>{i.value[e]||(o.value=""),y(e)})),Mo(i.value,(()=>{y()})),Mo((()=>e.collapse),((t,r)=>{t!==r&&(l.value=!0),t&&(n.value=[]),u.emit("rootMenu:toggle-collapse",Boolean(e.collapse))})),jt("rootMenu",{props:e,openedMenus:n,items:i,submenus:a,hoverBackground:c,activeIndex:o,isMenuPopup:d,methods:{addMenuItem:e=>{i.value[e.index]=e},removeMenuItem:e=>{delete i.value[e.index]},addSubMenu:p,removeSubMenu:m,openMenu:h,closeMenu:g},rootMenuEmit:u.emit,rootMenuOn:u.on}),jt(`subMenu:${r.uid}`,{addSubMenu:p,removeSubMenu:m}),cn((()=>{f(),u.on("menuItem:item-click",b),u.on("submenu:submenu-click",v),"horizontal"===e.mode&&new ZA(r.vnode.el)})),{hoverBackground:c,isMenuPopup:d,props:e,open:e=>{const{indexPath:t}=a.value[e.toString()];t.forEach((e=>h(e,t)))},close:e=>{g(e)}}}});function pM(e,t){const n=$t("rootMenu"),r=Et((()=>{let n=e.parent;const r=[t];for(;"ElMenu"!==n.type.name;)n.props.index&&r.unshift(n.props.index),n=n.parent;return r}));return{parentMenu:Et((()=>{let t=e.parent;for(;t&&-1===["ElMenu","ElSubMenu"].indexOf(t.type.name);)t=t.parent;return t})),paddingStyle:Et((()=>{let t=e.parent;if("vertical"!==n.props.mode)return{};let r=20;if(n.props.collapse)r=20;else for(;t&&"ElMenu"!==t.type.name;)"ElSubMenu"===t.type.name&&(r+=20),t=t.parent;return{paddingLeft:r+"px"}})),indexPath:r}}fM.render=function(e,t,n,o,i,a){const u=or("el-menu-collapse-transition");return e.collapseTransition?(gr(),xr(u,{key:0},{default:It((()=>[(gr(),wr("ul",{key:+e.collapse,role:"menubar",style:r({backgroundColor:e.backgroundColor||""}),class:l({"el-menu":!0,"el-menu--horizontal":"horizontal"===e.mode,"el-menu--collapse":e.collapse})},[Fr(e.$slots,"default")],6))])),_:3})):(gr(),wr("ul",{key:+e.collapse,role:"menubar",style:r({backgroundColor:e.backgroundColor||""}),class:l({"el-menu":!0,"el-menu--horizontal":"horizontal"===e.mode,"el-menu--collapse":e.collapse})},[Fr(e.$slots,"default")],6))},fM.__file="packages/components/menu/src/menu.vue";var mM=Qt({name:"ElMenuItem",components:{ElTooltip:uM},props:{index:{type:String,default:null},route:[String,Object],disabled:Boolean},emits:["click"],setup(e,{emit:t,slots:n}){const r=Yr(),o=$t("rootMenu"),{parentMenu:i,paddingStyle:a,indexPath:l}=pM(r,e.index),{addSubMenu:u,removeSubMenu:s}=$t(`subMenu:${i.value.uid}`),c=Et((()=>e.index===o.activeIndex.value)),d=Et((()=>o.hoverBackground.value)),f=Et((()=>o.props.backgroundColor||"")),p=Et((()=>o.props.activeTextColor||"")),m=Et((()=>o.props.textColor||"")),h=Et((()=>o.props.mode)),g=Et((()=>"ElMenu"!==i.value.type.name)),v=Et((()=>{const e={color:c.value?p.value:m.value,borderBottomColor:""};return"horizontal"!==h.value||g.value||(e.borderBottomColor=c.value?o.props.activeTextColor?p.value:"":"transparent"),e}));return cn((()=>{u({index:e.index,indexPath:l,active:c}),o.methods.addMenuItem({index:e.index,indexPath:l,active:c})})),pn((()=>{s({index:e.index,indexPath:l,active:c}),o.methods.removeMenuItem({index:e.index,indexPath:l,active:c})})),{parentMenu:i,rootMenu:o,slots:n,paddingStyle:a,itemStyle:v,backgroundColor:f,active:c,handleClick:()=>{e.disabled||(o.rootMenuEmit("menuItem:item-click",{index:e.index,indexPath:l,route:e.route}),t("click",{index:e.index,indexPath:l.value}))},onMouseEnter:()=>{("horizontal"!==h.value||o.props.backgroundColor)&&(r.vnode.el.style.backgroundColor=d.value)},onMouseLeave:()=>{("horizontal"!==h.value||o.props.backgroundColor)&&(r.vnode.el.style.backgroundColor=f.value)}}}});const hM={style:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}};mM.render=function(e,t,n,o,i,a){const u=or("el-tooltip");return gr(),wr("li",{class:l(["el-menu-item",{"is-active":e.active,"is-disabled":e.disabled}]),role:"menuitem",tabindex:"-1",style:r([e.paddingStyle,e.itemStyle,{backgroundColor:e.backgroundColor}]),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onFocus:t[2]||(t[2]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onBlur:t[3]||(t[3]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onMouseleave:t[4]||(t[4]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.slots.title?(gr(),xr(u,{key:0,effect:"dark",placement:"right"},{content:It((()=>[Fr(e.$slots,"title")])),default:It((()=>[Tr("div",hM,[Fr(e.$slots,"default")])])),_:3})):(gr(),wr(cr,{key:1},[Fr(e.$slots,"default"),Fr(e.$slots,"title")],64))],38)},mM.__file="packages/components/menu/src/menuItem.vue";var gM=Qt({name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",props:{title:{type:String}},setup(e,{slots:t}){const n=it({paddingLeft:20}),r=Yr(),o=Et((()=>{let e=20,t=r.parent;if(i.collapse)return 20;for(;t&&"ElMenu"!==t.type.name;)"ElSubMenu"===t.type.name&&(e+=20),t=t.parent;return e})),{props:i}=$t("rootMenu");return{data:n,levelPadding:o,props:e,slots:t}}});const vM={class:"el-menu-item-group"};gM.render=function(e,t,n,o,i,a){return gr(),wr("li",vM,[Tr("div",{class:"el-menu-item-group__title",style:r({paddingLeft:e.levelPadding+"px"})},[e.slots.title?Fr(e.$slots,"title",{key:1}):(gr(),wr(cr,{key:0},[Dr(d(e.title),1)],2112))],4),Tr("ul",null,[Fr(e.$slots,"default")])])},gM.__file="packages/components/menu/src/menuItemGroup.vue";var bM=Qt({name:"ElSubMenu",componentName:"ElSubMenu",props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},setup(e){const t=it({popperJS:null,timeout:null,items:{},submenus:{},currentPlacement:"",mouseInChild:!1,opened:!1}),n=vt(null),r=vt(null),o=Yr(),{paddingStyle:i,indexPath:a,parentMenu:l}=pM(o,e.index),{openedMenus:u,isMenuPopup:s,hoverBackground:c,methods:d,props:f,methods:{closeMenu:p},rootMenuOn:m,rootMenuEmit:h}=$t("rootMenu"),{addSubMenu:g,removeSubMenu:v,handleMouseleave:b}=$t(`subMenu:${l.value.uid}`),y=Et((()=>"horizontal"===E.value&&w.value||"vertical"===E.value&&!f.collapse?"el-icon-arrow-down":"el-icon-arrow-right")),w=Et((()=>{let e=!0,t=o.parent;for(;t&&"ElMenu"!==t.type.name;){if(["ElSubMenu","ElMenuItemGroup"].includes(t.type.name)){e=!1;break}t=t.parent}return e})),x=Et((()=>void 0===e.popperAppendToBody?w.value:Boolean(e.popperAppendToBody))),C=Et((()=>f.collapse?"el-zoom-in-left":"el-zoom-in-top")),k=Et((()=>u.value.includes(e.index))),S=Et((()=>{let e=!1;const n=t.submenus,r=t.items;return Object.keys(r).forEach((t=>{r[t].active&&(e=!0)})),Object.keys(n).forEach((t=>{n[t].active&&(e=!0)})),e})),_=Et((()=>f.backgroundColor||"")),O=Et((()=>f.activeTextColor||"")),T=Et((()=>f.textColor||"")),E=Et((()=>f.mode)),A=Et((()=>"horizontal"!==E.value?{color:T.value}:{borderBottomColor:S.value?f.activeTextColor?O.value:"":"transparent",color:S.value?O.value:T.value})),M=Wk(),D=e=>{var t;e?B():null==(t=r.value)||t.doDestroy()},N=e=>{t.submenus[e.index]=e},P=e=>{delete t.submenus[e.index]},z=(n=!1)=>{"click"===f.menuTrigger&&"horizontal"===f.mode||!f.collapse&&"vertical"===f.mode||(M.emit("submenu:mouse-leave-child"),clearTimeout(t.timeout),t.timeout=setTimeout((()=>{!t.mouseInChild&&p(e.index)}),e.hideTimeout),x.value&&n&&"ElSubMenu"===o.parent.type.name&&b(!0))},B=()=>{t.currentPlacement="horizontal"===E.value&&w.value?"bottom-start":"right-start"};return jt(`subMenu:${o.uid}`,{addSubMenu:N,removeSubMenu:P,handleMouseleave:z}),sn((()=>{m("rootMenu:toggle-collapse",(e=>{D(e)})),M.on("submenu:mouse-enter-child",(()=>{t.mouseInChild=!0,clearTimeout(t.timeout)})),M.on("submenu:mouse-leave-child",(()=>{t.mouseInChild=!1,clearTimeout(t.timeout)}))})),cn((()=>{d.addSubMenu({index:e.index,indexPath:a,active:S}),g({index:e.index,indexPath:a,active:S}),B()})),pn((()=>{v({index:e.index,indexPath:a,active:S}),d.removeSubMenu({index:e.index,indexPath:a,active:S})})),{data:t,props:e,mode:E,active:S,isMenuPopup:s,opened:k,paddingStyle:i,titleStyle:A,backgroundColor:_,rootProps:f,menuTransitionName:C,submenuTitleIcon:y,appendToBody:x,handleClick:()=>{const t=e.disabled;"hover"===f.menuTrigger&&"horizontal"===f.mode||f.collapse&&"vertical"===f.mode||t||h("submenu:submenu-click",{index:e.index,indexPath:a})},handleMouseenter:(n,r=e.showTimeout)=>{if(!("ActiveXObject"in window)&&"focus"===n.type&&!n.relatedTarget)return;const o=e.disabled;"click"===f.menuTrigger&&"horizontal"===f.mode||!f.collapse&&"vertical"===f.mode||o||(M.emit("submenu:mouse-enter-child"),clearTimeout(t.timeout),t.timeout=setTimeout((()=>{d.openMenu(e.index,a)}),r),x.value&&l.value.vnode.el.dispatchEvent(new MouseEvent("mouseenter")))},handleMouseleave:z,handleTitleMouseenter:()=>{var e;if("horizontal"===E.value&&!f.backgroundColor)return;const t=(null==(e=r.value)?void 0:e.triggerRef)||n.value;t&&(t.style.backgroundColor=c.value)},handleTitleMouseleave:()=>{var e;if("horizontal"===E.value&&!f.backgroundColor)return;const t=(null==(e=r.value)?void 0:e.triggerRef)||n.value;t&&(t.style.backgroundColor=f.backgroundColor||"")},addItem:e=>{t.items[e.index]=e},removeItem:e=>{delete t.items[e.index]},addSubMenu:N,removeSubMenu:P,popperVnode:r,verticalTitleRef:n}},render(){var e,t;const n=[null==(t=(e=this.$slots).title)?void 0:t.call(e),Bo("i",{class:["el-sub-menu__icon-arrow",this.submenuTitleIcon]},null)],r={backgroundColor:this.rootProps.backgroundColor||""},o=this.isMenuPopup?Bo(Rb,{ref:"popperVNode",manualMode:!0,visible:this.opened,"onUpdate:visible":e=>this.opened=e,effect:"light",pure:!0,offset:6,showArrow:!1,popperClass:this.popperClass,placement:this.data.currentPlacement,appendToBody:this.appendToBody,transition:this.menuTransitionName,gpuAcceleration:!1},{default:()=>{var e,t;return Bo("div",{ref:"menu",class:[`el-menu--${this.mode}`,this.popperClass],onMouseenter:e=>this.handleMouseenter(e,100),onMouseleave:()=>this.handleMouseleave(!0),onFocus:e=>this.handleMouseenter(e,100)},[Bo("ul",{class:["el-menu el-menu--popup",`el-menu--popup-${this.data.currentPlacement}`],style:r},[null==(t=(e=this.$slots).default)?void 0:t.call(e)])])},trigger:()=>Bo("div",{class:"el-sub-menu__title",style:[this.paddingStyle,this.titleStyle,{backgroundColor:this.backgroundColor}],onClick:this.handleClick,onMouseenter:this.handleTitleMouseenter,onMouseleave:this.handleTitleMouseleave},n)}):Bo(cr,{},[Bo("div",{class:"el-sub-menu__title",style:[this.paddingStyle,this.titleStyle,{backgroundColor:this.backgroundColor}],ref:"verticalTitleRef",onClick:this.handleClick,onMouseenter:this.handleTitleMouseenter,onMouseleave:this.handleTitleMouseleave},n),Bo(Kk,{},{default:()=>{var e,t;return $n(Bo("ul",{role:"menu",class:"el-menu el-menu--inline",style:r},[null==(t=(e=this.$slots).default)?void 0:t.call(e)]),[[Ri,this.opened]])}})]);return Bo("li",{class:["el-sub-menu",{"is-active":this.active,"is-opened":this.opened,"is-disabled":this.disabled}],role:"menuitem",ariaHaspopup:!0,ariaExpanded:this.opened,onMouseenter:this.handleMouseenter,onMouseleave:()=>this.handleMouseleave(!0),onFocus:this.handleMouseenter},[o])}});bM.__file="packages/components/menu/src/submenu.vue",fM.install=e=>{e.component(fM.name,fM),e.component(mM.name,mM),e.component(gM.name,gM),e.component(bM.name,bM)},fM.MenuItem=mM,fM.MenuItemGroup=gM,fM.SubMenu=bM;const yM=fM;var wM=Qt({name:"ElPageHeader",props:{icon:{type:String,default:"el-icon-back"},title:{type:String},content:{type:String,default:""}},emits:["back"],setup(e,{emit:t}){const{t:n}=nv();return{handleClick:function(){t("back")},t:n}}});const xM={class:"el-page-header"},CM={key:0,class:"el-page-header__icon"},kM={class:"el-page-header__title"},SM={class:"el-page-header__content"};wM.render=function(e,t,n,r,o,i){return gr(),wr("div",xM,[Tr("div",{class:"el-page-header__left",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.icon||e.$slots.icon?(gr(),wr("div",CM,[Fr(e.$slots,"icon",{},(()=>[Tr("i",{class:l(e.icon)},null,2)]))])):Nr("v-if",!0),Tr("div",kM,[Fr(e.$slots,"title",{},(()=>[Dr(d(e.title||e.t("el.pageHeader.title")),1)]))])]),Tr("div",SM,[Fr(e.$slots,"content",{},(()=>[Dr(d(e.content),1)]))])])},wM.__file="packages/components/page-header/src/index.vue",wM.install=e=>{e.component(wM.name,wM)};const _M=wM,OM="elOptionQueryChange",TM="elOptionGroupQueryChange";function EM(e,t){const n=$t("ElSelect"),r=$t("ElSelectGroup",{disabled:!1}),o=Et((()=>"[object object]"===Object.prototype.toString.call(e.value).toLowerCase())),i=Et((()=>n.props.multiple?d(n.props.modelValue,e.value):f(e.value,n.props.modelValue))),a=Et((()=>{if(n.props.multiple){const e=n.props.modelValue||[];return!i.value&&e.length>=n.props.multipleLimit&&n.props.multipleLimit>0}return!1})),l=Et((()=>e.label||(o.value?"":e.value))),u=Et((()=>e.value||e.label||"")),s=Et((()=>e.disabled||t.groupDisabled||a.value)),c=Yr(),d=(e=[],t)=>{if(o.value){const r=n.props.valueKey;return e&&e.some((e=>Pp(e,r)===Pp(t,r)))}return e&&e.indexOf(t)>-1},f=(e,t)=>{if(o.value){const{valueKey:r}=n.props;return Pp(e,r)===Pp(t,r)}return e===t},p=r=>{const o=new RegExp(((e="")=>String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"))(r),"i");t.visible=o.test(l.value)||e.created,t.visible||n.filteredOptionsCount--};return Mo((()=>l.value),(()=>{e.created||n.props.remote||n.setSelected()})),Mo((()=>e.value),((t,r)=>{const{remote:o,valueKey:i}=n.props;if(!e.created&&!o){if(i&&"object"==typeof t&&"object"==typeof r&&t[i]===r[i])return;n.setSelected()}})),Mo((()=>r.disabled),(()=>{t.groupDisabled=r.disabled}),{immediate:!0}),n.selectEmitter.on(OM,p),pn((()=>{n.selectEmitter.off(OM,p)})),{select:n,currentLabel:l,currentValue:u,itemSelected:i,isDisabled:s,hoverItem:()=>{e.disabled||r.disabled||(n.hoverIndex=n.optionsArray.indexOf(c))}}}var AM=Qt({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=it({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:n,itemSelected:r,isDisabled:o,select:i,hoverItem:a}=EM(e,t),{visible:l,hover:u}=St(t),s=Yr().proxy,c=s.value;return i.onOptionCreate(s),pn((()=>{const{selected:e}=i;let t=i.props.multiple?e:[e];const n=i.cachedOptions.has(c),r=t.some((e=>e.value===s.value));n&&!r&&i.cachedOptions.delete(c),i.onOptionDestroy(c)})),{currentLabel:n,itemSelected:r,isDisabled:o,select:i,hoverItem:a,visible:l,hover:u,selectOptionClick:function(){!0!==e.disabled&&!0!==t.groupDisabled&&i.handleOptionSelect(s,!0)}}}});AM.render=function(e,t,n,r,o,i){return $n((gr(),wr("li",{class:l(["el-select-dropdown__item",{selected:e.itemSelected,"is-disabled":e.isDisabled,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=Pi(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[Fr(e.$slots,"default",{},(()=>[Tr("span",null,d(e.currentLabel),1)]))],34)),[[Ri,e.visible]])},AM.__file="packages/components/select/src/option.vue";var MM=Qt({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=$t("ElSelect"),t=Et((()=>e.props.popperClass)),n=Et((()=>e.props.multiple)),r=vt("");function o(){var t;r.value=(null==(t=e.selectWrapper)?void 0:t.getBoundingClientRect().width)+"px"}return cn((()=>{Dg(e.selectWrapper,o)})),pn((()=>{Ng(e.selectWrapper,o)})),{minWidth:r,popperClass:t,isMultiple:n}}});MM.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:l(["el-select-dropdown",[{"is-multiple":e.isMultiple},e.popperClass]]),style:r({minWidth:e.minWidth})},[Fr(e.$slots,"default")],6)},MM.__file="packages/components/select/src/select-dropdown.vue";const DM=(e,t,n)=>{const r=$p(),{t:o}=nv(),i=vt(null),a=vt(null),l=vt(null),u=vt(null),s=vt(null),c=vt(null),d=vt(-1),f=$t("elForm",{}),p=$t("elFormItem",{}),m=Et((()=>!e.filterable||e.multiple||!(!Ap&&!isNaN(Number(document.documentMode)))&&!(!Ap&&navigator.userAgent.indexOf("Edge")>-1)&&!t.visible)),h=Et((()=>e.disabled||f.disabled)),g=Et((()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!h.value&&t.inputHovering&&n})),v=Et((()=>e.remote&&e.filterable?"":t.visible?"arrow-up is-reverse":"arrow-up")),b=Et((()=>e.remote?300:0)),y=Et((()=>e.loading?e.loadingText||o("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||o("el.select.noMatch"):0===t.options.size?e.noDataText||o("el.select.noData"):null))),w=Et((()=>Array.from(t.options.values()))),x=Et((()=>Array.from(t.cachedOptions.values()))),C=Et((()=>{const n=w.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!n})),k=Et((()=>e.size||p.size||r.size)),S=Et((()=>["small","mini"].indexOf(k.value)>-1?"mini":"small")),_=Et((()=>t.visible&&!1!==y.value));Mo((()=>h.value),(()=>{wo((()=>{O()}))})),Mo((()=>e.placeholder),(e=>{t.cachedPlaceHolder=t.currentPlaceholder=e})),Mo((()=>e.modelValue),((n,r)=>{var o;e.multiple&&(O(),n&&n.length>0||a.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",T(t.query))),M(),e.filterable&&!e.multiple&&(t.inputLength=20),_y(n,r)||null==(o=p.formItemMitt)||o.emit("el.form.change",n)}),{flush:"post",deep:!0}),Mo((()=>t.visible),(r=>{var o,i;r?(null==(i=null==(o=l.value)?void 0:o.update)||i.call(o),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,e.multiple?a.value.focus():t.selectedLabel&&(t.currentPlaceholder=t.selectedLabel,t.selectedLabel=""),T(t.query),e.multiple||e.remote||(t.selectEmitter.emit("elOptionQueryChange",""),t.selectEmitter.emit("elOptionGroupQueryChange")))):(a.value&&a.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,P(),wo((()=>{a.value&&""===a.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),n.emit("visible-change",r)})),Mo((()=>t.options.entries()),(()=>{var n,r,o;if(Ap)return;null==(r=null==(n=l.value)?void 0:n.update)||r.call(n),e.multiple&&O();const i=(null==(o=s.value)?void 0:o.querySelectorAll("input"))||[];-1===[].indexOf.call(i,document.activeElement)&&M(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&A()}),{flush:"post"}),Mo((()=>t.hoverIndex),(e=>{"number"==typeof e&&e>-1&&(d.value=w.value[e]||{}),w.value.forEach((e=>{e.hover=d.value===e}))}));const O=()=>{e.collapseTags&&!e.filterable||wo((()=>{var e,n;if(!i.value)return;const r=i.value.$el.childNodes,o=[].filter.call(r,(e=>"INPUT"===e.tagName))[0],a=u.value,s=t.initialInputHeight||40;o.style.height=0===t.selected.length?s+"px":Math.max(a?a.clientHeight+(a.clientHeight>s?6:0):0,s)+"px",t.tagInMultiLine=parseFloat(o.style.height)>s,t.visible&&!1!==y.value&&(null==(n=null==(e=l.value)?void 0:e.update)||n.call(e))}))},T=n=>{t.previousQuery===n||t.isOnComposition||(null!==t.previousQuery||"function"!=typeof e.filterMethod&&"function"!=typeof e.remoteMethod?(t.previousQuery=n,wo((()=>{var e,n;t.visible&&(null==(n=null==(e=l.value)?void 0:e.update)||n.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&wo((()=>{const n=15*a.value.length+20;t.inputLength=e.collapseTags?Math.min(50,n):n,E(),O()})),e.remote&&"function"==typeof e.remoteMethod?(t.hoverIndex=-1,e.remoteMethod(n)):"function"==typeof e.filterMethod?(e.filterMethod(n),t.selectEmitter.emit("elOptionGroupQueryChange")):(t.filteredOptionsCount=t.optionsCount,t.selectEmitter.emit("elOptionQueryChange",n),t.selectEmitter.emit("elOptionGroupQueryChange")),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&A()):t.previousQuery=n)},E=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=a.value.value?"":t.cachedPlaceHolder)},A=()=>{const e=w.value.filter((e=>e.visible&&!e.disabled&&!e.groupDisabled)),n=e.filter((e=>e.created))[0],r=e[0];t.hoverIndex=H(w.value,n||r)},M=()=>{var n;if(!e.multiple){const r=N(e.modelValue);return(null==(n=r.props)?void 0:n.created)?(t.createdLabel=r.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=r.currentLabel,t.selected=r,void(e.filterable&&(t.query=t.selectedLabel))}const r=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{r.push(N(e))})),t.selected=r,wo((()=>{O()}))},N=n=>{let r;const o="object"===B(n).toLowerCase(),i="null"===B(n).toLowerCase(),a="undefined"===B(n).toLowerCase();for(let u=t.cachedOptions.size-1;u>=0;u--){const t=x.value[u];if(o?Pp(t.value,e.valueKey)===Pp(n,e.valueKey):t.value===n){r={value:n,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(r)return r;const l={value:n,currentLabel:o||i||a?"":n};return e.multiple&&(l.hitState=!1),l},P=()=>{setTimeout((()=>{const n=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>w.value.findIndex((t=>Pp(t,n)===Pp(e,n)))))):t.hoverIndex=-1:t.hoverIndex=w.value.findIndex((e=>Pp(e,n)===Pp(t.selected,n)))}),300)},z=()=>{var e;t.inputWidth=null==(e=i.value)?void 0:e.$el.getBoundingClientRect().width},R=Av((()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,T(t.query))}),b.value),I=Av((e=>{T(e.target.value)}),b.value),L=t=>{_y(e.modelValue,t)||n.emit("change",t)},F=r=>{r.stopPropagation();const o=e.multiple?[]:"";if("string"!=typeof o)for(const e of t.selected)e.isDisabled&&o.push(e.value);n.emit(wm,o),L(o),t.visible=!1,n.emit("clear")},V=(r,o)=>{if(e.multiple){const o=(e.modelValue||[]).slice(),i=H(o,r.value);i>-1?o.splice(i,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(r.value),n.emit(wm,o),L(o),r.created&&(t.query="",T(""),t.inputLength=20),e.filterable&&a.value.focus()}else n.emit(wm,r.value),L(r.value),t.visible=!1;t.isSilentBlur=o,j(),t.visible||wo((()=>{$(r)}))},H=(t=[],n)=>{if(!D(n))return t.indexOf(n);const r=e.valueKey;let o=-1;return t.some(((e,t)=>Pp(e,r)===Pp(n,r)&&(o=t,!0))),o},j=()=>{t.softFocus=!0;const e=a.value||i.value;e&&e.focus()},$=e=>{var t,n,r,o;const i=Array.isArray(e)?e[0]:e;let a=null;if(null==i?void 0:i.value){const e=w.value.filter((e=>e.value===i.value));e.length>0&&(a=e[0].$el)}if(l.value&&a){const e=null==(r=null==(n=null==(t=l.value)?void 0:t.popperRef)?void 0:n.querySelector)?void 0:r.call(n,".el-select-dropdown__wrap");e&&$x(e,a)}null==(o=c.value)||o.handleScroll()},U=e=>{if(!Array.isArray(t.selected))return;const n=t.selected[t.selected.length-1];return n?!0===e||!1===e?(n.hitState=e,e):(n.hitState=!n.hitState,n.hitState):void 0},W=()=>{e.automaticDropdown||h.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:t.visible=!t.visible,t.visible&&(a.value||i.value).focus())},q=Et((()=>w.value.filter((e=>e.visible)).every((e=>e.disabled)))),K=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!q.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const n=w.value[t.hoverIndex];!0!==n.disabled&&!0!==n.groupDisabled&&n.visible||K(e),wo((()=>$(d.value)))}}else t.visible=!0};return{optionsArray:w,selectSize:k,handleResize:()=>{var t,n;z(),null==(n=null==(t=l.value)?void 0:t.update)||n.call(t),e.multiple&&O()},debouncedOnInputChange:R,debouncedQueryChange:I,deletePrevTag:r=>{if(r.target.value.length<=0&&!U()){const t=e.modelValue.slice();t.pop(),n.emit(wm,t),L(t)}1===r.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)},deleteTag:(r,o)=>{const i=t.selected.indexOf(o);if(i>-1&&!h.value){const t=e.modelValue.slice();t.splice(i,1),n.emit(wm,t),L(t),n.emit("remove-tag",o.value)}r.stopPropagation()},deleteSelected:F,handleOptionSelect:V,scrollToOption:$,readonly:m,resetInputHeight:O,showClose:g,iconClass:v,showNewOption:C,collapseTagSize:S,setSelected:M,managePlaceholder:E,selectDisabled:h,emptyText:y,toggleLastOptionHitState:U,resetInputState:e=>{e.code!==pm.backspace&&U(!1),t.inputLength=15*a.value.length+20,O()},handleComposition:e=>{const n=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,wo((()=>T(n)));else{const e=n[n.length-1]||"";t.isOnComposition=!Nv(e)}},onOptionCreate:e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e)},onOptionDestroy:e=>{t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e)},handleMenuEnter:()=>{wo((()=>$(t.selected)))},handleFocus:r=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(t.visible=!0,e.filterable&&(t.menuVisibleOnFocus=!0)),n.emit("focus",r))},blur:()=>{t.visible=!1,i.value.blur()},handleBlur:e=>{wo((()=>{t.isSilentBlur?t.isSilentBlur=!1:n.emit("blur",e)})),t.softFocus=!1},handleClearClick:e=>{F(e)},handleClose:()=>{t.visible=!1},toggleMenu:W,selectOption:()=>{t.visible?w.value[t.hoverIndex]&&V(w.value[t.hoverIndex],void 0):W()},getValueKey:t=>D(t.value)?Pp(t.value,e.valueKey):t.value,navigateOptions:K,dropMenuVisible:_,reference:i,input:a,popper:l,tags:u,selectWrapper:s,scrollbar:c}};var NM=Qt({name:"ElSelect",componentName:"ElSelect",components:{ElInput:ob,ElSelectMenu:MM,ElOption:AM,ElTag:kk,ElScrollbar:fb,ElPopper:Rb},directives:{ClickOutside:Ah},props:{name:String,id:String,modelValue:[Array,String,Number,Boolean,Object],autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Pv},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0},clearIcon:{type:String,default:"el-icon-circle-close"}},emits:[wm,"change","remove-tag","clear","visible-change","focus","blur"],setup(e,t){const{t:n}=nv(),r=function(e){const{t:t}=nv(),n=Wk();return it({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,selectEmitter:n,prefixWidth:null,tagInMultiLine:!1})}(e),{optionsArray:o,selectSize:i,readonly:a,handleResize:l,collapseTagSize:u,debouncedOnInputChange:s,debouncedQueryChange:c,deletePrevTag:d,deleteTag:f,deleteSelected:p,handleOptionSelect:m,scrollToOption:h,setSelected:g,resetInputHeight:v,managePlaceholder:b,showClose:y,selectDisabled:w,iconClass:x,showNewOption:C,emptyText:k,toggleLastOptionHitState:S,resetInputState:_,handleComposition:O,onOptionCreate:T,onOptionDestroy:E,handleMenuEnter:A,handleFocus:M,blur:D,handleBlur:N,handleClearClick:P,handleClose:z,toggleMenu:B,selectOption:R,getValueKey:I,navigateOptions:L,dropMenuVisible:F,reference:V,input:H,popper:j,tags:$,selectWrapper:U,scrollbar:W}=DM(e,r,t),{focus:q}=(K=V,{focus:()=>{var e,t;null===(t=null===(e=K.value)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}});var K;const{inputWidth:Y,selected:G,inputLength:X,filteredOptionsCount:Z,visible:J,softFocus:Q,selectedLabel:ee,hoverIndex:te,query:ne,inputHovering:re,currentPlaceholder:oe,menuVisibleOnFocus:ie,isOnComposition:ae,isSilentBlur:le,options:ue,cachedOptions:se,optionsCount:ce,prefixWidth:de,tagInMultiLine:fe}=St(r);jt("ElSelect",it({props:e,options:ue,optionsArray:o,cachedOptions:se,optionsCount:ce,filteredOptionsCount:Z,hoverIndex:te,handleOptionSelect:m,selectEmitter:r.selectEmitter,onOptionCreate:T,onOptionDestroy:E,selectWrapper:U,selected:G,setSelected:g})),cn((()=>{if(r.cachedPlaceHolder=oe.value=e.placeholder||n("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(oe.value=""),Dg(U.value,l),V.value&&V.value.$el){const e={medium:36,small:32,mini:28},t=V.value.input;r.initialInputHeight=t.getBoundingClientRect().height||e[i.value]}e.remote&&e.multiple&&v(),wo((()=>{if(V.value.$el&&(Y.value=V.value.$el.getBoundingClientRect().width),t.slots.prefix){const e=V.value.$el.childNodes,t=[].filter.call(e,(e=>"INPUT"===e.tagName))[0],n=V.value.$el.querySelector(".el-input__prefix");de.value=Math.max(n.getBoundingClientRect().width+5,30),r.prefixWidth&&(t.style.paddingLeft=`${Math.max(r.prefixWidth,30)}px`)}})),g()})),pn((()=>{Ng(U.value,l)})),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(wm,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(wm,"");const pe=Et((()=>{var e;return null==(e=j.value)?void 0:e.popperRef}));return{tagInMultiLine:fe,prefixWidth:de,selectSize:i,readonly:a,handleResize:l,collapseTagSize:u,debouncedOnInputChange:s,debouncedQueryChange:c,deletePrevTag:d,deleteTag:f,deleteSelected:p,handleOptionSelect:m,scrollToOption:h,inputWidth:Y,selected:G,inputLength:X,filteredOptionsCount:Z,visible:J,softFocus:Q,selectedLabel:ee,hoverIndex:te,query:ne,inputHovering:re,currentPlaceholder:oe,menuVisibleOnFocus:ie,isOnComposition:ae,isSilentBlur:le,options:ue,resetInputHeight:v,managePlaceholder:b,showClose:y,selectDisabled:w,iconClass:x,showNewOption:C,emptyText:k,toggleLastOptionHitState:S,resetInputState:_,handleComposition:O,handleMenuEnter:A,handleFocus:M,blur:D,handleBlur:N,handleClearClick:P,handleClose:z,toggleMenu:B,selectOption:R,getValueKey:I,navigateOptions:L,dropMenuVisible:F,focus:q,reference:V,input:H,popper:j,popperPaneRef:pe,tags:$,selectWrapper:U,scrollbar:W}}});const PM={class:"select-trigger"},zM={key:0},BM={class:"el-select__tags-text"},RM=["disabled","autocomplete"],IM={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}},LM={key:1,class:"el-select-dropdown__empty"};NM.render=function(e,t,n,o,i,a){const u=or("el-tag"),s=or("el-input"),c=or("el-option"),f=or("el-scrollbar"),p=or("el-select-menu"),m=or("el-popper"),h=lr("click-outside");return $n((gr(),wr("div",{ref:"selectWrapper",class:l(["el-select",[e.selectSize?"el-select--"+e.selectSize:""]]),onClick:t[25]||(t[25]=Pi(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"]))},[Er(m,{ref:"popper",visible:e.dropMenuVisible,"onUpdate:visible":t[24]||(t[24]=t=>e.dropMenuVisible=t),placement:"bottom-start","append-to-body":e.popperAppendToBody,"popper-class":`el-select__popper ${e.popperClass}`,"fallback-placements":["bottom-start","top-start","right","left"],"manual-mode":"",effect:"light",pure:"",trigger:"click",transition:"el-zoom-in-top","stop-popper-mouse-event":!1,"gpu-acceleration":!1,onBeforeEnter:e.handleMenuEnter},{trigger:It((()=>[Tr("div",PM,[e.multiple?(gr(),wr("div",{key:0,ref:"tags",class:"el-select__tags",style:r({"max-width":e.inputWidth-32+"px",width:"100%"})},[e.collapseTags&&e.selected.length?(gr(),wr("span",zM,[Er(u,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":"",onClose:t[0]||(t[0]=t=>e.deleteTag(t,e.selected[0]))},{default:It((()=>[Tr("span",{class:"el-select__tags-text",style:r({"max-width":e.inputWidth-123+"px"})},d(e.selected[0].currentLabel),5)])),_:1},8,["closable","size","hit"]),e.selected.length>1?(gr(),xr(u,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:It((()=>[Tr("span",BM,"+ "+d(e.selected.length-1),1)])),_:1},8,["size"])):Nr("v-if",!0)])):Nr("v-if",!0),Nr(" <div> "),e.collapseTags?Nr("v-if",!0):(gr(),xr(ei,{key:1,onAfterLeave:e.resetInputHeight},{default:It((()=>[Tr("span",{style:r({marginLeft:e.prefixWidth&&e.selected.length?`${e.prefixWidth}px`:null})},[(gr(!0),wr(cr,null,Ir(e.selected,(t=>(gr(),xr(u,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:It((()=>[Tr("span",{class:"el-select__tags-text",style:r({"max-width":e.inputWidth-75+"px"})},d(t.currentLabel),5)])),_:2},1032,["closable","size","hit","onClose"])))),128))],4)])),_:1},8,["onAfterLeave"])),Nr(" </div> "),e.filterable?$n((gr(),wr("input",{key:2,ref:"input","onUpdate:modelValue":t[1]||(t[1]=t=>e.query=t),type:"text",class:l(["el-select__input",[e.selectSize?`is-${e.selectSize}`:""]]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:r({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:null,flexGrow:"1",width:e.inputLength/(e.inputWidth-32)+"%",maxWidth:e.inputWidth-42+"px"}),onFocus:t[2]||(t[2]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[3]||(t[3]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[4]||(t[4]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[5]||(t[5]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[6]||(t[6]=Bi(Pi((t=>e.navigateOptions("next")),["prevent"]),["down"])),t[7]||(t[7]=Bi(Pi((t=>e.navigateOptions("prev")),["prevent"]),["up"])),t[8]||(t[8]=Bi(Pi((t=>e.visible=!1),["stop","prevent"]),["esc"])),t[9]||(t[9]=Bi(Pi(((...t)=>e.selectOption&&e.selectOption(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=Bi(((...t)=>e.deletePrevTag&&e.deletePrevTag(...t)),["delete"])),t[11]||(t[11]=Bi((t=>e.visible=!1),["tab"]))],onCompositionstart:t[12]||(t[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[15]||(t[15]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,RM)),[[_i,e.query]]):Nr("v-if",!0)],4)):Nr("v-if",!0),Er(s,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[17]||(t[17]=t=>e.selectedLabel=t),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:l({"is-focus":e.visible}),tabindex:e.multiple&&e.filterable?"-1":null,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onKeydown:[t[18]||(t[18]=Bi(Pi((t=>e.navigateOptions("next")),["stop","prevent"]),["down"])),t[19]||(t[19]=Bi(Pi((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),Bi(Pi(e.selectOption,["stop","prevent"]),["enter"]),t[20]||(t[20]=Bi(Pi((t=>e.visible=!1),["stop","prevent"]),["esc"])),t[21]||(t[21]=Bi((t=>e.visible=!1),["tab"]))],onMouseenter:t[22]||(t[22]=t=>e.inputHovering=!0),onMouseleave:t[23]||(t[23]=t=>e.inputHovering=!1)},Lr({suffix:It((()=>[$n(Tr("i",{class:l(["el-select__caret","el-input__icon","el-icon-"+e.iconClass])},null,2),[[Ri,!e.showClose]]),e.showClose?(gr(),wr("i",{key:0,class:l(`el-select__caret el-input__icon ${e.clearIcon}`),onClick:t[16]||(t[16]=(...t)=>e.handleClearClick&&e.handleClearClick(...t))},null,2)):Nr("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:It((()=>[Tr("div",IM,[Fr(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onKeydown"])])])),default:It((()=>[Er(p,null,{default:It((()=>[$n(Er(f,{ref:"scrollbar",tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list",class:l({"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount})},{default:It((()=>[e.showNewOption?(gr(),xr(c,{key:0,value:e.query,created:!0},null,8,["value"])):Nr("v-if",!0),Fr(e.$slots,"default")])),_:3},8,["class"]),[[Ri,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(gr(),wr(cr,{key:0},[e.$slots.empty?Fr(e.$slots,"empty",{key:0}):(gr(),wr("p",LM,d(e.emptyText),1))],2112)):Nr("v-if",!0)])),_:3})])),_:3},8,["visible","append-to-body","popper-class","onBeforeEnter"])],2)),[[h,e.handleClose,e.popperPaneRef]])},NM.__file="packages/components/select/src/select.vue";var FM=Object.defineProperty,VM=Object.getOwnPropertySymbols,HM=Object.prototype.hasOwnProperty,jM=Object.prototype.propertyIsEnumerable,$M=(e,t,n)=>t in e?FM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UM=Qt({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=vt(!0),n=Yr(),r=vt([]);jt("ElSelectGroup",it(((e,t)=>{for(var n in t||(t={}))HM.call(t,n)&&$M(e,n,t[n]);if(VM)for(var n of VM(t))jM.call(t,n)&&$M(e,n,t[n]);return e})({},St(e))));const o=$t("ElSelect");cn((()=>{r.value=i(n.subTree)}));const i=e=>{const t=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var n;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?t.push(e.component.proxy):(null==(n=e.children)?void 0:n.length)&&t.push(...i(e))})),t};return o.selectEmitter.on(TM,(()=>{t.value=r.value.some((e=>!0===e.visible))})),{visible:t}}});const WM={class:"el-select-group__wrap"},qM={class:"el-select-group__title"},KM={class:"el-select-group"};UM.render=function(e,t,n,r,o,i){return $n((gr(),wr("ul",WM,[Tr("li",qM,d(e.label),1),Tr("li",null,[Tr("ul",KM,[Fr(e.$slots,"default")])])],512)),[[Ri,e.visible]])},UM.__file="packages/components/select/src/option-group.vue",NM.install=e=>{e.component(NM.name,NM),e.component(AM.name,AM),e.component(UM.name,UM)},NM.Option=AM,NM.OptionGroup=UM;const YM=NM,GM=YM;var XM=Qt({name:"Prev",props:{disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String,default:""}},setup:e=>({internalDisabled:Et((()=>e.disabled||e.currentPage<=1))})});const ZM=["disabled","aria-disabled"],JM={key:0},QM={key:1,class:"el-icon el-icon-arrow-left"};XM.render=function(e,t,n,r,o,i){return gr(),wr("button",{type:"button",class:"btn-prev",disabled:e.internalDisabled,"aria-disabled":e.internalDisabled,onClick:t[0]||(t[0]=Pi((()=>{}),["self","prevent"]))},[e.prevText?(gr(),wr("span",JM,d(e.prevText),1)):(gr(),wr("i",QM))],8,ZM)},XM.__file="packages/components/pagination/src/prev.vue";var eD=Qt({name:"Next",props:{disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String,default:""}},setup:e=>({internalDisabled:Et((()=>e.disabled||e.currentPage===e.pageCount||0===e.pageCount))})});const tD=["disabled","aria-disabled"],nD={key:0},rD={key:1,class:"el-icon el-icon-arrow-right"};eD.render=function(e,t,n,r,o,i){return gr(),wr("button",{type:"button",class:"btn-next",disabled:e.internalDisabled,"aria-disabled":e.internalDisabled,onClick:t[0]||(t[0]=Pi((()=>{}),["self","prevent"]))},[e.nextText?(gr(),wr("span",nD,d(e.nextText),1)):(gr(),wr("i",rD))],8,tD)},eD.__file="packages/components/pagination/src/next.vue";const oD=()=>{const e=$t("pagination",{});return{pagination:e,pageCount:e.pageCount,disabled:e.disabled,currentPage:e.currentPage}},{Option:iD}=YM;var aD=Qt({name:"Sizes",components:{ElSelect:YM,ElOption:iD},props:{pageSize:Number,pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String,default:""},disabled:Boolean},emits:["page-size-change"],setup(e,{emit:t}){const{t:n}=nv(),{pagination:r}=oD(),o=vt(e.pageSize);Mo((()=>e.pageSizes),((n,r)=>{if(!_y(n,r)&&Array.isArray(n)){const r=n.indexOf(e.pageSize)>-1?e.pageSize:e.pageSizes[0];t("page-size-change",r)}})),Mo((()=>e.pageSize),(e=>{o.value=e}));return{t:n,innerPagesizes:Et((()=>e.pageSizes)),innerPageSize:o,handleChange:function(e){e!==o.value&&(o.value=e,null==r||r.handleSizeChange(Number(e)))}}}});const lD={class:"el-pagination__sizes"};aD.render=function(e,t,n,r,o,i){const a=or("el-option"),l=or("el-select");return gr(),wr("span",lD,[Er(l,{"model-value":e.innerPageSize,disabled:e.disabled,"popper-class":e.popperClass,size:"mini",onChange:e.handleChange},{default:It((()=>[(gr(!0),wr(cr,null,Ir(e.innerPagesizes,(t=>(gr(),xr(a,{key:t,value:t,label:t+e.t("el.pagination.pagesize")},null,8,["value","label"])))),128))])),_:1},8,["model-value","disabled","popper-class","onChange"])])},aD.__file="packages/components/pagination/src/sizes.vue";var uD=Qt({components:{ElInput:ob},setup(){const{t:e}=nv(),{pagination:t,pageCount:n,disabled:r,currentPage:o}=oD(),i=vt(null),a=Et((()=>{var e;return null!=(e=i.value)?e:o.value}));return{t:e,userInput:i,pageCount:n,disabled:r,handleInput:function(e){i.value=Number(e)},handleChange:function(e){null==t||t.changeEvent(Number(e)),i.value=null},innerValue:a}}});const sD={class:"el-pagination__jump"};uD.render=function(e,t,n,r,o,i){const a=or("el-input");return gr(),wr("span",sD,[Dr(d(e.t("el.pagination.goto"))+" ",1),Er(a,{size:"mini",class:"el-pagination__editor is-in-pagination",min:1,max:e.pageCount,disabled:e.disabled,"model-value":e.innerValue,type:"number","onUpdate:modelValue":e.handleInput,onChange:e.handleChange},null,8,["max","disabled","model-value","onUpdate:modelValue","onChange"]),Dr(" "+d(e.t("el.pagination.pageClassifier")),1)])},uD.__file="packages/components/pagination/src/jumper.vue";var cD=Qt({name:"Total",props:{total:{type:Number,default:1e3}},setup(){const{t:e}=nv();return{t:e}}});const dD={class:"el-pagination__total"};cD.render=function(e,t,n,r,o,i){return gr(),wr("span",dD,d(e.t("el.pagination.total",{total:e.total})),1)},cD.__file="packages/components/pagination/src/total.vue";var fD=Qt({name:"ElPager",props:{currentPage:{type:Number,default:1},pageCount:{type:Number},pagerCount:{type:Number,default:7},disabled:Boolean},emits:["change"],setup(e,{emit:t}){const n=vt(!1),r=vt(!1),o=vt("el-icon-more"),i=vt("el-icon-more"),a=Et((()=>{const t=e.pagerCount,n=(t-1)/2,r=Number(e.currentPage),o=Number(e.pageCount);let i=!1,a=!1;o>t&&(r>t-n&&(i=!0),r<o-n&&(a=!0));const l=[];if(i&&!a){for(let e=o-(t-2);e<o;e++)l.push(e)}else if(!i&&a)for(let e=2;e<t;e++)l.push(e);else if(i&&a){const e=Math.floor(t/2)-1;for(let t=r-e;t<=r+e;t++)l.push(t)}else for(let e=2;e<o;e++)l.push(e);return l}));return Eo((()=>{const t=(e.pagerCount-1)/2;n.value=!1,r.value=!1,e.pageCount>e.pagerCount&&(e.currentPage>e.pagerCount-t&&(n.value=!0),e.currentPage<e.pageCount-t&&(r.value=!0))})),Eo((()=>{n.value||(i.value="el-icon-more")})),Eo((()=>{r.value||(o.value="el-icon-more")})),{showPrevMore:n,showNextMore:r,quicknextIconClass:o,quickprevIconClass:i,pagers:a,onMouseenter:function(t){e.disabled||("left"===t?i.value="el-icon-d-arrow-left":o.value="el-icon-d-arrow-right")},onPagerClick:function(n){const r=n.target;if("ul"===r.tagName.toLowerCase()||e.disabled)return;let o=Number(r.textContent);const i=e.pageCount,a=e.currentPage,l=e.pagerCount-2;r.className.includes("more")&&(r.className.includes("quickprev")?o=a-l:r.className.includes("quicknext")&&(o=a+l)),isNaN(o)||(o<1&&(o=1),o>i&&(o=i)),o!==a&&t("change",o)},onEnter:function(n){const r=n.target;if("li"===r.tagName.toLowerCase()&&Array.from(r.classList).includes("number")){const n=Number(r.textContent);n!==e.currentPage&&t("change",n)}}}}});const pD=["aria-current"],mD=["aria-current"],hD=["aria-current"];fD.render=function(e,t,n,r,o,i){return gr(),wr("ul",{class:"el-pager",onClick:t[4]||(t[4]=(...t)=>e.onPagerClick&&e.onPagerClick(...t)),onKeyup:t[5]||(t[5]=Bi(((...t)=>e.onEnter&&e.onEnter(...t)),["enter"]))},[e.pageCount>0?(gr(),wr("li",{key:0,class:l([{active:1===e.currentPage,disabled:e.disabled},"number"]),"aria-current":1===e.currentPage,tabindex:"0"}," 1 ",10,pD)):Nr("v-if",!0),e.showPrevMore?(gr(),wr("li",{key:1,class:l(["el-icon more btn-quickprev",[e.quickprevIconClass,{disabled:e.disabled}]]),onMouseenter:t[0]||(t[0]=t=>e.onMouseenter("left")),onMouseleave:t[1]||(t[1]=t=>e.quickprevIconClass="el-icon-more")},null,34)):Nr("v-if",!0),(gr(!0),wr(cr,null,Ir(e.pagers,(t=>(gr(),wr("li",{key:t,class:l([{active:e.currentPage===t,disabled:e.disabled},"number"]),"aria-current":e.currentPage===t,tabindex:"0"},d(t),11,mD)))),128)),e.showNextMore?(gr(),wr("li",{key:2,class:l(["el-icon more btn-quicknext",[e.quicknextIconClass,{disabled:e.disabled}]]),onMouseenter:t[2]||(t[2]=t=>e.onMouseenter("right")),onMouseleave:t[3]||(t[3]=t=>e.quicknextIconClass="el-icon-more")},null,34)):Nr("v-if",!0),e.pageCount>1?(gr(),wr("li",{key:3,class:l([{active:e.currentPage===e.pageCount,disabled:e.disabled},"number"]),"aria-current":e.currentPage===e.pageCount,tabindex:"0"},d(e.pageCount),11,hD)):Nr("v-if",!0)],32)},fD.__file="packages/components/pagination/src/pager.vue";const gD=e=>"number"!=typeof e;const vD=Qt({name:"ElPagination",components:{Prev:XM,Next:eD,Sizes:aD,Jumper:uD,Total:cD,Pager:fD},props:{total:{type:Number},pageSize:{type:Number},defaultPageSize:{type:Number},currentPage:{type:Number},defaultCurrentPage:{type:Number},pageCount:{type:Number},pagerCount:{type:Number,validator:e=>(0|e)===e&&e>4&&e<22&&e%2==1,default:7},layout:{type:String,default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String,default:""},prevText:{type:String,default:""},nextText:{type:String,default:""},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},emits:["update:current-page","update:page-size","size-change","current-change","prev-click","next-click"],setup(e,{emit:t,slots:n}){const{t:r}=nv(),o=Yr().vnode.props||{},i="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,a="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,l=Et((()=>{if(gD(e.total)&&gD(e.pageCount))return!1;if(!gD(e.currentPage)&&!i)return!1;if(e.layout.includes("sizes"))if(gD(e.pageCount)){if(!gD(e.total)&&!gD(e.pageSize)&&!a)return!1}else if(!a)return!1;return!0})),u=vt(gD(e.defaultPageSize)?10:e.defaultPageSize),s=vt(gD(e.defaultCurrentPage)?1:e.defaultCurrentPage),c=Et({get:()=>gD(e.pageSize)?u.value:e.pageSize,set(n){gD(e.pageSize)&&(u.value=n),a&&(t("update:page-size",n),t("size-change",n))}}),d=Et((()=>{let t=0;return gD(e.pageCount)?gD(e.total)||(t=Math.max(1,Math.ceil(e.total/c.value))):t=e.pageCount,f.value>t&&(f.value=t),t})),f=Et({get:()=>gD(e.currentPage)?s.value:e.currentPage,set(n){let r=n;n<1?r=1:n>d.value&&(r=d.value),gD(e.currentPage)&&(s.value=r),i&&(t("update:current-page",r),t("current-change",r))}});function p(e){f.value=e}function m(){e.disabled||(f.value-=1,t("prev-click",f.value))}function h(){e.disabled||(f.value+=1,t("next-click",f.value))}return jt("pagination",{pageCount:d,disabled:Et((()=>e.disabled)),currentPage:f,changeEvent:p,handleSizeChange:function(e){c.value=e;const t=d.value;f.value>t&&(f.value=t)}}),()=>{var t,o;if(!l.value)return Np("ElPagination",r("el.pagination.deprecationWarning")),null;if(!e.layout)return null;if(e.hideOnSinglePage&&d.value<=1)return null;const i=[],a=[],u=Bo("div",{class:"el-pagination__rightwrapper"},a),s={prev:Bo(XM,{disabled:e.disabled,currentPage:f.value,prevText:e.prevText,onClick:m}),jumper:Bo(uD),pager:Bo(fD,{currentPage:f.value,pageCount:d.value,pagerCount:e.pagerCount,onChange:p,disabled:e.disabled}),next:Bo(eD,{disabled:e.disabled,currentPage:f.value,pageCount:d.value,nextText:e.nextText,onClick:h}),sizes:Bo(aD,{pageSize:c.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled}),slot:null!=(o=null==(t=null==n?void 0:n.default)?void 0:t.call(n))?o:null,total:Bo(cD,{total:gD(e.total)?0:e.total})},g=e.layout.split(",").map((e=>e.trim()));let v=!1;return g.forEach((e=>{"->"!==e?v?a.push(s[e]):i.push(s[e]):v=!0})),v&&a.length>0&&i.unshift(u),Bo("div",{role:"pagination","aria-label":"pagination",class:["el-pagination",{"is-background":e.background,"el-pagination--small":e.small}]},i)}}});vD.install=e=>{e.component(vD.name,vD)};const bD=vD;var yD=Qt({name:"ElPopconfirm",components:{ElButton:gy,ElPopper:Rb},props:{title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},emits:["confirm","cancel"],setup(e,{emit:t}){const{t:n}=nv(),r=vt(!1),o=Et((()=>e.confirmButtonText||n("el.popconfirm.confirmButtonText"))),i=Et((()=>e.cancelButtonText||n("el.popconfirm.cancelButtonText")));return{visible:r,confirm:()=>{r.value=!1,t("confirm")},cancel:()=>{r.value=!1,t("cancel")},confirmButtonText_:o,cancelButtonText_:i}}});const wD={class:"el-popconfirm"},xD={class:"el-popconfirm__main"},CD={class:"el-popconfirm__action"};yD.render=function(e,t,n,o,i,a){const u=or("el-button"),s=or("el-popper");return gr(),xr(s,{visible:e.visible,"onUpdate:visible":t[0]||(t[0]=t=>e.visible=t),trigger:"click",effect:"light","popper-class":"el-popover","append-to-body":"","fallback-placements":["bottom","top","right","left"]},{trigger:It((()=>[Fr(e.$slots,"reference")])),default:It((()=>[Tr("div",wD,[Tr("p",xD,[e.hideIcon?Nr("v-if",!0):(gr(),wr("i",{key:0,class:l([e.icon,"el-popconfirm__icon"]),style:r({color:e.iconColor})},null,6)),Dr(" "+d(e.title),1)]),Tr("div",CD,[Er(u,{size:"mini",type:e.cancelButtonType,onClick:e.cancel},{default:It((()=>[Dr(d(e.cancelButtonText_),1)])),_:1},8,["type","onClick"]),Er(u,{size:"mini",type:e.confirmButtonType,onClick:e.confirm},{default:It((()=>[Dr(d(e.confirmButtonText_),1)])),_:1},8,["type","onClick"])])])])),_:3},8,["visible"])},yD.__file="packages/components/popconfirm/src/index.vue",yD.install=e=>{e.component(yD.name,yD)};const kD=yD;var SD=Object.defineProperty,_D=Object.defineProperties,OD=Object.getOwnPropertyDescriptors,TD=Object.getOwnPropertySymbols,ED=Object.prototype.hasOwnProperty,AD=Object.prototype.propertyIsEnumerable,MD=(e,t,n)=>t in e?SD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function DD(e,t){const n=vt(Gg.nextZIndex()),r=Et((()=>A(e.width)?e.width:e.width+"px")),o=Et((()=>({width:r.value,zIndex:n.value}))),i=Ob(e,t);return Mo(i.visibility,(e=>{e&&(n.value=Gg.nextZIndex()),t.emit(e?"show":"hide")})),((e,t)=>_D(e,OD(t)))(((e,t)=>{for(var n in t||(t={}))ED.call(t,n)&&MD(e,n,t[n]);if(TD)for(var n of TD(t))AD.call(t,n)&&MD(e,n,t[n]);return e})({},i),{popperStyle:o})}var ND=Object.defineProperty,PD=Object.defineProperties,zD=Object.getOwnPropertyDescriptors,BD=Object.getOwnPropertySymbols,RD=Object.prototype.hasOwnProperty,ID=Object.prototype.propertyIsEnumerable,LD=(e,t,n)=>t in e?ND(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FD=(e,t)=>{for(var n in t||(t={}))RD.call(t,n)&&LD(e,n,t[n]);if(BD)for(var n of BD(t))ID.call(t,n)&&LD(e,n,t[n]);return e};const VD=["update:visible","after-enter","after-leave","show","hide"],HD={key:0,class:"el-popover__title",role:"title"};var jD=Qt({name:"ElPopover",components:{ElPopper:Rb},props:((e,t)=>PD(e,zD(t)))(FD({},_b),{content:{type:String},trigger:{type:String,default:"click"},title:{type:String},transition:{type:String,default:"fade-in-linear"},width:{type:[String,Number],default:150},appendToBody:{type:Boolean,default:!0},tabindex:[String,Number]}),emits:VD,setup:(e,t)=>DD(e,t),render(){const{$slots:e}=this,t=e.reference?e.reference():null,n=Vg(this.title,"div",HD,d(this.title),zg.TEXT),r=Fr(e,"default",{},(()=>[Dr(d(this.content),zg.TEXT)])),{events:o,onAfterEnter:i,onAfterLeave:a,onPopperMouseEnter:l,onPopperMouseLeave:u,popperStyle:s,popperId:c,popperClass:f,showArrow:p,transition:m,visibility:h,tabindex:g}=this,v=[this.content?"el-popover--plain":"","el-popover",f].join(" ");let b=Tb({effect:hb.LIGHT,name:m,popperClass:v,popperStyle:s,popperId:c,visibility:h,onMouseenter:l,onMouseleave:u,onAfterEnter:i,onAfterLeave:a,stopPopperMouseEvent:!1},[n,r,Ab(p)]);const y=t?Eb(t,FD({ariaDescribedby:c,ref:"triggerRef",tabindex:g},o)):Nr("v-if",!0);return Bo(cr,null,["click"===this.trigger?$n(y,[[Ah,this.hide]]):y,Bo(rr,{disabled:!this.appendToBody,to:"body"},[b])])}});jD.__file="packages/components/popover/src/index.vue";const $D=(e,t,n)=>{const r=t.arg||t.value,o=n.dirs[0].instance.$refs[r];o&&(o.triggerRef=e,e.setAttribute("tabindex",o.tabindex),Object.entries(o.events).forEach((([t,n])=>{Qp(e,t.toLowerCase().slice(2),n)})))};var UD={mounted(e,t,n){$D(e,t,n)},updated(e,t,n){$D(e,t,n)}};jD.install=e=>{e.component(jD.name,jD)},UD.install=e=>{e.directive("popover",UD)};const WD=UD;jD.directive=WD;const qD=jD,KD=WD;var YD=Qt({name:"ElProgress",props:{type:{type:String,default:"line",validator:e=>["line","circle","dashboard"].indexOf(e)>-1},percentage:{type:Number,default:0,required:!0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",validator:e=>["","success","exception","warning"].indexOf(e)>-1},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:{type:Function,default:e=>`${e}%`}},setup(e){const t=Et((()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:m(e.percentage)}))),n=Et((()=>(e.strokeWidth/e.width*100).toFixed(1))),r=Et((()=>"circle"===e.type||"dashboard"===e.type?parseInt(""+(50-parseFloat(n.value)/2),10):0)),o=Et((()=>{const t=r.value,n="dashboard"===e.type;return`\n          M 50 50\n          m 0 ${n?"":"-"}${t}\n          a ${t} ${t} 0 1 1 0 ${n?"-":""}${2*t}\n          a ${t} ${t} 0 1 1 0 ${n?"":"-"}${2*t}\n          `})),i=Et((()=>2*Math.PI*r.value)),a=Et((()=>"dashboard"===e.type?.75:1)),l=Et((()=>`${-1*i.value*(1-a.value)/2}px`)),u=Et((()=>({strokeDasharray:`${i.value*a.value}px, ${i.value}px`,strokeDashoffset:l.value}))),s=Et((()=>({strokeDasharray:`${i.value*a.value*(e.percentage/100)}px, ${i.value}px`,strokeDashoffset:l.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}))),c=Et((()=>{let t;if(e.color)t=m(e.percentage);else switch(e.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t})),d=Et((()=>"warning"===e.status?"el-icon-warning":"line"===e.type?"success"===e.status?"el-icon-circle-check":"el-icon-circle-close":"success"===e.status?"el-icon-check":"el-icon-close")),f=Et((()=>"line"===e.type?12+.4*e.strokeWidth:.111111*e.width+2)),p=Et((()=>e.format(e.percentage))),m=t=>{var n;const{color:r}=e;if("function"==typeof r)return r(t);if("string"==typeof r)return r;{const e=100/r.length,o=r.map(((t,n)=>"string"==typeof t?{color:t,percentage:(n+1)*e}:t)).sort(((e,t)=>e.percentage-t.percentage));for(let n=0;n<o.length;n++)if(o[n].percentage>t)return o[n].color;return null==(n=o[o.length-1])?void 0:n.color}},h=Et((()=>({percentage:e.percentage})));return{barStyle:t,relativeStrokeWidth:n,radius:r,trackPath:o,perimeter:i,rate:a,strokeDashoffset:l,trailPathStyle:u,circlePathStyle:s,stroke:c,iconClass:d,progressTextSize:f,content:p,getCurrentColor:m,slotData:h}}});const GD=["aria-valuenow"],XD={key:0,class:"el-progress-bar"},ZD={key:0,class:"el-progress-bar__innerText"},JD={viewBox:"0 0 100 100"},QD=["d","stroke-width"],eN=["d","stroke","stroke-linecap","stroke-width"],tN={key:0};YD.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:l(["el-progress",[`el-progress--${e.type}`,e.status?`is-${e.status}`:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}]]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?(gr(),wr("div",XD,[Tr("div",{class:"el-progress-bar__outer",style:r({height:`${e.strokeWidth}px`})},[Tr("div",{class:l(["el-progress-bar__inner",{"el-progress-bar__inner--indeterminate":e.indeterminate}]),style:r(e.barStyle)},[(e.showText||e.$slots.default)&&e.textInside?(gr(),wr("div",ZD,[Fr(e.$slots,"default",u(Ar(e.slotData)),(()=>[Tr("span",null,d(e.content),1)]))])):Nr("v-if",!0)],6)],4)])):(gr(),wr("div",{key:1,class:"el-progress-circle",style:r({height:`${e.width}px`,width:`${e.width}px`})},[(gr(),wr("svg",JD,[Tr("path",{class:"el-progress-circle__track",d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none",style:r(e.trailPathStyle)},null,12,QD),Tr("path",{class:"el-progress-circle__path",d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0,style:r(e.circlePathStyle)},null,12,eN)]))],4)),!e.showText&&!e.$slots.default||e.textInside?Nr("v-if",!0):(gr(),wr("div",{key:2,class:"el-progress__text",style:r({fontSize:`${e.progressTextSize}px`})},[Fr(e.$slots,"default",u(Ar(e.slotData)),(()=>[e.status?(gr(),wr("i",{key:1,class:l(e.iconClass)},null,2)):(gr(),wr("span",tN,d(e.content),1))]))],4))],10,GD)},YD.__file="packages/components/progress/src/index.vue",YD.install=e=>{e.component(YD.name,YD)};const nN=YD,rN=nN;var oN=Qt({name:"ElRate",props:{modelValue:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:()=>["#F7BA2A","#F7BA2A","#F7BA2A"]},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:()=>["el-icon-star-on","el-icon-star-on","el-icon-star-on"]},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:()=>["Extremely bad","Disappointed","Fair","Satisfied","Surprise"]},scoreTemplate:{type:String,default:"{value}"}},emits:[wm,"change"],setup(e,{emit:t}){const n=$t("elForm",{}),r=vt(e.modelValue),o=Et((()=>e.disabled||n.disabled)),i=Et((()=>{let t="";return e.showScore?t=e.scoreTemplate.replace(/\{\s*value\s*\}/,o.value?`${e.modelValue}`:`${r.value}`):e.showText&&(t=e.texts[Math.ceil(r.value)-1]),t}));function a(e,t){const n=Object.keys(t).filter((n=>{const r=t[n];return!!D(r)&&r.excluded?e<n:e<=n})).sort(((e,t)=>e-t)),r=t[n[0]];return D(r)?r.value:r||""}const l=Et((()=>100*e.modelValue-100*Math.floor(e.modelValue))),u=Et((()=>S(e.colors)?{[e.lowThreshold]:e.colors[0],[e.highThreshold]:{value:e.colors[1],excluded:!0},[e.max]:e.colors[2]}:e.colors)),s=Et((()=>a(r.value,u.value))),c=Et((()=>{let t="";return o.value?t=`${l.value}%`:e.allowHalf&&(t="50%"),{color:s.value,width:t}})),d=Et((()=>S(e.iconClasses)?{[e.lowThreshold]:e.iconClasses[0],[e.highThreshold]:{value:e.iconClasses[1],excluded:!0},[e.max]:e.iconClasses[2]}:e.iconClasses)),f=Et((()=>a(e.modelValue,d.value))),p=Et((()=>o.value?e.disabledVoidIconClass:e.voidIconClass)),m=Et((()=>a(r.value,d.value))),h=Et((()=>{let t=Array(e.max),n=r.value;return t.fill(m.value,0,n),t.fill(p.value,n,e.max),t})),g=vt(!0);Mo((()=>e.modelValue),(t=>{r.value=t,g.value=e.modelValue!==Math.floor(e.modelValue)}));const v=vt(-1);return e.modelValue||t(wm,0),{hoverIndex:v,currentValue:r,rateDisabled:o,text:i,decimalStyle:c,decimalIconClass:f,classes:h,showDecimalIcon:function(t){let n=o.value&&l.value>0&&t-1<e.modelValue&&t>e.modelValue,i=e.allowHalf&&g.value&&t-.5<=r.value&&t>r.value;return n||i},getIconStyle:function(t){const n=o.value?e.disabledVoidColor:e.voidColor;return{color:t<=r.value?s.value:n}},selectValue:function(n){o.value||(e.allowHalf&&g.value?(t(wm,r.value),e.modelValue!==r.value&&t("change",r.value)):(t(wm,n),e.modelValue!==n&&t("change",n)))},handleKey:function(n){if(o.value)return;let i=r.value;const a=n.code;return a===pm.up||a===pm.right?(e.allowHalf?i+=.5:i+=1,n.stopPropagation(),n.preventDefault()):a!==pm.left&&a!==pm.down||(e.allowHalf?i-=.5:i-=1,n.stopPropagation(),n.preventDefault()),i=i<0?0:i,i=i>e.max?e.max:i,t(wm,i),t("change",i),i},setCurrentValue:function(t,n){if(!o.value){if(e.allowHalf){let e=n.target;tm(e,"el-rate__item")&&(e=e.querySelector(".el-rate__icon")),tm(e,"el-rate__decimal")&&(e=e.parentNode),g.value=2*n.offsetX<=e.clientWidth,r.value=g.value?t-.5:t}else r.value=t;v.value=t}},resetCurrentValue:function(){o.value||(e.allowHalf&&(g.value=e.modelValue!==Math.floor(e.modelValue)),r.value=e.modelValue,v.value=-1)}}}});const iN=["aria-valuenow","aria-valuetext","aria-valuemax"],aN=["onMousemove","onClick"];oN.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:"el-rate",role:"slider","aria-valuenow":e.currentValue,"aria-valuetext":e.text,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",onKeydown:t[1]||(t[1]=(...t)=>e.handleKey&&e.handleKey(...t))},[(gr(!0),wr(cr,null,Ir(e.max,((n,o)=>(gr(),wr("span",{key:o,class:"el-rate__item",style:r({cursor:e.rateDisabled?"auto":"pointer"}),onMousemove:t=>e.setCurrentValue(n,t),onMouseleave:t[0]||(t[0]=(...t)=>e.resetCurrentValue&&e.resetCurrentValue(...t)),onClick:t=>e.selectValue(n)},[Tr("i",{class:l([[e.classes[n-1],{hover:e.hoverIndex===n}],"el-rate__icon"]),style:r(e.getIconStyle(n))},[e.showDecimalIcon(n)?(gr(),wr("i",{key:0,class:l([e.decimalIconClass,"el-rate__decimal"]),style:r(e.decimalStyle)},null,6)):Nr("v-if",!0)],6)],44,aN)))),128)),e.showText||e.showScore?(gr(),wr("span",{key:0,class:"el-rate__text",style:r({color:e.textColor})},d(e.text),5)):Nr("v-if",!0)],40,iN)},oN.__file="packages/components/rate/src/index.vue",oN.install=e=>{e.component(oN.name,oN)};const lN=oN;var uN=Qt({name:"IconSuccess"});const sN={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},cN=[Tr("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M34.5548098,16.4485711 C33.9612228,15.8504763 32.9988282,15.8504763 32.4052412,16.4485711 L32.4052412,16.4485711 L21.413757,27.5805811 L21.413757,27.5805811 L21.4034642,27.590855 C21.0097542,27.9781674 20.3766105,27.9729811 19.9892981,27.5792711 L19.9892981,27.5792711 L15.5947588,23.1121428 C15.0011718,22.514048 14.0387772,22.514048 13.4451902,23.1121428 C12.8516033,23.7102376 12.8516033,24.6799409 13.4451902,25.2780357 L13.4451902,25.2780357 L19.6260786,31.5514289 C20.2196656,32.1495237 21.1820602,32.1495237 21.7756472,31.5514289 L21.7756472,31.5514289 L34.5548098,18.614464 C35.1483967,18.0163692 35.1483967,17.0466659 34.5548098,16.4485711 Z"},null,-1)];uN.render=function(e,t,n,r,o,i){return gr(),wr("svg",sN,cN)},uN.__file="packages/components/result/src/icon-success.vue";var dN=Qt({name:"IconError"});const fN={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},pN=[Tr("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.57818,15.42182 C32.0157534,14.8593933 31.1038797,14.8593933 30.541453,15.42182 L30.541453,15.42182 L24.0006789,21.9625941 L17.458547,15.42182 C16.8961203,14.8593933 15.9842466,14.8593933 15.42182,15.42182 C14.8593933,15.9842466 14.8593933,16.8961203 15.42182,17.458547 L15.42182,17.458547 L21.9639519,23.9993211 L15.42182,30.541453 C14.8593933,31.1038797 14.8593933,32.0157534 15.42182,32.57818 C15.9842466,33.1406067 16.8961203,33.1406067 17.458547,32.57818 L17.458547,32.57818 L24.0006789,26.0360481 L30.541453,32.57818 C31.1038797,33.1406067 32.0157534,33.1406067 32.57818,32.57818 C33.1406067,32.0157534 33.1406067,31.1038797 32.57818,30.541453 L32.57818,30.541453 L26.0374059,23.9993211 L32.57818,17.458547 C33.1406067,16.8961203 33.1406067,15.9842466 32.57818,15.42182 Z"},null,-1)];dN.render=function(e,t,n,r,o,i){return gr(),wr("svg",fN,pN)},dN.__file="packages/components/result/src/icon-error.vue";var mN=Qt({name:"IconWarning"});const hN={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},gN=[Tr("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,31 C22.8954305,31 22,31.8954305 22,33 C22,34.1045695 22.8954305,35 24,35 C25.1045695,35 26,34.1045695 26,33 C26,31.8954305 25.1045695,31 24,31 Z M24,14 C23.1715729,14 22.5,14.6715729 22.5,15.5 L22.5,15.5 L22.5,27.5 C22.5,28.3284271 23.1715729,29 24,29 C24.8284271,29 25.5,28.3284271 25.5,27.5 L25.5,27.5 L25.5,15.5 C25.5,14.6715729 24.8284271,14 24,14 Z"},null,-1)];mN.render=function(e,t,n,r,o,i){return gr(),wr("svg",hN,gN)},mN.__file="packages/components/result/src/icon-warning.vue";var vN=Qt({name:"IconInfo"});const bN={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},yN=[Tr("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,19 L21,19 C20.1715729,19 19.5,19.6715729 19.5,20.5 C19.5,21.3284271 20.1715729,22 21,22 L21,22 L22.5,22 L22.5,31 L21,31 C20.1715729,31 19.5,31.6715729 19.5,32.5 C19.5,33.3284271 20.1715729,34 21,34 L21,34 L27,34 C27.8284271,34 28.5,33.3284271 28.5,32.5 C28.5,31.6715729 27.8284271,31 27,31 L27,31 L25.5,31 L25.5,20.5 C25.5,19.6715729 24.8284271,19 24,19 L24,19 Z M24,13 C22.8954305,13 22,13.8954305 22,15 C22,16.1045695 22.8954305,17 24,17 C25.1045695,17 26,16.1045695 26,15 C26,13.8954305 25.1045695,13 24,13 Z"},null,-1)];vN.render=function(e,t,n,r,o,i){return gr(),wr("svg",bN,yN)},vN.__file="packages/components/result/src/icon-info.vue";const wN={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"};var xN=Qt({name:"ElResult",components:{[uN.name]:uN,[dN.name]:dN,[mN.name]:mN,[vN.name]:vN},props:{title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,default:"info"}},setup:e=>({iconElement:Et((()=>{const t=e.icon;return t&&wN[t]?wN[t]:"icon-info"}))})});const CN={class:"el-result"},kN={class:"el-result__icon"},SN={key:0,class:"el-result__title"},_N={key:1,class:"el-result__subtitle"},ON={key:2,class:"el-result__extra"};xN.render=function(e,t,n,r,o,i){return gr(),wr("div",CN,[Tr("div",kN,[Fr(e.$slots,"icon",{},(()=>[(gr(),xr(ar(e.iconElement),{class:l(e.iconElement)},null,8,["class"]))]))]),e.title||e.$slots.title?(gr(),wr("div",SN,[Fr(e.$slots,"title",{},(()=>[Tr("p",null,d(e.title),1)]))])):Nr("v-if",!0),e.subTitle||e.$slots.subTitle?(gr(),wr("div",_N,[Fr(e.$slots,"subTitle",{},(()=>[Tr("p",null,d(e.subTitle),1)]))])):Nr("v-if",!0),e.$slots.extra?(gr(),wr("div",ON,[Fr(e.$slots,"extra")])):Nr("v-if",!0)])},xN.__file="packages/components/result/src/index.vue",xN.install=e=>{e.component(xN.name,xN)};const TN=xN;const EN=Qt({name:"ElRow",props:{tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,default:"start"},align:{type:String,default:"top"}},setup(e,{slots:t}){jt("ElRow",{gutter:Et((()=>e.gutter))});const n=Et((()=>{const t={marginLeft:"",marginRight:""};return e.gutter&&(t.marginLeft=`-${e.gutter/2}px`,t.marginRight=t.marginLeft),t}));return()=>{var r;return Bo(e.tag,{class:["el-row","start"!==e.justify?`is-justify-${e.justify}`:"","top"!==e.align?`is-align-${e.align}`:""],style:n.value},null==(r=t.default)?void 0:r.call(t))}}});EN.install=e=>{e.component(EN.name,EN)};const AN=EN;var MN=ud;function DN(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(DN.Cache||MN),n}DN.Cache=MN;var NN=DN;let PN=e=>setTimeout(e,16),zN=e=>clearTimeout(e);Ap||(PN=e=>window.requestAnimationFrame(e),zN=e=>window.cancelAnimationFrame(e));var BN=Object.defineProperty,RN=Object.defineProperties,IN=Object.getOwnPropertyDescriptors,LN=Object.getOwnPropertySymbols,FN=Object.prototype.hasOwnProperty,VN=Object.prototype.propertyIsEnumerable,HN=(e,t,n)=>t in e?BN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jN=(e,t)=>{for(var n in t||(t={}))FN.call(t,n)&&HN(e,n,t[n]);if(LN)for(var n of LN(t))VN.call(t,n)&&HN(e,n,t[n]);return e},$N=(e,t)=>RN(e,IN(t));const UN="rtl",WN={cache:{type:Number,default:2},className:{type:String,default:""},containerElement:{type:[String,Object],default:"div"},data:{type:[Array],default:()=>[]},direction:{type:String,default:"ltr",validator:e=>"ltr"===e||e===UN},estimatedItemSize:{type:[Number]},height:{type:[String,Number],required:!0},layout:{type:String,default:"vertical"},initScrollOffset:{type:Number,default:0},innerElement:{type:[String,Object],default:"div"},total:{type:Number,required:!0},itemSize:{type:[Number,Function],required:!0},style:{type:[Object,String,Array],default:()=>({})},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!0}},qN={className:WN.className,columnCache:WN.cache,columnWidth:WN.itemSize,containerElement:WN.containerElement,data:WN.data,direction:WN.direction,estimatedColumnWidth:WN.estimatedItemSize,estimatedRowHeight:WN.estimatedItemSize,height:$N(jN({},WN.height),{validator:e=>Lp(e)}),initScrollLeft:WN.initScrollOffset,initScrollTop:WN.initScrollOffset,innerElement:WN.innerElement,rowCache:WN.cache,rowHeight:WN.itemSize,style:WN.style,useIsScrolling:WN.useIsScrolling,width:$N(jN({},WN.width),{validator:e=>Lp(e)}),totalColumn:WN.total,totalRow:WN.total},KN={layout:WN.layout,total:Number,ratio:Number,clientSize:Number,scrollFrom:Number,visible:Boolean},YN={horizontal:"left",vertical:"top"},GN=(e,t)=>e<t?"forward":"backward",XN=e=>"ltr"===e||e===UN||"horizontal"===e,ZN=e=>e===UN;let JN=null;function QN(e=!1){if(null===JN||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?JN="positive-descending":(e.scrollLeft=1,JN=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),JN}return JN}const eP="undefined"!=typeof navigator&&D(navigator)&&/Firefox/i.test(navigator.userAgent),tP={horizontal:"deltaX",vertical:"deltaY"},nP=Qt({name:"ElVirtualScrollBar",props:KN,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=vt(null),r=vt(null);let o=null,i=null;const a=it({isDragging:!1,traveled:0}),l=Et((()=>ab[e.layout])),u=Et((()=>({display:e.visible?null:"none",position:"absolute",width:"horizontal"===e.layout?"100%":"6px",height:"horizontal"===e.layout?"6px":"auto",[YN[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),s=Et((()=>{if(e.ratio>=100)return Number.POSITIVE_INFINITY;if(e.ratio>=50)return e.ratio*e.clientSize/100;const t=e.clientSize/3;return Math.floor(Math.min(Math.max(e.ratio*e.clientSize,20),t))})),c=Et((()=>{if(!Number.isFinite(s.value))return{display:"none"};const t=`${s.value}px`;return function({move:e,size:t,bar:n},r){const o={},i=`translate${n.axis}(${e}px)`;return o[n.size]=t,o.transform=i,o.msTransform=i,o.webkitTransform=i,"horizontal"===r?o.height="100%":o.width="100%",o}({bar:l.value,size:t,move:a.traveled},e.layout)})),d=Et((()=>Math.floor(e.clientSize-s.value-4))),f=()=>{em(window,"mousemove",g),em(window,"mouseup",m),document.onselectstart=i,i=null;const e=r.value;em(e,"touchmove",g),em(e,"touchend",m)},p=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(a.isDragging=!0,a[l.value.axis]=e.currentTarget[l.value.offset]-(e[l.value.client]-e.currentTarget.getBoundingClientRect()[l.value.direction]),t("start-move"),(()=>{Qp(window,"mousemove",g),Qp(window,"mouseup",m);const e=r.value;i=document.onselectstart,document.onselectstart=()=>!1,Qp(e,"touchmove",g),Qp(e,"touchend",m)})())},m=()=>{a.isDragging=!1,a[l.value.axis]=0,t("stop-move"),f()},g=e=>{const{isDragging:i}=a;if(!i)return;const u=a[l.value.axis];if(!u)return;zN(o);const s=-1*(n.value.getBoundingClientRect()[l.value.direction]-e[l.value.client])-(r.value[l.value.offset]-u);o=PN((()=>{a.traveled=Math.max(2,Math.min(s,d.value)),t("scroll",s,d.value)}))},v=e=>e.preventDefault();return Mo((()=>e.scrollFrom),(t=>{a.isDragging||(a.traveled=Math.ceil(t*e.clientSize/(e.clientSize/d.value)))})),cn((()=>{Ap||(Qp(n.value,"touchstart",v),Qp(r.value,"touchstart",p))})),pn((()=>{em(n.value,"touchstart",v),f()})),()=>Bo("div",{role:"presentation",ref:n,class:"el-virtual-scrollbar",style:u.value,onMousedown:Pi(h,["stop","prevent"])},Bo("div",{ref:r,class:"el-scrollbar__thumb",style:c.value,onMousedown:p},null))}});var rP=Object.defineProperty,oP=Object.defineProperties,iP=Object.getOwnPropertyDescriptors,aP=Object.getOwnPropertySymbols,lP=Object.prototype.hasOwnProperty,uP=Object.prototype.propertyIsEnumerable,sP=(e,t,n)=>t in e?rP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cP=(e,t)=>{for(var n in t||(t={}))lP.call(t,n)&&sP(e,n,t[n]);if(aP)for(var n of aP(t))uP.call(t,n)&&sP(e,n,t[n]);return e},dP=(e,t)=>oP(e,iP(t));const fP=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:o,getStartIndexForOffset:i,getStopIndexForStartIndex:a,initCache:l,clearCache:u,validateProps:s})=>Qt({name:null!=e?e:"ElVirtualList",props:WN,emits:["item-rendered","scroll"],setup(e,{emit:c,expose:d}){s(e);const f=Yr(),p=vt(l(e,f)),m=vt(null),h=vt(null),g=vt(null),v=vt({isScrolling:!1,scrollDir:"forward",scrollOffset:Lp(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1}),b=Et((()=>{const{total:t,cache:n}=e,{isScrolling:r,scrollDir:o,scrollOffset:l}=Yp(v);if(0===t)return[0,0,0,0];const u=i(e,l,Yp(p)),s=a(e,u,l,Yp(p)),c=r&&"backward"!==o?1:Math.max(1,n),d=r&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,u-c),Math.max(0,Math.min(t-1,s+d)),u,s]})),y=Et((()=>o(e,Yp(p)))),w=Et((()=>XN(e.layout))),x=Et((()=>[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},cP({direction:e.direction,height:Lp(e.height)?`${e.height}px`:e.height,width:Lp(e.width)?`${e.width}px`:e.width},e.style)])),C=Et((()=>{const e=Yp(y),t=Yp(w);return{height:t?"100%":`${e}px`,pointerEvents:Yp(v).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),S=Et((()=>w.value?e.width:e.height)),{onWheel:_}=(({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let o=null,i=0;const a=n=>n<0&&t.value||n>0&&e.value;return{hasReachedEdge:a,onWheel:e=>{zN(o);const t=e[tP[n.value]];a(i)&&a(i+t)||(i+=t,eP||e.preventDefault(),o=PN((()=>{r(i),i=0})))}}})({atStartEdge:Et((()=>v.value.scrollOffset<=0)),atEndEdge:Et((()=>v.value.scrollOffset>=y.value)),layout:Et((()=>e.layout))},(e=>{var t,n;null==(n=(t=g.value).onMouseUp)||n.call(t),E(Math.min(v.value.scrollOffset+e,y.value-S.value))})),O=()=>{const{total:t}=e;if(t>0){const[e,t,n,r]=Yp(b);c("item-rendered",e,t,n,r)}const{scrollDir:n,scrollOffset:r,updateRequested:o}=Yp(v);c("scroll",n,r,o)},T=NN(((e,t,n)=>({}))),E=e=>{(e=Math.max(e,0))!==Yp(v).scrollOffset&&(v.value=dP(cP({},Yp(v)),{scrollOffset:e,scrollDir:GN(Yp(v).scrollOffset,e),updateRequested:!0}),wo(M))},A=(n,r="auto")=>{const{scrollOffset:o}=Yp(v);n=Math.max(0,Math.min(n,e.total-1)),E(t(e,n,r,o,Yp(p)))},M=()=>{v.value.isScrolling=!1,wo((()=>{T(-1,null,null)}))},D=()=>{const e=m.value;e&&(e.scrollTop=0)};cn((()=>{if(Ap)return;const{initScrollOffset:t}=e,n=Yp(m);Lp(t)&&null!==n&&(Yp(w)?n.scrollLeft=t:n.scrollTop=t),O()})),fn((()=>{const{direction:t,layout:n}=e,{scrollOffset:r,updateRequested:o}=Yp(v);if(o&&null!==Yp(m)){const e=Yp(m);if("horizontal"===n)if(t===UN)switch(QN()){case"negative":e.scrollLeft=-r;break;case"positive-ascending":e.scrollLeft=r;break;default:{const{clientWidth:t,scrollWidth:n}=e;e.scrollLeft=n-t-r;break}}else e.scrollLeft=r;else e.scrollTop=r}}));const N={clientSize:S,estimatedTotalSize:y,windowStyle:x,windowRef:m,innerRef:h,innerStyle:C,itemsToRender:b,scrollbarRef:g,states:v,getItemStyle:t=>{const{direction:o,itemSize:i,layout:a}=e,l=T(u&&i,u&&a,u&&o);let s;if(k(l,String(t)))s=l[t];else{const i=r(e,t,Yp(p)),a=n(e,t,Yp(p)),u=Yp(w),c=o===UN,d=u?i:0;l[t]=s={position:"absolute",left:c?void 0:`${d}px`,right:c?`${d}px`:void 0,top:u?0:`${i}px`,height:u?"100%":`${a}px`,width:u?`${a}px`:"100%"}}return s},onScroll:t=>{Yp(w)?(t=>{const{clientWidth:n,scrollLeft:r,scrollWidth:o}=t.currentTarget,i=Yp(v);if(i.scrollOffset===r)return;const{direction:a}=e;let l=r;if(a===UN)switch(QN()){case"negative":l=-r;break;case"positive-descending":l=o-n-r}l=Math.max(0,Math.min(l,o-n)),v.value=dP(cP({},i),{isScrolling:!0,scrollDir:GN(i.scrollOffset,l),scrollOffset:l,updateRequested:!1}),wo(M)})(t):(e=>{const{clientHeight:t,scrollHeight:n,scrollTop:r}=e.currentTarget,o=Yp(v);if(o.scrollOffset===r)return;const i=Math.max(0,Math.min(r,n-t));v.value=dP(cP({},o),{isScrolling:!0,scrollDir:GN(o.scrollOffset,i),scrollOffset:i,updateRequested:!1}),wo(M)})(t),O()},onScrollbarScroll:(e,t)=>{const n=(y.value-S.value)/t*e;E(Math.min(y.value-S.value,n))},onWheel:_,scrollTo:E,scrollToItem:A,resetScrollTop:D};return d({windowRef:m,innerRef:h,getItemStyleCache:T,scrollTo:E,scrollToItem:A,resetScrollTop:D,states:v}),N},render(e){var t;const{$slots:n,className:r,clientSize:o,containerElement:i,data:a,getItemStyle:l,innerElement:u,itemsToRender:s,innerStyle:c,layout:d,total:f,onScroll:p,onScrollbarScroll:m,onWheel:h,states:g,useIsScrolling:v,windowStyle:b}=e,[y,w]=s,x=ar(i),C=ar(u),k=[];if(f>0)for(let T=y;T<=w;T++)k.push(null==(t=n.default)?void 0:t.call(n,{data:a,key:T,index:T,isScrolling:v?g.isScrolling:void 0,style:l(T)}));const S=[Bo(C,{style:c,ref:"innerRef"},A(C)?k:{default:()=>k})],_=Bo(nP,{ref:"scrollbarRef",clientSize:o,layout:d,onScroll:m,ratio:100*o/this.estimatedTotalSize,scrollFrom:g.scrollOffset/(this.estimatedTotalSize-o),total:f,visible:!0}),O=Bo(x,{class:r,style:b,onScroll:p,onWheel:h,ref:"windowRef",key:0},A(x)?[S]:{default:()=>[S]});return Bo("div",{key:0,class:"el-vl__wrapper"},[O,_])}}),pP=fP({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:o},i,a,l)=>{const u=XN(r)?o:e,s=Math.max(0,t*n-u),c=Math.min(s,i*n),d=Math.max(0,(i+1)*n-u);switch("smart"===a&&(a=l>=d-u&&l<=c+u?"auto":"center"),a){case"start":return c;case"end":return d;case"center":{const e=Math.round(d+(c-d)/2);return e<Math.ceil(u/2)?0:e>s+Math.floor(u/2)?s:e}case"auto":default:return l>=d&&l<=c?l:l<d?d:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:o},i,a)=>{const l=i*n,u=XN(r)?o:e,s=Math.ceil((u+a-l)/n);return Math.max(0,Math.min(t-1,i+s-1))},initCache(){},clearCache:!0,validateProps(){}}),mP=(e,t,n)=>{const{itemSize:r}=e,{items:o,lastVisitedIndex:i}=n;if(t>i){let e=0;if(i>=0){const t=o[i];e=t.offset+t.size}for(let n=i+1;n<=t;n++){const t=r(n);o[n]={offset:e,size:t},e+=t}n.lastVisitedIndex=t}return o[t]},hP=(e,t,n,r,o)=>{for(;n<=r;){const i=n+Math.floor((r-n)/2),a=mP(e,i,t).offset;if(a===o)return i;a<o?n=i+1:a>o&&(r=i-1)}return Math.max(0,n-1)},gP=(e,t,n,r)=>{const{total:o}=e;let i=1;for(;n<o&&mP(e,n,t).offset<r;)n+=i,i*=2;return hP(e,t,Math.floor(n/2),Math.min(n,o-1),r)},vP=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let o=0;if(r>=e&&(r=e-1),r>=0){const e=t[r];o=e.offset+e.size}return o+(e-r-1)*n},bP=fP({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>mP(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:vP,getOffset:(e,t,n,r,o)=>{const{height:i,layout:a,width:l}=e,u=XN(a)?l:i,s=mP(e,t,o),c=vP(e,o),d=Math.max(0,Math.min(c-u,s.offset)),f=Math.max(0,s.offset-u+s.size);switch("smart"===n&&(n=r>=f-u&&r<=d+u?"auto":"center"),n){case"start":return d;case"end":return f;case"center":return Math.round(f+(d-f)/2);case"auto":default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(e,t,n)=>((e,t,n)=>{const{items:r,lastVisitedIndex:o}=t;return(o>0?r[o].offset:0)>=n?hP(e,t,0,o,n):gP(e,t,Math.max(0,o),n)})(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:o,total:i,layout:a,width:l}=e,u=XN(a)?l:o,s=mP(e,t,r),c=n+u;let d=s.offset+s.size,f=t;for(;f<i-1&&d<c;)f++,d+=mP(e,f,r).size;return f},initCache({estimatedItemSize:e=50},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,r=!0)=>{n.lastVisitedIndex=Math.min(n.lastVisitedIndex,e-1),t.exposed.getItemStyleCache(-1),r&&t.proxy.$forceUpdate()}};return n},clearCache:!1,validateProps:({itemSize:e})=>{}});var yP=Object.defineProperty,wP=Object.defineProperties,xP=Object.getOwnPropertyDescriptors,CP=Object.getOwnPropertySymbols,kP=Object.prototype.hasOwnProperty,SP=Object.prototype.propertyIsEnumerable,_P=(e,t,n)=>t in e?yP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OP=(e,t)=>{for(var n in t||(t={}))kP.call(t,n)&&_P(e,n,t[n]);if(CP)for(var n of CP(t))SP.call(t,n)&&_P(e,n,t[n]);return e},TP=(e,t)=>wP(e,xP(t));const EP=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:o,getEstimatedTotalHeight:i,getEstimatedTotalWidth:a,getColumnOffset:l,getRowOffset:u,getRowPosition:s,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:f,validateProps:p})=>Qt({name:null!=e?e:"ElVirtualList",props:qN,emits:["item-rendered","scroll"],setup(e,{emit:m,expose:h}){p(e);const g=Yr(),v=vt(f(e,g)),b=vt(null),y=vt(null),w=vt({isScrolling:!1,scrollLeft:Lp(e.initScrollLeft)?e.initScrollLeft:0,scrollTop:Lp(e.initScrollTop)?e.initScrollTop:0,updateRequested:!1,xAxisScrollDir:"forward",yAxisScrollDir:"forward"}),x=Et((()=>{const{totalColumn:t,totalRow:n,columnCache:i}=e,{isScrolling:a,xAxisScrollDir:l,scrollLeft:u}=Yp(w);if(0===t||0===n)return[0,0,0,0];const s=r(e,u,Yp(v)),c=o(e,s,u,Yp(v)),d=a&&"backward"!==l?1:Math.max(1,i),f=a&&"forward"!==l?1:Math.max(1,i);return[Math.max(0,s-d),Math.max(0,Math.min(t-1,c+f)),s,c]})),C=Et((()=>{const{totalColumn:t,totalRow:n,rowCache:r}=e,{isScrolling:o,yAxisScrollDir:i,scrollTop:a}=Yp(w);if(0===t||0===n)return[0,0,0,0];const l=c(e,a,Yp(v)),u=d(e,l,a,Yp(v)),s=o&&"backward"!==i?1:Math.max(1,r),f=o&&"forward"!==i?1:Math.max(1,r);return[Math.max(0,l-s),Math.max(0,Math.min(n-1,u+f)),l,u]})),S=Et((()=>i(e,Yp(v)))),_=Et((()=>a(e,Yp(v)))),O=Et((()=>[{position:"relative",overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform"},OP({direction:e.direction,height:Lp(e.height)?`${e.height}px`:e.height,width:Lp(e.width)?`${e.width}px`:e.width},e.style)])),T=Et((()=>{const e=`${Yp(_)}px`;return{height:`${Yp(S)}px`,pointerEvents:Yp(w).isScrolling?"none":void 0,width:e}})),E=()=>{const{totalColumn:t,totalRow:n}=e;if(t>0&&n>0){const[e,t,n,r]=Yp(x),[o,i,a,l]=Yp(C);m("item-rendered",e,t,o,i,n,r,a,l)}const{scrollLeft:r,scrollTop:o,updateRequested:i,xAxisScrollDir:a,yAxisScrollDir:l}=Yp(w);m("scroll",a,r,l,o,i)},A=NN(((e,t,n)=>({}))),M=({scrollLeft:e,scrollTop:t})=>{e=Math.max(e,0),t=Math.max(t,0);const n=Yp(w);t===n.scrollTop&&e===n.scrollLeft||(w.value=TP(OP({},n),{xAxisScrollDir:GN(n.scrollLeft,e),yAxisScrollDir:GN(n.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0}),wo(N))},D=(t=0,n=0,r="auto")=>{const o=Yp(w);n=Math.max(0,Math.min(n,e.totalColumn-1)),t=Math.max(0,Math.min(t,e.totalRow-1));const s=cm(),c=Yp(v),d=i(e,c),f=a(e,c);M({scrollLeft:l(e,n,r,o.scrollLeft,c,f>e.width?s:0),scrollTop:u(e,t,r,o.scrollTop,c,d>e.height?s:0)})},N=()=>{w.value.isScrolling=!1,wo((()=>{A(-1,null,null)}))};cn((()=>{if(Ap)return;const{initScrollLeft:t,initScrollTop:n}=e,r=Yp(b);null!==r&&(Lp(t)&&(r.scrollLeft=t),Lp(n)&&(r.scrollTop=n)),E()})),fn((()=>{const{direction:t}=e,{scrollLeft:n,scrollTop:r,updateRequested:o}=Yp(w);if(o&&null!==Yp(b)){const e=Yp(b);if(t===UN)switch(QN()){case"negative":e.scrollLeft=-n;break;case"positive-ascending":e.scrollLeft=n;break;default:{const{clientWidth:t,scrollWidth:r}=e;e.scrollLeft=r-t-n;break}}else e.scrollLeft=Math.max(0,n);e.scrollTop=Math.max(0,r)}}));const P={windowStyle:O,windowRef:b,columnsToRender:x,innerRef:y,innerStyle:T,states:w,rowsToRender:C,getItemStyle:(r,o)=>{const{columnWidth:i,direction:a,rowHeight:l}=e,u=A(t&&i,t&&l,t&&a),c=`${r},${o}`;if(k(u,c))return u[c];{const[,t]=n(e,o,Yp(v)),i=Yp(v),l=ZN(a),[d,f]=s(e,r,i),[p]=n(e,o,i);return u[c]={position:"absolute",left:l?void 0:`${t}px`,right:l?`${t}px`:void 0,top:`${f}px`,height:`${d}px`,width:`${p}px`},u[c]}},onScroll:t=>{const{clientHeight:n,clientWidth:r,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:l}=t.currentTarget,u=Yp(w);if(u.scrollTop===a&&u.scrollLeft===i)return;let s=i;if(ZN(e.direction))switch(QN()){case"negative":s=-i;break;case"positive-descending":s=l-r-i}w.value=TP(OP({},u),{isScrolling:!0,scrollLeft:s,scrollTop:Math.max(0,Math.min(a,o-n)),updateRequested:!1,xAxisScrollDir:GN(u.scrollLeft,s),yAxisScrollDir:GN(u.scrollTop,a)}),wo(N),E()},scrollTo:M,scrollToItem:D};return h({windowRef:b,innerRef:y,getItemStyleCache:A,scrollTo:M,scrollToItem:D,states:w}),P},render(e){var t;const{$slots:n,className:r,containerElement:o,columnsToRender:i,data:a,getItemStyle:l,innerElement:u,innerStyle:s,rowsToRender:c,onScroll:d,states:f,useIsScrolling:p,windowStyle:m,totalColumn:h,totalRow:g}=e,[v,b]=i,[y,w]=c,x=ar(o),C=ar(u),k=[];if(g>0&&h>0)for(let _=y;_<=w;_++)for(let e=v;e<=b;e++)k.push(null==(t=n.default)?void 0:t.call(n,{columnIndex:e,data:a,key:e,isScrolling:p?f.isScrolling:void 0,style:l(_,e),rowIndex:_}));const S=[Bo(C,{style:s,ref:"innerRef"},A(C)?k:{default:()=>k})];return Bo(x,{class:r,style:m,onScroll:d,ref:"windowRef"},A(x)?S:{default:()=>S})}});EP({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,o,i,a,l)=>{n=Number(n);const u=Math.max(0,e*t-n),s=Math.min(u,r*t),c=Math.max(0,r*t-n+l+t);switch("smart"===o&&(o=i>=c-n&&i<=s+n?"auto":"center"),o){case"start":return s;case"end":return c;case"center":const e=Math.round(c+(s-c)/2);return e<Math.ceil(n/2)?0:e>u+Math.floor(n/2)?u:e;case"auto":default:return i>=c&&i<=s?i:c>s||i<c?c:s}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,o,i,a,l)=>{t=Number(t);const u=Math.max(0,n*e-t),s=Math.min(u,r*e),c=Math.max(0,r*e-t+l+e);switch("smart"===o&&(o=i>=c-t&&i<=s+t?"auto":"center"),o){case"start":return s;case"end":return c;case"center":const e=Math.round(c+(s-c)/2);return e<Math.ceil(t/2)?0:e>u+Math.floor(t/2)?u:e;case"auto":default:return i>=c&&i<=s?i:c>s||i<c?c:s}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,o)=>{const i=r*e,a=Math.ceil((n+o-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,o)=>{const i=r*e,a=Math.ceil((n+o-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});const{max:AP,min:MP,floor:DP}=Math,NP={column:"columnWidth",row:"rowHeight"},PP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},zP=(e,t,n,r)=>{const[o,i,a]=[n[r],e[NP[r]],n[PP[r]]];if(t>a){let e=0;if(a>=0){const t=o[a];e=t.offset+t.size}for(let n=a+1;n<=t;n++){const t=i(n);o[n]={offset:e,size:t},e+=t}n[PP[r]]=t}return o[t]},BP=(e,t,n,r,o,i)=>{for(;n<=r;){const a=n+DP((r-n)/2),l=zP(e,a,t,i).offset;if(l===o)return a;l<o?n=a+1:r=a-1}return AP(0,n-1)},RP=(e,t,n,r)=>{const[o,i]=[t[r],t[PP[r]]];return(i>0?o[i].offset:0)>=n?BP(e,t,0,i,n,r):((e,t,n,r,o)=>{const i="column"===o?e.totalColumn:e.totalRow;let a=1;for(;n<i&&zP(e,n,t,o).offset<r;)n+=a,a*=2;return BP(e,t,DP(n/2),MP(n,i-1),r,o)})(e,t,AP(0,i),n,r)},IP=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let o=0;if(n>=e&&(n=e-1),n>=0){const e=r[n];o=e.offset+e.size}return o+(e-n-1)*t},LP=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let o=0;if(r>e&&(r=e-1),r>=0){const e=t[r];o=e.offset+e.size}return o+(e-r-1)*n},FP={column:LP,row:IP},VP=(e,t,n,r,o,i,a)=>{const[l,u]=["row"===i?e.height:e.width,FP[i]],s=zP(e,t,o,i),c=u(e,o),d=AP(0,MP(c-l,s.offset)),f=AP(0,s.offset-l+a+s.size);switch("smart"===n&&(n=r>=f-l&&r<=d+l?"auto":"center"),n){case"start":return d;case"end":return f;case"center":return Math.round(f+(d-f)/2);case"auto":default:return r>=f&&r<=d?r:f>d||r<f?f:d}};EP({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=zP(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=zP(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,o,i)=>VP(e,t,n,r,o,"column",i),getRowOffset:(e,t,n,r,o,i)=>VP(e,t,n,r,o,"row",i),getColumnStartIndexForOffset:(e,t,n)=>RP(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const o=zP(e,t,r,"column"),i=n+e.width;let a=o.offset+o.size,l=t;for(;l<e.totalColumn-1&&a<i;)l++,a+=zP(e,t,r,"column").size;return l},getEstimatedTotalHeight:IP,getEstimatedTotalWidth:LP,getRowStartIndexForOffset:(e,t,n)=>RP(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:o,height:i}=e,a=zP(e,t,r,"row"),l=n+i;let u=a.size+a.offset,s=t;for(;s<o-1&&u<l;)s++,u+=zP(e,s,r,"row").size;return s},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});var HP=Qt({props:{item:{type:Object,required:!0},style:Object,height:Number}});HP.render=function(e,t,n,o,i,a){return e.item.isTitle?(gr(),wr("div",{key:0,class:"el-select-group__title",style:r([e.style,{lineHeight:`${e.height}px`}])},d(e.item.label),5)):(gr(),wr("div",{key:1,class:"el-select-group__split",style:r(e.style)},[Tr("span",{class:"el-select-group__split-dash",style:r({top:e.height/2+"px"})},null,4)],4))},HP.__file="packages/components/select-v2/src/group-item.vue";const jP={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:String,default:"el-icon-circle-close"},collapseTags:Boolean,defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:Boolean,options:{type:Array,required:!0},placeholder:{type:String},popperAppendToBody:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Pv},valueKey:{type:String,default:"value"}};var $P=Qt({props:{data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},emits:["select","hover"],setup(e,{emit:t}){const{hoverItem:n,selectOptionClick:r}=function(e,{emit:t}){return{hoverItem:()=>{t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}(e,{emit:t});return{hoverItem:n,selectOptionClick:r}}});const UP=["aria-selected"];$P.render=function(e,t,n,o,i,a){return gr(),wr("li",{"aria-selected":e.selected,style:r(e.style),class:l({"el-select-dropdown__option-item":!0,"is-selected":e.selected,"is-disabled":e.disabled,"is-craeted":e.created,hover:e.hovering}),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=Pi(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[Fr(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[Tr("span",null,d(e.item.label),1)]))],46,UP)},$P.__file="packages/components/select-v2/src/option-item.vue";var WP=Object.defineProperty,qP=Object.defineProperties,KP=Object.getOwnPropertyDescriptors,YP=Object.getOwnPropertySymbols,GP=Object.prototype.hasOwnProperty,XP=Object.prototype.propertyIsEnumerable,ZP=(e,t,n)=>t in e?WP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JP=(e,t)=>{for(var n in t||(t={}))GP.call(t,n)&&ZP(e,n,t[n]);if(YP)for(var n of YP(t))XP.call(t,n)&&ZP(e,n,t[n]);return e},QP=Qt({name:"ElSelectDropdown",props:{data:Array,hoveringIndex:Number,width:Number},setup(e){const t=$t("ElSelectV2Injection"),n=vt([]),r=vt(null),o=Et((()=>jp(t.props.estimatedOptionHeight))),i=Et((()=>o.value?{itemSize:t.props.itemHeight}:{estimatedSize:t.props.estimatedOptionHeight,itemSize:e=>n.value[e]}));return{select:t,listProps:i,listRef:r,isSized:o,isItemDisabled:(e,n)=>{const{disabled:r,multiple:o,multipleLimit:i}=t.props;return r||!n&&!!o&&i>0&&e.length>=i},isItemHovering:t=>e.hoveringIndex===t,isItemSelected:(e,n)=>t.props.multiple?((e=[],n)=>{const{props:{valueKey:r}}=t;return D(n)?e&&e.some((e=>Pp(e,r)===Pp(n,r))):e.includes(n)})(e,n.value):((e,n)=>{if(D(n)){const{valueKey:r}=t.props;return Pp(e,r)===Pp(n,r)}return e===n})(e,n.value),scrollToItem:e=>{r.value&&r.value.scrollToItem(e)},resetScrollTop:()=>{r.value&&r.value.resetScrollTop()}}},render(e,t){var n;const{$slots:r,data:o,listProps:i,select:a,isSized:l,width:u,isItemDisabled:s,isItemHovering:c,isItemSelected:d}=e,f=l?pP:bP,{props:p,onSelect:m,onKeyboardNavigate:h,onKeyboardSelect:g}=a,{height:v,modelValue:b,multiple:y}=p;if(0===o.length)return Bo("div",{class:"el-select-dropdown",style:{width:`${u}px`}},null==(n=r.empty)?void 0:n.call(r));const w=It((e=>{const{index:t,data:n}=e,o=n[t];if("Group"===n[t].type)return Bo(HP,{item:o,style:e.style,height:l?i.itemSize:i.estimatedSize});const a=d(b,o),u=s(b,a);return Bo($P,((e,t)=>qP(e,KP(t)))(JP({},e),{selected:a,disabled:o.disabled||u,created:!!o.created,hovering:c(t),item:o,onSelect:m}),{default:It((e=>Fr(r,"default",e,(()=>[Bo("span",o.label)]))))})})),x=Bo(f,JP({ref:"listRef",className:"el-select-dropdown__list",data:o,height:v,width:u,total:o.length,onKeydown:[t[1]||(t[1]=Bi(Pi((()=>h("forward")),["stop","prevent"]),["down"])),t[2]||(t[2]=Bi(Pi((()=>h("backward")),["stop","prevent"]),["up"])),t[3]||(t[3]=Bi(Pi(g,["stop","prevent"]),["enter"])),t[4]||(t[4]=Bi(Pi((()=>a.expanded=!1),["stop","prevent"]),["esc"])),t[5]||(t[5]=Bi((()=>a.expanded=!1),["tab"]))]},i),{default:w});return Bo("div",{class:{"is-multiple":y,"el-select-dropdown":!0}},[x])}});function ez(e,t){const n=vt(0),r=vt(null),o=Et((()=>e.allowCreate&&e.filterable));return{createNewOption:function(i){if(o.value)if(i&&i.length>0&&!function(n){const r=e=>e.value===n;return e.options&&e.options.some(r)||t.createdOptions.some(r)}(i)){const e={value:i,label:i,created:!0,disabled:!1};t.createdOptions.length>=n.value?t.createdOptions[n.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=n.value;else{const e=r.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(e){if(!o.value||!e||!e.created)return;const r=t.createdOptions.findIndex((t=>t.value===e.value));~r&&(t.createdOptions.splice(r,1),n.value--)},selectNewOption:function(t){o.value&&(e.multiple&&t.created?n.value++:r.value=t)},clearAllNewOption:function(){o.value&&(t.createdOptions.length=0,n.value=0)}}}QP.__file="packages/components/select-v2/src/select-dropdown.vue";var tz=Object.defineProperty,nz=Object.defineProperties,rz=Object.getOwnPropertyDescriptors,oz=Object.getOwnPropertySymbols,iz=Object.prototype.hasOwnProperty,az=Object.prototype.propertyIsEnumerable,lz=(e,t,n)=>t in e?tz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const uz=(e,t)=>{const{t:n}=nv(),r=$t("elForm",{}),o=$t("elFormItem",{}),i=$p(),a=it({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,inputWidth:240,initialInputHeight:0,previousQuery:null,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),l=vt(-1),u=vt(-1),s=vt(null),c=vt(null),d=vt(null),f=vt(null),p=vt(null),m=vt(null),h=vt(null),g=vt(!1),v=Et((()=>e.disabled||r.disabled)),b=Et((()=>{const t=34*k.value.length;return t>e.height?e.height:t})),y=Et((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!v.value&&a.comboBoxHovering&&t})),w=Et((()=>e.remote&&e.filterable?"":g.value?"arrow-up is-reverse":"arrow-up")),x=Et((()=>e.remote?300:0)),C=Et((()=>{const t=k.value;return e.loading?e.loadingText||n("el.select.loading"):(!e.remote||""!==a.query||0!==t.length)&&(e.filterable&&a.query&&t.length>0?e.noMatchText||n("el.select.noMatch"):0===t.length?e.noDataText||n("el.select.noData"):null)})),k=Et((()=>{const t=e=>{const t=a.inputValue;return!t||e.label.includes(t)};return(e=>{const t=[];return e.map((e=>{S(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach((e=>{t.push(e)})),t.push({type:"Group"})):t.push(e)})),t})(e.options.concat(a.createdOptions).map((e=>{if(S(e.options)){const n=e.options.filter(t);if(n.length>0)return((e,t)=>nz(e,rz(t)))(((e,t)=>{for(var n in t||(t={}))iz.call(t,n)&&lz(e,n,t[n]);if(oz)for(var n of oz(t))az.call(t,n)&&lz(e,n,t[n]);return e})({},e),{options:n})}else if(t(e))return e;return null})).filter((e=>null!==e)))})),_=Et((()=>e.size||o.size||i.size)),O=Et((()=>["small","mini"].indexOf(_.value)>-1?"mini":"small")),T=()=>{var e,t,n;u.value=(null==(n=null==(t=null==(e=p.value)?void 0:e.getBoundingClientRect)?void 0:t.call(e))?void 0:n.width)||200},A=Et((()=>({width:`${0===a.calculatedWidth?4:Math.ceil(a.calculatedWidth)+4}px`}))),M=Et((()=>S(e.modelValue)?0===e.modelValue.length&&!a.displayInputValue:!e.filterable||0===a.displayInputValue.length)),N=Et((()=>{const t=e.placeholder||n("el.select.placeholder");return e.multiple?t:a.selectedLabel||t})),P=Et((()=>{var e;return null==(e=f.value)?void 0:e.popperRef})),z=Et((()=>{if(e.multiple){if(e.modelValue.length>0)return k.value.findIndex((t=>t.value===e.modelValue[0]))}else if(e.modelValue)return k.value.findIndex((t=>t.value===e.modelValue));return-1})),{createNewOption:B,removeNewOption:R,selectNewOption:I,clearAllNewOption:L}=ez(e,a),F=()=>{var e,t,n,r;null==(t=(e=c.value).focus)||t.call(e),null==(r=(n=f.value).update)||r.call(n)},V=()=>{var t,n;e.automaticDropdown||v.value||(a.isComposing&&(a.softFocus=!0),g.value=!g.value,null==(n=null==(t=c.value)?void 0:t.focus)||n.call(t))},H=t=>{a.previousQuery===t||a.isOnComposition||(null!==a.previousQuery||!E(e.filterMethod)&&!E(e.remoteMethod)?(a.previousQuery=t,wo((()=>{var e,t;g.value&&(null==(t=null==(e=f.value)?void 0:e.update)||t.call(e))})),a.hoveringIndex=-1,e.multiple&&e.filterable&&wo((()=>{const t=15*c.value.value.length+20;a.inputLength=e.collapseTags?Math.min(50,t):t,q()})),e.remote&&E(e.remoteMethod)?(a.hoveringIndex=-1,e.remoteMethod(t)):E(e.filterMethod)&&e.filterMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)):a.previousQuery=t)},j=Av((()=>{e.filterable&&a.inputValue!==a.selectedLabel&&(a.query=a.selectedLabel,H(a.query))}),x.value),$=Av((e=>{H(e.target.value)}),x.value),U=n=>{_y(e.modelValue,n)||t("change",n)},W=e=>{t(wm,e),U(e)},q=()=>{e.collapseTags&&!e.filterable||wo((()=>{var e,t;if(!c.value)return;const n=m.value;p.value.height=n.offsetHeight,g.value&&!1!==C.value&&(null==(t=null==(e=f.value)?void 0:e.update)||t.call(e))}))},K=()=>{var t,n;Y(),T(),null==(n=null==(t=f.value)?void 0:t.update)||n.call(t),e.multiple&&q()},Y=()=>{c.value&&(a.inputWidth=c.value.getBoundingClientRect().width)},G=(t,n,r=!0)=>{var o,i;if(e.multiple){let n=e.modelValue.slice();const r=((t=[],n)=>{if(!D(n))return t.indexOf(n);const r=e.valueKey;let o=-1;return t.some(((e,t)=>Pp(e,r)===Pp(n,r)&&(o=t,!0))),o})(n,t.value);r>-1?(n=[...n.slice(0,r),...n.slice(r+1)],a.cachedOptions.splice(r,1),R(t)):(e.multipleLimit<=0||n.length<e.multipleLimit)&&(n=[...n,t.value],a.cachedOptions.push(t),I(t)),W(n),t.created&&(a.query="",H(""),a.inputLength=20),e.filterable&&(null==(i=(o=c.value).focus)||i.call(o),Z("")),e.filterable&&(a.calculatedWidth=h.value.getBoundingClientRect().width),q()}else l.value=n,a.selectedLabel=t.label,W(t.value),g.value=!1,a.isComposing=!1,a.isSilentBlur=r,I(t),t.created||L()},X=()=>{a.softFocus=!1,wo((()=>{var e,n;null==(n=null==(e=c.value)?void 0:e.blur)||n.call(e),h.value&&(a.calculatedWidth=h.value.getBoundingClientRect().width),a.isSilentBlur?a.isSilentBlur=!1:a.isComposing&&t("blur"),a.isComposing=!1}))},Z=e=>{a.displayInputValue=e,a.inputValue=e},J=n=>{if(v.value)return;if(e.multiple)return void(g.value=!0);let r;if(0!==e.options.length&&0!==k.value.length&&k.value.length>0){"forward"===n?(r=l.value+1,r>k.value.length-1&&(r=0)):(r=l.value-1,r<0&&(r=k.value.length-1)),l.value=r;const e=k.value[r];if(e.disabled||"Group"===e.type)return void J(n);t(wm,k.value[r]),U(k.value[r])}},Q=()=>{a.displayInputValue.length>0&&!g.value&&(g.value=!0),a.calculatedWidth=h.value.getBoundingClientRect().width,e.multiple&&q(),j(),B(a.displayInputValue)},ee=e=>{d.value.scrollToItem(e)},te=()=>{if(e.multiple)e.modelValue.length>0&&(a.cachedOptions.length=0,e.modelValue.map((e=>{const t=k.value.find((t=>t.value===e));t&&a.cachedOptions.push(t)})));else if(e.modelValue){const t=k.value.find((t=>t.value===e.modelValue));a.selectedLabel=t?t.label:`${e.modelValue}`}else a.selectedLabel="";T()};return Mo(g,(e=>{var n,r;t("visible-change",e),e?null==(r=(n=f.value).update)||r.call(n):(a.displayInputValue="",B(""))})),Mo([()=>e.modelValue,()=>e.options],(()=>{te()}),{deep:!0}),Mo(k,(()=>wo(d.value.resetScrollTop))),cn((()=>{te(),Dg(p.value,K)})),sn((()=>{Ng(p.value,K)})),{collapseTagSize:O,currentPlaceholder:N,expanded:g,emptyText:C,popupHeight:b,debounce:x,filteredOptions:k,iconClass:w,inputWrapperStyle:A,popperSize:u,shouldShowPlaceholder:M,selectDisabled:v,selectSize:_,showClearBtn:y,states:a,calculatorRef:h,controlRef:s,inputRef:c,menuRef:d,popper:f,selectRef:p,selectionRef:m,popperRef:P,debouncedOnInputChange:j,debouncedQueryChange:$,deleteTag:(n,r)=>{const o=e.modelValue.indexOf(r.value);if(o>-1&&!v.value){const n=[...e.modelValue.slice(0,o),...e.modelValue.slice(o+1)];a.cachedOptions.splice(o,1),W(n),t("remove-tag",r.value),a.softFocus=!0,wo(F),R(r)}n.stopPropagation()},getLabel:e=>D(e)?e.label:e,getValueKey:t=>D(t)?Pp(t,e.valueKey):t,handleBlur:X,handleClear:()=>{let n;n=S(e.modelValue)?[]:"",a.softFocus=!0,e.multiple?a.cachedOptions=[]:a.selectedLabel="",g.value=!1,W(n),t("clear"),L(),wo(F)},handleClickOutside:()=>{g.value=!1,X()},handleDel:t=>{if(0===a.displayInputValue.length){t.preventDefault();const n=e.modelValue.slice();n.pop(),R(a.cachedOptions.pop()),W(n)}},handleEsc:()=>{a.displayInputValue.length>0?Z(""):g.value=!1},handleFocus:n=>{const r=a.isComposing;a.isComposing=!0,a.softFocus?a.softFocus=!1:((e.automaticDropdown||e.filterable)&&(g.value=!0),r||t("focus",n))},handleInputBoxClick:()=>{0===a.displayInputValue.length&&g.value&&(g.value=!1)},handleMenuEnter:()=>{a.inputValue=a.displayInputValue,wo((()=>{~z.value&&ee(z.value)}))},toggleMenu:V,scrollTo:ee,onCompositionUpdate:e=>{Z(a.displayInputValue+=e.data),Q()},onInput:Q,onKeyboardNavigate:J,onKeyboardSelect:()=>{g.value?G(k.value[a.hoveringIndex],a.hoveringIndex,!1):V()},onSelect:G,onUpdateInputValue:Z}};var sz=Object.defineProperty,cz=Object.defineProperties,dz=Object.getOwnPropertyDescriptors,fz=Object.getOwnPropertySymbols,pz=Object.prototype.hasOwnProperty,mz=Object.prototype.propertyIsEnumerable,hz=(e,t,n)=>t in e?sz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gz=(e,t)=>{for(var n in t||(t={}))pz.call(t,n)&&hz(e,n,t[n]);if(fz)for(var n of fz(t))mz.call(t,n)&&hz(e,n,t[n]);return e},vz=(e,t)=>cz(e,dz(t)),bz=Qt({name:"ElSelectV2",components:{ElSelectMenu:QP,ElTag:kk,ElPopper:Rb},directives:{ClickOutside:Ah,ModelText:_i},props:jP,emits:[wm,"change","remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=uz(e,t);return jt("ElSelectV2Injection",{props:it(vz(gz({},St(e)),{height:n.popupHeight})),onSelect:n.onSelect,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),n}});const yz={key:0},wz={key:1,class:"el-select-v2__selection"},xz={key:0,class:"el-select-v2__selected-item"},Cz={class:"el-select-v2__tags-text"},kz=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Sz=["textContent"],_z={class:"el-select-v2__selected-item el-select-v2__input-wrapper"},Oz=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Tz=["textContent"],Ez={class:"el-select-v2__suffix"},Az={class:"el-select-v2__empty"};bz.render=function(e,t,n,o,i,a){const s=or("el-tag"),c=or("el-select-menu"),f=or("el-popper"),p=lr("model-text"),m=lr("click-outside");return $n((gr(),wr("div",{ref:"selectRef",class:l([[e.selectSize?"el-select-v2--"+e.selectSize:""],"el-select-v2"]),onClick:t[19]||(t[19]=Pi(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[20]||(t[20]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[21]||(t[21]=t=>e.states.comboBoxHovering=!1)},[Er(f,{ref:"popper",visible:e.expanded,"onUpdate:visible":t[17]||(t[17]=t=>e.expanded=t),"append-to-body":e.popperAppendToBody,"popper-class":`el-select-v2__popper ${e.popperClass}`,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:"light","manual-mode":"",placement:"bottom-start",pure:"",transition:"el-zoom-in-top",trigger:"click",onBeforeEnter:e.handleMenuEnter,onAfterLeave:t[18]||(t[18]=t=>e.states.inputValue=e.states.displayInputValue)},{trigger:It((()=>[Tr("div",{ref:"selectionRef",class:l(["el-select-v2__wrapper",{"is-focused":e.states.isComposing,"is-hovering":e.states.comboBoxHovering,"is-filterable":e.filterable,"is-disabled":e.disabled}])},[e.$slots.prefix?(gr(),wr("div",yz,[Fr(e.$slots,"prefix")])):Nr("v-if",!0),e.multiple?(gr(),wr("div",wz,[e.collapseTags&&e.modelValue.length>0?(gr(),wr("div",xz,[Er(s,{closable:!e.selectDisabled&&!e.states.cachedOptions[0].disable,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:t[0]||(t[0]=t=>e.deleteTag(t,e.states.cachedOptions[0]))},{default:It((()=>[Tr("span",{class:"el-select-v2__tags-text",style:r({maxWidth:e.states.inputWidth-123+"px"})},d(e.states.cachedOptions[0].label),5)])),_:1},8,["closable","size"]),e.modelValue.length>1?(gr(),xr(s,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:It((()=>[Tr("span",Cz,"+ "+d(e.modelValue.length-1),1)])),_:1},8,["size"])):Nr("v-if",!0)])):(gr(!0),wr(cr,{key:1},Ir(e.states.cachedOptions,((t,n)=>(gr(),wr("div",{key:n,class:"el-select-v2__selected-item"},[Er(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:It((()=>[Dr(d(e.getLabel(t)),1)])),_:2},1032,["closable","size","onClose"])])))),128)),Tr("div",{class:"el-select-v2__selected-item el-select-v2__input-wrapper",style:r(e.inputWrapperStyle)},[$n(Tr("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:l(["el-select-v2__combobox-input",[e.selectSize?`is-${e.selectSize}`:""]]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[1]||(t[1]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onClick:t[2]||(t[2]=Pi(((...t)=>e.handleInputBoxClick&&e.handleInputBoxClick(...t)),["stop","prevent"])),onFocus:t[3]||(t[3]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[4]||(t[4]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.onCompositionUpdate&&e.onCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[7]||(t[7]=Bi(Pi(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[8]||(t[8]=Bi(Pi(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,kz),[[p,e.states.displayInputValue]]),e.filterable?(gr(),wr("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:"el-select-v2__input-calculator",textContent:d(e.states.displayInputValue)},null,8,Sz)):Nr("v-if",!0)],4)])):(gr(),wr(cr,{key:2},[Tr("div",_z,[$n(Tr("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:"el-select-v2__combobox-input",disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onClick:t[9]||(t[9]=Pi(((...t)=>e.handleInputBoxClick&&e.handleInputBoxClick(...t)),["stop","prevent"])),onCompositionend:t[10]||(t[10]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionupdate:t[11]||(t[11]=(...t)=>e.onCompositionUpdate&&e.onCompositionUpdate(...t)),onFocus:t[12]||(t[12]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[13]||(t[13]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:t[14]||(t[14]=Bi(Pi(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),"onUpdate:modelValue":t[15]||(t[15]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,40,Oz),[[p,e.states.displayInputValue]])]),e.filterable?(gr(),wr("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:"el-select-v2__selected-item el-select-v2__input-calculator",textContent:d(e.states.displayInputValue)},null,8,Tz)):Nr("v-if",!0)],64)),e.shouldShowPlaceholder?(gr(),wr("span",{key:3,class:l({"el-select-v2__placeholder":!0,"is-transparent":e.states.isComposing||(e.placeholder&&e.multiple?0===e.modelValue.length:!e.modelValue)})},d(e.currentPlaceholder),3)):Nr("v-if",!0),Tr("span",Ez,[$n(Tr("i",{class:l(["el-select-v2__caret","el-input__icon","el-icon-"+e.iconClass])},null,2),[[Ri,!e.showClearBtn]]),e.showClearBtn?(gr(),wr("i",{key:0,class:l(`el-select-v2__caret el-input__icon ${e.clearIcon}`),onClick:t[16]||(t[16]=Pi(((...t)=>e.handleClear&&e.handleClear(...t)),["prevent","stop"]))},null,2)):Nr("v-if",!0)])],2)])),default:It((()=>[Er(c,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex},{default:It((t=>[Fr(e.$slots,"default",u(Ar(t)))])),empty:It((()=>[Fr(e.$slots,"empty",{},(()=>[Tr("p",Az,d(e.emptyText),1)]))])),_:3},8,["data","width","hovering-index"])])),_:3},8,["visible","append-to-body","popper-class","popper-options","onBeforeEnter"])],34)),[[m,e.handleClickOutside,e.popperRef]])},bz.__file="packages/components/select-v2/src/select.vue",bz.install=e=>{e.component(bz.name,bz)};const Mz=bz;var Dz=Qt({name:"ImgPlaceholder"});const Nz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Pz=[Tr("path",{d:"M64 896V128h896v768H64z m64-128l192-192 116.352 116.352L640 448l256 307.2V192H128v576z m224-480a96 96 0 1 1-0.064 192.064A96 96 0 0 1 352 288z"},null,-1)];Dz.render=function(e,t,n,r,o,i){return gr(),wr("svg",Nz,Pz)},Dz.__file="packages/components/skeleton/src/image-placeholder.vue";var zz=Qt({name:"ElSkeletonItem",components:{[Dz.name]:Dz},props:{variant:{type:String,default:"text"}}});zz.render=function(e,t,n,r,o,i){const a=or("img-placeholder");return gr(),wr("div",{class:l(["el-skeleton__item",`el-skeleton__${e.variant}`])},["image"===e.variant?(gr(),xr(a,{key:0})):Nr("v-if",!0)],2)},zz.__file="packages/components/skeleton/src/item.vue";var Bz=Qt({name:"ElSkeleton",components:{[zz.name]:zz},props:{animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}},setup:e=>({uiLoading:function(e,t=0){if(0===t)return e;const n=vt(!1);let r=0;const o=()=>{r&&clearTimeout(r),r=window.setTimeout((()=>{n.value=e.value}),t)};return cn(o),Mo((()=>e.value),(e=>{e?o():n.value=e})),n}(Et((()=>e.loading)),e.throttle)})});Bz.render=function(e,t,n,r,o,i){const a=or("el-skeleton-item");return e.uiLoading?(gr(),wr("div",Rr({key:0,class:["el-skeleton",e.animated?"is-animated":""]},e.$attrs),[(gr(!0),wr(cr,null,Ir(e.count,(t=>(gr(),wr(cr,{key:t},[e.loading?Fr(e.$slots,"template",{key:t},(()=>[Er(a,{class:"is-first",variant:"p"}),(gr(!0),wr(cr,null,Ir(e.rows,(t=>(gr(),xr(a,{key:t,class:l({"el-skeleton__paragraph":!0,"is-last":t===e.rows&&e.rows>1}),variant:"p"},null,8,["class"])))),128))])):Nr("v-if",!0)],64)))),128))],16)):Fr(e.$slots,"default",u(Rr({key:1},e.$attrs)))},Bz.__file="packages/components/skeleton/src/index.vue",Bz.install=e=>{e.component(Bz.name,Bz),e.component(zz.name,zz)},Bz.SkeletonItem=zz;const Rz=Bz;const Iz=(e,t,n)=>{const{disabled:r,min:o,max:i,step:a,showTooltip:l,precision:u,sliderSize:s,formatTooltip:c,emitChange:d,resetSize:f,updateDragging:p}=$t("SliderProvider"),{tooltip:m,tooltipVisible:h,formatValue:g,displayTooltip:v,hideTooltip:b}=((e,t,n)=>{const r=vt(null),o=vt(!1),i=Et((()=>t.value instanceof Function)),a=Et((()=>i.value&&t.value(e.modelValue)||e.modelValue)),l=Av((()=>{n.value&&(o.value=!0)}),50),u=Av((()=>{n.value&&(o.value=!1)}),50);return{tooltip:r,tooltipVisible:o,formatValue:a,displayTooltip:l,hideTooltip:u}})(e,c,l),y=Et((()=>(e.modelValue-o.value)/(i.value-o.value)*100+"%")),w=Et((()=>e.vertical?{bottom:y.value}:{left:y.value})),x=e=>{let t,n;return e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},C=n=>{t.dragging=!0,t.isClick=!0;const{clientX:r,clientY:o}=x(n);e.vertical?t.startY=o:t.startX=r,t.startPosition=parseFloat(y.value),t.newPosition=t.startPosition},k=n=>{if(t.dragging){let r;t.isClick=!1,v(),f();const{clientX:o,clientY:i}=x(n);e.vertical?(t.currentY=i,r=(t.startY-t.currentY)/s.value*100):(t.currentX=o,r=(t.currentX-t.startX)/s.value*100),t.newPosition=t.startPosition+r,_(t.newPosition)}},S=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||b(),t.isClick||(_(t.newPosition),d())}),0),em(window,"mousemove",k),em(window,"touchmove",k),em(window,"mouseup",S),em(window,"touchend",S),em(window,"contextmenu",S))},_=r=>{return l=void 0,s=null,c=function*(){if(null===r||isNaN(r))return;r<0?r=0:r>100&&(r=100);const l=100/((i.value-o.value)/a.value);let s=Math.round(r/l)*l*(i.value-o.value)*.01+o.value;s=parseFloat(s.toFixed(u.value)),n(wm,s),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),yield wo(),t.dragging&&v(),m.value.updatePopper()},new Promise(((e,t)=>{var n=e=>{try{o(c.next(e))}catch(n){t(n)}},r=e=>{try{o(c.throw(e))}catch(n){t(n)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,r);o((c=c.apply(l,s)).next())}));var l,s,c};return Mo((()=>t.dragging),(e=>{p(e)})),{tooltip:m,tooltipVisible:h,showTooltip:l,wrapperStyle:w,formatValue:g,handleMouseEnter:()=>{t.hovering=!0,v()},handleMouseLeave:()=>{t.hovering=!1,t.dragging||b()},onButtonDown:e=>{r.value||(e.preventDefault(),C(e),Qp(window,"mousemove",k),Qp(window,"touchmove",k),Qp(window,"mouseup",S),Qp(window,"touchend",S),Qp(window,"contextmenu",S))},onLeftKeyDown:()=>{r.value||(t.newPosition=parseFloat(y.value)-a.value/(i.value-o.value)*100,_(t.newPosition),d())},onRightKeyDown:()=>{r.value||(t.newPosition=parseFloat(y.value)+a.value/(i.value-o.value)*100,_(t.newPosition),d())},setPosition:_}};var Lz=Qt({name:"ElSliderButton",components:{ElTooltip:uM},props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:{type:String,default:""}},emits:[wm],setup(e,{emit:t}){const n=it({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:e.modelValue}),{tooltip:r,showTooltip:o,tooltipVisible:i,wrapperStyle:a,formatValue:l,handleMouseEnter:u,handleMouseLeave:s,onButtonDown:c,onLeftKeyDown:d,onRightKeyDown:f,setPosition:p}=Iz(e,n,t),{hovering:m,dragging:h}=St(n);return{tooltip:r,tooltipVisible:i,showTooltip:o,wrapperStyle:a,formatValue:l,handleMouseEnter:u,handleMouseLeave:s,onButtonDown:c,onLeftKeyDown:d,onRightKeyDown:f,setPosition:p,hovering:m,dragging:h}}});Lz.render=function(e,t,n,o,i,a){const u=or("el-tooltip");return gr(),wr("div",{ref:"button",class:l(["el-slider__button-wrapper",{hover:e.hovering,dragging:e.dragging}]),style:r(e.wrapperStyle),tabindex:"0",onMouseenter:t[1]||(t[1]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onMousedown:t[3]||(t[3]=(...t)=>e.onButtonDown&&e.onButtonDown(...t)),onTouchstart:t[4]||(t[4]=(...t)=>e.onButtonDown&&e.onButtonDown(...t)),onFocus:t[5]||(t[5]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onBlur:t[6]||(t[6]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onKeydown:[t[7]||(t[7]=Bi(((...t)=>e.onLeftKeyDown&&e.onLeftKeyDown(...t)),["left"])),t[8]||(t[8]=Bi(((...t)=>e.onRightKeyDown&&e.onRightKeyDown(...t)),["right"])),t[9]||(t[9]=Bi(Pi(((...t)=>e.onLeftKeyDown&&e.onLeftKeyDown(...t)),["prevent"]),["down"])),t[10]||(t[10]=Bi(Pi(((...t)=>e.onRightKeyDown&&e.onRightKeyDown(...t)),["prevent"]),["up"]))]},[Er(u,{ref:"tooltip",modelValue:e.tooltipVisible,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tooltipVisible=t),placement:"top","stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!e.showTooltip,manual:""},{content:It((()=>[Tr("span",null,d(e.formatValue),1)])),default:It((()=>[Tr("div",{class:l(["el-slider__button",{hover:e.hovering,dragging:e.dragging}])},null,2)])),_:1},8,["modelValue","popper-class","disabled"])],38)},Lz.__file="packages/components/slider/src/button.vue";var Fz=Qt({name:"ElMarker",props:{mark:{type:[String,Object],default:()=>{}}},setup:e=>({label:Et((()=>"string"==typeof e.mark?e.mark:e.mark.label))}),render(){var e;return Bo("div",{class:"el-slider__marks-text",style:null==(e=this.mark)?void 0:e.style},this.label)}});Fz.__file="packages/components/slider/src/marker.vue";const Vz=(e,t,n)=>{const r=$t("elForm",{}),o=$t("elFormItem",{}),i=vt(null),a=vt(null),l=vt(null),u={firstButton:a,secondButton:l},s=Et((()=>e.disabled||r.disabled||!1)),c=Et((()=>Math.min(t.firstValue,t.secondValue))),d=Et((()=>Math.max(t.firstValue,t.secondValue))),f=Et((()=>e.range?100*(d.value-c.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),p=Et((()=>e.range?100*(c.value-e.min)/(e.max-e.min)+"%":"0%")),m=Et((()=>e.vertical?{height:e.height}:{})),h=Et((()=>e.vertical?{height:f.value,bottom:p.value}:{width:f.value,left:p.value})),g=()=>{i.value&&(t.sliderSize=i.value["client"+(e.vertical?"Height":"Width")])},v=n=>{const r=e.min+n*(e.max-e.min)/100;if(!e.range)return void a.value.setPosition(n);let o;o=Math.abs(c.value-r)<Math.abs(d.value-r)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",u[o].value.setPosition(n)},b=()=>{return t=void 0,r=null,o=function*(){yield wo(),n("change",e.range?[c.value,d.value]:e.modelValue)},new Promise(((e,n)=>{var i=e=>{try{l(o.next(e))}catch(t){n(t)}},a=e=>{try{l(o.throw(e))}catch(t){n(t)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,a);l((o=o.apply(t,r)).next())}));var t,r,o};return{elFormItem:o,slider:i,firstButton:a,secondButton:l,sliderDisabled:s,minValue:c,maxValue:d,runwayStyle:m,barStyle:h,resetSize:g,setPosition:v,emitChange:b,onSliderClick:n=>{if(!s.value&&!t.dragging){if(g(),e.vertical){const e=i.value.getBoundingClientRect().bottom;v((e-n.clientY)/t.sliderSize*100)}else{const e=i.value.getBoundingClientRect().left;v((n.clientX-e)/t.sliderSize*100)}b()}}}};var Hz=Object.defineProperty,jz=Object.defineProperties,$z=Object.getOwnPropertyDescriptors,Uz=Object.getOwnPropertySymbols,Wz=Object.prototype.hasOwnProperty,qz=Object.prototype.propertyIsEnumerable,Kz=(e,t,n)=>t in e?Hz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yz=Qt({name:"ElSlider",components:{ElInputNumber:$A,SliderButton:Lz,SliderMarker:Fz},props:{modelValue:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String,default:""},debounce:{type:Number,default:300},label:{type:String,default:void 0},tooltipClass:{type:String,default:void 0},marks:Object},emits:[wm,"change","input"],setup(e,{emit:t}){const n=it({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:r,slider:o,firstButton:i,secondButton:a,sliderDisabled:l,minValue:u,maxValue:s,runwayStyle:c,barStyle:d,resetSize:f,emitChange:p,onSliderClick:m}=Vz(e,n,t),{stops:h,getStopStyle:g}=((e,t,n,r)=>({stops:Et((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const o=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),a=Array.from({length:o-1}).map(((e,t)=>(t+1)*i));return e.range?a.filter((t=>t<100*(n.value-e.min)/(e.max-e.min)||t>100*(r.value-e.min)/(e.max-e.min))):a.filter((n=>n>100*(t.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:t=>e.vertical?{bottom:t+"%"}:{left:t+"%"}}))(e,n,u,s),v=(e=>Et((()=>e.marks?Object.keys(e.marks).map(parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]}))):[])))(e);Gz(e,n,u,s,t,r);const b=Et((()=>{let t=[e.min,e.max,e.step].map((e=>{let t=(""+e).split(".")[1];return t?t.length:0}));return Math.max.apply(null,t)})),{sliderWrapper:y}=Xz(e,n,f),{firstValue:w,secondValue:x,oldValue:C,dragging:k,sliderSize:S}=St(n);return jt("SliderProvider",((e,t)=>jz(e,$z(t)))(((e,t)=>{for(var n in t||(t={}))Wz.call(t,n)&&Kz(e,n,t[n]);if(Uz)for(var n of Uz(t))qz.call(t,n)&&Kz(e,n,t[n]);return e})({},St(e)),{sliderSize:S,disabled:l,precision:b,emitChange:p,resetSize:f,updateDragging:e=>{n.dragging=e}})),{firstValue:w,secondValue:x,oldValue:C,dragging:k,sliderSize:S,slider:o,firstButton:i,secondButton:a,sliderDisabled:l,runwayStyle:c,barStyle:d,emitChange:p,onSliderClick:m,getStopStyle:g,stops:h,markList:v,sliderWrapper:y}}});const Gz=(e,t,n,r,o,i)=>{const a=e=>{o(wm,e),o("input",e)},l=()=>e.range?![n.value,r.value].every(((e,n)=>e===t.oldValue[n])):e.modelValue!==t.oldValue,u=()=>{var o,u;if(e.min>e.max)return void Dp("Slider","min should not be greater than max.");const s=e.modelValue;e.range&&Array.isArray(s)?s[1]<e.min?a([e.min,e.min]):s[0]>e.max?a([e.max,e.max]):s[0]<e.min?a([e.min,s[1]]):s[1]>e.max?a([s[0],e.max]):(t.firstValue=s[0],t.secondValue=s[1],l()&&(null==(o=i.formItemMitt)||o.emit("el.form.change",[n.value,r.value]),t.oldValue=s.slice())):e.range||"number"!=typeof s||isNaN(s)||(s<e.min?a(e.min):s>e.max?a(e.max):(t.firstValue=s,l()&&(null==(u=i.formItemMitt)||u.emit("el.form.change",s),t.oldValue=s)))};u(),Mo((()=>t.dragging),(e=>{e||u()})),Mo((()=>t.firstValue),(t=>{e.range?a([n.value,r.value]):a(t)})),Mo((()=>t.secondValue),(()=>{e.range&&a([n.value,r.value])})),Mo((()=>e.modelValue),((e,n)=>{t.dragging||Array.isArray(e)&&Array.isArray(n)&&e.every(((e,t)=>e===n[t]))||u()})),Mo((()=>[e.min,e.max]),(()=>{u()}))},Xz=(e,t,n)=>{const r=vt(null);return cn((()=>{return o=void 0,i=null,a=function*(){let o;e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue],o=`${t.firstValue}-${t.secondValue}`):("number"!=typeof e.modelValue||isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue,o=t.firstValue),r.value.setAttribute("aria-valuetext",o),r.value.setAttribute("aria-label",e.label?e.label:`slider between ${e.min} and ${e.max}`),Qp(window,"resize",n),yield wo(),n()},new Promise(((e,t)=>{var n=e=>{try{l(a.next(e))}catch(n){t(n)}},r=e=>{try{l(a.throw(e))}catch(n){t(n)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,r);l((a=a.apply(o,i)).next())}));var o,i,a})),pn((()=>{em(window,"resize",n)})),{sliderWrapper:r}},Zz=["aria-valuemin","aria-valuemax","aria-orientation","aria-disabled"],Jz={key:1},Qz={class:"el-slider__marks"};Yz.render=function(e,t,n,o,i,a){const u=or("el-input-number"),s=or("slider-button"),c=or("slider-marker");return gr(),wr("div",{ref:"sliderWrapper",class:l(["el-slider",{"is-vertical":e.vertical,"el-slider--with-input":e.showInput}]),role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled},[e.showInput&&!e.range?(gr(),xr(u,{key:0,ref:"input",modelValue:e.firstValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.firstValue=t),class:"el-slider__input",step:e.step,disabled:e.sliderDisabled,controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:e.inputSize,onChange:e.emitChange},null,8,["modelValue","step","disabled","controls","min","max","debounce","size","onChange"])):Nr("v-if",!0),Tr("div",{ref:"slider",class:l(["el-slider__runway",{"show-input":e.showInput&&!e.range,disabled:e.sliderDisabled}]),style:r(e.runwayStyle),onClick:t[3]||(t[3]=(...t)=>e.onSliderClick&&e.onSliderClick(...t))},[Tr("div",{class:"el-slider__bar",style:r(e.barStyle)},null,4),Er(s,{ref:"firstButton",modelValue:e.firstValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.firstValue=t),vertical:e.vertical,"tooltip-class":e.tooltipClass},null,8,["modelValue","vertical","tooltip-class"]),e.range?(gr(),xr(s,{key:0,ref:"secondButton",modelValue:e.secondValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.secondValue=t),vertical:e.vertical,"tooltip-class":e.tooltipClass},null,8,["modelValue","vertical","tooltip-class"])):Nr("v-if",!0),e.showStops?(gr(),wr("div",Jz,[(gr(!0),wr(cr,null,Ir(e.stops,((t,n)=>(gr(),wr("div",{key:n,class:"el-slider__stop",style:r(e.getStopStyle(t))},null,4)))),128))])):Nr("v-if",!0),e.markList.length>0?(gr(),wr(cr,{key:2},[Tr("div",null,[(gr(!0),wr(cr,null,Ir(e.markList,((t,n)=>(gr(),wr("div",{key:n,style:r(e.getStopStyle(t.position)),class:"el-slider__stop el-slider__marks-stop"},null,4)))),128))]),Tr("div",Qz,[(gr(!0),wr(cr,null,Ir(e.markList,((t,n)=>(gr(),xr(c,{key:n,mark:t.mark,style:r(e.getStopStyle(t.position))},null,8,["mark","style"])))),128))])],64)):Nr("v-if",!0)],6)],10,Zz)},Yz.__file="packages/components/slider/src/index.vue",Yz.install=e=>{e.component(Yz.name,Yz)};const eB=Yz;var tB=Qt({props:{prefixCls:{type:String,default:"el-space"}},setup:e=>({classes:Et((()=>`${e.prefixCls}__item`))})});tB.render=function(e,t,n,r,o,i){return gr(),wr("div",{class:l(e.classes)},[Fr(e.$slots,"default")],2)},tB.__file="packages/components/space/src/item.vue";const nB={mini:4,small:8,medium:12,large:16};const rB=Qt({name:"ElSpace",props:{direction:{type:String,default:"horizontal"},class:{type:[String,Object,Array],default:""},style:{type:[String,Array,Object]},alignment:{type:String,default:"center"},prefixCls:{type:String},spacer:{type:[Object,String,Number],default:null,validator:e=>Cr(e)||Lp(e)||A(e)},wrap:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],validator:e=>Pv(e)||Lp(e)||S(e)}},setup:e=>function(e){const t=Et((()=>["el-space",`el-space--${e.direction}`,e.class])),n=vt(0),r=vt(0);return Mo((()=>[e.size,e.wrap,e.direction,e.fill]),(([e="small",t,o,i])=>{if(S(e)){const[t=0,o=0]=e;n.value=t,r.value=o}else{let a;a=Lp(e)?e:nB[e]||nB.small,(t||i)&&"horizontal"===o?n.value=r.value=a:"horizontal"===o?(n.value=a,r.value=0):(r.value=a,n.value=0)}}),{immediate:!0}),{classes:t,containerStyle:Et((()=>[e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${r.value}px`}:null,{alignItems:e.alignment},e.style])),itemStyle:Et((()=>[{paddingBottom:`${r.value}px`,marginRight:`${n.value}px`},e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:null]))}}(e),render(e){const{classes:t,$slots:n,containerStyle:r,itemStyle:o,spacer:i,prefixCls:a,direction:l}=e,u=Fr(n,"default",{key:0},(()=>[]));if(0===u.children.length)return null;if(S(u.children)){let e=[];if(u.children.forEach(((t,n)=>{var r;Rg(t)?S(t.children)&&t.children.forEach(((t,n)=>{e.push(Er(tB,{style:o,prefixCls:a,key:`nested-${n}`},{default:()=>[t]},zg.PROPS|zg.STYLE,["style","prefixCls"]))})):Rg(r=t)||Ig(r)||e.push(Er(tB,{style:o,prefixCls:a,key:`LoopKey${n}`},{default:()=>[t]},zg.PROPS|zg.STYLE,["style","prefixCls"]))})),i){const t=e.length-1;e=e.reduce(((e,n,r)=>r===t?[...e,n]:[...e,n,Er("span",{style:[o,"vertical"===l?"width: 100%":null],key:r},[Cr(i)?i:Dr(i,zg.TEXT)],zg.STYLE)]),[])}return Er("div",{class:t,style:r},e,zg.STYLE|zg.CLASS)}return u.children}});rB.install=e=>{e.component(rB.name,rB)};const oB=rB;var iB=Qt({name:"ElSteps",props:{space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},alignCenter:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},finishStatus:{type:String,default:"finish",validator:e=>["wait","process","finish","error","success"].includes(e)},processStatus:{type:String,default:"process",validator:e=>["wait","process","finish","error","success"].includes(e)}},emits:["change"],setup(e,{emit:t}){const n=vt([]);return Mo(n,(()=>{n.value.forEach(((e,t)=>{e.setIndex(t)}))})),jt("ElSteps",{props:e,steps:n}),Mo((()=>e.active),((e,n)=>{t("change",e,n)})),{steps:n}}});iB.render=function(e,t,n,r,o,i){return gr(),wr("div",{class:l(["el-steps",e.simple?"el-steps--simple":`el-steps--${e.direction}`])},[Fr(e.$slots,"default")],2)},iB.__file="packages/components/steps/src/index.vue";var aB=Qt({name:"ElStep",props:{title:{type:String,default:""},icon:{type:String,default:""},description:{type:String,default:""},status:{type:String,default:"",validator:e=>["","wait","process","finish","error","success"].includes(e)}},setup(e){const t=vt(-1),n=vt({}),r=vt(""),o=$t("ElSteps"),i=Yr();cn((()=>{Mo([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],(([e])=>{v(e)}),{immediate:!0})})),pn((()=>{o.steps.value=o.steps.value.filter((e=>e.uid!==i.uid))}));const a=Et((()=>e.status||r.value)),l=Et((()=>{const e=o.steps.value[t.value-1];return e?e.currentStatus:"wait"})),u=Et((()=>o.props.alignCenter)),s=Et((()=>"vertical"===o.props.direction)),c=Et((()=>o.props.simple)),d=Et((()=>o.steps.value.length)),f=Et((()=>{var e;return(null==(e=o.steps.value[d.value-1])?void 0:e.uid)===i.uid})),p=Et((()=>c.value?"":o.props.space)),m=Et((()=>{const e={flexBasis:"number"==typeof p.value?`${p.value}px`:p.value?p.value:100/(d.value-(u.value?0:1))+"%"};return s.value||f.value&&(e.maxWidth=100/d.value+"%"),e})),h=e=>{t.value=e},g=e=>{let r=100;const i={};i.transitionDelay=150*t.value+"ms",e===o.props.processStatus?r=0:"wait"===e&&(r=0,i.transitionDelay=-150*t.value+"ms"),i.borderWidth=r&&!c.value?"1px":0,i["vertical"===o.props.direction?"height":"width"]=`${r}%`,n.value=i},v=e=>{e>t.value?r.value=o.props.finishStatus:e===t.value&&"error"!==l.value?r.value=o.props.processStatus:r.value="wait";const n=o.steps.value[d.value-1];n&&n.calcProgress(r.value)},b=it({uid:Et((()=>i.uid)),currentStatus:a,setIndex:h,calcProgress:g});return o.steps.value=[...o.steps.value,b],{index:t,lineStyle:n,currentStatus:a,isCenter:u,isVertical:s,isSimple:c,isLast:f,space:p,style:m,parent:o,setIndex:h,calcProgress:g,updateStatus:v}}});const lB={class:"el-step__line"},uB={key:1,class:"el-step__icon-inner"},sB={class:"el-step__main"},cB={key:0,class:"el-step__arrow"};aB.render=function(e,t,n,o,i,a){return gr(),wr("div",{style:r(e.style),class:l(["el-step",e.isSimple?"is-simple":`is-${e.parent.props.direction}`,e.isLast&&!e.space&&!e.isCenter&&"is-flex",e.isCenter&&!e.isVertical&&!e.isSimple&&"is-center"])},[Nr(" icon & line "),Tr("div",{class:l(["el-step__head",`is-${e.currentStatus}`])},[Tr("div",lB,[Tr("i",{class:"el-step__line-inner",style:r(e.lineStyle)},null,4)]),Tr("div",{class:l(["el-step__icon","is-"+(e.icon?"icon":"text")])},["success"!==e.currentStatus&&"error"!==e.currentStatus?Fr(e.$slots,"icon",{key:0},(()=>[e.icon?(gr(),wr("i",{key:0,class:l(["el-step__icon-inner",e.icon])},null,2)):Nr("v-if",!0),e.icon||e.isSimple?Nr("v-if",!0):(gr(),wr("div",uB,d(e.index+1),1))])):(gr(),wr("i",{key:1,class:l(["el-step__icon-inner","is-status","el-icon-"+("success"===e.currentStatus?"check":"close")])},null,2))],2)],2),Nr(" title & description "),Tr("div",sB,[Tr("div",{class:l(["el-step__title",`is-${e.currentStatus}`])},[Fr(e.$slots,"title",{},(()=>[Dr(d(e.title),1)]))],2),e.isSimple?(gr(),wr("div",cB)):(gr(),wr("div",{key:1,class:l(["el-step__description",`is-${e.currentStatus}`])},[Fr(e.$slots,"description",{},(()=>[Dr(d(e.description),1)]))],2))])],6)},aB.__file="packages/components/steps/src/item.vue",iB.install=e=>{e.component(iB.name,iB),e.component(aB.name,aB)},iB.Step=aB;const dB=iB;var fB=Qt({name:"ElSwitch",props:{modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:Function},emits:["update:modelValue","change","input"],setup(e,t){const n=$t("elForm",{}),r=$t("elFormItem",{}),o=vt(!1!==e.modelValue),i=vt(null),a=vt(null);Mo((()=>e.modelValue),(()=>{o.value=!0})),Mo((()=>e.value),(()=>{o.value=!1}));const l=Et((()=>o.value?e.modelValue:e.value)),u=Et((()=>l.value===e.activeValue));~[e.activeValue,e.inactiveValue].indexOf(l.value)||(t.emit("update:modelValue",e.inactiveValue),t.emit("change",e.inactiveValue),t.emit("input",e.inactiveValue)),Mo(u,(()=>{var t;i.value.checked=u.value,(e.activeColor||e.inactiveColor)&&d(),e.validateEvent&&(null==(t=r.formItemMitt)||t.emit("el.form.change",[l.value]))}));const s=Et((()=>e.disabled||e.loading||(n||{}).disabled)),c=()=>{const n=u.value?e.inactiveValue:e.activeValue;t.emit("update:modelValue",n),t.emit("change",n),t.emit("input",n),wo((()=>{i.value.checked=u.value}))},d=()=>{const t=u.value?e.activeColor:e.inactiveColor,n=a.value;e.borderColor?n.style.borderColor=e.borderColor:e.borderColor||(n.style.borderColor=t),n.style.backgroundColor=t,n.children[0].style.color=t};return cn((()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&d(),i.value.checked=u.value})),{input:i,core:a,switchDisabled:s,checked:u,handleChange:c,switchValue:()=>{if(s.value)return;const{beforeChange:t}=e;if(!t)return void c();const n=t();[N(n),Ip(n)].some((e=>e))||Dp("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),N(n)?n.then((e=>{e&&c()})).catch((e=>{})):n&&c()},focus:()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.focus)||t.call(e)}}}});const pB=["aria-checked","aria-disabled"],mB=["id","name","true-value","false-value","disabled"],hB=["aria-hidden"],gB={class:"el-switch__action"},vB={key:0,class:"el-icon-loading"},bB=["aria-hidden"];fB.render=function(e,t,n,o,i,a){return gr(),wr("div",{class:l(["el-switch",{"is-disabled":e.switchDisabled,"is-checked":e.checked}]),role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:t[2]||(t[2]=Pi(((...t)=>e.switchValue&&e.switchValue(...t)),["prevent"]))},[Tr("input",{id:e.id,ref:"input",class:"el-switch__input",type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:t[0]||(t[0]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[1]||(t[1]=Bi(((...t)=>e.switchValue&&e.switchValue(...t)),["enter"]))},null,40,mB),e.inactiveIconClass||e.inactiveText?(gr(),wr("span",{key:0,class:l(["el-switch__label","el-switch__label--left",e.checked?"":"is-active"])},[e.inactiveIconClass?(gr(),wr("i",{key:0,class:l([e.inactiveIconClass])},null,2)):Nr("v-if",!0),!e.inactiveIconClass&&e.inactiveText?(gr(),wr("span",{key:1,"aria-hidden":e.checked},d(e.inactiveText),9,hB)):Nr("v-if",!0)],2)):Nr("v-if",!0),Tr("span",{ref:"core",class:"el-switch__core",style:r({width:(e.width||40)+"px"})},[Tr("div",gB,[e.loading?(gr(),wr("i",vB)):Nr("v-if",!0)])],4),e.activeIconClass||e.activeText?(gr(),wr("span",{key:1,class:l(["el-switch__label","el-switch__label--right",e.checked?"is-active":""])},[e.activeIconClass?(gr(),wr("i",{key:0,class:l([e.activeIconClass])},null,2)):Nr("v-if",!0),!e.activeIconClass&&e.activeText?(gr(),wr("span",{key:1,"aria-hidden":!e.checked},d(e.activeText),9,bB)):Nr("v-if",!0)],2)):Nr("v-if",!0)],10,pB)},fB.__file="packages/components/switch/src/index.vue",fB.install=e=>{e.component(fB.name,fB)};const yB=fB;var wB=Object.defineProperty,xB=Object.getOwnPropertySymbols,CB=Object.prototype.hasOwnProperty,kB=Object.prototype.propertyIsEnumerable,SB=(e,t,n)=>t in e?wB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _B=function(e){let t=e.target;for(;t&&"HTML"!==t.tagName.toUpperCase();){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null},OB=function(e){return null!==e&&"object"==typeof e},TB=function(e,t,n,r,o){if(!t&&!r&&(!o||Array.isArray(o)&&!o.length))return e;n="string"==typeof n?"descending"===n?-1:1:n&&n<0?-1:1;const i=r?null:function(n,r){return o?(Array.isArray(o)||(o=[o]),o.map((function(t){return"string"==typeof t?Pp(n,t):t(n,r,e)}))):("$key"!==t&&OB(n)&&"$value"in n&&(n=n.$value),[OB(n)?Pp(n,t):n])};return e.map((function(e,t){return{value:e,index:t,key:i?i(e,t):null}})).sort((function(e,t){let o=function(e,t){if(r)return r(e.value,t.value);for(let n=0,r=e.key.length;n<r;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0}(e,t);return o||(o=e.index-t.index),o*+n})).map((e=>e.value))},EB=function(e,t){let n=null;return e.columns.forEach((function(e){e.id===t&&(n=e)})),n},AB=function(e,t){const n=(t.className||"").match(/el-table_[^\s]+/gm);return n?EB(e,n[0]):null},MB=(e,t)=>{if(!e)throw new Error("row is required when get row identity");if("string"==typeof t){if(t.indexOf(".")<0)return e[t]+"";const n=t.split(".");let r=e;for(let e=0;e<n.length;e++)r=r[n[e]];return r+""}if("function"==typeof t)return t.call(null,e)},DB=function(e,t){const n={};return(e||[]).forEach(((e,r)=>{n[MB(e,t)]={row:e,index:r}})),n};function NB(e){return void 0!==e&&(e=parseInt(e,10),isNaN(e)&&(e=null)),+e}function PB(e){return void 0!==e&&(e=NB(e),isNaN(e)&&(e=80)),e}function zB(e){return"number"==typeof e?e:"string"==typeof e?/^\d+(?:px)?$/.test(e)?parseInt(e,10):e:null}function BB(e,t,n){let r=!1;const o=e.indexOf(t),i=-1!==o,a=()=>{e.push(t),r=!0},l=()=>{e.splice(o,1),r=!0};return"boolean"==typeof n?n&&!i?a():!n&&i&&l():i?l():a(),r}function RB(e,t,n="children",r="hasChildren"){const o=e=>!(Array.isArray(e)&&e.length);function i(e,a,l){t(e,a,l),a.forEach((e=>{if(e[r])return void t(e,null,l+1);const a=e[n];o(a)||i(e,a,l+1)}))}e.forEach((e=>{if(e[r])return void t(e,null,0);const a=e[n];o(a)||i(e,a,0)}))}let IB;function LB(e,t,n,r){function o(){i&&i.update()}IB=function t(){try{i&&i.destroy(),a&&document.body.removeChild(a),em(e,"mouseenter",o),em(e,"mouseleave",t)}catch(n){}};let i=null;const a=function(){const e="light"===r,n=document.createElement("div");return n.className="el-popper "+(e?"is-light":"is-dark"),n.innerHTML=t,n.style.zIndex=String(Gg.nextZIndex()),document.body.appendChild(n),n}(),l=function(){const e=document.createElement("div");return e.className="el-popper__arrow",e.style.bottom="-4px",e}();return a.appendChild(l),i=_h(e,a,((e,t)=>{for(var n in t||(t={}))CB.call(t,n)&&SB(e,n,t[n]);if(xB)for(var n of xB(t))kB.call(t,n)&&SB(e,n,t[n]);return e})({modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:l,padding:10}}]},n)),Qp(e,"mouseenter",o),Qp(e,"mouseleave",IB),i}var FB=Object.defineProperty,VB=Object.getOwnPropertySymbols,HB=Object.prototype.hasOwnProperty,jB=Object.prototype.propertyIsEnumerable,$B=(e,t,n)=>t in e?FB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function UB(e){const t=vt([]),n=vt({}),r=vt(16),o=vt(!1),i=vt({}),a=vt("hasChildren"),l=vt("children"),u=Yr(),s=Et((()=>{if(!e.rowKey.value)return{};const t=e.data.value||[];return d(t)})),c=Et((()=>{const t=e.rowKey.value,n=Object.keys(i.value),r={};return n.length?(n.forEach((e=>{if(i.value[e].length){const n={children:[]};i.value[e].forEach((e=>{const o=MB(e,t);n.children.push(o),e[a.value]&&!r[o]&&(r[o]={children:[]})})),r[e]=n}})),r):r})),d=t=>{const n=e.rowKey.value,r={};return RB(t,((e,t,i)=>{const a=MB(e,n);Array.isArray(t)?r[a]={children:t.map((e=>MB(e,n))),level:i}:o.value&&(r[a]={children:[],lazy:!0,level:i})}),l.value,a.value),r},f=()=>{var e,r;const i=s.value,a=c.value,l=Object.keys(i),d={};if(l.length){const r=xt(n),s=null==(e=u.store)?void 0:e.states.defaultExpandAll.value,c=[],f=(e,n)=>{const r=s||t.value&&-1!==t.value.indexOf(n);return!!(e&&e.expanded||r)};l.forEach((e=>{const t=r[e],n=((e,t)=>{for(var n in t||(t={}))HB.call(t,n)&&$B(e,n,t[n]);if(VB)for(var n of VB(t))jB.call(t,n)&&$B(e,n,t[n]);return e})({},i[e]);if(n.expanded=f(t,e),n.lazy){const{loaded:r=!1,loading:o=!1}=t||{};n.loaded=!!r,n.loading=!!o,c.push(e)}d[e]=n}));const p=Object.keys(a);o.value&&p.length&&c.length&&p.forEach((e=>{const t=r[e],n=a[e].children;if(-1!==c.indexOf(e)){if(0!==d[e].children.length)throw new Error("[ElTable]children must be an empty array.");d[e].children=n}else{const{loaded:r=!1,loading:o=!1}=t||{};d[e]={lazy:!0,loaded:!!r,loading:!!o,expanded:f(t,e),children:n,level:""}}}))}n.value=d,null==(r=u.store)||r.updateTableScrollY()};Mo((()=>s.value),f),Mo((()=>c.value),f);const p=(t,r)=>{u.store.assertRowKey();const o=e.rowKey.value,i=MB(t,o),a=i&&n.value[i];if(i&&a&&"expanded"in a){const e=a.expanded;r=void 0===r?!a.expanded:r,n.value[i].expanded=r,e!==r&&u.emit("expand-change",t,r),u.store.updateTableScrollY()}},m=(e,t,r)=>{const{load:o}=u.props;o&&!n.value[t].loaded&&(n.value[t].loading=!0,o(e,r,(r=>{if(!Array.isArray(r))throw new Error("[ElTable] data must be an array");n.value[t].loading=!1,n.value[t].loaded=!0,n.value[t].expanded=!0,r.length&&(i.value[t]=r),u.emit("expand-change",e,!0)})))};return{loadData:m,loadOrToggle:t=>{u.store.assertRowKey();const r=e.rowKey.value,i=MB(t,r),a=n.value[i];o.value&&a&&"loaded"in a&&!a.loaded?m(t,i,a):p(t,void 0)},toggleTreeExpansion:p,updateTreeExpandKeys:e=>{t.value=e,f()},updateTreeData:f,normalize:d,states:{expandRowKeys:t,treeData:n,indent:r,lazy:o,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:l}}}var WB=Object.defineProperty,qB=Object.getOwnPropertySymbols,KB=Object.prototype.hasOwnProperty,YB=Object.prototype.propertyIsEnumerable,GB=(e,t,n)=>t in e?WB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XB=(e,t)=>{for(var n in t||(t={}))KB.call(t,n)&&GB(e,n,t[n]);if(qB)for(var n of qB(t))YB.call(t,n)&&GB(e,n,t[n]);return e};const ZB=e=>{const t=[];return e.forEach((e=>{e.children?t.push.apply(t,ZB(e.children)):t.push(e)})),t};function JB(){const e=Yr(),t=vt(null),n=vt([]),r=vt([]),o=vt(!1),i=vt([]),a=vt([]),l=vt([]),u=vt([]),s=vt([]),c=vt([]),d=vt([]),f=vt([]),p=vt(0),m=vt(0),h=vt(0),g=vt(!1),v=vt([]),b=vt(!1),y=vt(!1),w=vt(null),x=vt({}),C=vt(null),S=vt(null),_=vt(null),O=vt(null),T=vt(null);Mo(n,(()=>e.state&&A(!1)),{deep:!0});const E=()=>{u.value=i.value.filter((e=>!0===e.fixed||"left"===e.fixed)),s.value=i.value.filter((e=>"right"===e.fixed)),u.value.length>0&&i.value[0]&&"selection"===i.value[0].type&&!i.value[0].fixed&&(i.value[0].fixed=!0,u.value.unshift(i.value[0]));const e=i.value.filter((e=>!e.fixed));a.value=[].concat(u.value).concat(e).concat(s.value);const t=ZB(e),n=ZB(u.value),r=ZB(s.value);p.value=t.length,m.value=n.length,h.value=r.length,l.value=[].concat(n).concat(t).concat(r),o.value=u.value.length>0||s.value.length>0},A=(t,n=!1)=>{t&&E(),n?e.state.doLayout():e.state.debouncedUpdateLayout()},M=t=>{var n;if(!e||!e.store)return 0;const{treeData:r}=e.store.states;let o=0;const i=null==(n=r.value[t])?void 0:n.children;return i&&(o+=i.length,i.forEach((e=>{o+=M(e)}))),o},D=(e,t,n)=>{S.value&&S.value!==e&&(S.value.order=null),S.value=e,_.value=t,O.value=n},N=()=>{let e=xt(r);Object.keys(x.value).forEach((t=>{const n=x.value[t];if(!n||0===n.length)return;const r=EB({columns:l.value},t);r&&r.filterMethod&&(e=e.filter((e=>n.some((t=>r.filterMethod.call(null,t,e,r))))))})),C.value=e},P=()=>{n.value=((e,t)=>{const n=t.sortingColumn;return n&&"string"!=typeof n.sortable?TB(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy):e})(C.value,{sortingColumn:S.value,sortProp:_.value,sortOrder:O.value})},{setExpandRowKeys:z,toggleRowExpansion:B,updateExpandRows:R,states:I,isRowExpanded:L}=function(e){const t=Yr(),n=vt(!1),r=vt([]);return{updateExpandRows:()=>{const t=e.data.value||[],o=e.rowKey.value;if(n.value)r.value=t.slice();else if(o){const e=DB(r.value,o);r.value=t.reduce(((t,n)=>{const r=MB(n,o);return e[r]&&t.push(n),t}),[])}else r.value=[]},toggleRowExpansion:(e,n)=>{BB(r.value,e,n)&&(t.emit("expand-change",e,r.value.slice()),t.store.scheduleLayout())},setExpandRowKeys:n=>{t.store.assertRowKey();const o=e.data.value||[],i=e.rowKey.value,a=DB(o,i);r.value=n.reduce(((e,t)=>{const n=a[t];return n&&e.push(n.row),e}),[])},isRowExpanded:t=>{const n=e.rowKey.value;return n?!!DB(r.value,n)[MB(t,n)]:-1!==r.value.indexOf(t)},states:{expandRows:r,defaultExpandAll:n}}}({data:n,rowKey:t}),{updateTreeExpandKeys:F,toggleTreeExpansion:V,loadOrToggle:H,states:j}=UB({data:n,rowKey:t}),{updateCurrentRowData:$,updateCurrentRow:U,setCurrentRowKey:W,states:q}=function(e){const t=Yr(),n=vt(null),r=vt(null),o=()=>{n.value=null},i=t=>{const{data:n=[],rowKey:o}=e;let i=null;o.value&&(i=Up(xt(n),(e=>MB(e,o.value)===t))),r.value=i};return{setCurrentRowKey:e=>{t.store.assertRowKey(),n.value=e,i(e)},restoreCurrentRowKey:o,setCurrentRowByKey:i,updateCurrentRow:e=>{const n=r.value;if(e&&e!==n)return r.value=e,void t.emit("current-change",r.value,n);!e&&n&&(r.value=null,t.emit("current-change",null,n))},updateCurrentRowData:()=>{const a=e.rowKey.value,l=e.data.value||[],u=r.value;if(-1===l.indexOf(u)&&u){if(a){const e=MB(u,a);i(e)}else r.value=null;null===r.value&&t.emit("current-change",null,u)}else n.value&&(i(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}({data:n,rowKey:t});return{assertRowKey:()=>{if(!t.value)throw new Error("[ElTable] prop row-key is required")},updateColumns:E,scheduleLayout:A,isSelected:e=>v.value.indexOf(e)>-1,clearSelection:()=>{g.value=!1;v.value.length&&(v.value=[],e.emit("selection-change",[]))},cleanSelection:()=>{let r;if(t.value){r=[];const e=DB(v.value,t.value),o=DB(n.value,t.value);for(const t in e)k(e,t)&&!o[t]&&r.push(e[t].row)}else r=v.value.filter((e=>-1===n.value.indexOf(e)));if(r.length){const t=v.value.filter((e=>-1===r.indexOf(e)));v.value=t,e.emit("selection-change",t.slice())}},toggleRowSelection:(t,n,r=!0)=>{if(BB(v.value,t,n)){const n=(v.value||[]).slice();r&&e.emit("select",n,t),e.emit("selection-change",n)}},_toggleAllSelection:()=>{var t,r;const o=y.value?!g.value:!(g.value||v.value.length);g.value=o;let i=!1,a=0;const l=null==(r=null==(t=null==e?void 0:e.store)?void 0:t.states)?void 0:r.rowKey.value;n.value.forEach(((e,t)=>{const n=t+a;w.value?w.value.call(null,e,n)&&BB(v.value,e,o)&&(i=!0):BB(v.value,e,o)&&(i=!0),a+=M(MB(e,l))})),i&&e.emit("selection-change",v.value?v.value.slice():[]),e.emit("select-all",v.value)},toggleAllSelection:null,updateSelectionByRowKey:()=>{const e=DB(v.value,t.value);n.value.forEach((n=>{const r=MB(n,t.value),o=e[r];o&&(v.value[o.index]=n)}))},updateAllSelected:()=>{var r,o,i;if(0===(null==(r=n.value)?void 0:r.length))return void(g.value=!1);let a;t.value&&(a=DB(v.value,t.value));let l=!0,u=0,s=0;for(let d=0,f=(n.value||[]).length;d<f;d++){const r=null==(i=null==(o=null==e?void 0:e.store)?void 0:o.states)?void 0:i.rowKey.value,f=d+s,p=n.value[d],m=w.value&&w.value.call(null,p,f);if(c=p,a?a[MB(c,t.value)]:-1!==v.value.indexOf(c))u++;else if(!w.value||m){l=!1;break}s+=M(MB(p,r))}var c;0===u&&(l=!1),g.value=l},updateFilters:(e,t)=>{Array.isArray(e)||(e=[e]);const n={};return e.forEach((e=>{x.value[e.id]=t,n[e.columnKey||e.id]=t})),n},updateCurrentRow:U,updateSort:D,execFilter:N,execSort:P,execQuery:e=>{e&&e.filter||N(),P()},clearFilter:t=>{const{tableHeader:n,fixedTableHeader:r,rightFixedTableHeader:o}=e.refs;let i={};n&&(i=Object.assign(i,n.filterPanels)),r&&(i=Object.assign(i,r.filterPanels)),o&&(i=Object.assign(i,o.filterPanels));const a=Object.keys(i);if(a.length)if("string"==typeof t&&(t=[t]),Array.isArray(t)){const n=t.map((e=>function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const o=e.columns[r];if(o.columnKey===t){n=o;break}}return n}({columns:l.value},e)));a.forEach((e=>{const t=n.find((t=>t.id===e));t&&(t.filteredValue=[])})),e.store.commit("filterChange",{column:n,values:[],silent:!0,multi:!0})}else a.forEach((e=>{const t=l.value.find((t=>t.id===e));t&&(t.filteredValue=[])})),x.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:()=>{S.value&&(D(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},toggleRowExpansion:B,setExpandRowKeysAdapter:e=>{z(e),F(e)},setCurrentRowKey:W,toggleRowExpansionAdapter:(e,t)=>{l.value.some((({type:e})=>"expand"===e))?B(e,t):V(e,t)},isRowExpanded:L,updateExpandRows:R,updateCurrentRowData:$,loadOrToggle:H,states:XB(XB(XB({rowKey:t,data:n,_data:r,isComplex:o,_columns:i,originColumns:a,columns:l,fixedColumns:u,rightFixedColumns:s,leafColumns:c,fixedLeafColumns:d,rightFixedLeafColumns:f,leafColumnsLength:p,fixedLeafColumnsLength:m,rightFixedLeafColumnsLength:h,isAllSelected:g,selection:v,reserveSelection:b,selectOnIndeterminate:y,selectable:w,filters:x,filteredData:C,sortingColumn:S,sortProp:_,sortOrder:O,hoverRow:T},I),j),q)}}var QB=Object.defineProperty,eR=Object.defineProperties,tR=Object.getOwnPropertyDescriptors,nR=Object.getOwnPropertySymbols,rR=Object.prototype.hasOwnProperty,oR=Object.prototype.propertyIsEnumerable,iR=(e,t,n)=>t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function aR(e,t){return e.map((e=>{var n;return e.id===t.id?t:((null==(n=e.children)?void 0:n.length)&&(e.children=aR(e.children,t)),e)}))}function lR(e){e.forEach((e=>{var t,n;e.no=null==(t=e.getColumnIndex)?void 0:t.call(e),(null==(n=e.children)?void 0:n.length)&&lR(e.children)})),e.sort(((e,t)=>e.no-t.no))}function uR(){const e=Yr(),t={setData(t,n){const r=xt(t.data)!==n;t.data.value=n,t._data.value=n,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),xt(t.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):r?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,n,r){const o=xt(t._columns);let i=[];r?(r&&!r.children&&(r.children=[]),r.children.push(n),i=aR(o,r)):(o.push(n),i=o),lR(i),t._columns.value=i,"selection"===n.type&&(t.selectable.value=n.selectable,t.reserveSelection.value=n.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},removeColumn(t,n,r){const o=xt(t._columns)||[];if(r)r.children.splice(r.children.findIndex((e=>e.id===n.id)),1),0===r.children.length&&delete r.children,t._columns.value=aR(o,r);else{const e=o.indexOf(n);e>-1&&(o.splice(e,1),t._columns.value=o)}e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,n){const{prop:r,order:o,init:i}=n;if(r){const n=Up(xt(t.columns),(e=>e.property===r));n&&(n.order=o,e.store.updateSort(n,r,o),e.store.commit("changeSortCondition",{init:i}))}},changeSortCondition(t,n){const{sortingColumn:r,sortProp:o,sortOrder:i}=t;null===xt(i)&&(t.sortingColumn.value=null,t.sortProp.value=null);e.store.execQuery({filter:!0}),n&&(n.silent||n.init)||e.emit("sort-change",{column:xt(r),prop:xt(o),order:xt(i)}),e.store.updateTableScrollY()},filterChange(t,n){const{column:r,values:o,silent:i}=n,a=e.store.updateFilters(r,o);e.store.execQuery(),i||e.emit("filter-change",a),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}};return((e,t)=>eR(e,tR(t)))(((e,t)=>{for(var n in t||(t={}))rR.call(t,n)&&iR(e,n,t[n]);if(nR)for(var n of nR(t))oR.call(t,n)&&iR(e,n,t[n]);return e})({},JB()),{mutations:t,commit:function(t,...n){const r=e.store.mutations;if(!r[t])throw new Error(`Action not found: ${t}`);r[t].apply(e,[e.store.states].concat(n))},updateTableScrollY:function(){wo((()=>e.layout.updateScrollY.apply(e.layout)))}})}const sR={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function cR(e,t){if(!e)throw new Error("Table is required.");const n=uR();return n.toggleAllSelection=Av(n._toggleAllSelection,10),Object.keys(sR).forEach((e=>{dR(fR(t,e),e,n)})),function(e,t){Object.keys(sR).forEach((n=>{Mo((()=>fR(t,n)),(t=>{dR(t,n,e)}))}))}(n,t),n}function dR(e,t,n){let r=e,o=sR[t];"object"==typeof sR[t]&&(o=o.key,r=r||sR[t].default),n.states[o].value=r}function fR(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach((e=>{r=r[e]})),r}return e[t]}class pR{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=vt(null),this.scrollX=vt(!1),this.scrollY=vt(!1),this.bodyWidth=vt(null),this.fixedWidth=vt(null),this.rightFixedWidth=vt(null),this.tableHeight=vt(null),this.headerHeight=vt(44),this.appendHeight=vt(0),this.footerHeight=vt(44),this.viewportHeight=vt(null),this.bodyHeight=vt(null),this.fixedBodyHeight=vt(null),this.gutterWidth=cm();for(const t in e)k(e,t)&&(gt(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}updateScrollY(){if(null===this.height.value)return!1;const e=this.table.refs.bodyWrapper;if(this.table.vnode.el&&e){let t=!0;const n=this.scrollY.value;if(null===this.bodyHeight.value)t=!1;else{t=e.querySelector(".el-table__body").offsetHeight>this.bodyHeight.value}return this.scrollY.value=t,n!==t}return!1}setHeight(e,t="height"){if(Ap)return;const n=this.table.vnode.el;if(e=zB(e),this.height.value=Number(e),!n&&(e||0===e))return wo((()=>this.setHeight(e,t)));"number"==typeof e?(n.style[t]=e+"px",this.updateElsHeight()):"string"==typeof e&&(n.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach((t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)})),e}updateElsHeight(){if(!this.table.$ready)return wo((()=>this.updateElsHeight()));const{headerWrapper:e,appendWrapper:t,footerWrapper:n}=this.table.refs;if(this.appendHeight.value=t?t.offsetHeight:0,this.showHeader&&!e)return;const r=e?e.querySelector(".el-table__header tr"):null,o=this.headerDisplayNone(r),i=this.headerHeight.value=this.showHeader?e.offsetHeight:0;if(this.showHeader&&!o&&e.offsetWidth>0&&(this.table.store.states.columns.value||[]).length>0&&i<2)return wo((()=>this.updateElsHeight()));const a=this.tableHeight.value=this.table.vnode.el.clientHeight,l=this.footerHeight.value=n?n.offsetHeight:0;null!==this.height.value&&(this.bodyHeight.value=a-i-l+(n?1:0)),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?a-this.gutterWidth:a,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;"DIV"!==t.tagName;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(Ap)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let n=0;const r=this.getFlattenColumns(),o=r.filter((e=>"number"!=typeof e.width));if(r.forEach((e=>{"number"==typeof e.width&&e.realWidth&&(e.realWidth=null)})),o.length>0&&e){r.forEach((e=>{n+=Number(e.width||e.minWidth||80)}));const e=this.scrollY.value?this.gutterWidth:0;if(n<=t-e){this.scrollX.value=!1;const r=t-e-n;if(1===o.length)o[0].realWidth=Number(o[0].minWidth||80)+r;else{const e=r/o.reduce(((e,t)=>e+Number(t.minWidth||80)),0);let t=0;o.forEach(((n,r)=>{if(0===r)return;const o=Math.floor(Number(n.minWidth||80)*e);t+=o,n.realWidth=Number(n.minWidth||80)+o})),o[0].realWidth=Number(o[0].minWidth||80)+r-t}}else this.scrollX.value=!0,o.forEach((function(e){e.realWidth=Number(e.minWidth)}));this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach((e=>{e.width||e.minWidth?e.realWidth=Number(e.width||e.minWidth):e.realWidth=80,n+=e.realWidth})),this.scrollX.value=n>t,this.bodyWidth.value=n;const i=this.store.states.fixedColumns.value;if(i.length>0){let e=0;i.forEach((function(t){e+=Number(t.realWidth||t.width)})),this.fixedWidth.value=e}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let e=0;a.forEach((function(t){e+=Number(t.realWidth||t.width)})),this.rightFixedWidth.value=e}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach((t=>{var n,r;switch(e){case"columns":null==(n=t.state)||n.onColumnsChange(this);break;case"scrollable":null==(r=t.state)||r.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}}))}}const{CheckboxGroup:mR}=pC;var hR=Qt({name:"ElTableFilterPanel",components:{ElCheckbox:pC,ElCheckboxGroup:mR,ElScrollbar:fb,ElPopper:Rb},directives:{ClickOutside:Ah},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=Yr(),{t:n}=nv(),r=t.parent;r.filterPanels.value[e.column.id]||(r.filterPanels.value[e.column.id]=t);const o=vt(!1),i=vt(null),a=Et((()=>e.column&&e.column.filters)),l=Et({get:()=>(e.column.filteredValue||[])[0],set:e=>{u.value&&(null!=e?u.value.splice(0,1,e):u.value.splice(0,1))}}),u=Et({get:()=>e.column&&e.column.filteredValue||[],set(t){e.column&&e.upDataColumn("filteredValue",t)}}),s=Et((()=>!e.column||e.column.filterMultiple)),c=()=>{o.value=!1},d=t=>{e.store.commit("filterChange",{column:e.column,values:t}),e.store.updateAllSelected()};Mo(o,(t=>{e.column&&e.upDataColumn("filterOpened",t)}),{immediate:!0});const f=Et((()=>{var e;return null==(e=i.value)?void 0:e.popperRef}));return{tooltipVisible:o,multiple:s,filteredValue:u,filterValue:l,filters:a,handleConfirm:()=>{d(u.value),c()},handleReset:()=>{u.value=[],d(u.value),c()},handleSelect:e=>{l.value=e,d(null!=e?u.value:[]),c()},isActive:e=>e.value===l.value,t:n,showFilterPanel:e=>{e.stopPropagation(),o.value=!o.value},hideFilterPanel:()=>{o.value=!1},popperPaneRef:f,tooltip:i}}});const gR={key:0},vR={class:"el-table-filter__content"},bR={class:"el-table-filter__bottom"},yR=["disabled"],wR={key:1,class:"el-table-filter__list"},xR=["label","onClick"];function CR(e){const t=Yr();sn((()=>{n.value.addObserver(t)})),cn((()=>{r(n.value),o(n.value)})),fn((()=>{r(n.value),o(n.value)})),mn((()=>{n.value.removeObserver(t)}));const n=Et((()=>{const t=e.layout;if(!t)throw new Error("Can not find table layout.");return t})),r=t=>{var n;const r=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col"))||[];if(!r.length)return;const o=t.getFlattenColumns(),i={};o.forEach((e=>{i[e.id]=e}));for(let e=0,a=r.length;e<a;e++){const t=r[e],n=t.getAttribute("name"),o=i[n];o&&t.setAttribute("width",o.realWidth||o.width)}},o=t=>{const n=e.vnode.el.querySelectorAll("colgroup > col[name=gutter]");for(let e=0,o=n.length;e<o;e++){n[e].setAttribute("width",t.scrollY.value?t.gutterWidth:"0")}const r=e.vnode.el.querySelectorAll("th.gutter");for(let e=0,o=r.length;e<o;e++){const n=r[e];n.style.width=t.scrollY.value?t.gutterWidth+"px":"0",n.style.display=t.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:o}}function kR(e){const t=Yr().parent,n=t.store.states;return{getHeaderRowStyle:e=>{const n=t.props.headerRowStyle;return"function"==typeof n?n.call(null,{rowIndex:e}):n},getHeaderRowClass:e=>{const n=[],r=t.props.headerRowClassName;return"string"==typeof r?n.push(r):"function"==typeof r&&n.push(r.call(null,{rowIndex:e})),n.join(" ")},getHeaderCellStyle:(e,n,r,o)=>{const i=t.props.headerCellStyle;return"function"==typeof i?i.call(null,{rowIndex:e,columnIndex:n,row:r,column:o}):i},getHeaderCellClass:(r,o,i,a)=>{const l=[a.id,a.order,a.headerAlign,a.className,a.labelClassName];0===r&&((t,r)=>{let o=0;for(let e=0;e<t;e++)o+=r[e].colSpan;const i=o+r[t].colSpan-1;return"left"===e.fixed?i>=n.fixedLeafColumnsLength.value:"right"===e.fixed?o<n.columns.value.length-n.rightFixedLeafColumnsLength.value:i<n.fixedLeafColumnsLength.value||o>=n.columns.value.length-n.rightFixedLeafColumnsLength.value})(o,i)&&l.push("is-hidden"),a.children||l.push("is-leaf"),a.sortable&&l.push("is-sortable");const u=t.props.headerCellClassName;return"string"==typeof u?l.push(u):"function"==typeof u&&l.push(u.call(null,{rowIndex:r,columnIndex:o,row:i,column:a})),l.join(" ")}}}hR.render=function(e,t,n,r,o,i){const a=or("el-checkbox"),u=or("el-checkbox-group"),s=or("el-scrollbar"),c=or("el-popper"),f=lr("click-outside");return gr(),xr(c,{ref:"tooltip",visible:e.tooltipVisible,"onUpdate:visible":t[5]||(t[5]=t=>e.tooltipVisible=t),offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,effect:"light",pure:"","manual-mode":"","popper-class":"el-table-filter","append-to-body":""},{default:It((()=>[e.multiple?(gr(),wr("div",gR,[Tr("div",vR,[Er(s,{"wrap-class":"el-table-filter__wrap"},{default:It((()=>[Er(u,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filteredValue=t),class:"el-table-filter__checkbox-group"},{default:It((()=>[(gr(!0),wr(cr,null,Ir(e.filters,(e=>(gr(),xr(a,{key:e.value,label:e.value},{default:It((()=>[Dr(d(e.text),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})]),Tr("div",bR,[Tr("button",{class:l({"is-disabled":0===e.filteredValue.length}),disabled:0===e.filteredValue.length,type:"button",onClick:t[1]||(t[1]=(...t)=>e.handleConfirm&&e.handleConfirm(...t))},d(e.t("el.table.confirmFilter")),11,yR),Tr("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.handleReset&&e.handleReset(...t))},d(e.t("el.table.resetFilter")),1)])])):(gr(),wr("ul",wR,[Tr("li",{class:l([{"is-active":void 0===e.filterValue||null===e.filterValue},"el-table-filter__list-item"]),onClick:t[3]||(t[3]=t=>e.handleSelect(null))},d(e.t("el.table.clearFilter")),3),(gr(!0),wr(cr,null,Ir(e.filters,(t=>(gr(),wr("li",{key:t.value,class:l([{"is-active":e.isActive(t)},"el-table-filter__list-item"]),label:t.value,onClick:n=>e.handleSelect(t.value)},d(t.text),11,xR)))),128))]))])),trigger:It((()=>[$n(Tr("span",{class:"el-table__column-filter-trigger el-none-outline",onClick:t[4]||(t[4]=(...t)=>e.showFilterPanel&&e.showFilterPanel(...t))},[Tr("i",{class:l(["el-icon-arrow-down",e.column.filterOpened?"el-icon-arrow-up":""])},null,2)],512),[[f,e.hideFilterPanel,e.popperPaneRef]])])),_:1},8,["visible","placement"])},hR.__file="packages/components/table/src/filter-panel.vue";const SR=e=>{const t=[];return e.forEach((e=>{e.children?(t.push(e),t.push.apply(t,SR(e.children))):t.push(e)})),t};function _R(e){const t=Yr().parent,n=Et((()=>(e=>{let t=1;const n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach((r=>{n(r,e),t+=r.colSpan})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e,void 0)}));const r=[];for(let o=0;o<t;o++)r.push([]);return SR(e).forEach((e=>{e.children?e.rowSpan=1:e.rowSpan=t-e.level+1,r[e.level-1].push(e)})),r})(e.store.states.originColumns.value)));return{isGroup:Et((()=>{const e=n.value.length>1;return e&&(t.state.isGroup.value=!0),e})),toggleAllSelection:e=>{e.stopPropagation(),t.store.commit("toggleAllSelection")},columnRows:n}}function OR(){return Bo("col",{name:"gutter"})}function TR(e,t=!1){return Bo("colgroup",{},[...e.map((e=>Bo("col",{name:e.id,key:e.id}))),t&&OR()])}var ER=Qt({name:"ElTableHeader",components:{ElCheckbox:pC},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const n=Yr(),r=n.parent,o=r.store.states,i=vt({}),{tableLayout:a,onColumnsChange:l,onScrollableChange:u}=CR(r),s=Et((()=>!e.fixed&&a.gutterWidth));cn((()=>{wo((()=>{const{prop:t,order:n}=e.defaultSort;r.store.commit("sort",{prop:t,order:n,init:!0})}))}));const{handleHeaderClick:c,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:p,handleMouseOut:m,handleSortClick:h,handleFilterClick:g}=function(e,t){const n=Yr(),r=n.parent,o=e=>{e.stopPropagation()},i=vt(null),a=vt(!1),l=vt({}),u=(t,n,o)=>{t.stopPropagation();const i=n.order===o?null:o||(({order:e,sortOrders:t})=>{if(""===e)return t[0];const n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]})(n);let a=t.target;for(;a&&"TH"!==a.tagName;)a=a.parentNode;if(a&&"TH"===a.tagName&&tm(a,"noclick"))return void rm(a,"noclick");if(!n.sortable)return;const l=e.store.states;let u,s=l.sortProp.value;const c=l.sortingColumn.value;(c!==n||c===n&&null===c.order)&&(c&&(c.order=null),l.sortingColumn.value=n,s=n.property),u=n.order=i||null,l.sortProp.value=s,l.sortOrder.value=u,r.store.commit("changeSortCondition")};return{handleHeaderClick:(e,t)=>{!t.filters&&t.sortable?u(e,t,!1):t.filterable&&!t.sortable&&o(e),r.emit("header-click",t,e)},handleHeaderContextMenu:(e,t)=>{r.emit("header-contextmenu",t,e)},handleMouseDown:(o,u)=>{if(!Ap&&!(u.children&&u.children.length>0)&&i.value&&e.border){a.value=!0;const s=r;t("set-drag-visible",!0);const c=s.vnode.el.getBoundingClientRect().left,d=n.vnode.el.querySelector(`th.${u.id}`),f=d.getBoundingClientRect(),p=f.left-c+30;nm(d,"noclick"),l.value={startMouseLeft:o.clientX,startLeft:f.right-c,startColumnLeft:f.left-c,tableLeft:c};const m=s.refs.resizeProxy;m.style.left=l.value.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const h=e=>{const t=e.clientX-l.value.startMouseLeft,n=l.value.startLeft+t;m.style.left=Math.max(p,n)+"px"},g=()=>{if(a.value){const{startColumnLeft:n,startLeft:r}=l.value,c=parseInt(m.style.left,10)-n;u.width=u.realWidth=c,s.emit("header-dragend",u.width,r-n,u,o),e.store.scheduleLayout(!1,!0),document.body.style.cursor="",a.value=!1,i.value=null,l.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g),document.onselectstart=null,document.ondragstart=null,setTimeout((function(){rm(d,"noclick")}),0)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",g)}},handleMouseMove:(t,n)=>{if(n.children&&n.children.length>0)return;let r=t.target;for(;r&&"TH"!==r.tagName;)r=r.parentNode;if(n&&n.resizable&&!a.value&&e.border){const e=r.getBoundingClientRect(),o=document.body.style;e.width>12&&e.right-t.pageX<8?(o.cursor="col-resize",tm(r,"is-sortable")&&(r.style.cursor="col-resize"),i.value=n):a.value||(o.cursor="",tm(r,"is-sortable")&&(r.style.cursor="pointer"),i.value=null)}},handleMouseOut:()=>{Ap||(document.body.style.cursor="")},handleSortClick:u,handleFilterClick:o}}(e,t),{getHeaderRowStyle:v,getHeaderRowClass:b,getHeaderCellStyle:y,getHeaderCellClass:w}=kR(e),{isGroup:x,toggleAllSelection:C,columnRows:k}=_R(e);return n.state={onColumnsChange:l,onScrollableChange:u},n.filterPanels=i,{columns:o.columns,filterPanels:i,hasGutter:s,onColumnsChange:l,onScrollableChange:u,columnRows:k,getHeaderRowClass:b,getHeaderRowStyle:v,getHeaderCellClass:w,getHeaderCellStyle:y,handleHeaderClick:c,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:p,handleMouseOut:m,handleSortClick:h,handleFilterClick:g,isGroup:x,toggleAllSelection:C}},render(){return Bo("table",{border:"0",cellpadding:"0",cellspacing:"0",class:"el-table__header"},[TR(this.columns,this.hasGutter),Bo("thead",{class:{"is-group":this.isGroup,"has-gutter":this.hasGutter}},this.columnRows.map(((e,t)=>Bo("tr",{class:this.getHeaderRowClass(t),key:t,style:this.getHeaderRowStyle(t)},e.map(((n,r)=>Bo("th",{class:this.getHeaderCellClass(t,r,e,n),colspan:n.colSpan,key:`${n.id}-thead`,rowSpan:n.rowSpan,style:this.getHeaderCellStyle(t,r,e,n),onClick:e=>this.handleHeaderClick(e,n),onContextmenu:e=>this.handleHeaderContextMenu(e,n),onMousedown:e=>this.handleMouseDown(e,n),onMousemove:e=>this.handleMouseMove(e,n),onMouseout:this.handleMouseOut},[Bo("div",{class:["cell",n.filteredValue&&n.filteredValue.length>0?"highlight":"",n.labelClassName]},[n.renderHeader?n.renderHeader({column:n,$index:r,store:this.store,_self:this.$parent}):n.label,n.sortable&&Bo("span",{onClick:e=>this.handleSortClick(e,n),class:"caret-wrapper"},[Bo("i",{onClick:e=>this.handleSortClick(e,n,"ascending"),class:"sort-caret ascending"}),Bo("i",{onClick:e=>this.handleSortClick(e,n,"descending"),class:"sort-caret descending"})]),n.filterable&&Bo(hR,{store:this.$parent.store,placement:n.filterPlacement||"bottom-start",column:n,upDataColumn:(e,t)=>{n[e]=t}})])])))))))])}});var AR=Object.defineProperty,MR=Object.defineProperties,DR=Object.getOwnPropertyDescriptors,NR=Object.getOwnPropertySymbols,PR=Object.prototype.hasOwnProperty,zR=Object.prototype.propertyIsEnumerable,BR=(e,t,n)=>t in e?AR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RR=(e,t)=>{for(var n in t||(t={}))PR.call(t,n)&&BR(e,n,t[n]);if(NR)for(var n of NR(t))zR.call(t,n)&&BR(e,n,t[n]);return e};function IR(e){const t=Yr().parent,{handleDoubleClick:n,handleClick:r,handleContextMenu:o,handleMouseEnter:i,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:s,tooltipTrigger:c}=function(e){const t=Yr().parent,n=vt(""),r=vt(Bo("div")),o=(n,r,o)=>{const i=t,a=_B(n);let l;a&&(l=AB({columns:e.store.states.columns.value},a),l&&i.emit(`cell-${o}`,r,l,a,n)),i.emit(`row-${o}`,r,l,n)};return{handleDoubleClick:(e,t)=>{o(e,t,"dblclick")},handleClick:(t,n)=>{e.store.commit("setCurrentRow",n),o(t,n,"click")},handleContextMenu:(e,t)=>{o(e,t,"contextmenu")},handleMouseEnter:Av((function(t){e.store.commit("setHoverRow",t)}),30),handleMouseLeave:Av((function(){e.store.commit("setHoverRow",null)}),30),handleCellMouseEnter:(n,r)=>{const o=t,i=_B(n);if(i){const t=AB({columns:e.store.states.columns.value},i),a=o.hoverState={cell:i,column:t,row:r};o.emit("cell-mouse-enter",a.row,a.column,a.cell,n)}const a=n.target.querySelector(".cell");if(!tm(a,"el-tooltip")||!a.childNodes.length)return;const l=document.createRange();l.setStart(a,0),l.setEnd(a,a.childNodes.length),(l.getBoundingClientRect().width+((parseInt(om(a,"paddingLeft"),10)||0)+(parseInt(om(a,"paddingRight"),10)||0))>a.offsetWidth||a.scrollWidth>a.offsetWidth)&&LB(i,i.innerText||i.textContent,{placement:"top",strategy:"fixed"},r.tooltipEffect)},handleCellMouseLeave:e=>{if(!_B(e))return;const n=t.hoverState;t.emit("cell-mouse-leave",null==n?void 0:n.row,null==n?void 0:n.column,null==n?void 0:n.cell,e)},tooltipContent:n,tooltipTrigger:r}}(e),{getRowStyle:d,getRowClass:f,getCellStyle:p,getCellClass:m,getSpan:h,getColspanRealWidth:g}=function(e){const t=Yr().parent,n=t=>"left"===e.fixed?t>=e.store.states.fixedLeafColumnsLength.value:"right"===e.fixed?t<e.store.states.columns.value.length-e.store.states.rightFixedLeafColumnsLength.value:t<e.store.states.fixedLeafColumnsLength.value||t>=e.store.states.columns.value.length-e.store.states.rightFixedLeafColumnsLength.value;return{getRowStyle:(e,n)=>{const r=t.props.rowStyle;return"function"==typeof r?r.call(null,{row:e,rowIndex:n}):r||null},getRowClass:(n,r)=>{const o=["el-table__row"];t.props.highlightCurrentRow&&n===e.store.states.currentRow.value&&o.push("current-row"),e.stripe&&r%2==1&&o.push("el-table__row--striped");const i=t.props.rowClassName;return"string"==typeof i?o.push(i):"function"==typeof i&&o.push(i.call(null,{row:n,rowIndex:r})),e.store.states.expandRows.value.indexOf(n)>-1&&o.push("expanded"),o},getCellStyle:(e,n,r,o)=>{const i=t.props.cellStyle;return"function"==typeof i?i.call(null,{rowIndex:e,columnIndex:n,row:r,column:o}):i},getCellClass:(e,r,o,i)=>{const a=[i.id,i.align,i.className];n(r)&&a.push("is-hidden");const l=t.props.cellClassName;return"string"==typeof l?a.push(l):"function"==typeof l&&a.push(l.call(null,{rowIndex:e,columnIndex:r,row:o,column:i})),a.join(" ")},getSpan:(e,n,r,o)=>{let i=1,a=1;const l=t.props.spanMethod;if("function"==typeof l){const t=l({row:e,column:n,rowIndex:r,columnIndex:o});Array.isArray(t)?(i=t[0],a=t[1]):"object"==typeof t&&(i=t.rowspan,a=t.colspan)}return{rowspan:i,colspan:a}},getColspanRealWidth:(e,t,n)=>{if(t<1)return e[n].realWidth;const r=e.map((({realWidth:e,width:t})=>e||t)).slice(n,n+t);return Number(r.reduce(((e,t)=>Number(e)+Number(t)),-1))},isColumnHidden:n}}(e),v=Et((()=>{return t=e.store.states.columns.value,n=({type:e})=>"default"===e,t.findIndex(n);var t,n})),b=(e,n)=>{const r=t.props.rowKey;return r?MB(e,r):n},y=(s,c,y)=>{const{tooltipEffect:w,store:x}=e,{indent:C,columns:k}=x.states,S=f(s,c);let _=!0;y&&(S.push("el-table__row--level-"+y.level),_=y.display);return Bo("tr",{style:[_?null:{display:"none"},d(s,c)],class:S,key:b(s,c),onDblclick:e=>n(e,s),onClick:e=>r(e,s),onContextmenu:e=>o(e,s),onMouseenter:()=>i(c),onMouseleave:a},k.value.map(((n,r)=>{const{rowspan:o,colspan:i}=h(s,n,c,r);if(!o||!i)return null;const a=RR({},n);a.realWidth=g(k.value,i,r);const d={store:e.store,_self:e.context||t,column:a,row:s,$index:c};r===v.value&&y&&(d.treeNode={indent:y.level*C.value,level:y.level},"boolean"==typeof y.expanded&&(d.treeNode.expanded=y.expanded,"loading"in y&&(d.treeNode.loading=y.loading),"noLazyChildren"in y&&(d.treeNode.noLazyChildren=y.noLazyChildren)));const f=`${c},${r}`,b=a.columnKey||a.rawColumnKey||"";return Bo("td",{style:p(c,r,s,n),class:m(c,r,s,n),key:`${b}${f}`,rowspan:o,colspan:i,onMouseenter:e=>l(e,((e,t)=>MR(e,DR(t)))(RR({},s),{tooltipEffect:w})),onMouseleave:u},[n.renderCell(d)])})))};return{wrappedRowRender:(n,r)=>{const o=e.store,{isRowExpanded:i,assertRowKey:a}=o,{treeData:l,lazyTreeNodeMap:u,childrenColumnName:s,rowKey:c}=o.states;if(o.states.columns.value.some((({type:e})=>"expand"===e))&&i(n)){const e=t.renderExpanded,i=y(n,r,void 0);return e?[[i,Bo("tr",{key:"expanded-row__"+i.key},[Bo("td",{colspan:o.states.columns.value.length,class:"el-table__expanded-cell"},[e({row:n,$index:r,store:o})])])]]:(console.error("[Element Error]renderExpanded is required."),i)}if(Object.keys(l.value).length){a();const e=MB(n,c.value);let t=l.value[e],o=null;t&&(o={expanded:t.expanded,level:t.level,display:!0},"boolean"==typeof t.lazy&&("boolean"==typeof t.loaded&&t.loaded&&(o.noLazyChildren=!(t.children&&t.children.length)),o.loading=t.loading));const i=[y(n,r,o)];if(t){let o=0;const a=(e,n)=>{e&&e.length&&n&&e.forEach((e=>{const d={display:n.display&&n.expanded,level:n.level+1,expanded:!1,noLazyChildren:!1,loading:!1},f=MB(e,c.value);if(null==f)throw new Error("for nested data item, row-key is required.");if(t=RR({},l.value[f]),t&&(d.expanded=t.expanded,t.level=t.level||d.level,t.display=!(!t.expanded||!d.display),"boolean"==typeof t.lazy&&("boolean"==typeof t.loaded&&t.loaded&&(d.noLazyChildren=!(t.children&&t.children.length)),d.loading=t.loading)),o++,i.push(y(e,r+o,d)),t){const n=u.value[f]||e[s.value];a(n,t)}}))};t.display=!0;const d=u.value[e]||n[s.value];a(d,t)}return i}return y(n,r,void 0)},tooltipContent:s,tooltipTrigger:c}}var LR=Qt({name:"ElTableBody",props:{store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean},setup(e){const t=Yr(),n=t.parent,{wrappedRowRender:r,tooltipContent:o,tooltipTrigger:i}=IR(e),{onColumnsChange:a,onScrollableChange:l}=CR(n);return Mo(e.store.states.hoverRow,((n,r)=>{if(!e.store.states.isComplex.value||Ap)return;let o=window.requestAnimationFrame;o||(o=e=>window.setTimeout(e,16)),o((()=>{const e=t.vnode.el.querySelectorAll(".el-table__row"),o=e[r],i=e[n];o&&rm(o,"hover-row"),i&&nm(i,"hover-row")}))})),mn((()=>{var e;null==(e=IB)||e()})),fn((()=>{var e;null==(e=IB)||e()})),{onColumnsChange:a,onScrollableChange:l,wrappedRowRender:r,tooltipContent:o,tooltipTrigger:i}},render(){const e=this.store.states.data.value||[];return Bo("table",{class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0"},[TR(this.store.states.columns.value),Bo("tbody",{},[e.reduce(((e,t)=>e.concat(this.wrappedRowRender(t,e.length))),[])])])}});function FR(e){const t=Yr().parent,n=t.store,{leftFixedLeafCount:r,rightFixedLeafCount:o,columnsCount:i,leftFixedCount:a,rightFixedCount:l,columns:u}=function(){const e=Yr().parent.store;return{leftFixedLeafCount:Et((()=>e.states.fixedLeafColumnsLength.value)),rightFixedLeafCount:Et((()=>e.states.rightFixedColumns.value.length)),columnsCount:Et((()=>e.states.columns.value.length)),leftFixedCount:Et((()=>e.states.fixedColumns.value.length)),rightFixedCount:Et((()=>e.states.rightFixedColumns.value.length)),columns:e.states.columns}}(),s=Et((()=>!e.fixed&&t.layout.gutterWidth));return{hasGutter:s,getRowClasses:(t,u)=>{const s=[t.id,t.align,t.labelClassName];return t.className&&s.push(t.className),((t,n,u)=>{if(e.fixed||"left"===e.fixed)return t>=r.value;if("right"===e.fixed){let e=0;for(let r=0;r<t;r++)e+=n[r].colSpan;return e<i.value-o.value}return!(e.fixed||!u.fixed)||t<a.value||t>=i.value-l.value})(u,n.states.columns.value,t)&&s.push("is-hidden"),t.children||s.push("is-leaf"),s},columns:u}}var VR=Qt({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{hasGutter:t,getRowClasses:n,columns:r}=FR(e);return{getRowClasses:n,hasGutter:t,columns:r}},render(){let e=[];return this.summaryMethod?e=this.summaryMethod({columns:this.columns,data:this.store.states.data.value}):this.columns.forEach(((t,n)=>{if(0===n)return void(e[n]=this.sumText);const r=this.store.states.data.value.map((e=>Number(e[t.property]))),o=[];let i=!0;r.forEach((e=>{if(!isNaN(e)){i=!1;const t=(""+e).split(".")[1];o.push(t?t.length:0)}}));const a=Math.max.apply(null,o);e[n]=i?"":r.reduce(((e,t)=>{const n=Number(t);return isNaN(n)?e:parseFloat((e+t).toFixed(Math.min(a,20)))}),0)})),Bo("table",{class:"el-table__footer",cellspacing:"0",cellpadding:"0",border:"0"},[TR(this.columns,this.hasGutter),Bo("tbody",{class:[{"has-gutter":this.hasGutter}]},[Bo("tr",{},[...this.columns.map(((t,n)=>Bo("td",{key:n,colspan:t.colSpan,rowspan:t.rowSpan,class:this.getRowClasses(t,n)},[Bo("div",{class:["cell",t.labelClassName]},[e[n]])]))),this.hasGutter&&OR()])])])}});function HR(e,t,n,r){const o=$p(),i=vt(!1),a=vt(null),l=vt(!1),u=vt({width:null,height:null}),s=vt(!1);Eo((()=>{t.setHeight(e.height)})),Eo((()=>{t.setMaxHeight(e.maxHeight)})),Mo((()=>[e.currentRowKey,n.states.rowKey]),(([e,t])=>{xt(t)&&n.setCurrentRowKey(e+"")}),{immediate:!0}),Mo((()=>e.data),(e=>{r.store.commit("setData",e)}),{immediate:!0,deep:!0}),Eo((()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)}));const c=Et((()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0)),d=()=>{c.value&&t.updateElsHeight(),t.updateColumnsWidth(),p()};cn((()=>{f("is-scrolling-left"),m(),n.updateColumns(),d(),u.value={width:r.vnode.el.offsetWidth,height:r.vnode.el.offsetHeight},n.states.columns.value.forEach((e=>{e.filteredValue&&e.filteredValue.length&&r.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),r.$ready=!0}));const f=e=>{const{bodyWrapper:n}=r.refs;((e,n)=>{if(!e)return;const r=Array.from(e.classList).filter((e=>!e.startsWith("is-scrolling-")));r.push(t.scrollX.value?n:"is-scrolling-none"),e.className=r.join(" ")})(n,e)},p=Gb((function(){if(!r.refs.bodyWrapper)return;const{scrollLeft:e,scrollTop:t,offsetWidth:n,scrollWidth:o}=r.refs.bodyWrapper,{headerWrapper:i,footerWrapper:a,fixedBodyWrapper:l,rightFixedBodyWrapper:u}=r.refs;i&&(i.scrollLeft=e),a&&(a.scrollLeft=e),l&&(l.scrollTop=t),u&&(u.scrollTop=t);f(e>=o-n-1?"is-scrolling-right":0===e?"is-scrolling-left":"is-scrolling-middle")}),10),m=()=>{window.addEventListener("resize",d),r.refs.bodyWrapper.addEventListener("scroll",p,{passive:!0}),e.fit&&Dg(r.vnode.el,g)};mn((()=>{h()}));const h=()=>{var t;null==(t=r.refs.bodyWrapper)||t.removeEventListener("scroll",p,!0),window.removeEventListener("resize",d),e.fit&&Ng(r.vnode.el,g)},g=()=>{if(!r.$ready)return;let t=!1;const n=r.vnode.el,{width:o,height:i}=u.value,a=n.offsetWidth;o!==a&&(t=!0);const l=n.offsetHeight;(e.height||c.value)&&i!==l&&(t=!0),t&&(u.value={width:a,height:l},d())},v=Et((()=>e.size||o.size)),b=Et((()=>{const{bodyWidth:e,scrollY:n,gutterWidth:r}=t;return e.value?e.value-(n.value?r:0)+"px":""}));return{isHidden:i,renderExpanded:a,setDragVisible:e=>{l.value=e},isGroup:s,handleMouseLeave:()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},handleHeaderFooterMousewheel:(e,t)=>{const{pixelX:n,pixelY:o}=t;Math.abs(n)>=Math.abs(o)&&(r.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},tableSize:v,bodyHeight:Et((()=>{const n=t.headerHeight.value||0,r=t.bodyHeight.value,o=t.footerHeight.value||0;if(e.height)return{height:r?r+"px":""};if(e.maxHeight){const t=zB(e.maxHeight);if("number"==typeof t)return{"max-height":t-o-(e.showHeader?n:0)+"px"}}return{}})),emptyBlockStyle:Et((()=>{if(e.data&&e.data.length)return null;let n="100%";return t.appendHeight.value&&(n=`calc(100% - ${t.appendHeight.value}px)`),{width:b.value,height:n}})),handleFixedMousewheel:(e,t)=>{const n=r.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const r=n.scrollTop;t.pixelY<0&&0!==r&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>r&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)},fixedHeight:Et((()=>e.maxHeight?e.showSummary?{bottom:0}:{bottom:t.scrollX.value&&e.data.length?t.gutterWidth+"px":""}:e.showSummary?{height:t.tableHeight.value?t.tableHeight.value+"px":""}:{height:t.viewportHeight.value?t.viewportHeight.value+"px":""})),fixedBodyHeight:Et((()=>{if(e.height)return{height:t.fixedBodyHeight.value?t.fixedBodyHeight.value+"px":""};if(e.maxHeight){let n=zB(e.maxHeight);if("number"==typeof n)return n=t.scrollX.value?n-t.gutterWidth:n,e.showHeader&&(n-=t.headerHeight.value),n-=t.footerHeight.value,{"max-height":n+"px"}}return{}})),resizeProxyVisible:l,bodyWidth:b,resizeState:u,doLayout:d}}var jR={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""}};let $R=1;var UR=Qt({name:"ElTable",directives:{Mousewheel:lg},components:{TableHeader:ER,TableBody:LR,TableFooter:VR},props:jR,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:t}=nv();let n=Yr();const r=cR(n,e);n.store=r;const o=new pR({store:n.store,table:n,fit:e.fit,showHeader:e.showHeader});n.layout=o;const i=Et((()=>0===(r.states.data.value||[]).length)),{setCurrentRow:a,toggleRowSelection:l,clearSelection:u,clearFilter:s,toggleAllSelection:c,toggleRowExpansion:d,clearSort:f,sort:p}=function(e){return{setCurrentRow:t=>{e.commit("setCurrentRow",t)},toggleRowSelection:(t,n)=>{e.toggleRowSelection(t,n,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(t,n)=>{e.toggleRowExpansionAdapter(t,n)},clearSort:()=>{e.clearSort()},sort:(t,n)=>{e.commit("sort",{prop:t,order:n})}}}(r),{isHidden:m,renderExpanded:h,setDragVisible:g,isGroup:v,handleMouseLeave:b,handleHeaderFooterMousewheel:y,tableSize:w,bodyHeight:x,emptyBlockStyle:C,handleFixedMousewheel:k,fixedHeight:S,fixedBodyHeight:_,resizeProxyVisible:O,bodyWidth:T,resizeState:E,doLayout:A}=HR(e,o,r,n),M=Av(A,50),D="el-table_"+$R++;return n.tableId=D,n.state={isGroup:v,resizeState:E,doLayout:A,debouncedUpdateLayout:M},{layout:o,store:r,handleHeaderFooterMousewheel:y,handleMouseLeave:b,tableId:D,tableSize:w,isHidden:m,isEmpty:i,renderExpanded:h,resizeProxyVisible:O,resizeState:E,isGroup:v,bodyWidth:T,bodyHeight:x,emptyBlockStyle:C,debouncedUpdateLayout:M,handleFixedMousewheel:k,fixedHeight:S,fixedBodyHeight:_,setCurrentRow:a,toggleRowSelection:l,clearSelection:u,clearFilter:s,toggleAllSelection:c,toggleRowExpansion:d,clearSort:f,doLayout:A,sort:p,t:t,setDragVisible:g,context:n}}});const WR={ref:"hiddenColumns",class:"hidden-columns"},qR={key:0,ref:"headerWrapper",class:"el-table__header-wrapper"},KR={class:"el-table__empty-text"},YR={key:1,ref:"appendWrapper",class:"el-table__append-wrapper"},GR={key:1,ref:"footerWrapper",class:"el-table__footer-wrapper"},XR={key:0,ref:"fixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},ZR={key:1,ref:"fixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},JR={key:0,ref:"rightFixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},QR={key:1,ref:"rightFixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},eI={ref:"resizeProxy",class:"el-table__column-resize-proxy"};UR.render=function(e,t,n,o,i,a){const u=or("table-header"),s=or("table-body"),c=or("table-footer"),f=lr("mousewheel");return gr(),wr("div",{class:l([{"el-table--fit":e.fit,"el-table--striped":e.stripe,"el-table--border":e.border||e.isGroup,"el-table--hidden":e.isHidden,"el-table--group":e.isGroup,"el-table--fluid-height":e.maxHeight,"el-table--scrollable-x":e.layout.scrollX.value,"el-table--scrollable-y":e.layout.scrollY.value,"el-table--enable-row-hover":!e.store.states.isComplex.value,"el-table--enable-row-transition":0!==(e.store.states.data.value||[]).length&&(e.store.states.data.value||[]).length<100},e.tableSize?`el-table--${e.tableSize}`:"",e.className,"el-table"]),style:r(e.style),onMouseleave:t[0]||(t[0]=t=>e.handleMouseLeave())},[Tr("div",WR,[Fr(e.$slots,"default")],512),e.showHeader?$n((gr(),wr("div",qR,[Er(u,{ref:"tableHeader",border:e.border,"default-sort":e.defaultSort,store:e.store,style:r({width:e.layout.bodyWidth.value?e.layout.bodyWidth.value+"px":""}),onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","style","onSetDragVisible"])],512)),[[f,e.handleHeaderFooterMousewheel]]):Nr("v-if",!0),Tr("div",{ref:"bodyWrapper",style:r([e.bodyHeight]),class:"el-table__body-wrapper"},[Er(s,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe,style:r({width:e.bodyWidth})},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),e.isEmpty?(gr(),wr("div",{key:0,ref:"emptyBlock",style:r(e.emptyBlockStyle),class:"el-table__empty-block"},[Tr("span",KR,[Fr(e.$slots,"empty",{},(()=>[Dr(d(e.emptyText||e.t("el.table.emptyText")),1)]))])],4)):Nr("v-if",!0),e.$slots.append?(gr(),wr("div",YR,[Fr(e.$slots,"append")],512)):Nr("v-if",!0)],4),e.showSummary?$n((gr(),wr("div",GR,[Er(c,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:r({width:e.layout.bodyWidth.value?e.layout.bodyWidth.value+"px":""}),"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],512)),[[Ri,!e.isEmpty],[f,e.handleHeaderFooterMousewheel]]):Nr("v-if",!0),e.store.states.fixedColumns.value.length>0?$n((gr(),wr("div",{key:2,ref:"fixedWrapper",style:r([{width:e.layout.fixedWidth.value?e.layout.fixedWidth.value+"px":""},e.fixedHeight]),class:"el-table__fixed"},[e.showHeader?(gr(),wr("div",XR,[Er(u,{ref:"fixedTableHeader",border:e.border,store:e.store,style:r({width:e.bodyWidth}),fixed:"left",onSetDragVisible:e.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):Nr("v-if",!0),Tr("div",{ref:"fixedBodyWrapper",style:r([{top:e.layout.headerHeight.value+"px"},e.fixedBodyHeight]),class:"el-table__fixed-body-wrapper"},[Er(s,{highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe,style:r({width:e.bodyWidth}),fixed:"left"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),e.$slots.append?(gr(),wr("div",{key:0,style:r({height:e.layout.appendHeight.value+"px"}),class:"el-table__append-gutter"},null,4)):Nr("v-if",!0)],4),e.showSummary?$n((gr(),wr("div",ZR,[Er(c,{border:e.border,store:e.store,style:r({width:e.bodyWidth}),"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,fixed:"left"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[Ri,!e.isEmpty]]):Nr("v-if",!0)],4)),[[f,e.handleFixedMousewheel]]):Nr("v-if",!0),e.store.states.rightFixedColumns.value.length>0?$n((gr(),wr("div",{key:3,ref:"rightFixedWrapper",style:r([{width:e.layout.rightFixedWidth.value?e.layout.rightFixedWidth.value+"px":"",right:e.layout.scrollY.value?(e.border?e.layout.gutterWidth:e.layout.gutterWidth||0)+"px":""},e.fixedHeight]),class:"el-table__fixed-right"},[e.showHeader?(gr(),wr("div",JR,[Er(u,{ref:"rightFixedTableHeader",border:e.border,store:e.store,style:r({width:e.bodyWidth}),fixed:"right",onSetDragVisible:e.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):Nr("v-if",!0),Tr("div",{ref:"rightFixedBodyWrapper",style:r([{top:e.layout.headerHeight.value+"px"},e.fixedBodyHeight]),class:"el-table__fixed-body-wrapper"},[Er(s,{highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe,style:r({width:e.bodyWidth}),fixed:"right"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),e.$slots.append?(gr(),wr("div",{key:0,style:r({height:e.layout.appendHeight.value+"px"}),class:"el-table__append-gutter"},null,4)):Nr("v-if",!0)],4),e.showSummary?$n((gr(),wr("div",QR,[Er(c,{border:e.border,store:e.store,style:r({width:e.bodyWidth}),"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,fixed:"right"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[Ri,!e.isEmpty]]):Nr("v-if",!0)],4)),[[f,e.handleFixedMousewheel]]):Nr("v-if",!0),e.store.states.rightFixedColumns.value.length>0?(gr(),wr("div",{key:4,ref:"rightFixedPatch",style:r({width:e.layout.scrollY.value?e.layout.gutterWidth+"px":"0",height:e.layout.headerHeight.value+"px"}),class:"el-table__fixed-right-patch"},null,4)):Nr("v-if",!0),$n(Tr("div",eI,null,512),[[Ri,e.resizeProxyVisible]])],38)},UR.__file="packages/components/table/src/table.vue";const tI={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},nI={selection:{renderHeader:function({store:e}){return Bo(pC,{disabled:e.states.data.value&&0===e.states.data.value.length,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell:function({row:e,column:t,store:n,$index:r}){return Bo(pC,{disabled:!!t.selectable&&!t.selectable.call(null,e,r),onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:e=>e.stopPropagation(),modelValue:n.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader:function({column:e}){return e.label||"#"},renderCell:function({column:e,$index:t}){let n=t+1;const r=e.index;return"number"==typeof r?n=t+r:"function"==typeof r&&(n=r(t)),Bo("div",{},[n])},sortable:!1},expand:{renderHeader:function({column:e}){return e.label||""},renderCell:function({row:e,store:t}){const n=["el-table__expand-icon"];t.states.expandRows.value.indexOf(e)>-1&&n.push("el-table__expand-icon--expanded");return Bo("div",{class:n,onClick:function(n){n.stopPropagation(),t.toggleRowExpansion(e)}},[Bo("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function rI({row:e,column:t,$index:n}){var r;const o=t.property,i=o&&zp(e,o,!1).v;return t&&t.formatter?t.formatter(e,t,i,n):(null==(r=null==i?void 0:i.toString)?void 0:r.call(i))||""}function oI(e,t,n){const r=Yr(),o=vt(""),i=vt(!1),a=vt(),l=vt();Eo((()=>{a.value=e.align?"is-"+e.align:null,a.value})),Eo((()=>{l.value=e.headerAlign?"is-"+e.headerAlign:a.value,l.value}));const u=Et((()=>{let e=r.vnode.vParent||r.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e})),s=vt(NB(e.width)),c=vt(PB(e.minWidth));return{columnId:o,realAlign:a,isSubColumn:i,realHeaderAlign:l,columnOrTableParent:u,setColumnWidth:e=>(s.value&&(e.width=s.value),c.value&&(e.minWidth=c.value),e.minWidth||(e.minWidth=80),e.realWidth=Number(void 0===e.width?e.minWidth:e.width),e),setColumnForcedProps:e=>{const t=e.type,n=nI[t]||{};return Object.keys(n).forEach((t=>{const r=n[t];void 0!==r&&(e[t]="className"===t?`${e[t]} ${r}`:r)})),e},setColumnRenders:o=>{e.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==o.type&&(o.renderHeader=e=>{r.columnConfig.value.label;const n=t.header;return n?n(e):o.label});let i=o.renderCell;return"expand"===o.type?(o.renderCell=e=>Bo("div",{class:"cell"},[i(e)]),n.value.renderExpanded=e=>t.default?t.default(e):t.default):(i=i||rI,o.renderCell=e=>{let n=null;n=t.default?t.default(e):i(e);const a=function({row:e,treeNode:t,store:n}){if(!t)return null;const r=[],o=function(t){t.stopPropagation(),n.loadOrToggle(e)};if(t.indent&&r.push(Bo("span",{class:"el-table__indent",style:{"padding-left":t.indent+"px"}})),"boolean"!=typeof t.expanded||t.noLazyChildren)r.push(Bo("span",{class:"el-table__placeholder"}));else{const e=["el-table__expand-icon",t.expanded?"el-table__expand-icon--expanded":""];let n=["el-icon-arrow-right"];t.loading&&(n=["el-icon-loading"]),r.push(Bo("div",{class:e,onClick:o},[Bo("i",{class:n})]))}return r}(e),l={class:"cell",style:{}};return o.showOverflowTooltip&&(l.class+=" el-tooltip",l.style={width:(e.column.realWidth||Number(e.column.width))-1+"px"}),(e=>{function t(e){var t;"ElTableColumn"===(null==(t=null==e?void 0:e.type)?void 0:t.name)&&(e.vParent=r)}e instanceof Array?e.forEach((e=>t(e))):t(e)})(n),Bo("div",l,[a,n])}),o},getPropsData:(...t)=>t.reduce(((t,n)=>(Array.isArray(n)&&n.forEach((n=>{t[n]=e[n]})),t)),{}),getColumnElIndex:(e,t)=>[].indexOf.call(e,t)}}var iI={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every((e=>["ascending","descending",null].indexOf(e)>-1))}},aI=Object.defineProperty,lI=Object.defineProperties,uI=Object.getOwnPropertyDescriptors,sI=Object.getOwnPropertySymbols,cI=Object.prototype.hasOwnProperty,dI=Object.prototype.propertyIsEnumerable,fI=(e,t,n)=>t in e?aI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;let pI=1;var mI=Qt({name:"ElTableColumn",components:{ElCheckbox:pC},props:iI,setup(e,{slots:t}){const n=Yr(),r=vt({}),o=Et((()=>{let e=n.parent;for(;e&&!e.tableId;)e=e.parent;return e})),{registerNormalWatchers:i,registerComplexWatchers:a}=function(e,t){const n=Yr();return{registerComplexWatchers:()=>{const r={realWidth:"width",realMinWidth:"minWidth"},o=["fixed"].reduce(((e,t)=>(e[t]=t,e)),r);Object.keys(o).forEach((o=>{const i=r[o];k(t,i)&&Mo((()=>t[i]),(t=>{let r=t;"width"===i&&"realWidth"===o&&(r=NB(t)),"minWidth"===i&&"realMinWidth"===o&&(r=PB(t)),n.columnConfig.value[i]=r,n.columnConfig.value[o]=r;const a="fixed"===i;e.value.store.scheduleLayout(a)}))}))},registerNormalWatchers:()=>{const e={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},r=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"].reduce(((e,t)=>(e[t]=t,e)),e);Object.keys(r).forEach((r=>{const o=e[r];k(t,o)&&Mo((()=>t[o]),(e=>{n.columnConfig.value[r]=e}))}))}}}(o,e),{columnId:l,isSubColumn:u,realHeaderAlign:s,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:p,getPropsData:m,getColumnElIndex:h,realAlign:g}=oI(e,t,o),v=c.value;l.value=(v.tableId||v.columnId)+"_column_"+pI++,sn((()=>{u.value=o.value!==v;const t=e.type||"default",c=""===e.sortable||e.sortable,h=((e,t)=>lI(e,uI(t)))(((e,t)=>{for(var n in t||(t={}))cI.call(t,n)&&fI(e,n,t[n]);if(sI)for(var n of sI(t))dI.call(t,n)&&fI(e,n,t[n]);return e})({},tI[t]),{id:l.value,type:t,property:e.prop||e.property,align:g,headerAlign:s,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:c,index:e.index,rawColumnKey:n.vnode.key});let b=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);b=function(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(k(t,r)){const e=t[r];void 0!==e&&(n[r]=e)}return n}(h,b);b=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}(p,d,f)(b),r.value=b,i(),a()})),cn((()=>{var e;const t=c.value,i=u.value?t.vnode.el.children:null==(e=t.refs.hiddenColumns)?void 0:e.children,a=()=>h(i||[],n.vnode.el);r.value.getColumnIndex=a;a()>-1&&o.value.store.commit("insertColumn",r.value,u.value?t.columnConfig.value:null)})),pn((()=>{o.value.store.commit("removeColumn",r.value,u.value?v.columnConfig.value:null)})),n.columnId=l.value,n.columnConfig=r},render(){var e,t,n;let r=[];try{const o=null==(t=(e=this.$slots).default)?void 0:t.call(e,{row:{},column:{},$index:-1});if(o instanceof Array)for(const e of o)"ElTableColumn"===(null==(n=e.type)?void 0:n.name)?r.push(e):e.type===cr&&e.children instanceof Array&&r.push(...e.children)}catch(o){r=[]}return Bo("div",r)}});UR.install=e=>{e.component(UR.name,UR),e.component(mI.name,mI)},UR.TableColumn=mI;const hI=UR;var gI=Qt({name:"ElTabBar",directives:{Resize:Pg},props:{tabs:{type:Array,default:()=>[]}},setup(e){const t=$t("rootTabs");if(!t)throw new Error("ElTabBar must use with ElTabs");const n=Yr(),r=()=>{let r={},o=0,i=0;const a=["top","bottom"].includes(t.props.tabPosition)?"width":"height",l="width"===a?"x":"y";e.tabs.every((t=>{var r;let u=null==(r=n.parent.refs)?void 0:r[`tab-${t.paneName}`];if(!u)return!1;if(t.active){i=u[`client${U(a)}`];const t="x"===l?"left":"top";o=u.getBoundingClientRect()[t]-u.parentElement.getBoundingClientRect()[t];const n=window.getComputedStyle(u);return"width"===a&&(e.tabs.length>1&&(i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)),o+=parseFloat(n.paddingLeft)),!1}return!0}));const u=`translate${U(l)}(${o}px)`;return r[a]=`${i}px`,r.transform=u,r.msTransform=u,r.webkitTransform=u,r},o=vt(r()),i=()=>{o.value=r()};return Mo((()=>e.tabs),(()=>{wo((()=>{i()}))})),{rootTabs:t,barStyle:o,update:i}}});gI.render=function(e,t,n,o,i,a){const u=lr("resize");return $n((gr(),wr("div",{class:l(["el-tabs__active-bar",`is-${e.rootTabs.props.tabPosition}`]),style:r(e.barStyle)},null,6)),[[u,e.update]])},gI.__file="packages/components/tabs/src/tab-bar.vue";var vI=Qt({name:"ElTabNav",components:{TabBar:gI},props:{panes:{type:Array,default:()=>[]},currentName:{type:String,default:""},editable:Boolean,onTabClick:{type:Function,default:h},onTabRemove:{type:Function,default:h},type:{type:String,default:""},stretch:Boolean},setup(){const e=$t("rootTabs");e||Dp("[ElTabNav]","ElTabNav must be nested inside ElTabs");const t=vt(!1),n=vt(0),r=vt(!1),o=vt(!0),i=vt(null),a=vt(null),l=vt(null),u=Et((()=>["top","bottom"].includes(e.props.tabPosition)?"width":"height")),s=Et((()=>({transform:`translate${"width"===u.value?"X":"Y"}(-${n.value}px)`}))),c=()=>{if(!t.value)return;const r=a.value,o=l.value.querySelector(".is-active");if(!o)return;const u=i.value,s=["top","bottom"].includes(e.props.tabPosition),c=o.getBoundingClientRect(),d=u.getBoundingClientRect(),f=s?r.offsetWidth-d.width:r.offsetHeight-d.height,p=n.value;let m=p;s?(c.left<d.left&&(m=p-(d.left-c.left)),c.right>d.right&&(m=p+c.right-d.right)):(c.top<d.top&&(m=p-(d.top-c.top)),c.bottom>d.bottom&&(m=p+(c.bottom-d.bottom))),m=Math.max(m,0),n.value=Math.min(m,f)},d=()=>{if(!a.value)return;const e=a.value[`offset${U(u.value)}`],r=i.value[`offset${U(u.value)}`],o=n.value;if(r<e){const o=n.value;t.value=t.value||{},t.value.prev=o,t.value.next=o+r<e,e-o<r&&(n.value=e-r)}else t.value=!1,o>0&&(n.value=0)},f=()=>{o.value&&(r.value=!0)},p=()=>{const e=document.visibilityState;"hidden"===e?o.value=!1:"visible"===e&&setTimeout((()=>{o.value=!0}),50)},m=()=>{o.value=!1},h=()=>{setTimeout((()=>{o.value=!0}),50)};return fn((()=>{d()})),cn((()=>{Dg(l.value,d),Qp(document,"visibilitychange",p),Qp(window,"blur",m),Qp(window,"focus",h),setTimeout((()=>{c()}),0)})),pn((()=>{l.value&&Ng(l.value,d),em(document,"visibilitychange",p),em(window,"blur",m),em(window,"focus",h)})),{rootTabs:e,scrollable:t,navOffset:n,isFocus:r,focusable:o,navScroll$:i,nav$:a,el$:l,sizeName:u,navStyle:s,scrollPrev:()=>{const e=i.value[`offset${U(u.value)}`],t=n.value;if(!t)return;let r=t>e?t-e:0;n.value=r},scrollNext:()=>{const e=a.value[`offset${U(u.value)}`],t=i.value[`offset${U(u.value)}`],r=n.value;if(e-r<=t)return;let o=e-r>2*t?r+t:e-t;n.value=o},scrollToActiveTab:c,update:d,changeTab:e=>{const t=e.code;let n,r,o;const{up:i,down:a,left:l,right:u}=pm;-1!==[i,a,l,u].indexOf(t)&&(o=e.currentTarget.querySelectorAll("[role=tab]"),r=Array.prototype.indexOf.call(o,e.target),n=t===l||t===i?0===r?o.length-1:r-1:r<o.length-1?r+1:0,o[n].focus(),o[n].click(),f())},setFocus:f,removeFocus:()=>{r.value=!1},visibilityChangeHandler:p,windowBlurHandler:m,windowFocusHandler:h}},render(){const{type:e,panes:t,editable:n,stretch:r,onTabClick:o,onTabRemove:i,navStyle:a,scrollable:l,scrollNext:u,scrollPrev:s,changeTab:c,setFocus:d,removeFocus:f,rootTabs:p,isFocus:m}=this,h=l?[Bo("span",{class:["el-tabs__nav-prev",l.prev?"":"is-disabled"],onClick:s},[Bo("i",{class:"el-icon-arrow-left"})]),Bo("span",{class:["el-tabs__nav-next",l.next?"":"is-disabled"],onClick:u},[Bo("i",{class:"el-icon-arrow-right"})])]:null,g=t.map(((e,t)=>{var r,a;let l=e.props.name||e.index||`${t}`;const u=e.isClosable||n;e.index=`${t}`;const s=u?Bo("span",{class:"el-icon-close",onClick:t=>{i(e,t)}}):null,c=(null==(a=(r=e.instance.slots).label)?void 0:a.call(r))||e.props.label,h=e.active?0:-1;return Bo("div",{class:{"el-tabs__item":!0,[`is-${p.props.tabPosition}`]:!0,"is-active":e.active,"is-disabled":e.props.disabled,"is-closable":u,"is-focus":m},id:`tab-${l}`,key:`tab-${l}`,"aria-controls":`pane-${l}`,role:"tab","aria-selected":e.active,ref:`tab-${l}`,tabindex:h,onFocus:()=>{d()},onBlur:()=>{f()},onClick:t=>{f(),o(e,l,t)},onKeydown:t=>{!u||t.code!==pm.delete&&t.code!==pm.backspace||i(e,t)}},[c,s])}));return Bo("div",{ref:"el$",class:["el-tabs__nav-wrap",l?"is-scrollable":"",`is-${p.props.tabPosition}`]},[h,Bo("div",{class:"el-tabs__nav-scroll",ref:"navScroll$"},[Bo("div",{class:["el-tabs__nav",`is-${p.props.tabPosition}`,r&&["top","bottom"].includes(p.props.tabPosition)?"is-stretch":""],ref:"nav$",style:a,role:"tablist",onKeydown:c},[e?null:Bo(gI,{tabs:t}),g])])])}});vI.__file="packages/components/tabs/src/tab-nav.vue";var bI=Qt({name:"ElTabs",components:{TabNav:vI},props:{type:{type:String,default:""},activeName:{type:String,default:""},closable:Boolean,addable:Boolean,modelValue:{type:String,default:""},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:{type:Function,default:null},stretch:Boolean},emits:["tab-click","edit","tab-remove","tab-add","input","update:modelValue"],setup(e,t){const n=vt(null),r=vt(e.modelValue||e.activeName||"0"),o=vt([]),i=Yr(),a={};jt("rootTabs",{props:e,currentName:r}),jt("updatePaneState",(e=>{a[e.uid]=e})),Mo((()=>e.activeName),(e=>{c(e)})),Mo((()=>e.modelValue),(e=>{c(e)})),Mo(r,(()=>{n.value&&wo((()=>{n.value.$nextTick((()=>{n.value.scrollToActiveTab()}))})),u(!0)}));const l=(e,t=[])=>(Array.from(e.children||[]).forEach((e=>{let n=e.type;n=n.name||n,"ElTabPane"===n&&e.component?t.push(e.component):n!==cr&&"template"!==n||l(e,t)})),t),u=(e=!1)=>{if(t.slots.default){const t=i.subTree.children,n=Array.from(t).find((({props:e})=>"el-tabs__content"===e.class));if(!n)return;const r=l(n).map((e=>a[e.uid])),u=!(r.length===o.value.length&&r.every(((e,t)=>e.uid===o.value[t].uid)));(e||u)&&(o.value=r)}else 0!==o.value.length&&(o.value=[])},s=e=>{r.value=e,t.emit("input",e),t.emit("update:modelValue",e)},c=t=>{if(r.value===t)return;const o=e.beforeLeave,i=o&&o(t,r.value);i&&N(i)?i.then((()=>{var e,r;s(t),null==(r=(e=n.value).removeFocus)||r.call(e)}),(()=>{})):!1!==i&&s(t)};return fn((()=>{u()})),cn((()=>{u()})),{nav$:n,handleTabClick:(e,n,r)=>{e.props.disabled||(c(n),t.emit("tab-click",e,r))},handleTabRemove:(e,n)=>{e.props.disabled||(n.stopPropagation(),t.emit("edit",e.props.name,"remove"),t.emit("tab-remove",e.props.name))},handleTabAdd:()=>{t.emit("edit",null,"add"),t.emit("tab-add")},currentName:r,panes:o}},render(){var e;const{type:t,handleTabClick:n,handleTabRemove:r,handleTabAdd:o,currentName:i,panes:a,editable:l,addable:u,tabPosition:s,stretch:c}=this,d=l||u?Bo("span",{class:"el-tabs__new-tab",tabindex:"0",onClick:o,onKeydown:e=>{e.code===pm.enter&&o()}},[Bo("i",{class:"el-icon-plus"})]):null,f=Bo("div",{class:["el-tabs__header",`is-${s}`]},[d,Bo(vI,{currentName:i,editable:l,type:t,panes:a,stretch:c,ref:"nav$",onTabClick:n,onTabRemove:r})]),p=Bo("div",{class:"el-tabs__content"},null==(e=this.$slots)?void 0:e.default());return Bo("div",{class:{"el-tabs":!0,"el-tabs--card":"card"===t,[`el-tabs--${s}`]:!0,"el-tabs--border-card":"border-card"===t}},"bottom"!==s?[f,p]:[p,f])}}),yI=Qt({name:"ElTabPane",props:{label:{type:String,default:""},name:{type:String,default:""},closable:Boolean,disabled:Boolean,lazy:Boolean},setup(e){const t=vt(null),n=vt(!1),r=$t("rootTabs"),o=$t("updatePaneState");if(!r||!o)throw new Error("ElTabPane must use with ElTabs");const i=Et((()=>e.closable||r.props.closable)),a=Et((()=>{const o=r.currentName.value===(e.name||t.value);return o&&(n.value=!0),o})),l=Et((()=>e.name||t.value)),u=Et((()=>!e.lazy||n.value||a.value)),s=Yr();return o({uid:s.uid,instance:s,props:e,paneName:l,active:a,index:t,isClosable:i}),{index:t,loaded:n,isClosable:i,active:a,paneName:l,shouldBeRender:u}}});const wI=["id","aria-hidden","aria-labelledby"];yI.render=function(e,t,n,r,o,i){return e.shouldBeRender?$n((gr(),wr("div",{key:0,id:`pane-${e.paneName}`,class:"el-tab-pane",role:"tabpanel","aria-hidden":!e.active,"aria-labelledby":`tab-${e.paneName}`},[Fr(e.$slots,"default")],8,wI)),[[Ri,e.active]]):Nr("v-if",!0)},yI.__file="packages/components/tabs/src/tab-pane.vue",bI.install=e=>{e.component(bI.name,bI),e.component(yI.name,yI)},bI.TabPane=yI;const xI=bI,{Option:CI}=YM,kI=e=>{const t=(e||"").split(":");if(t.length>=2){return{hours:parseInt(t[0],10),minutes:parseInt(t[1],10)}}return null},SI=(e,t)=>{const n=kI(e),r=kI(t),o=n.minutes+60*n.hours,i=r.minutes+60*r.hours;return o===i?0:o>i?1:-1},_I=(e,t)=>{const n=kI(e),r=kI(t),o={hours:n.hours,minutes:n.minutes};return o.minutes+=r.minutes,o.hours+=r.hours,o.hours+=Math.floor(o.minutes/60),o.minutes=o.minutes%60,(e=>(e.hours<10?"0"+e.hours:e.hours)+":"+(e.minutes<10?"0"+e.minutes:e.minutes))(o)};var OI=Qt({name:"ElTimeSelect",components:{ElSelect:YM,ElOption:CI},model:{prop:"value",event:"change"},props:{modelValue:String,disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},size:{type:String,default:"",validator:e=>!e||-1!==["medium","small","mini"].indexOf(e)},placeholder:{type:String,default:""},start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:String,default:""},maxTime:{type:String,default:""},name:{type:String,default:""},prefixIcon:{type:String,default:"el-icon-time"},clearIcon:{type:String,default:"el-icon-circle-close"}},emits:["change","blur","focus","update:modelValue"],setup(e){const t=vt(null),n=Et((()=>e.modelValue)),r=Et((()=>{const t=[];if(e.start&&e.end&&e.step){let n=e.start;for(;SI(n,e.end)<=0;)t.push({value:n,disabled:SI(n,e.minTime||"-1:-1")<=0||SI(n,e.maxTime||"100:100")>=0}),n=_I(n,e.step)}return t}));return{select:t,value:n,items:r,blur:()=>{var e,n;null==(n=null==(e=t.value)?void 0:e.blur)||n.call(e)},focus:()=>{var e,n;null==(n=null==(e=t.value)?void 0:e.focus)||n.call(e)}}}});OI.render=function(e,t,n,r,o,i){const a=or("el-option"),u=or("el-select");return gr(),xr(u,{ref:"select","model-value":e.value,disabled:e.disabled,clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),onChange:t[1]||(t[1]=t=>e.$emit("change",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t))},{prefix:It((()=>[Tr("i",{class:l(`el-input__icon ${e.prefixIcon}`)},null,2)])),default:It((()=>[(gr(!0),wr(cr,null,Ir(e.items,(e=>(gr(),xr(a,{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["model-value","disabled","clearable","clear-icon","size","placeholder","filterable"])},OI.__file="packages/components/time-select/src/time-select.vue",OI.install=e=>{e.component(OI.name,OI)};const TI=OI;var EI=Qt({name:"ElTimeline",setup:(e,t)=>(jt("timeline",t),()=>{var e,n;return Bo("ul",{class:{"el-timeline":!0}},null==(n=(e=t.slots).default)?void 0:n.call(e))})});EI.__file="packages/components/timeline/src/index.vue";var AI=Qt({name:"ElTimelineItem",props:{timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:{type:String,default:""},color:{type:String,default:""},size:{type:String,default:"normal"},icon:{type:String,default:""}},setup(){$t("timeline")}});const MI={class:"el-timeline-item"},DI=Tr("div",{class:"el-timeline-item__tail"},null,-1),NI={key:1,class:"el-timeline-item__dot"},PI={class:"el-timeline-item__wrapper"},zI={key:0,class:"el-timeline-item__timestamp is-top"},BI={class:"el-timeline-item__content"},RI={key:1,class:"el-timeline-item__timestamp is-bottom"};AI.render=function(e,t,n,o,i,a){return gr(),wr("li",MI,[DI,e.$slots.dot?Nr("v-if",!0):(gr(),wr("div",{key:0,class:l(["el-timeline-item__node",[`el-timeline-item__node--${e.size||""}`,`el-timeline-item__node--${e.type||""}`]]),style:r({backgroundColor:e.color})},[e.icon?(gr(),wr("i",{key:0,class:l(["el-timeline-item__icon",e.icon])},null,2)):Nr("v-if",!0)],6)),e.$slots.dot?(gr(),wr("div",NI,[Fr(e.$slots,"dot")])):Nr("v-if",!0),Tr("div",PI,[e.hideTimestamp||"top"!==e.placement?Nr("v-if",!0):(gr(),wr("div",zI,d(e.timestamp),1)),Tr("div",BI,[Fr(e.$slots,"default")]),e.hideTimestamp||"bottom"!==e.placement?Nr("v-if",!0):(gr(),wr("div",RI,d(e.timestamp),1))])])},AI.__file="packages/components/timeline/src/item.vue",EI.install=e=>{e.component(EI.name,EI),e.component(AI.name,AI)},EI.TimelineItem=AI;const II=EI,LI={data:{type:Array,default:()=>[]},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object};var FI=Qt({name:"ElTransferPanel",components:{ElCheckboxGroup:hC,ElCheckbox:mC,ElInput:ob,OptionContent:({option:e})=>e},props:LI,emits:["checked-change"],setup(e,{slots:t}){const{t:n}=nv(),r=it({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:o,keyProp:i,disabledProp:a,filteredData:l,checkedSummary:u,isIndeterminate:s,handleAllCheckedChange:c}=((e,t)=>{const{emit:n}=Yr(),r=Et((()=>e.props.label||"label")),o=Et((()=>e.props.key||"key")),i=Et((()=>e.props.disabled||"disabled")),a=Et((()=>e.data.filter((n=>"function"==typeof e.filterMethod?e.filterMethod(t.query,n):(n[r.value]||n[o.value].toString()).toLowerCase().includes(t.query.toLowerCase()))))),l=Et((()=>a.value.filter((e=>!e[i.value])))),u=Et((()=>{const n=t.checked.length,r=e.data.length,{noChecked:o,hasChecked:i}=e.format;return o&&i?n>0?i.replace(/\${checked}/g,n.toString()).replace(/\${total}/g,r.toString()):o.replace(/\${total}/g,r.toString()):`${n}/${r}`})),s=Et((()=>{const e=t.checked.length;return e>0&&e<l.value.length})),c=()=>{const e=l.value.map((e=>e[o.value]));t.allChecked=e.length>0&&e.every((e=>t.checked.includes(e)))};return Mo((()=>t.checked),((e,r)=>{if(c(),t.checkChangeByUser){const t=e.concat(r).filter((t=>!e.includes(t)||!r.includes(t)));n("checked-change",e,t)}else n("checked-change",e),t.checkChangeByUser=!0})),Mo(l,(()=>{c()})),Mo((()=>e.data),(()=>{const e=[],n=a.value.map((e=>e[o.value]));t.checked.forEach((t=>{n.includes(t)&&e.push(t)})),t.checkChangeByUser=!1,t.checked=e})),Mo((()=>e.defaultChecked),((e,n)=>{if(n&&e.length===n.length&&e.every((e=>n.includes(e))))return;const r=[],i=l.value.map((e=>e[o.value]));e.forEach((e=>{i.includes(e)&&r.push(e)})),t.checkChangeByUser=!1,t.checked=r}),{immediate:!0}),{labelProp:r,keyProp:o,disabledProp:i,filteredData:a,checkableData:l,checkedSummary:u,isIndeterminate:s,updateAllChecked:c,handleAllCheckedChange:e=>{t.checked=e?l.value.map((e=>e[o.value])):[]}}})(e,r),d=Et((()=>r.query.length>0&&0===l.value.length)),f=Et((()=>r.query.length>0&&r.inputHover?"circle-close":"search")),p=Et((()=>!!t.default()[0].children.length)),{checked:m,allChecked:h,query:g,inputHover:v,checkChangeByUser:b}=St(r);return{labelProp:o,keyProp:i,disabledProp:a,filteredData:l,checkedSummary:u,isIndeterminate:s,handleAllCheckedChange:c,checked:m,allChecked:h,query:g,inputHover:v,checkChangeByUser:b,hasNoMatch:d,inputIcon:f,hasFooter:p,clearQuery:()=>{"circle-close"===f.value&&(r.query="")},t:n}}});const VI={class:"el-transfer-panel"},HI={class:"el-transfer-panel__header"},jI={key:0,class:"el-transfer-panel__footer"};FI.render=function(e,t,n,r,o,i){const a=or("el-checkbox"),u=or("el-input"),s=or("option-content"),c=or("el-checkbox-group");return gr(),wr("div",VI,[Tr("p",HI,[Er(a,{modelValue:e.allChecked,"onUpdate:modelValue":t[0]||(t[0]=t=>e.allChecked=t),indeterminate:e.isIndeterminate,onChange:e.handleAllCheckedChange},{default:It((()=>[Dr(d(e.title)+" ",1),Tr("span",null,d(e.checkedSummary),1)])),_:1},8,["modelValue","indeterminate","onChange"])]),Tr("div",{class:l(["el-transfer-panel__body",e.hasFooter?"is-with-footer":""])},[e.filterable?(gr(),xr(u,{key:0,modelValue:e.query,"onUpdate:modelValue":t[2]||(t[2]=t=>e.query=t),class:"el-transfer-panel__filter",size:"small",placeholder:e.placeholder,onMouseenter:t[3]||(t[3]=t=>e.inputHover=!0),onMouseleave:t[4]||(t[4]=t=>e.inputHover=!1)},{prefix:It((()=>[Tr("i",{class:l(["el-input__icon","el-icon-"+e.inputIcon]),onClick:t[1]||(t[1]=(...t)=>e.clearQuery&&e.clearQuery(...t))},null,2)])),_:1},8,["modelValue","placeholder"])):Nr("v-if",!0),$n(Er(c,{modelValue:e.checked,"onUpdate:modelValue":t[5]||(t[5]=t=>e.checked=t),class:l([{"is-filterable":e.filterable},"el-transfer-panel__list"])},{default:It((()=>[(gr(!0),wr(cr,null,Ir(e.filteredData,(t=>(gr(),xr(a,{key:t[e.keyProp],class:"el-transfer-panel__item",label:t[e.keyProp],disabled:t[e.disabledProp]},{default:It((()=>[Er(s,{option:e.optionRender(t)},null,8,["option"])])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue","class"]),[[Ri,!e.hasNoMatch&&e.data.length>0]]),$n(Tr("p",{class:"el-transfer-panel__empty"},d(e.hasNoMatch?e.t("el.transfer.noMatch"):e.t("el.transfer.noData")),513),[[Ri,e.hasNoMatch||0===e.data.length]])],2),e.hasFooter?(gr(),wr("p",jI,[Fr(e.$slots,"default")])):Nr("v-if",!0)])},FI.__file="packages/components/transfer/src/transfer-panel.vue";var $I=Object.defineProperty,UI=Object.defineProperties,WI=Object.getOwnPropertyDescriptors,qI=Object.getOwnPropertySymbols,KI=Object.prototype.hasOwnProperty,YI=Object.prototype.propertyIsEnumerable,GI=(e,t,n)=>t in e?$I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XI=Qt({name:"ElTransfer",components:{TransferPanel:FI,ElButton:gy},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:e=>["original","push","unshift"].includes(e)}},emits:[wm,"change","left-check-change","right-check-change"],setup(e,{emit:t,slots:n}){const{t:r}=nv(),o=$t("elFormItem",{}),i=it({leftChecked:[],rightChecked:[]}),{propsKey:a,sourceData:l,targetData:u}=(e=>{const t=Et((()=>e.props.key)),n=Et((()=>e.data.reduce(((e,n)=>(e[n[t.value]]=n)&&e),{}))),r=Et((()=>e.data.filter((n=>!e.modelValue.includes(n[t.value]))))),o=Et((()=>"original"===e.targetOrder?e.data.filter((n=>e.modelValue.includes(n[t.value]))):e.modelValue.reduce(((e,t)=>{const r=n.value[t];return r&&e.push(r),e}),[])));return{propsKey:t,sourceData:r,targetData:o}})(e),{onSourceCheckedChange:s,onTargetCheckedChange:c}=((e,t)=>({onSourceCheckedChange:(n,r)=>{e.leftChecked=n,void 0!==r&&t("left-check-change",n,r)},onTargetCheckedChange:(n,r)=>{e.rightChecked=n,void 0!==r&&t("right-check-change",n,r)}}))(i,t),{addToLeft:d,addToRight:f}=((e,t,n,r)=>{const o=(e,t,n)=>{r(wm,e),r("change",e,t,n)};return{addToLeft:()=>{const n=e.modelValue.slice();t.rightChecked.forEach((e=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)})),o(n,"left",t.rightChecked)},addToRight:()=>{let r=e.modelValue.slice();const i=e.data.filter((r=>{const o=r[n.value];return t.leftChecked.includes(o)&&!e.modelValue.includes(o)})).map((e=>e[n.value]));r="unshift"===e.targetOrder?i.concat(r):r.concat(i),o(r,"right",t.leftChecked)}}})(e,i,a,t),p=vt(null),m=vt(null),h=Et((()=>2===e.buttonTexts.length)),g=Et((()=>e.titles[0]||r("el.transfer.titles.0"))),v=Et((()=>e.titles[1]||r("el.transfer.titles.1"))),b=Et((()=>e.filterPlaceholder||r("el.transfer.filterPlaceholder")));Mo((()=>e.modelValue),(e=>{var t;null==(t=o.formItemMitt)||t.emit("el.form.change",e)}));const y=Et((()=>t=>e.renderContent?e.renderContent(Bo,t):n.default?n.default({option:t}):Bo("span",t[e.props.label]||t[e.props.key])));return((e,t)=>UI(e,WI(t)))(((e,t)=>{for(var n in t||(t={}))KI.call(t,n)&&GI(e,n,t[n]);if(qI)for(var n of qI(t))YI.call(t,n)&&GI(e,n,t[n]);return e})({sourceData:l,targetData:u,onSourceCheckedChange:s,onTargetCheckedChange:c,addToLeft:d,addToRight:f},St(i)),{hasButtonTexts:h,leftPanelTitle:g,rightPanelTitle:v,panelFilterPlaceholder:b,clearQuery:e=>{"left"===e?p.value.query="":"right"===e&&(m.value.query="")},optionRender:y})}});const ZI={class:"el-transfer"},JI={class:"el-transfer__buttons"},QI=Tr("i",{class:"el-icon-arrow-left"},null,-1),eL={key:0},tL={key:0},nL=Tr("i",{class:"el-icon-arrow-right"},null,-1);XI.render=function(e,t,n,r,o,i){const a=or("transfer-panel"),u=or("el-button");return gr(),wr("div",ZI,[Er(a,{ref:"leftPanel",data:e.sourceData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,title:e.leftPanelTitle,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:e.props,onCheckedChange:e.onSourceCheckedChange},{default:It((()=>[Fr(e.$slots,"left-footer")])),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Tr("div",JI,[Er(u,{type:"primary",class:l(["el-transfer__button",e.hasButtonTexts?"is-with-texts":""]),disabled:0===e.rightChecked.length,onClick:e.addToLeft},{default:It((()=>[QI,void 0!==e.buttonTexts[0]?(gr(),wr("span",eL,d(e.buttonTexts[0]),1)):Nr("v-if",!0)])),_:1},8,["class","disabled","onClick"]),Er(u,{type:"primary",class:l(["el-transfer__button",e.hasButtonTexts?"is-with-texts":""]),disabled:0===e.leftChecked.length,onClick:e.addToRight},{default:It((()=>[void 0!==e.buttonTexts[1]?(gr(),wr("span",tL,d(e.buttonTexts[1]),1)):Nr("v-if",!0),nL])),_:1},8,["class","disabled","onClick"])]),Er(a,{ref:"rightPanel",data:e.targetData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:e.rightPanelTitle,"default-checked":e.rightDefaultChecked,props:e.props,onCheckedChange:e.onTargetCheckedChange},{default:It((()=>[Fr(e.$slots,"right-footer")])),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])])},XI.__file="packages/components/transfer/src/index.vue",XI.install=e=>{e.component(XI.name,XI)};const rL=XI,oL="$treeNodeId",iL=function(e,t){t&&!t[oL]&&Object.defineProperty(t,oL,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},aL=function(e,t){return e?t[e]:t[oL]},lL=e=>{let t=!0,n=!0,r=!0;for(let o=0,i=e.length;o<i;o++){const i=e[o];(!0!==i.checked||i.indeterminate)&&(t=!1,i.disabled||(r=!1)),(!1!==i.checked||i.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},uL=function(e){if(0===e.childNodes.length)return;const{all:t,none:n,half:r}=lL(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;o&&0!==o.level&&(e.store.checkStrictly||uL(o))},sL=function(e,t){const n=e.store.props,r=e.data||{},o=n[t];if("function"==typeof o)return o(r,e);if("string"==typeof o)return r[o];if(void 0===o){const e=r[t];return void 0===e?"":e}};let cL=0;class dL{constructor(e){this.id=cL++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)k(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&void 0!==t.isLeaf){const e=sL(this,"isLeaf");"boolean"==typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||iL(this,this.data),!this.data)return;const n=e.defaultExpandedKeys,r=e.key;r&&n&&-1!==n.indexOf(this.key)&&this.expand(null,e.autoExpandParent),r&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||iL(this,e),this.data=e,this.childNodes=[],t=0===this.level&&this.data instanceof Array?this.data:sL(this,"children")||[];for(let n=0,r=t.length;n<r;n++)this.insertChild({data:t[n]})}get label(){return sL(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return sL(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((n=>n===e||t&&n.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,n){if(!e)throw new Error("insertChild error: child is required.");if(!(e instanceof dL)){if(!n){const n=this.getChildren(!0);-1===n.indexOf(e.data)&&(void 0===t||t<0?n.push(e.data):n.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=it(new dL(e)))instanceof dL&&e.initialize()}e.level=this.level+1,void 0===t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}insertAfter(e,t){let n;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)}removeChild(e){const t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)}expand(e,t){const n=()=>{if(t){let e=this.parent;for(;e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||uL(this),n())})):n()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,n,r){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:n,allWithoutDisable:o}=lL(this.childNodes);this.isLeaf||n||!o||(this.checked=!1,e=!1);const i=()=>{if(t){const n=this.childNodes;for(let a=0,l=n.length;a<l;a++){const o=n[a];r=r||!1!==e;const i=o.disabled?o.checked:r;o.setChecked(i,t,!0,r)}const{half:o,all:i}=lL(n);i||(this.checked=i,this.indeterminate=o)}};if(this.shouldLoadData())return void this.loadData((()=>{i(),uL(this)}),{checked:!1!==e});i()}const o=this.parent;o&&0!==o.level&&(n||uL(o))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const n=this.store.props;let r="children";return n&&(r=n.children||"children"),void 0===t[r]&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),n={},r=[];e.forEach(((e,o)=>{const i=e[oL];!!i&&t.findIndex((e=>e[oL]===i))>=0?n[i]={index:o,data:e}:r.push({index:o,data:e})})),this.store.lazy||t.forEach((e=>{n[e[oL]]||this.removeChildByData(e)})),r.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const n=n=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(n,t),this.updateLeafState(),e&&e.call(this,n)};this.store.load(this,n)}}}class fL{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)k(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new dL({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,n=this.lazy,r=function(o){const i=o.root?o.root.childNodes:o.childNodes;if(i.forEach((n=>{n.visible=t.call(n,e,n.data,n),r(n)})),!o.visible&&i.length){let e=!0;e=!i.some((e=>e.visible)),o.root?o.root.visible=!1===e:o.visible=!1===e}e&&(!o.visible||o.isLeaf||n||o.expand())};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof dL)return e;const t="object"!=typeof e?e:aL(this.key,e);return this.nodesMap[t]||null}insertBefore(e,t){const n=this.getNode(t);n.parent.insertBefore({data:e},n)}insertAfter(e,t){const n=this.getNode(t);n.parent.insertAfter({data:e},n)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const n=t[e];n&&n.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){void 0!==e.key&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const n=[],r=function(o){(o.root?o.root.childNodes:o.childNodes).forEach((o=>{(o.checked||t&&o.indeterminate)&&(!e||e&&o.isLeaf)&&n.push(o.data),r(o)}))};return r(this),n}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(n){(n.root?n.root.childNodes:n.childNodes).forEach((n=>{n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const n in t)k(t,n)&&e.push(t[n]);return e}updateChildren(e,t){const n=this.nodesMap[e];if(!n)return;const r=n.childNodes;for(let o=r.length-1;o>=0;o--){const e=r[o];this.remove(e.data)}for(let o=0,i=t.length;o<i;o++){const e=t[o];this.append(e,n.data)}}_setCheckedKeys(e,t=!1,n){const r=this._getAllNodes().sort(((e,t)=>t.level-e.level)),o=Object.create(null),i=Object.keys(n);r.forEach((e=>e.setChecked(!1,!1)));for(let a=0,l=r.length;a<l;a++){const n=r[a],l=n.data[e].toString();if(!(i.indexOf(l)>-1)){n.checked&&!o[l]&&n.setChecked(!1,!1);continue}let u=n.parent;for(;u&&u.level>0;)o[u.data[e]]=!0,u=u.parent;if(n.isLeaf||this.checkStrictly)n.setChecked(!0,!1);else if(n.setChecked(!0,!0),t){n.setChecked(!1,!1);const e=function(t){t.childNodes.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(n)}}}setCheckedNodes(e,t=!1){const n=this.key,r={};e.forEach((e=>{r[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,r)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const n=this.key,r={};e.forEach((e=>{r[e]=!0})),this._setCheckedKeys(n,t,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,n){const r=this.getNode(e);r&&r.setChecked(!!t,n)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const n=e[this.key],r=this.nodesMap[n];this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const n=this.getNode(e);n&&(this.setCurrentNode(n),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var pL=Qt({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=$t("NodeInstance"),n=$t("RootTree");return()=>{const r=e.node,{data:o,store:i}=r;return e.renderContent?e.renderContent(Bo,{_self:t,node:r,data:o,store:i}):n.ctx.slots.default?n.ctx.slots.default({node:r,data:o}):Bo("span",{class:"el-tree-node__label"},[r.label])}}});function mL(e){const t=$t("TreeNodeMap",null),n={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(n),jt("TreeNodeMap",n),{broadcastExpanded:t=>{if(e.accordion)for(const e of n.children)e.treeNodeExpand(t)}}}pL.__file="packages/components/tree/src/tree-node-content.vue";var hL=Qt({name:"ElTreeNode",components:{ElCollapseTransition:Kk,ElCheckbox:pC,NodeContent:pL},props:{node:{type:dL,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const{broadcastExpanded:n}=mL(e),r=$t("RootTree"),o=vt(!1),i=vt(!1),a=vt(null),l=vt(null),u=vt(null),{emitter:s}={emitter:$t("DragNodeEmitter")},c=Yr();jt("NodeInstance",c),r||console.warn("Can not find node's tree."),e.node.expanded&&(o.value=!0,i.value=!0);const d=r.props.children||"children";Mo((()=>{const t=e.node.data[d];return t&&[...t]}),(()=>{e.node.updateChildren()})),Mo((()=>e.node.indeterminate),(t=>{f(e.node.checked,t)})),Mo((()=>e.node.checked),(t=>{f(t,e.node.indeterminate)})),Mo((()=>e.node.expanded),(e=>{wo((()=>o.value=e)),e&&(i.value=!0)}));const f=(t,n)=>{a.value===t&&l.value===n||r.ctx.emit("check-change",e.node.data,t,n),a.value=t,l.value=n},p=()=>{e.node.isLeaf||(o.value?(r.ctx.emit("node-collapse",e.node.data,e.node,c),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,c)))},m=(t,n)=>{e.node.setChecked(n.target.checked,!r.props.checkStrictly),wo((()=>{const t=r.store.value;r.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))};return{node$:u,tree:r,expanded:o,childNodeRendered:i,oldChecked:a,oldIndeterminate:l,emitter:s,getNodeKey:e=>aL(r.props.nodeKey,e.data),handleSelectChange:f,handleClick:()=>{const t=r.store.value;t.setCurrentNode(e.node),r.ctx.emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),r.currentNode.value=e.node,r.props.expandOnClickNode&&p(),r.props.checkOnClickNode&&!e.node.disabled&&m(null,{target:{checked:!e.node.checked}}),r.ctx.emit("node-click",e.node.data,e.node,c)},handleContextMenu:t=>{r.instance.vnode.props.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),r.ctx.emit("node-contextmenu",t,e.node.data,e.node,c)},handleExpandIconClick:p,handleCheckChange:m,handleChildNodeExpand:(e,t,o)=>{n(t),r.ctx.emit("node-expand",e,t,o)},handleDragStart:t=>{r.props.draggable&&s.emit("tree-node-drag-start",{event:t,treeNode:e})},handleDragOver:t=>{r.props.draggable&&(s.emit("tree-node-drag-over",{event:t,treeNode:{$el:u.value,node:e.node}}),t.preventDefault())},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{r.props.draggable&&s.emit("tree-node-drag-end",e)}}}});const gL=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],vL={key:1,class:"el-tree-node__loading-icon el-icon-loading"},bL=["aria-expanded"];hL.render=function(e,t,n,o,i,a){const u=or("el-checkbox"),s=or("node-content"),c=or("el-tree-node"),d=or("el-collapse-transition");return $n((gr(),wr("div",{ref:"node$",class:l(["el-tree-node",{"is-expanded":e.expanded,"is-current":e.node.isCurrent,"is-hidden":!e.node.visible,"is-focusable":!e.node.disabled,"is-checked":!e.node.disabled&&e.node.checked}]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[2]||(t[2]=Pi(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[3]||(t[3]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[4]||(t[4]=Pi(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[5]||(t[5]=Pi(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[6]||(t[6]=Pi(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[7]||(t[7]=Pi(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[Tr("div",{class:"el-tree-node__content",style:r({"padding-left":(e.node.level-1)*e.tree.props.indent+"px"})},[Tr("span",{class:l([{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},"el-tree-node__expand-icon",e.tree.props.iconClass?e.tree.props.iconClass:"el-icon-caret-right"]),onClick:t[0]||(t[0]=Pi(((...t)=>e.handleExpandIconClick&&e.handleExpandIconClick(...t)),["stop"]))},null,2),e.showCheckbox?(gr(),xr(u,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[1]||(t[1]=Pi((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Nr("v-if",!0),e.node.loading?(gr(),wr("span",vL)):Nr("v-if",!0),Er(s,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],4),Er(d,null,{default:It((()=>[!e.renderAfterExpand||e.childNodeRendered?$n((gr(),wr("div",{key:0,class:"el-tree-node__children",role:"group","aria-expanded":e.expanded},[(gr(!0),wr(cr,null,Ir(e.node.childNodes,(t=>(gr(),xr(c,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","onNodeExpand"])))),128))],8,bL)),[[Ri,e.expanded]]):Nr("v-if",!0)])),_:1})],42,gL)),[[Ri,e.node.visible]])},hL.__file="packages/components/tree/src/tree-node.vue";var yL=Qt({name:"ElTree",components:{ElTreeNode:hL},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=nv(),r=vt(new fL({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));r.value.initialize();const o=vt(r.value.root),i=vt(null),a=vt(null),l=vt(null),{broadcastExpanded:u}=mL(e),{dragState:s}=function({props:e,ctx:t,el$:n,dropIndicator$:r,store:o}){const i=Wk();jt("DragNodeEmitter",i);const a=vt({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return i.on("tree-node-drag-start",(({event:n,treeNode:r})=>{if("function"==typeof e.allowDrag&&!e.allowDrag(r.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(o){}a.value.draggingNode=r,t.emit("node-drag-start",r.node,n)})),i.on("tree-node-drag-over",(({event:o,treeNode:i})=>{const l=i,u=a.value.dropNode;u&&u!==l&&rm(u.$el,"is-drop-inner");const s=a.value.draggingNode;if(!s||!l)return;let c=!0,d=!0,f=!0,p=!0;"function"==typeof e.allowDrop&&(c=e.allowDrop(s.node,l.node,"prev"),p=d=e.allowDrop(s.node,l.node,"inner"),f=e.allowDrop(s.node,l.node,"next")),o.dataTransfer.dropEffect=d?"move":"none",(c||d||f)&&u!==l&&(u&&t.emit("node-drag-leave",s.node,u.node,o),t.emit("node-drag-enter",s.node,l.node,o)),(c||d||f)&&(a.value.dropNode=l),l.node.nextSibling===s.node&&(f=!1),l.node.previousSibling===s.node&&(c=!1),l.node.contains(s.node,!1)&&(d=!1),(s.node===l.node||s.node.contains(l.node))&&(c=!1,d=!1,f=!1);const m=l.$el.getBoundingClientRect(),h=n.value.getBoundingClientRect();let g;const v=c?d?.25:f?.45:1:-1,b=f?d?.75:c?.55:0:1;let y=-9999;const w=o.clientY-m.top;g=w<m.height*v?"before":w>m.height*b?"after":d?"inner":"none";const x=l.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),C=r.value;"before"===g?y=x.top-h.top:"after"===g&&(y=x.bottom-h.top),C.style.top=y+"px",C.style.left=x.right-h.left+"px","inner"===g?nm(l.$el,"is-drop-inner"):rm(l.$el,"is-drop-inner"),a.value.showDropIndicator="before"===g||"after"===g,a.value.allowDrop=a.value.showDropIndicator||p,a.value.dropType=g,t.emit("node-drag-over",s.node,l.node,o)})),i.on("tree-node-drag-end",(e=>{const{draggingNode:n,dropType:r,dropNode:i}=a.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",n&&i){const a={data:n.node.data};"none"!==r&&n.node.remove(),"before"===r?i.node.parent.insertBefore(a,i.node):"after"===r?i.node.parent.insertAfter(a,i.node):"inner"===r&&i.node.insertChild(a),"none"!==r&&o.value.registerNode(a),rm(i.$el,"is-drop-inner"),t.emit("node-drag-end",n.node,i.node,r,e),"none"!==r&&t.emit("node-drop",n.node,i.node,r,e)}n&&!i&&t.emit("node-drag-end",n.node,null,r,e),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0})),{dragState:a}}({props:e,ctx:t,el$:a,dropIndicator$:l,store:r});!function({el$:e},t){const n=vt([]),r=vt([]);cn((()=>{i(),Qp(e.value,"keydown",o)})),pn((()=>{em(e.value,"keydown",o)})),fn((()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),Mo(r,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))}));const o=r=>{const o=r.target;if(-1===o.className.indexOf("el-tree-node"))return;const i=r.code;n.value=Array.from(e.value.querySelectorAll(".is-focusable[role=treeitem]"));const a=n.value.indexOf(o);let l;if([pm.up,pm.down].indexOf(i)>-1){if(r.preventDefault(),i===pm.up){l=-1===a?0:0!==a?a-1:n.value.length-1;const e=l;for(;!t.value.getNode(n.value[l].dataset.key).canFocus;){if(l--,l===e){l=-1;break}l<0&&(l=n.value.length-1)}}else{l=-1===a?0:a<n.value.length-1?a+1:0;const e=l;for(;!t.value.getNode(n.value[l].dataset.key).canFocus;){if(l++,l===e){l=-1;break}l>=n.value.length&&(l=0)}}-1!==l&&n.value[l].focus()}[pm.left,pm.right].indexOf(i)>-1&&(r.preventDefault(),o.click());const u=o.querySelector('[type="checkbox"]');[pm.enter,pm.space].indexOf(i)>-1&&u&&(r.preventDefault(),u.click())},i=()=>{var t;n.value=Array.from(e.value.querySelectorAll(".is-focusable[role=treeitem]")),r.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const o=e.value.querySelectorAll(".is-checked[role=treeitem]");o.length?o[0].setAttribute("tabindex","0"):null==(t=n.value[0])||t.setAttribute("tabindex","0")}}({el$:a},r);const c=Et((()=>{const{childNodes:e}=o.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));Mo((()=>e.defaultCheckedKeys),(e=>{r.value.setDefaultCheckedKey(e)})),Mo((()=>e.defaultExpandedKeys),(e=>{r.value.defaultExpandedKeys=e,r.value.setDefaultExpandedKeys(e)})),Mo((()=>e.data),(e=>{r.value.setData(e)}),{deep:!0}),Mo((()=>e.checkStrictly),(e=>{r.value.checkStrictly=e}));const d=()=>{const e=r.value.getCurrentNode();return e?e.data:null};return jt("RootTree",{ctx:t,props:e,store:r,root:o,currentNode:i,instance:Yr()}),{store:r,root:o,currentNode:i,dragState:s,el$:a,dropIndicator$:l,isEmpty:c,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(t)},getNodeKey:t=>aL(e.nodeKey,t.data),getNodePath:t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const n=r.value.getNode(t);if(!n)return[];const i=[n.data];let a=n.parent;for(;a&&a!==o.value;)i.push(a.data),a=a.parent;return i.reverse()},getCheckedNodes:(e,t)=>r.value.getCheckedNodes(e,t),getCheckedKeys:e=>r.value.getCheckedKeys(e),getCurrentNode:d,getCurrentKey:()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=d();return t?t[e.nodeKey]:null},setCheckedNodes:(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(t,n)},setCheckedKeys:(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(t,n)},setChecked:(e,t,n)=>{r.value.setChecked(e,t,n)},getHalfCheckedNodes:()=>r.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>r.value.getHalfCheckedKeys(),setCurrentNode:(t,n=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");r.value.setUserCurrentNode(t,n)},setCurrentKey:(t,n=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");r.value.setCurrentNodeKey(t,n)},t:n,getNode:e=>r.value.getNode(e),remove:e=>{r.value.remove(e)},append:(e,t)=>{r.value.append(e,t)},insertBefore:(e,t)=>{r.value.insertBefore(e,t)},insertAfter:(e,t)=>{r.value.insertAfter(e,t)},handleNodeExpand:(e,n,r)=>{u(n),t.emit("node-expand",e,n,r)},updateKeyChildren:(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(t,n)}}}});const wL={key:0,class:"el-tree__empty-block"},xL={class:"el-tree__empty-text"},CL={ref:"dropIndicator$",class:"el-tree__drop-indicator"};yL.render=function(e,t,n,r,o,i){const a=or("el-tree-node");return gr(),wr("div",{ref:"el$",class:l(["el-tree",{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType}]),role:"tree"},[(gr(!0),wr(cr,null,Ir(e.root.childNodes,(t=>(gr(),xr(a,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?(gr(),wr("div",wL,[Tr("span",xL,d(e.emptyText||e.t("el.tree.emptyText")),1)])):Nr("v-if",!0),$n(Tr("div",CL,null,512),[[Ri,e.dragState.showDropIndicator]])],2)},yL.__file="packages/components/tree/src/tree.vue",yL.install=e=>{e.component(yL.name,yL)};const kL=yL;var SL=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},_L=Ly;var OL=function(e,t,n){"__proto__"==t&&_L?_L(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},TL=OL,EL=_s,AL=Object.prototype.hasOwnProperty;var ML=function(e,t,n){var r=e[t];AL.call(e,t)&&EL(r,n)&&(void 0!==n||t in e)||TL(e,t,n)},DL=ML,NL=OL;var PL=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?NL(n,l,u):DL(n,l,u)}return n},zL=PL,BL=qf;var RL=function(e,t){return e&&zL(t,BL(t),e)};var IL=lc,LL=zf,FL=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},VL=Object.prototype.hasOwnProperty;var HL=Nf,jL=function(e){if(!IL(e))return FL(e);var t=LL(e),n=[];for(var r in e)("constructor"!=r||!t&&VL.call(e,r))&&n.push(r);return n},$L=jf;var UL=function(e){return $L(e)?HL(e,!0):jL(e)},WL=PL,qL=UL;var KL=function(e,t){return e&&WL(t,qL(t),e)},YL={exports:{}};!function(e,t){var n=Ys,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r?n.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}(YL,YL.exports);var GL=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},XL=PL,ZL=Xd;var JL=function(e,t){return XL(e,ZL(e),t)},QL=Bf(Object.getPrototypeOf,Object),eF=Vd,tF=QL,nF=Xd,rF=Wd,oF=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)eF(t,nF(e)),e=tF(e);return t}:rF,iF=PL,aF=oF;var lF=function(e,t){return iF(e,aF(e),t)},uF=Ud,sF=oF,cF=UL;var dF=function(e){return uF(e,cF,sF)},fF=Object.prototype.hasOwnProperty;var pF=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&fF.call(e,"index")&&(n.index=e.index,n.input=e.input),n},mF=Md;var hF=function(e){var t=new e.constructor(e.byteLength);return new mF(t).set(new mF(e)),t},gF=hF;var vF=function(e,t){var n=t?gF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},bF=/\w*$/;var yF=function(e){var t=new e.constructor(e.source,bF.exec(e));return t.lastIndex=e.lastIndex,t},wF=Gs?Gs.prototype:void 0,xF=wF?wF.valueOf:void 0;var CF=hF;var kF=hF,SF=vF,_F=yF,OF=function(e){return xF?Object(xF.call(e)):{}},TF=function(e,t){var n=t?CF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var EF=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return kF(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return SF(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return TF(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return _F(e);case"[object Set]":return new r;case"[object Symbol]":return OF(e)}},AF=lc,MF=Object.create,DF=function(){function e(){}return function(t){if(!AF(t))return{};if(MF)return MF(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),NF=QL,PF=zf;var zF=function(e){return"function"!=typeof e.constructor||PF(e)?{}:DF(NF(e))},BF=gp,RF=Jd;var IF=function(e){return RF(e)&&"[object Map]"==BF(e)},LF=bf,FF=yf.exports,VF=FF&&FF.isMap,HF=VF?LF(VF):IF,jF=gp,$F=Jd;var UF=function(e){return $F(e)&&"[object Set]"==jF(e)},WF=bf,qF=yf.exports,KF=qF&&qF.isSet,YF=KF?WF(KF):UF,GF=yd,XF=SL,ZF=ML,JF=RL,QF=KL,eV=YL.exports,tV=GL,nV=JL,rV=lF,oV=Xf,iV=dF,aV=gp,lV=pF,uV=EF,sV=zF,cV=Hd,dV=uf.exports,fV=HF,pV=lc,mV=YF,hV=qf,gV=UL,vV={};vV["[object Arguments]"]=vV["[object Array]"]=vV["[object ArrayBuffer]"]=vV["[object DataView]"]=vV["[object Boolean]"]=vV["[object Date]"]=vV["[object Float32Array]"]=vV["[object Float64Array]"]=vV["[object Int8Array]"]=vV["[object Int16Array]"]=vV["[object Int32Array]"]=vV["[object Map]"]=vV["[object Number]"]=vV["[object Object]"]=vV["[object RegExp]"]=vV["[object Set]"]=vV["[object String]"]=vV["[object Symbol]"]=vV["[object Uint8Array]"]=vV["[object Uint8ClampedArray]"]=vV["[object Uint16Array]"]=vV["[object Uint32Array]"]=!0,vV["[object Error]"]=vV["[object Function]"]=vV["[object WeakMap]"]=!1;var bV=function e(t,n,r,o,i,a){var l,u=1&n,s=2&n,c=4&n;if(r&&(l=i?r(t,o,i,a):r(t)),void 0!==l)return l;if(!pV(t))return t;var d=cV(t);if(d){if(l=lV(t),!u)return tV(t,l)}else{var f=aV(t),p="[object Function]"==f||"[object GeneratorFunction]"==f;if(dV(t))return eV(t,u);if("[object Object]"==f||"[object Arguments]"==f||p&&!i){if(l=s||p?{}:sV(t),!u)return s?rV(t,QF(l,t)):nV(t,JF(l,t))}else{if(!vV[f])return i?t:{};l=uV(t,f,u)}}a||(a=new GF);var m=a.get(t);if(m)return m;a.set(t,l),mV(t)?t.forEach((function(o){l.add(e(o,n,r,o,t,a))})):fV(t)&&t.forEach((function(o,i){l.set(i,e(o,n,r,i,t,a))}));var h=d?void 0:(c?s?iV:oV:s?gV:hV)(t);return XF(h||t,(function(o,i){h&&(o=t[i=o]),ZF(l,i,e(o,n,r,i,t,a))})),l};var yV=function(e){return bV(e,5)};function wV(e,t,n){let r;r=n.response?`${n.response.error||n.response}`:n.responseText?`${n.responseText}`:`fail to post ${e} ${n.status}`;const o=new Error(r);return o.status=n.status,o.method="post",o.url=e,o}function xV(e){if("undefined"==typeof XMLHttpRequest)return;const t=new XMLHttpRequest,n=e.action;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});const r=new FormData;e.data&&Object.keys(e.data).forEach((t=>{r.append(t,e.data[t])})),r.append(e.filename,e.file,e.file.name),t.onerror=function(){e.onError(wV(n,0,t))},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(wV(n,0,t));e.onSuccess(function(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}(t))},t.open("post",n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const o=e.headers||{};for(const i in o)k(o,i)&&null!==o[i]&&t.setRequestHeader(i,o[i]);return t.send(r),t}var CV=Qt({name:"ElUploadList",components:{ElProgress:nN},props:{files:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},handlePreview:{type:Function,default:()=>h},listType:{type:String,default:"text"}},emits:["remove"],setup(e,{emit:t}){const{t:n}=nv();return{focusing:vt(!1),parsePercentage:e=>parseInt(e,10),handleClick:t=>{e.handlePreview(t)},handleRemove:(e,n)=>{t("remove",n)},onFileClicked:e=>{e.target.focus()},t:n}}});const kV=["onKeydown"],SV=["src"],_V=["onClick"],OV=Tr("i",{class:"el-icon-document"},null,-1),TV={class:"el-upload-list__item-status-label"},EV=["onClick"],AV={key:2,class:"el-icon-close-tip"},MV={key:4,class:"el-upload-list__item-actions"},DV=["onClick"],NV=[Tr("i",{class:"el-icon-zoom-in"},null,-1)],PV=["onClick"],zV=[Tr("i",{class:"el-icon-delete"},null,-1)];CV.render=function(e,t,n,r,o,i){const a=or("el-progress");return gr(),xr(bi,{tag:"ul",class:l(["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}]),name:"el-list"},{default:It((()=>[(gr(!0),wr(cr,null,Ir(e.files,(n=>(gr(),wr("li",{key:n.uid||n,class:l(["el-upload-list__item","is-"+n.status,e.focusing?"focusing":""]),tabindex:"0",onKeydown:Bi((t=>!e.disabled&&e.handleRemove(t,n)),["delete"]),onFocus:t[0]||(t[0]=t=>e.focusing=!0),onBlur:t[1]||(t[1]=t=>e.focusing=!1),onClick:t[2]||(t[2]=(...t)=>e.onFileClicked&&e.onFileClicked(...t))},[Fr(e.$slots,"default",{file:n},(()=>["uploading"!==n.status&&["picture-card","picture"].includes(e.listType)?(gr(),wr("img",{key:0,class:"el-upload-list__item-thumbnail",src:n.url,alt:""},null,8,SV)):Nr("v-if",!0),Tr("a",{class:"el-upload-list__item-name",onClick:t=>e.handleClick(n)},[OV,Dr(d(n.name),1)],8,_V),Tr("label",TV,[Tr("i",{class:l({"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":["picture-card","picture"].includes(e.listType)})},null,2)]),e.disabled?Nr("v-if",!0):(gr(),wr("i",{key:1,class:"el-icon-close",onClick:t=>e.handleRemove(t,n)},null,8,EV)),Nr(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Nr(" This is a bug which needs to be fixed "),Nr(" TODO: Fix the incorrect navigation interaction "),e.disabled?Nr("v-if",!0):(gr(),wr("i",AV,d(e.t("el.upload.deleteTip")),1)),"uploading"===n.status?(gr(),xr(a,{key:3,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(n.percentage)},null,8,["type","stroke-width","percentage"])):Nr("v-if",!0),"picture-card"===e.listType?(gr(),wr("span",MV,[Tr("span",{class:"el-upload-list__item-preview",onClick:t=>e.handlePreview(n)},NV,8,DV),e.disabled?Nr("v-if",!0):(gr(),wr("span",{key:0,class:"el-upload-list__item-delete",onClick:t=>e.handleRemove(t,n)},zV,8,PV))])):Nr("v-if",!0)]))],42,kV)))),128))])),_:3},8,["class"])},CV.__file="packages/components/upload/src/upload-list.vue";var BV=Qt({name:"ElUploadDrag",props:{disabled:{type:Boolean,default:!1}},emits:["file"],setup(e,{emit:t}){const n=$t("uploader",{}),r=vt(!1);return{dragover:r,onDrop:function(o){if(e.disabled||!n)return;const i=n.accept;r.value=!1,t("file",i?Array.from(o.dataTransfer.files).filter((e=>{const{type:t,name:n}=e,r=n.indexOf(".")>-1?`.${n.split(".").pop()}`:"",o=t.replace(/\/.*$/,"");return i.split(",").map((e=>e.trim())).filter((e=>e)).some((e=>e.startsWith(".")?r===e:/\/\*$/.test(e)?o===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&t===e))})):o.dataTransfer.files)},onDragover:function(){e.disabled||(r.value=!0)}}}});BV.render=function(e,t,n,r,o,i){return gr(),wr("div",{class:l({"el-upload-dragger":!0,"is-dragover":e.dragover}),onDrop:t[0]||(t[0]=Pi(((...t)=>e.onDrop&&e.onDrop(...t)),["prevent"])),onDragover:t[1]||(t[1]=Pi(((...t)=>e.onDragover&&e.onDragover(...t)),["prevent"])),onDragleave:t[2]||(t[2]=Pi((t=>e.dragover=!1),["prevent"]))},[Fr(e.$slots,"default")],34)},BV.__file="packages/components/upload/src/upload-dragger.vue";var RV=Qt({components:{UploadDragger:BV},props:{type:{type:String,default:""},action:{type:String,required:!0},name:{type:String,default:"file"},data:{type:Object,default:()=>null},headers:{type:Object,default:()=>null},withCredentials:{type:Boolean,default:!1},multiple:{type:Boolean,default:null},accept:{type:String,default:""},onStart:{type:Function,default:h},onProgress:{type:Function,default:h},onSuccess:{type:Function,default:h},onError:{type:Function,default:h},beforeUpload:{type:Function,default:h},drag:{type:Boolean,default:!1},onPreview:{type:Function,default:h},onRemove:{type:Function,default:h},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:()=>xV},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:h}},setup(e){const t=vt({}),n=vt(!1),r=vt(null);function o(t){if(e.limit&&e.fileList.length+t.length>e.limit)return void e.onExceed(t,e.fileList);let n=Array.from(t);e.multiple||(n=n.slice(0,1)),0!==n.length&&n.forEach((t=>{e.onStart(t),e.autoUpload&&i(t)}))}function i(t){if(r.value.value=null,!e.beforeUpload)return a(t);const n=e.beforeUpload(t);n instanceof Promise?n.then((e=>{const n=Object.prototype.toString.call(e);if("[object File]"===n||"[object Blob]"===n){"[object Blob]"===n&&(e=new File([e],t.name,{type:t.type}));for(const n in t)k(t,n)&&(e[n]=t[n]);a(e)}else a(t)})).catch((()=>{e.onRemove(null,t)})):!1!==n?a(t):e.onRemove(null,t)}function a(n){const{uid:r}=n,o={headers:e.headers,withCredentials:e.withCredentials,file:n,data:e.data,filename:e.name,action:e.action,onProgress:t=>{e.onProgress(t,n)},onSuccess:o=>{e.onSuccess(o,n),delete t.value[r]},onError:o=>{e.onError(o,n),delete t.value[r]}},i=e.httpRequest(o);t.value[r]=i,i instanceof Promise&&i.then(o.onSuccess,o.onError)}function l(){e.disabled||(r.value.value=null,r.value.click())}return{reqs:t,mouseover:n,inputRef:r,abort:function(e){const n=t.value;if(e){let t=e;e.uid&&(t=e.uid),n[t]&&n[t].abort()}else Object.keys(n).forEach((e=>{n[e]&&n[e].abort(),delete n[e]}))},post:a,handleChange:function(e){const t=e.target.files;t&&o(t)},handleClick:l,handleKeydown:function(){l()},upload:i,uploadFiles:o}}});const IV=["name","multiple","accept"];RV.render=function(e,t,n,r,o,i){const a=or("upload-dragger");return gr(),wr("div",{class:l(["el-upload",`el-upload--${e.listType}`]),tabindex:"0",onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t)),onKeydown:t[2]||(t[2]=Bi(Pi(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["self"]),["enter","space"]))},[e.drag?(gr(),xr(a,{key:0,disabled:e.disabled,onFile:e.uploadFiles},{default:It((()=>[Fr(e.$slots,"default")])),_:3},8,["disabled","onFile"])):Fr(e.$slots,"default",{key:1}),Tr("input",{ref:"inputRef",class:"el-upload__input",type:"file",name:e.name,multiple:e.multiple,accept:e.accept,onChange:t[0]||(t[0]=(...t)=>e.handleChange&&e.handleChange(...t))},null,40,IV)],34)},RV.__file="packages/components/upload/src/upload.vue";var LV=Object.defineProperty,FV=Object.defineProperties,VV=Object.getOwnPropertyDescriptors,HV=Object.getOwnPropertySymbols,jV=Object.prototype.hasOwnProperty,$V=Object.prototype.propertyIsEnumerable,UV=(e,t,n)=>t in e?LV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function WV(e,t){return t.find((t=>t.uid===e.uid))}function qV(e){return Date.now()+e}var KV=e=>{const t=vt([]),n=vt(null);let r=1;function o(e){n.value.abort(e)}return Mo((()=>e.listType),(n=>{"picture-card"!==n&&"picture"!==n||(t.value=t.value.map((n=>{if(!n.url&&n.raw)try{n.url=URL.createObjectURL(n.raw)}catch(r){e.onError(r,n,t.value)}return n})))})),Mo((()=>e.fileList),(e=>{t.value=e.map((e=>((e,t)=>FV(e,VV(t)))(((e,t)=>{for(var n in t||(t={}))jV.call(t,n)&&UV(e,n,t[n]);if(HV)for(var n of HV(t))$V.call(t,n)&&UV(e,n,t[n]);return e})({},yV(e)),{uid:e.uid||qV(r++),status:e.status||"success"})))}),{immediate:!0,deep:!0}),{abort:o,clearFiles:function(){t.value=[]},handleError:function(n,r){const o=WV(r,t.value);o.status="fail",t.value.splice(t.value.indexOf(o),1),e.onError(n,o,t.value),e.onChange(o,t.value)},handleProgress:function(n,r){const o=WV(r,t.value);e.onProgress(n,o,t.value),o.status="uploading",o.percentage=n.percent||0},handleStart:function(n){const o=qV(r++);n.uid=o;const i={name:n.name,percentage:0,status:"ready",size:n.size,raw:n,uid:o};if("picture-card"===e.listType||"picture"===e.listType)try{i.url=URL.createObjectURL(n)}catch(a){console.error("[Element Error][Upload]",a),e.onError(a,i,t.value)}t.value.push(i),e.onChange(i,t.value)},handleSuccess:function(n,r){const o=WV(r,t.value);o&&(o.status="success",o.response=n,e.onSuccess(n,o,t.value),e.onChange(o,t.value))},handleRemove:function(n,r){r&&(n=WV(r,t.value));const i=()=>{o(n);const r=t.value;r.splice(r.indexOf(n),1),e.onRemove(n,r)};if(e.beforeRemove){if("function"==typeof e.beforeRemove){const r=e.beforeRemove(n,t.value);r instanceof Promise?r.then((()=>{i()})).catch(h):!1!==r&&i()}}else i()},submit:function(){t.value.filter((e=>"ready"===e.status)).forEach((e=>{n.value.upload(e.raw)}))},uploadFiles:t,uploadRef:n}},YV=Qt({name:"ElUpload",components:{Upload:RV,UploadList:CV},props:{action:{type:String,required:!0},headers:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},beforeUpload:{type:Function,default:h},beforeRemove:{type:Function,default:h},onRemove:{type:Function,default:h},onChange:{type:Function,default:h},onPreview:{type:Function,default:h},onSuccess:{type:Function,default:h},onProgress:{type:Function,default:h},onError:{type:Function,default:h},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:xV},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:()=>h}},setup(e){const t=$t("elForm",{}),n=Et((()=>e.disabled||t.disabled)),{abort:r,clearFiles:o,handleError:i,handleProgress:a,handleStart:l,handleSuccess:u,handleRemove:s,submit:c,uploadRef:d,uploadFiles:f}=KV(e);return jt("uploader",Yr()),pn((()=>{f.value.forEach((e=>{e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)}))})),{abort:r,dragOver:vt(!1),draging:vt(!1),handleError:i,handleProgress:a,handleRemove:s,handleStart:l,handleSuccess:u,uploadDisabled:n,uploadFiles:f,uploadRef:d,submit:c,clearFiles:o}},render(){var e,t;let n;n=this.showFileList?Bo(CV,{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,onRemove:this.handleRemove,handlePreview:this.onPreview},this.$slots.file?{default:e=>this.$slots.file({file:e.file})}:null):null;const r={type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest,ref:"uploadRef"},o=this.$slots.trigger||this.$slots.default,i=Bo(RV,r,{default:()=>null==o?void 0:o()});return Bo("div",["picture-card"===this.listType?n:null,this.$slots.trigger?[i,this.$slots.default()]:i,null==(t=(e=this.$slots).tip)?void 0:t.call(e),"picture-card"!==this.listType?n:null])}});YV.__file="packages/components/upload/src/index.vue",YV.install=e=>{e.component(YV.name,YV)};var GV=[iv,cv,$b,qb,Qb,ry,sy,vy,Cx,_x,jx,Vk,xk,jk,mC,Uk,nS,Yk,DS,LS,qS,_O,RO,nT,oT,xT,MT,uE,eA,uA,HA,AA,ib,UA,YA,yM,_M,bD,kD,qD,Ib,rN,zC,lN,TN,AN,pb,GM,Mz,Rz,eB,oB,dB,yB,hI,xI,Sk,sx,TI,II,sM,rL,kL,YV];const XV="ElInfiniteScroll",ZV={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},JV=(e,t)=>Hp(ZV).reduce(((n,[r,o])=>{var i,a;const{type:l,default:u}=o,s=e.getAttribute(`infinite-scroll-${r}`);let c=null!=(a=null!=(i=t[s])?i:s)?a:u;return c="false"!==c&&c,c=l(c),n[r]=Number.isNaN(c)?u:c,n}),{}),QV=e=>{const{observer:t}=e[XV];t&&(t.disconnect(),delete e[XV].observer)},eH=(e,t)=>{const{container:n,containerEl:r,instance:o,observer:i,lastScrollTop:a}=e[XV],{disabled:l,distance:u}=JV(e,o),{clientHeight:s,scrollHeight:c,scrollTop:d}=r,f=d-a;if(e[XV].lastScrollTop=d,i||l||f<0)return;let p=!1;if(n===e)p=c-(s+d)<=u;else{const{clientTop:t,scrollHeight:n}=e;p=d+s>=((e,t)=>Math.abs(lm(e)-lm(t)))(e,r)+t+n-u}p&&t.call(o)};function tH(e,t){const{containerEl:n,instance:r}=e[XV],{disabled:o}=JV(e,r);o||(n.scrollHeight<=n.clientHeight?t.call(r):QV(e))}const nH={mounted(e,t){return n=this,r=null,o=function*(){const{instance:n,value:r}=t;E(r)||Dp(XV,"'v-infinite-scroll' binding value must be a function"),yield wo();const{delay:o,immediate:i}=JV(e,n),a=am(e,!0),l=a===window?document.documentElement:a,u=Gb(eH.bind(null,e,r),o);if(a){if(e[XV]={instance:n,container:a,containerEl:l,delay:o,cb:r,onScroll:u,lastScrollTop:l.scrollTop},i){const t=new MutationObserver(Gb(tH.bind(null,e,r),50));e[XV].observer=t,t.observe(e,{childList:!0,subtree:!0}),tH(e,r)}a.addEventListener("scroll",u)}},new Promise(((e,t)=>{var i=e=>{try{l(o.next(e))}catch(n){t(n)}},a=e=>{try{l(o.throw(e))}catch(n){t(n)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,a);l((o=o.apply(n,r)).next())}));var n,r,o},unmounted(e){const{container:t,onScroll:n}=e[XV];null==t||t.removeEventListener("scroll",n),QV(e)},install:e=>{e.directive("InfiniteScroll",nH)}},rH=nH;var oH=Object.defineProperty,iH=Object.defineProperties,aH=Object.getOwnPropertyDescriptors,lH=Object.getOwnPropertySymbols,uH=Object.prototype.hasOwnProperty,sH=Object.prototype.propertyIsEnumerable,cH=(e,t,n)=>t in e?oH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dH=(e,t)=>{for(var n in t||(t={}))uH.call(t,n)&&cH(e,n,t[n]);if(lH)for(var n of lH(t))sH.call(t,n)&&cH(e,n,t[n]);return e},fH=(e,t)=>iH(e,aH(t));var pH=Object.defineProperty,mH=Object.getOwnPropertySymbols,hH=Object.prototype.hasOwnProperty,gH=Object.prototype.propertyIsEnumerable,vH=(e,t,n)=>t in e?pH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bH=(e,t)=>{for(var n in t||(t={}))hH.call(t,n)&&vH(e,n,t[n]);if(mH)for(var n of mH(t))gH.call(t,n)&&vH(e,n,t[n]);return e};const yH={parent:null,background:"",svg:null,svgViewBox:null,spinner:!1,text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},wH={fullscreenLoading:null},xH=(e,t,n)=>{return r=void 0,o=null,i=function*(){const r={};e.fullscreen?(n.originalPosition.value=om(document.body,"position"),n.originalOverflow.value=om(document.body,"overflow"),r.zIndex=String(Gg.nextZIndex())):e.body?(n.originalPosition.value=om(document.body,"position"),yield wo(),["top","left"].forEach((t=>{const n="top"===t?"scrollTop":"scrollLeft";r[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-parseInt(om(document.body,`margin-${t}`),10)+"px"})),["height","width"].forEach((t=>{r[t]=e.target.getBoundingClientRect()[t]+"px"}))):n.originalPosition.value=om(t,"position"),Object.keys(r).forEach((e=>{n.$el.style[e]=r[e]}))},new Promise(((e,t)=>{var n=e=>{try{l(i.next(e))}catch(n){t(n)}},a=e=>{try{l(i.throw(e))}catch(n){t(n)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,a);l((i=i.apply(r,o)).next())}));var r,o,i},CH=(e,t,n)=>{"absolute"!==n.originalPosition.value&&"fixed"!==n.originalPosition.value?nm(t,"el-loading-parent--relative"):rm(t,"el-loading-parent--relative"),e.fullscreen&&e.lock?nm(t,"el-loading-parent--hidden"):rm(t,"el-loading-parent--hidden")},kH=function(e={}){if(Ap)return;"string"==typeof(e=bH(bH({},yH),e)).target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&wH.fullscreenLoading&&wH.fullscreenLoading.close();const t=e.body?document.body:e.target;e.parent=t;const n=function({options:e,globalLoadingOption:t}){let n=null,r=null;const o=vt(!1),i=it(fH(dH({},e),{originalPosition:"",originalOverflow:"",visible:!1}));function a(){const e=i.parent;if(!e.vLoadingAddClassList){let t=e.getAttribute("loading-number");t=Number.parseInt(t)-1,t?e.setAttribute("loading-number",t.toString()):(rm(e,"el-loading-parent--relative"),e.removeAttribute("loading-number")),rm(e,"el-loading-parent--hidden")}n.el&&n.el.parentNode&&n.el.parentNode.removeChild(n.el)}const l=fH(dH({},St(i)),{setText:function(e){i.text=e},close:function(){i.parent.vLoadingAddClassList=null,i.fullscreen&&(t.fullscreenLoading=void 0),o.value=!0,clearTimeout(r),r=window.setTimeout((()=>{o.value&&(o.value=!1,a())}),400),i.visible=!1},handleAfterLeave:function(){o.value&&(o.value=!1,a())}}),u={name:"ElLoading",setup:()=>l,render(){const e=Bo("svg",dH({class:"circular",viewBox:this.svgViewBox?this.svgViewBox:"25 25 50 50"},this.svg?{innerHTML:this.svg}:{}),[Bo("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),t=Bo("i",{class:this.spinner}),n=Bo("p",{class:"el-loading-text"},[this.text]);return Bo(ei,{name:"el-loading-fade",onAfterLeave:this.handleAfterLeave},{default:It((()=>[$n(Er("div",{style:{backgroundColor:this.background||""},class:["el-loading-mask",this.customClass,this.fullscreen?"is-fullscreen":""]},[Bo("div",{class:"el-loading-spinner"},[this.spinner?t:e,this.text?n:null])]),[[Ri,this.visible]])]))})}};return n=Er(u),Hi(n,document.createElement("div")),fH(dH({},l),{vm:n,get $el(){return n.el}})}({options:e,globalLoadingOption:wH});xH(e,t,n),CH(e,t,n),e.parent.vLoadingAddClassList=()=>{CH(e,t,n)};let r=t.getAttribute("loading-number");return r=r?Number.parseInt(r)+1:1,t.setAttribute("loading-number",r.toString()),t.appendChild(n.$el),wo().then((()=>{n.visible.value=!k(e,"visible")||e.visible})),e.fullscreen&&(wH.fullscreenLoading=n),n},SH=(e,t)=>{const n=e.getAttribute("element-loading-text"),r=e.getAttribute("element-loading-spinner"),o=e.getAttribute("element-loading-svg"),i=e.getAttribute("element-loading-svg-view-box"),a=e.getAttribute("element-loading-background"),l=e.getAttribute("element-loading-custom-class"),u=t.instance;e.instance=kH({text:u&&u[n]||n,svg:u&&u[o]||o,svgViewBox:u&&u[i]||i,spinner:u&&u[r]||r,background:u&&u[a]||a,customClass:u&&u[l]||l,fullscreen:!!t.modifiers.fullscreen,target:t.modifiers.fullscreen?null:e,body:!!t.modifiers.body,visible:!0,lock:!!t.modifiers.lock})},_H={mounted(e,t){t.value&&SH(e,t)},updated(e,t){const n=e.instance;t.oldValue!==t.value&&(t.value?SH(e,t):n.close())},unmounted(e){var t;null==(t=null==e?void 0:e.instance)||t.close()}},OH={install(e){e.directive("loading",_H),e.config.globalProperties.$loading=kH},directive:_H,service:kH},TH={success:"success",info:"info",warning:"warning",error:"error"};var EH=Qt({name:"ElMessage",props:{customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},onClose:{type:Function,required:!0},showClose:{type:Boolean,default:!1},type:{type:String,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=Et((()=>{const t=!e.iconClass&&e.type;return t&&TH[t]?`el-icon-${TH[t]}`:""})),n=Et((()=>({top:`${e.offset}px`,zIndex:e.zIndex}))),r=vt(!1);let o=null;function i(){e.duration>0&&(o=setTimeout((()=>{r.value&&a()}),e.duration))}function a(){r.value=!1}function l({code:e}){e===pm.esc?r.value&&a():i()}return cn((()=>{i(),r.value=!0,Qp(document,"keydown",l)})),pn((()=>{em(document,"keydown",l)})),{typeClass:t,customStyle:n,visible:r,close:a,clearTimer:function(){clearTimeout(o),o=null},startTimer:i}}});const AH=["id"],MH={key:0,class:"el-message__content"},DH=["innerHTML"];EH.render=function(e,t,n,o,i,a){return gr(),xr(ei,{name:"el-message-fade",onBeforeLeave:e.onClose,onAfterLeave:t[3]||(t[3]=t=>e.$emit("destroy"))},{default:It((()=>[$n(Tr("div",{id:e.id,class:l(["el-message",e.type&&!e.iconClass?`el-message--${e.type}`:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass]),style:r(e.customStyle),role:"alert",onMouseenter:t[1]||(t[1]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.type||e.iconClass?(gr(),wr("i",{key:0,class:l(["el-message__icon",e.typeClass,e.iconClass])},null,2)):Nr("v-if",!0),Fr(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(gr(),wr(cr,{key:1},[Nr(" Caution here, message could've been compromised, never use user's input as message "),Nr("  eslint-disable-next-line "),Tr("p",{class:"el-message__content",innerHTML:e.message},null,8,DH)],2112)):(gr(),wr("p",MH,d(e.message),1))])),e.showClose?(gr(),wr("div",{key:1,class:"el-message__closeBtn el-icon-close",onClick:t[0]||(t[0]=Pi(((...t)=>e.close&&e.close(...t)),["stop"]))})):Nr("v-if",!0)],46,AH),[[Ri,e.visible]])])),_:3},8,["onBeforeLeave"])},EH.__file="packages/components/message/src/index.vue";var NH=Object.defineProperty,PH=Object.defineProperties,zH=Object.getOwnPropertyDescriptors,BH=Object.getOwnPropertySymbols,RH=Object.prototype.hasOwnProperty,IH=Object.prototype.propertyIsEnumerable,LH=(e,t,n)=>t in e?NH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const FH=[];let VH=1;const HH=function(e={}){if(Ap)return;"string"==typeof e&&(e={message:e});let t=e,n=e.offset||20;FH.forEach((({vm:e})=>{n+=(e.el.offsetHeight||0)+16})),n+=16;const r="message_"+VH++,o=t.onClose;t=((e,t)=>PH(e,zH(t)))(((e,t)=>{for(var n in t||(t={}))RH.call(t,n)&&LH(e,n,t[n]);if(BH)for(var n of BH(t))IH.call(t,n)&&LH(e,n,t[n]);return e})({},t),{onClose:()=>{!function(e,t){const n=FH.findIndex((({vm:t})=>{const{id:n}=t.component.props;return e===n}));if(-1===n)return;const{vm:r}=FH[n];if(!r)return;null==t||t(r);const o=r.el.offsetHeight;FH.splice(n,1);const i=FH.length;if(i<1)return;for(let a=n;a<i;a++){const e=parseInt(FH[a].vm.el.style.top,10)-o-16;FH[a].vm.component.props.offset=e}}(r,o)},offset:n,id:r,zIndex:Gg.nextZIndex()});const i=document.createElement("div");i.className=`container_${r}`;const a=t.message,l=Er(EH,t,Cr(t.message)?{default:()=>a}:null);return l.props.onDestroy=()=>{Hi(null,i)},Hi(l,i),FH.push({vm:l}),document.body.appendChild(i.firstElementChild),{close:()=>l.component.proxy.visible=!1}};["success","warning","info","error"].forEach((e=>{HH[e]=t=>("string"==typeof t?t={message:t,type:e}:t.type=e,HH(t))})),HH.closeAll=function(){for(let e=FH.length-1;e>=0;e--){FH[e].vm.component.ctx.close()}};const jH=HH;jH.install=e=>{e.config.globalProperties.$message=jH};const $H=jH;var UH=Object.defineProperty,WH=Object.defineProperties,qH=Object.getOwnPropertyDescriptors,KH=Object.getOwnPropertySymbols,YH=Object.prototype.hasOwnProperty,GH=Object.prototype.propertyIsEnumerable,XH=(e,t,n)=>t in e?UH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZH=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{l(n.next(e))}catch(t){o(t)}},a=e=>{try{l(n.throw(e))}catch(t){o(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);l((n=n.apply(e,t)).next())}));const JH={success:"success",info:"info",warning:"warning",error:"error"};var QH=Qt({name:"ElMessageBox",directives:{TrapFocus:Yh},components:{ElButton:gy,ElInput:ob,ElOverlay:LO},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Pv},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{t:n}=nv(),r=vt(!1),o=it({beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,iconClass:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:Gg.nextZIndex()}),i=Et((()=>o.iconClass||(o.type&&JH[o.type]?`el-icon-${JH[o.type]}`:""))),a=Et((()=>!!o.message)),l=vt(null),u=vt(null),s=Et((()=>`el-button--primary ${o.confirmButtonClass}`));function c(){r.value&&(r.value=!1,wo((()=>{o.action&&t("action",o.action)})))}Mo((()=>o.inputValue),(t=>ZH(this,null,(function*(){yield wo(),"prompt"===e.boxType&&null!==t&&f()}))),{immediate:!0}),Mo((()=>r.value),(t=>{t&&("alert"!==e.boxType&&"confirm"!==e.boxType||wo().then((()=>{var e,t,n;null==(n=null==(t=null==(e=u.value)?void 0:e.$el)?void 0:t.focus)||n.call(t)})),o.zIndex=Gg.nextZIndex()),"prompt"===e.boxType&&(t?wo().then((()=>{l.value&&l.value.$el&&p().focus()})):(o.editorErrorMessage="",o.validateError=!1))})),cn((()=>ZH(this,null,(function*(){yield wo(),e.closeOnHashChange&&Qp(window,"hashchange",c)})))),pn((()=>{e.closeOnHashChange&&em(window,"hashchange",c)}));const d=t=>{var n;("prompt"!==e.boxType||"confirm"!==t||f())&&(o.action=t,o.beforeClose?null==(n=o.beforeClose)||n.call(o,t,o,c):c())},f=()=>{if("prompt"===e.boxType){const e=o.inputPattern;if(e&&!e.test(o.inputValue||""))return o.editorErrorMessage=o.inputErrorMessage||n("el.messagebox.error"),o.validateError=!0,!1;const t=o.inputValidator;if("function"==typeof t){const e=t(o.inputValue);if(!1===e)return o.editorErrorMessage=o.inputErrorMessage||n("el.messagebox.error"),o.validateError=!0,!1;if("string"==typeof e)return o.editorErrorMessage=e,o.validateError=!0,!1}}return o.editorErrorMessage="",o.validateError=!1,!0},p=()=>{const e=l.value.$refs;return e.input||e.textarea},m=()=>{d("close")};return e.closeOnPressEscape?ym({handleClose:m},r):((e,t,n)=>{const r=e=>{n(e)&&e.stopImmediatePropagation()};Mo((()=>e.value),(e=>{e?Qp(document,t,r,!0):em(document,t,r,!0)}),{immediate:!0})})(r,"keydown",(e=>e.code===pm.esc)),e.lockScroll&&dm(r),fm(r),((e,t)=>WH(e,qH(t)))(((e,t)=>{for(var n in t||(t={}))YH.call(t,n)&&XH(e,n,t[n]);if(KH)for(var n of KH(t))GH.call(t,n)&&XH(e,n,t[n]);return e})({},St(o)),{visible:r,hasMessage:a,icon:i,confirmButtonClasses:s,inputRef:l,confirmRef:u,doClose:c,handleClose:m,handleWrapperClick:()=>{e.closeOnClickModal&&d(o.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:()=>{if("textarea"!==o.inputType)return d("confirm")},handleAction:d,t:n})}});const ej=["aria-label"],tj={key:0,class:"el-message-box__header"},nj={class:"el-message-box__title"},rj=[Tr("i",{class:"el-message-box__close el-icon-close"},null,-1)],oj={class:"el-message-box__content"},ij={class:"el-message-box__container"},aj={key:1,class:"el-message-box__message"},lj={key:0},uj=["innerHTML"],sj={class:"el-message-box__input"},cj={class:"el-message-box__btns"};QH.render=function(e,t,n,o,i,a){const u=or("el-input"),s=or("el-button"),c=or("el-overlay"),f=lr("trap-focus");return gr(),xr(ei,{name:"fade-in-linear",onAfterLeave:t[7]||(t[7]=t=>e.$emit("vanish"))},{default:It((()=>[$n(Er(c,{"z-index":e.zIndex,"overlay-class":["is-message-box",e.modalClass],mask:e.modal,onClick:Pi(e.handleWrapperClick,["self"])},{default:It((()=>[$n(Tr("div",{ref:"root","aria-label":e.title||"dialog","aria-modal":"true",class:l(["el-message-box",e.customClass,{"el-message-box--center":e.center}])},[null!==e.title&&void 0!==e.title?(gr(),wr("div",tj,[Tr("div",nj,[e.icon&&e.center?(gr(),wr("div",{key:0,class:l(["el-message-box__status",e.icon])},null,2)):Nr("v-if",!0),Tr("span",null,d(e.title),1)]),e.showClose?(gr(),wr("button",{key:0,type:"button",class:"el-message-box__headerbtn","aria-label":"Close",onClick:t[0]||(t[0]=t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Bi(Pi((t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),["prevent"]),["enter"]))},rj,32)):Nr("v-if",!0)])):Nr("v-if",!0),Tr("div",oj,[Tr("div",ij,[e.icon&&!e.center&&e.hasMessage?(gr(),wr("div",{key:0,class:l(["el-message-box__status",e.icon])},null,2)):Nr("v-if",!0),e.hasMessage?(gr(),wr("div",aj,[Fr(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(gr(),wr("p",{key:1,innerHTML:e.message},null,8,uj)):(gr(),wr("p",lj,d(e.message),1))]))])):Nr("v-if",!0)]),$n(Tr("div",sj,[Er(u,{ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.inputValue=t),type:e.inputType,placeholder:e.inputPlaceholder,class:l({invalid:e.validateError}),onKeydown:Bi(Pi(e.handleInputEnter,["prevent"]),["enter"])},null,8,["modelValue","type","placeholder","class","onKeydown"]),Tr("div",{class:"el-message-box__errormsg",style:r({visibility:e.editorErrorMessage?"visible":"hidden"})},d(e.editorErrorMessage),5)],512),[[Ri,e.showInput]])]),Tr("div",cj,[e.showCancelButton?(gr(),xr(s,{key:0,loading:e.cancelButtonLoading,class:l([e.cancelButtonClass]),round:e.roundButton,size:e.buttonSize||"small",onClick:t[3]||(t[3]=t=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Bi(Pi((t=>e.handleAction("cancel")),["prevent"]),["enter"]))},{default:It((()=>[Dr(d(e.cancelButtonText||e.t("el.messagebox.cancel")),1)])),_:1},8,["loading","class","round","size"])):Nr("v-if",!0),$n(Er(s,{ref:"confirmRef",loading:e.confirmButtonLoading,class:l([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.buttonSize||"small",onClick:t[5]||(t[5]=t=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Bi(Pi((t=>e.handleAction("confirm")),["prevent"]),["enter"]))},{default:It((()=>[Dr(d(e.confirmButtonText||e.t("el.messagebox.confirm")),1)])),_:1},8,["loading","class","round","disabled","size"]),[[Ri,e.showConfirmButton]])])],10,ej),[[f]])])),_:3},8,["z-index","overlay-class","mask","onClick"]),[[Ri,e.visible]])])),_:3})},QH.__file="packages/components/message-box/src/index.vue";const dj=new Map,fj=e=>{const t=document.createElement("div");e.onVanish=()=>{Hi(null,t),dj.delete(r)},e.onAction=t=>{const o=dj.get(r);let i;i=e.showInput?{value:r.inputValue,action:t}:t,e.callback?e.callback(i,n.proxy):"cancel"===t||"close"===t?e.distinguishCancelAndClose&&"cancel"!==t?o.reject("close"):o.reject("cancel"):o.resolve(i)};const n=((e,t)=>{const n=Bo(QH,e);return Hi(n,t),document.body.appendChild(t.firstElementChild),n.component})(e,t),r=n.proxy;for(const o in e)k(e,o)&&!k(r.$props,o)&&(r[o]=e[o]);return Mo((()=>r.message),((e,t)=>{Cr(e)?n.slots.default=()=>[e]:Cr(t)&&!Cr(e)&&delete n.slots.default}),{immediate:!0}),r.visible=!0,r};function pj(e){if(Ap)return;let t;return A(e)||Cr(e)?e={message:e}:t=e.callback,new Promise(((n,r)=>{const o=fj(e);dj.set(o,{options:e,callback:t,resolve:n,reject:r})}))}pj.alert=(e,t,n)=>("object"==typeof t?(n=t,t=""):void 0===t&&(t=""),pj(Object.assign({title:t,message:e,type:"",closeOnPressEscape:!1,closeOnClickModal:!1},n,{boxType:"alert"}))),pj.confirm=(e,t,n)=>("object"==typeof t?(n=t,t=""):void 0===t&&(t=""),pj(Object.assign({title:t,message:e,type:"",showCancelButton:!0},n,{boxType:"confirm"}))),pj.prompt=(e,t,n)=>("object"==typeof t?(n=t,t=""):void 0===t&&(t=""),pj(Object.assign({title:t,message:e,showCancelButton:!0,showInput:!0,type:""},n,{boxType:"prompt"}))),pj.close=()=>{dj.forEach(((e,t)=>{t.doClose()})),dj.clear()};const mj=pj;mj.install=e=>{e.config.globalProperties.$msgbox=mj,e.config.globalProperties.$messageBox=mj,e.config.globalProperties.$alert=mj.alert,e.config.globalProperties.$confirm=mj.confirm,e.config.globalProperties.$prompt=mj.prompt};const hj=mj,gj={success:"success",info:"info",warning:"warning",error:"error"};var vj=Qt({name:"ElNotification",props:{customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},offset:{type:Number,default:0},onClick:{type:Function,default:()=>{}},onClose:{type:Function,required:!0},position:{type:String,default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,default:""},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=vt(!1);let n=null;const r=Et((()=>{const t=e.type;return t&&gj[t]?`el-icon-${gj[t]}`:""})),o=Et((()=>e.position.indexOf("right")>1?"right":"left")),i=Et((()=>e.position.startsWith("top")?"top":"bottom")),a=Et((()=>({[i.value]:`${e.offset}px`,"z-index":e.zIndex})));function l(){e.duration>0&&(n=setTimeout((()=>{t.value&&s()}),e.duration))}function u(){clearTimeout(n),n=null}function s(){t.value=!1}function c({code:e}){e===pm.delete||e===pm.backspace?u():e===pm.esc?t.value&&s():l()}return cn((()=>{l(),t.value=!0,Qp(document,"keydown",c)})),pn((()=>{em(document,"keydown",c)})),{horizontalClass:o,typeClass:r,positionStyle:a,visible:t,close:s,clearTimer:u,startTimer:l}}});const bj=["id"],yj=["textContent"],wj={key:0},xj=["innerHTML"];vj.render=function(e,t,n,o,i,a){return gr(),xr(ei,{name:"el-notification-fade",onBeforeLeave:e.onClose,onAfterLeave:t[4]||(t[4]=t=>e.$emit("destroy"))},{default:It((()=>[$n(Tr("div",{id:e.id,class:l(["el-notification",e.customClass,e.horizontalClass]),style:r(e.positionStyle),role:"alert",onMouseenter:t[1]||(t[1]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.startTimer&&e.startTimer(...t)),onClick:t[3]||(t[3]=(...t)=>e.onClick&&e.onClick(...t))},[e.type||e.iconClass?(gr(),wr("i",{key:0,class:l(["el-notification__icon",[e.typeClass,e.iconClass]])},null,2)):Nr("v-if",!0),Tr("div",{class:l(["el-notification__group",{"is-with-icon":e.typeClass||e.iconClass}])},[Tr("h2",{class:"el-notification__title",textContent:d(e.title)},null,8,yj),$n(Tr("div",{class:"el-notification__content",style:r(e.title?null:"margin: 0")},[Fr(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(gr(),wr(cr,{key:1},[Nr(" Caution here, message could've been compromized, nerver use user's input as message "),Nr(" eslint-disable-next-line "),Tr("p",{innerHTML:e.message},null,8,xj)],2112)):(gr(),wr("p",wj,d(e.message),1))]))],4),[[Ri,e.message]]),e.showClose?(gr(),wr("div",{key:0,class:"el-notification__closeBtn el-icon-close",onClick:t[0]||(t[0]=Pi(((...t)=>e.close&&e.close(...t)),["stop"]))})):Nr("v-if",!0)],2)],46,bj),[[Ri,e.visible]])])),_:3},8,["onBeforeLeave"])},vj.__file="packages/components/notification/src/index.vue";var Cj=Object.defineProperty,kj=Object.defineProperties,Sj=Object.getOwnPropertyDescriptors,_j=Object.getOwnPropertySymbols,Oj=Object.prototype.hasOwnProperty,Tj=Object.prototype.propertyIsEnumerable,Ej=(e,t,n)=>t in e?Cj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Aj={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let Mj=1;const Dj=function(e={}){if(Ap)return;const t=e.position||"top-right";let n=e.offset||0;Aj[t].forEach((({vm:e})=>{n+=(e.el.offsetHeight||0)+16})),n+=16;const r="notification_"+Mj++,o=e.onClose;e=((e,t)=>kj(e,Sj(t)))(((e,t)=>{for(var n in t||(t={}))Oj.call(t,n)&&Ej(e,n,t[n]);if(_j)for(var n of _j(t))Tj.call(t,n)&&Ej(e,n,t[n]);return e})({},e),{onClose:()=>{!function(e,t,n){const r=Aj[t],o=r.findIndex((({vm:t})=>t.component.props.id===e));if(-1===o)return;const{vm:i}=r[o];if(!i)return;null==n||n(i);const a=i.el.offsetHeight,l=t.split("-")[0];r.splice(o,1);const u=r.length;if(u<1)return;for(let s=o;s<u;s++){const{el:e,component:t}=r[s].vm,n=parseInt(e.style[l],10)-a-16;t.props.offset=n}}(r,t,o)},offset:n,id:r,zIndex:Gg.nextZIndex()});const i=document.createElement("div"),a=Er(vj,e,Cr(e.message)?{default:()=>e.message}:null);return a.props.onDestroy=()=>{Hi(null,i)},Hi(a,i),Aj[t].push({vm:a}),document.body.appendChild(i.firstElementChild),{close:()=>{a.component.proxy.visible=!1}}};["success","warning","info","error"].forEach((e=>{Object.assign(Dj,{[e]:(t={})=>(("string"==typeof t||Cr(t))&&(t={message:t}),t.type=e,Dj(t))})})),Dj.closeAll=function(){for(const e in Aj){Aj[e].forEach((({vm:e})=>{e.component.proxy.visible=!1}))}};const Nj=Dj;Nj.install=e=>{e.config.globalProperties.$notify=Nj};const Pj=Nj;var zj=rv([...GV,...[rH,OH,$H,hj,Pj,KD]]),Bj={};Object.defineProperty(Bj,"__esModule",{value:!0});var Rj=Bj.default={name:"zh-cn",el:{colorpicker:{confirm:"",clear:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},select:{loading:"",noMatch:"",noData:"",placeholder:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:"",deprecationWarning:" el-pagination "},messagebox:{title:"",confirm:"",cancel:"",error:"!"},upload:{deleteTip:" delete ",delete:"",preview:"",continue:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""}}},Ij={exports:{}},Lj=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Fj=Lj,Vj=Object.prototype.toString;function Hj(e){return"[object Array]"===Vj.call(e)}function jj(e){return void 0===e}function $j(e){return null!==e&&"object"==typeof e}function Uj(e){if("[object Object]"!==Vj.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Wj(e){return"[object Function]"===Vj.call(e)}function qj(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Hj(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var Kj={isArray:Hj,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Vj.call(e)},isBuffer:function(e){return null!==e&&!jj(e)&&null!==e.constructor&&!jj(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:$j,isPlainObject:Uj,isUndefined:jj,isDate:function(e){return"[object Date]"===Vj.call(e)},isFile:function(e){return"[object File]"===Vj.call(e)},isBlob:function(e){return"[object Blob]"===Vj.call(e)},isFunction:Wj,isStream:function(e){return $j(e)&&Wj(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:qj,merge:function e(){var t={};function n(n,r){Uj(t[r])&&Uj(n)?t[r]=e(t[r],n):Uj(n)?t[r]=e({},n):Hj(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)qj(arguments[r],n);return t},extend:function(e,t,n){return qj(t,(function(t,r){e[r]=n&&"function"==typeof t?Fj(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},Yj=Kj;function Gj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xj=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Yj.isURLSearchParams(t))r=t.toString();else{var o=[];Yj.forEach(t,(function(e,t){null!=e&&(Yj.isArray(e)?t+="[]":e=[e],Yj.forEach(e,(function(e){Yj.isDate(e)?e=e.toISOString():Yj.isObject(e)&&(e=JSON.stringify(e)),o.push(Gj(t)+"="+Gj(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},Zj=Kj;function Jj(){this.handlers=[]}Jj.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Jj.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Jj.prototype.forEach=function(e){Zj.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Qj=Jj,e$=Kj,t$=function(e){return!(!e||!e.__CANCEL__)},n$=Kj,r$=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},o$=function(e,t,n,r,o){var i=new Error(e);return r$(i,t,n,r,o)},i$=o$,a$=Kj,l$=a$.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),a$.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),a$.isString(r)&&a.push("path="+r),a$.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},u$=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},s$=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},c$=Kj,d$=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],f$=Kj,p$=f$.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=f$.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},m$=Kj,h$=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i$("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},g$=l$,v$=Xj,b$=function(e,t){return e&&!u$(t)?s$(e,t):t},y$=function(e){var t,n,r,o={};return e?(c$.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=c$.trim(e.substr(0,r)).toLowerCase(),n=c$.trim(e.substr(r+1)),t){if(o[t]&&d$.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o},w$=p$,x$=o$,C$=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;m$.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(a+":"+l)}var u=b$(e.baseURL,e.url);if(i.open(e.method.toUpperCase(),v$(u,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?y$(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:r,config:e,request:i};h$(t,n,o),i=null}},i.onabort=function(){i&&(n(x$("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(x$("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(x$(t,e,"ECONNABORTED",i)),i=null},m$.isStandardBrowserEnv()){var s=(e.withCredentials||w$(u))&&e.xsrfCookieName?g$.read(e.xsrfCookieName):void 0;s&&(o[e.xsrfHeaderName]=s)}if("setRequestHeader"in i&&m$.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),m$.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(c){if("json"!==e.responseType)throw c}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),r||(r=null),i.send(r)}))},k$=Kj,S$=function(e,t){n$.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},_$={"Content-Type":"application/x-www-form-urlencoded"};function O$(e,t){!k$.isUndefined(e)&&k$.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var T$,E$={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(T$=C$),T$),transformRequest:[function(e,t){return S$(t,"Accept"),S$(t,"Content-Type"),k$.isFormData(e)||k$.isArrayBuffer(e)||k$.isBuffer(e)||k$.isStream(e)||k$.isFile(e)||k$.isBlob(e)?e:k$.isArrayBufferView(e)?e.buffer:k$.isURLSearchParams(e)?(O$(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):k$.isObject(e)?(O$(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};E$.headers={common:{Accept:"application/json, text/plain, */*"}},k$.forEach(["delete","get","head"],(function(e){E$.headers[e]={}})),k$.forEach(["post","put","patch"],(function(e){E$.headers[e]=k$.merge(_$)}));var A$=E$,M$=Kj,D$=function(e,t,n){return e$.forEach(n,(function(n){e=n(e,t)})),e},N$=t$,P$=A$;function z$(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var B$=Kj,R$=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return B$.isPlainObject(e)&&B$.isPlainObject(t)?B$.merge(e,t):B$.isPlainObject(t)?B$.merge({},t):B$.isArray(t)?t.slice():t}function u(r){B$.isUndefined(t[r])?B$.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(e[r],t[r])}B$.forEach(r,(function(e){B$.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),B$.forEach(o,u),B$.forEach(i,(function(r){B$.isUndefined(t[r])?B$.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(void 0,t[r])})),B$.forEach(a,(function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))}));var s=r.concat(o).concat(i).concat(a),c=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===s.indexOf(e)}));return B$.forEach(c,u),n},I$=Kj,L$=Xj,F$=Qj,V$=function(e){return z$(e),e.headers=e.headers||{},e.data=D$(e.data,e.headers,e.transformRequest),e.headers=M$.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),M$.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||P$.adapter)(e).then((function(t){return z$(e),t.data=D$(t.data,t.headers,e.transformResponse),t}),(function(t){return N$(t)||(z$(e),t&&t.response&&(t.response.data=D$(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},H$=R$;function j$(e){this.defaults=e,this.interceptors={request:new F$,response:new F$}}j$.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=H$(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[V$,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},j$.prototype.getUri=function(e){return e=H$(this.defaults,e),L$(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},I$.forEach(["delete","get","head","options"],(function(e){j$.prototype[e]=function(t,n){return this.request(H$(n||{},{method:e,url:t,data:(n||{}).data}))}})),I$.forEach(["post","put","patch"],(function(e){j$.prototype[e]=function(t,n,r){return this.request(H$(r||{},{method:e,url:t,data:n}))}}));var $$=j$;function U$(e){this.message=e}U$.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},U$.prototype.__CANCEL__=!0;var W$=U$,q$=W$;function K$(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new q$(e),t(n.reason))}))}K$.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},K$.source=function(){var e;return{token:new K$((function(t){e=t})),cancel:e}};var Y$=K$,G$=Kj,X$=Lj,Z$=$$,J$=R$;function Q$(e){var t=new Z$(e),n=X$(Z$.prototype.request,t);return G$.extend(n,Z$.prototype,t),G$.extend(n,t),n}var eU=Q$(A$);eU.Axios=Z$,eU.create=function(e){return Q$(J$(eU.defaults,e))},eU.Cancel=W$,eU.CancelToken=Y$,eU.isCancel=t$,eU.all=function(e){return Promise.all(e)},eU.spread=function(e){return function(t){return e.apply(null,t)}},eU.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},Ij.exports=eU,Ij.exports.default=eU;var tU=Ij.exports;export{ks as E,cr as F,Rj as _,wr as a,Tr as b,xr as c,Qt as d,Er as e,Ir as f,Rt as g,Dr as h,vl as i,xa as j,ds as k,OH as l,tU as m,l as n,gr as o,Bt as p,Pj as q,or as r,$H as s,d as t,ji as u,zj as v,It as w,Nr as x};
